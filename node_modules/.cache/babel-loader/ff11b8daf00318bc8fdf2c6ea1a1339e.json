{"ast":null,"code":"import * as React from 'react';\nimport * as THREE from 'three';\nimport { SimplifyModifier } from 'three-stdlib';\n\nfunction useSimplification(simplePercent) {\n  var ref = React.useRef();\n  var original = React.useRef();\n  var modifier = React.useRef();\n  React.useEffect(function () {\n    if (!original.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new SimplifyModifier();\n    }\n  }, []);\n  React.useEffect(function () {\n    if (original.current && ref.current) {\n      var geometry = new THREE.BufferGeometry();\n      geometry = original.current.clone();\n      var count = Math.floor(geometry.attributes.position.count * simplePercent); // number of vertices to remove\n\n      ref.current.geometry = modifier.current.modify(geometry, count);\n    }\n  }, [simplePercent]);\n  return ref;\n}\n\nexport { useSimplification };","map":{"version":3,"sources":["C:/Users/Home/Downloads/raycast-vehicle/node_modules/@react-three/drei/core/useSimplification.js"],"names":["React","THREE","SimplifyModifier","useSimplification","simplePercent","ref","useRef","original","modifier","useEffect","current","geometry","clone","BufferGeometry","count","Math","floor","attributes","position","modify"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,gBAAT,QAAiC,cAAjC;;AAEA,SAASC,iBAAT,CAA2BC,aAA3B,EAA0C;AACxC,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAN,EAAZ;AACA,MAAMC,QAAQ,GAAGP,KAAK,CAACM,MAAN,EAAjB;AACA,MAAME,QAAQ,GAAGR,KAAK,CAACM,MAAN,EAAjB;AACAN,EAAAA,KAAK,CAACS,SAAN,CAAgB,YAAM;AACpB,QAAI,CAACF,QAAQ,CAACG,OAAd,EAAuB;AACrBH,MAAAA,QAAQ,CAACG,OAAT,GAAmBL,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqBC,KAArB,EAAnB;AACAJ,MAAAA,QAAQ,CAACE,OAAT,GAAmB,IAAIR,gBAAJ,EAAnB;AACD;AACF,GALD,EAKG,EALH;AAMAF,EAAAA,KAAK,CAACS,SAAN,CAAgB,YAAM;AACpB,QAAIF,QAAQ,CAACG,OAAT,IAAoBL,GAAG,CAACK,OAA5B,EAAqC;AACnC,UAAIC,QAAQ,GAAG,IAAIV,KAAK,CAACY,cAAV,EAAf;AACAF,MAAAA,QAAQ,GAAGJ,QAAQ,CAACG,OAAT,CAAiBE,KAAjB,EAAX;AACA,UAAME,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWL,QAAQ,CAACM,UAAT,CAAoBC,QAApB,CAA6BJ,KAA7B,GAAqCV,aAAhD,CAAd,CAHmC,CAG2C;;AAE9EC,MAAAA,GAAG,CAACK,OAAJ,CAAYC,QAAZ,GAAuBH,QAAQ,CAACE,OAAT,CAAiBS,MAAjB,CAAwBR,QAAxB,EAAkCG,KAAlC,CAAvB;AACD;AACF,GARD,EAQG,CAACV,aAAD,CARH;AASA,SAAOC,GAAP;AACD;;AAED,SAASF,iBAAT","sourcesContent":["import * as React from 'react';\nimport * as THREE from 'three';\nimport { SimplifyModifier } from 'three-stdlib';\n\nfunction useSimplification(simplePercent) {\n  const ref = React.useRef();\n  const original = React.useRef();\n  const modifier = React.useRef();\n  React.useEffect(() => {\n    if (!original.current) {\n      original.current = ref.current.geometry.clone();\n      modifier.current = new SimplifyModifier();\n    }\n  }, []);\n  React.useEffect(() => {\n    if (original.current && ref.current) {\n      let geometry = new THREE.BufferGeometry();\n      geometry = original.current.clone();\n      const count = Math.floor(geometry.attributes.position.count * simplePercent); // number of vertices to remove\n\n      ref.current.geometry = modifier.current.modify(geometry, count);\n    }\n  }, [simplePercent]);\n  return ref;\n}\n\nexport { useSimplification };\n"]},"metadata":{},"sourceType":"module"}