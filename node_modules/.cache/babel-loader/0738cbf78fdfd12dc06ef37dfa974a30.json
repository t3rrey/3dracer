{"ast":null,"code":"import _slicedToArray from \"C:/Users/Home/Downloads/raycast-vehicle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"C:/Users/Home/Downloads/raycast-vehicle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"C:/Users/Home/Downloads/raycast-vehicle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"radius\", \"width\", \"height\", \"front\", \"back\", \"steer\", \"force\", \"maxBrake\"];\n\nvar _jsxFileName = \"C:\\\\Users\\\\Home\\\\Downloads\\\\raycast-vehicle\\\\src\\\\Vehicle.js\",\n    _s = $RefreshSig$();\n\nimport { useRef } from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport { useRaycastVehicle } from '@react-three/cannon';\nimport { useControls } from './utils/useControls';\nimport Beetle from './Beetle';\nimport Wheel from './Wheel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Vehicle(_ref) {\n  _s();\n\n  var _ref$radius = _ref.radius,\n      radius = _ref$radius === void 0 ? 0.7 : _ref$radius,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 1.2 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? -0.04 : _ref$height,\n      _ref$front = _ref.front,\n      front = _ref$front === void 0 ? 1.3 : _ref$front,\n      _ref$back = _ref.back,\n      back = _ref$back === void 0 ? -1.15 : _ref$back,\n      _ref$steer = _ref.steer,\n      steer = _ref$steer === void 0 ? 0.75 : _ref$steer,\n      _ref$force = _ref.force,\n      force = _ref$force === void 0 ? 2000 : _ref$force,\n      _ref$maxBrake = _ref.maxBrake,\n      maxBrake = _ref$maxBrake === void 0 ? 1e5 : _ref$maxBrake,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var chassis = useRef();\n  var wheel1 = useRef();\n  var wheel2 = useRef();\n  var wheel3 = useRef();\n  var wheel4 = useRef();\n  var controls = useControls();\n  var wheelInfo = {\n    radius: radius,\n    directionLocal: [0, -1, 0],\n    suspensionStiffness: 30,\n    suspensionRestLength: 0.3,\n    maxSuspensionForce: 1e4,\n    maxSuspensionTravel: 0.3,\n    dampingRelaxation: 10,\n    dampingCompression: 4.4,\n    axleLocal: [-1, 0, 0],\n    chassisConnectionPointLocal: [1, 0, 1],\n    useCustomSlidingRotationalSpeed: true,\n    customSlidingRotationalSpeed: -30,\n    frictionSlip: 2\n  };\n\n  var wheelInfo1 = _objectSpread(_objectSpread({}, wheelInfo), {}, {\n    isFrontWheel: true,\n    chassisConnectionPointLocal: [-width / 2, height, front]\n  });\n\n  var wheelInfo2 = _objectSpread(_objectSpread({}, wheelInfo), {}, {\n    isFrontWheel: true,\n    chassisConnectionPointLocal: [width / 2, height, front]\n  });\n\n  var wheelInfo3 = _objectSpread(_objectSpread({}, wheelInfo), {}, {\n    isFrontWheel: false,\n    chassisConnectionPointLocal: [-width / 2, height, back]\n  });\n\n  var wheelInfo4 = _objectSpread(_objectSpread({}, wheelInfo), {}, {\n    isFrontWheel: false,\n    chassisConnectionPointLocal: [width / 2, height, back]\n  });\n\n  var _useRaycastVehicle = useRaycastVehicle(function () {\n    return {\n      chassisBody: chassis,\n      wheels: [wheel1, wheel2, wheel3, wheel4],\n      wheelInfos: [wheelInfo1, wheelInfo2, wheelInfo3, wheelInfo4],\n      indexForwardAxis: 2,\n      indexRightAxis: 0,\n      indexUpAxis: 1\n    };\n  }),\n      _useRaycastVehicle2 = _slicedToArray(_useRaycastVehicle, 2),\n      vehicle = _useRaycastVehicle2[0],\n      api = _useRaycastVehicle2[1];\n\n  useFrame(function () {\n    var _controls$current = controls.current,\n        forward = _controls$current.forward,\n        backward = _controls$current.backward,\n        left = _controls$current.left,\n        right = _controls$current.right,\n        brake = _controls$current.brake,\n        reset = _controls$current.reset;\n\n    for (var e = 2; e < 4; e++) {\n      api.applyEngineForce(forward || backward ? force * (forward && !backward ? -1 : 1) : 0, 2);\n    }\n\n    for (var s = 0; s < 2; s++) {\n      api.setSteeringValue(left || right ? steer * (left && !right ? 1 : -1) : 0, s);\n    }\n\n    for (var b = 2; b < 4; b++) {\n      api.setBrake(brake ? maxBrake : 0, b);\n    }\n\n    if (reset) {\n      chassis.current.api.position.set(0, 0.5, 0);\n      chassis.current.api.velocity.set(0, 0, 0);\n      chassis.current.api.angularVelocity.set(0, 0.5, 0);\n      chassis.current.api.rotation.set(0, -Math.PI / 4, 0);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    ref: vehicle,\n    position: [0, -0.4, 0],\n    children: [/*#__PURE__*/_jsxDEV(Beetle, {\n      ref: chassis,\n      rotation: props.rotation,\n      position: props.position,\n      angularVelocity: props.angularVelocity\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Wheel, {\n      ref: wheel1,\n      radius: radius,\n      leftSide: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Wheel, {\n      ref: wheel2,\n      radius: radius\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Wheel, {\n      ref: wheel3,\n      radius: radius,\n      leftSide: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Wheel, {\n      ref: wheel4,\n      radius: radius\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Vehicle, \"reIzH8+yPd/+nlRzBUR0Ms6/BGs=\", false, function () {\n  return [useControls, useRaycastVehicle, useFrame];\n});\n\n_c = Vehicle;\nexport default Vehicle;\n\nvar _c;\n\n$RefreshReg$(_c, \"Vehicle\");","map":{"version":3,"sources":["C:/Users/Home/Downloads/raycast-vehicle/src/Vehicle.js"],"names":["useRef","useFrame","useRaycastVehicle","useControls","Beetle","Wheel","Vehicle","radius","width","height","front","back","steer","force","maxBrake","props","chassis","wheel1","wheel2","wheel3","wheel4","controls","wheelInfo","directionLocal","suspensionStiffness","suspensionRestLength","maxSuspensionForce","maxSuspensionTravel","dampingRelaxation","dampingCompression","axleLocal","chassisConnectionPointLocal","useCustomSlidingRotationalSpeed","customSlidingRotationalSpeed","frictionSlip","wheelInfo1","isFrontWheel","wheelInfo2","wheelInfo3","wheelInfo4","chassisBody","wheels","wheelInfos","indexForwardAxis","indexRightAxis","indexUpAxis","vehicle","api","current","forward","backward","left","right","brake","reset","e","applyEngineForce","s","setSteeringValue","b","setBrake","position","set","velocity","angularVelocity","rotation","Math","PI"],"mappings":";;;;;;;;AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,iBAAT,QAAkC,qBAAlC;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;;AAEA,SAASC,OAAT,OAAiJ;AAAA;;AAAA,yBAA9HC,MAA8H;AAAA,MAA9HA,MAA8H,4BAArH,GAAqH;AAAA,wBAAhHC,KAAgH;AAAA,MAAhHA,KAAgH,2BAAxG,GAAwG;AAAA,yBAAnGC,MAAmG;AAAA,MAAnGA,MAAmG,4BAA1F,CAAC,IAAyF;AAAA,wBAAnFC,KAAmF;AAAA,MAAnFA,KAAmF,2BAA3E,GAA2E;AAAA,uBAAtEC,IAAsE;AAAA,MAAtEA,IAAsE,0BAA/D,CAAC,IAA8D;AAAA,wBAAxDC,KAAwD;AAAA,MAAxDA,KAAwD,2BAAhD,IAAgD;AAAA,wBAA1CC,KAA0C;AAAA,MAA1CA,KAA0C,2BAAlC,IAAkC;AAAA,2BAA5BC,QAA4B;AAAA,MAA5BA,QAA4B,8BAAjB,GAAiB;AAAA,MAATC,KAAS;;AAC/I,MAAMC,OAAO,GAAGhB,MAAM,EAAtB;AACA,MAAMiB,MAAM,GAAGjB,MAAM,EAArB;AACA,MAAMkB,MAAM,GAAGlB,MAAM,EAArB;AACA,MAAMmB,MAAM,GAAGnB,MAAM,EAArB;AACA,MAAMoB,MAAM,GAAGpB,MAAM,EAArB;AACA,MAAMqB,QAAQ,GAAGlB,WAAW,EAA5B;AAEA,MAAMmB,SAAS,GAAG;AAChBf,IAAAA,MAAM,EAANA,MADgB;AAEhBgB,IAAAA,cAAc,EAAE,CAAC,CAAD,EAAI,CAAC,CAAL,EAAQ,CAAR,CAFA;AAGhBC,IAAAA,mBAAmB,EAAE,EAHL;AAIhBC,IAAAA,oBAAoB,EAAE,GAJN;AAKhBC,IAAAA,kBAAkB,EAAE,GALJ;AAMhBC,IAAAA,mBAAmB,EAAE,GANL;AAOhBC,IAAAA,iBAAiB,EAAE,EAPH;AAQhBC,IAAAA,kBAAkB,EAAE,GARJ;AAShBC,IAAAA,SAAS,EAAE,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,CAAR,CATK;AAUhBC,IAAAA,2BAA2B,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAVb;AAWhBC,IAAAA,+BAA+B,EAAE,IAXjB;AAYhBC,IAAAA,4BAA4B,EAAE,CAAC,EAZf;AAahBC,IAAAA,YAAY,EAAE;AAbE,GAAlB;;AAgBA,MAAMC,UAAU,mCAAQb,SAAR;AAAmBc,IAAAA,YAAY,EAAE,IAAjC;AAAuCL,IAAAA,2BAA2B,EAAE,CAAC,CAACvB,KAAD,GAAS,CAAV,EAAaC,MAAb,EAAqBC,KAArB;AAApE,IAAhB;;AACA,MAAM2B,UAAU,mCAAQf,SAAR;AAAmBc,IAAAA,YAAY,EAAE,IAAjC;AAAuCL,IAAAA,2BAA2B,EAAE,CAACvB,KAAK,GAAG,CAAT,EAAYC,MAAZ,EAAoBC,KAApB;AAApE,IAAhB;;AACA,MAAM4B,UAAU,mCAAQhB,SAAR;AAAmBc,IAAAA,YAAY,EAAE,KAAjC;AAAwCL,IAAAA,2BAA2B,EAAE,CAAC,CAACvB,KAAD,GAAS,CAAV,EAAaC,MAAb,EAAqBE,IAArB;AAArE,IAAhB;;AACA,MAAM4B,UAAU,mCAAQjB,SAAR;AAAmBc,IAAAA,YAAY,EAAE,KAAjC;AAAwCL,IAAAA,2BAA2B,EAAE,CAACvB,KAAK,GAAG,CAAT,EAAYC,MAAZ,EAAoBE,IAApB;AAArE,IAAhB;;AAEA,2BAAuBT,iBAAiB,CAAC;AAAA,WAAO;AAC9CsC,MAAAA,WAAW,EAAExB,OADiC;AAE9CyB,MAAAA,MAAM,EAAE,CAACxB,MAAD,EAASC,MAAT,EAAiBC,MAAjB,EAAyBC,MAAzB,CAFsC;AAG9CsB,MAAAA,UAAU,EAAE,CAACP,UAAD,EAAaE,UAAb,EAAyBC,UAAzB,EAAqCC,UAArC,CAHkC;AAI9CI,MAAAA,gBAAgB,EAAE,CAJ4B;AAK9CC,MAAAA,cAAc,EAAE,CAL8B;AAM9CC,MAAAA,WAAW,EAAE;AANiC,KAAP;AAAA,GAAD,CAAxC;AAAA;AAAA,MAAOC,OAAP;AAAA,MAAgBC,GAAhB;;AASA9C,EAAAA,QAAQ,CAAC,YAAM;AACb,4BAAyDoB,QAAQ,CAAC2B,OAAlE;AAAA,QAAQC,OAAR,qBAAQA,OAAR;AAAA,QAAiBC,QAAjB,qBAAiBA,QAAjB;AAAA,QAA2BC,IAA3B,qBAA2BA,IAA3B;AAAA,QAAiCC,KAAjC,qBAAiCA,KAAjC;AAAA,QAAwCC,KAAxC,qBAAwCA,KAAxC;AAAA,QAA+CC,KAA/C,qBAA+CA,KAA/C;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB;AAA4BR,MAAAA,GAAG,CAACS,gBAAJ,CAAqBP,OAAO,IAAIC,QAAX,GAAsBrC,KAAK,IAAIoC,OAAO,IAAI,CAACC,QAAZ,GAAuB,CAAC,CAAxB,GAA4B,CAAhC,CAA3B,GAAgE,CAArF,EAAwF,CAAxF;AAA5B;;AACA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB;AAA4BV,MAAAA,GAAG,CAACW,gBAAJ,CAAqBP,IAAI,IAAIC,KAAR,GAAgBxC,KAAK,IAAIuC,IAAI,IAAI,CAACC,KAAT,GAAiB,CAAjB,GAAqB,CAAC,CAA1B,CAArB,GAAoD,CAAzE,EAA4EK,CAA5E;AAA5B;;AACA,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB;AAA4BZ,MAAAA,GAAG,CAACa,QAAJ,CAAaP,KAAK,GAAGvC,QAAH,GAAc,CAAhC,EAAmC6C,CAAnC;AAA5B;;AACA,QAAIL,KAAJ,EAAW;AACTtC,MAAAA,OAAO,CAACgC,OAAR,CAAgBD,GAAhB,CAAoBc,QAApB,CAA6BC,GAA7B,CAAiC,CAAjC,EAAoC,GAApC,EAAyC,CAAzC;AACA9C,MAAAA,OAAO,CAACgC,OAAR,CAAgBD,GAAhB,CAAoBgB,QAApB,CAA6BD,GAA7B,CAAiC,CAAjC,EAAoC,CAApC,EAAuC,CAAvC;AACA9C,MAAAA,OAAO,CAACgC,OAAR,CAAgBD,GAAhB,CAAoBiB,eAApB,CAAoCF,GAApC,CAAwC,CAAxC,EAA2C,GAA3C,EAAgD,CAAhD;AACA9C,MAAAA,OAAO,CAACgC,OAAR,CAAgBD,GAAhB,CAAoBkB,QAApB,CAA6BH,GAA7B,CAAiC,CAAjC,EAAoC,CAACI,IAAI,CAACC,EAAN,GAAW,CAA/C,EAAkD,CAAlD;AACD;AACF,GAXO,CAAR;AAaA,sBACE;AAAO,IAAA,GAAG,EAAErB,OAAZ;AAAqB,IAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAC,GAAL,EAAU,CAAV,CAA/B;AAAA,4BACE,QAAC,MAAD;AAAQ,MAAA,GAAG,EAAE9B,OAAb;AAAsB,MAAA,QAAQ,EAAED,KAAK,CAACkD,QAAtC;AAAgD,MAAA,QAAQ,EAAElD,KAAK,CAAC8C,QAAhE;AAA0E,MAAA,eAAe,EAAE9C,KAAK,CAACiD;AAAjG;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,KAAD;AAAO,MAAA,GAAG,EAAE/C,MAAZ;AAAoB,MAAA,MAAM,EAAEV,MAA5B;AAAoC,MAAA,QAAQ;AAA5C;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,KAAD;AAAO,MAAA,GAAG,EAAEW,MAAZ;AAAoB,MAAA,MAAM,EAAEX;AAA5B;AAAA;AAAA;AAAA;AAAA,YAHF,eAIE,QAAC,KAAD;AAAO,MAAA,GAAG,EAAEY,MAAZ;AAAoB,MAAA,MAAM,EAAEZ,MAA5B;AAAoC,MAAA,QAAQ;AAA5C;AAAA;AAAA;AAAA;AAAA,YAJF,eAKE,QAAC,KAAD;AAAO,MAAA,GAAG,EAAEa,MAAZ;AAAoB,MAAA,MAAM,EAAEb;AAA5B;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD;;GA5DQD,O;UAMUH,W,EAuBMD,iB,EASvBD,Q;;;KAtCOK,O;AA8DT,eAAeA,OAAf","sourcesContent":["import { useRef } from 'react'\nimport { useFrame } from '@react-three/fiber'\nimport { useRaycastVehicle } from '@react-three/cannon'\nimport { useControls } from './utils/useControls'\nimport Beetle from './Beetle'\nimport Wheel from './Wheel'\n\nfunction Vehicle({ radius = 0.7, width = 1.2, height = -0.04, front = 1.3, back = -1.15, steer = 0.75, force = 2000, maxBrake = 1e5, ...props }) {\n  const chassis = useRef()\n  const wheel1 = useRef()\n  const wheel2 = useRef()\n  const wheel3 = useRef()\n  const wheel4 = useRef()\n  const controls = useControls()\n\n  const wheelInfo = {\n    radius,\n    directionLocal: [0, -1, 0],\n    suspensionStiffness: 30,\n    suspensionRestLength: 0.3,\n    maxSuspensionForce: 1e4,\n    maxSuspensionTravel: 0.3,\n    dampingRelaxation: 10,\n    dampingCompression: 4.4,\n    axleLocal: [-1, 0, 0],\n    chassisConnectionPointLocal: [1, 0, 1],\n    useCustomSlidingRotationalSpeed: true,\n    customSlidingRotationalSpeed: -30,\n    frictionSlip: 2\n  }\n\n  const wheelInfo1 = { ...wheelInfo, isFrontWheel: true, chassisConnectionPointLocal: [-width / 2, height, front] }\n  const wheelInfo2 = { ...wheelInfo, isFrontWheel: true, chassisConnectionPointLocal: [width / 2, height, front] }\n  const wheelInfo3 = { ...wheelInfo, isFrontWheel: false, chassisConnectionPointLocal: [-width / 2, height, back] }\n  const wheelInfo4 = { ...wheelInfo, isFrontWheel: false, chassisConnectionPointLocal: [width / 2, height, back] }\n\n  const [vehicle, api] = useRaycastVehicle(() => ({\n    chassisBody: chassis,\n    wheels: [wheel1, wheel2, wheel3, wheel4],\n    wheelInfos: [wheelInfo1, wheelInfo2, wheelInfo3, wheelInfo4],\n    indexForwardAxis: 2,\n    indexRightAxis: 0,\n    indexUpAxis: 1\n  }))\n\n  useFrame(() => {\n    const { forward, backward, left, right, brake, reset } = controls.current\n    for (let e = 2; e < 4; e++) api.applyEngineForce(forward || backward ? force * (forward && !backward ? -1 : 1) : 0, 2)\n    for (let s = 0; s < 2; s++) api.setSteeringValue(left || right ? steer * (left && !right ? 1 : -1) : 0, s)\n    for (let b = 2; b < 4; b++) api.setBrake(brake ? maxBrake : 0, b)\n    if (reset) {\n      chassis.current.api.position.set(0, 0.5, 0)\n      chassis.current.api.velocity.set(0, 0, 0)\n      chassis.current.api.angularVelocity.set(0, 0.5, 0)\n      chassis.current.api.rotation.set(0, -Math.PI / 4, 0)\n    }\n  })\n\n  return (\n    <group ref={vehicle} position={[0, -0.4, 0]}>\n      <Beetle ref={chassis} rotation={props.rotation} position={props.position} angularVelocity={props.angularVelocity} />\n      <Wheel ref={wheel1} radius={radius} leftSide />\n      <Wheel ref={wheel2} radius={radius} />\n      <Wheel ref={wheel3} radius={radius} leftSide />\n      <Wheel ref={wheel4} radius={radius} />\n    </group>\n  )\n}\n\nexport default Vehicle\n"]},"metadata":{},"sourceType":"module"}