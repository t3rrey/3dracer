{"ast":null,"code":"import _objectSpread from \"C:/Users/Home/Downloads/raycast-vehicle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/Home/Downloads/raycast-vehicle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"C:/Users/Home/Downloads/raycast-vehicle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\", \"eps\", \"style\", \"className\", \"prepend\", \"center\", \"fullscreen\", \"portal\", \"distanceFactor\", \"sprite\", \"transform\", \"occluder\", \"zIndexRange\", \"calculatePosition\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Vector3, OrthographicCamera, PerspectiveCamera } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nvar v1 = new Vector3();\nvar v2 = new Vector3();\nvar v3 = new Vector3();\n\nfunction defaultCalculatePosition(el, camera, size) {\n  var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  var widthHalf = size.width / 2;\n  var heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\n\nfunction isObjectBehindCamera(el, camera) {\n  var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  var deltaCamObj = objectPos.sub(cameraPos);\n  var camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\n\nfunction isObjectVisible(el, camera, raycaster, occluder) {\n  var elPos = v1.setFromMatrixPosition(el.matrixWorld);\n  var screenPos = elPos.clone();\n  screenPos.project(camera);\n  raycaster.setFromCamera(screenPos, camera);\n  var intersects = raycaster.intersectObject(occluder, true);\n\n  if (intersects.length) {\n    var intersectionDistance = intersects[0].distance;\n    var pointDistance = elPos.distanceTo(camera.position);\n    return pointDistance < intersectionDistance;\n  } else {\n    return true;\n  }\n}\n\nfunction objectScale(el, camera) {\n  if (camera instanceof OrthographicCamera) {\n    return camera.zoom;\n  } else if (camera instanceof PerspectiveCamera) {\n    var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    var vFOV = camera.fov * Math.PI / 180;\n    var dist = objectPos.distanceTo(cameraPos);\n    var scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\n\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    var dist = objectPos.distanceTo(cameraPos);\n    var A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    var B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n\n  return undefined;\n}\n\nvar epsilon = function epsilon(value) {\n  return Math.abs(value) < 1e-10 ? 0 : value;\n};\n\nfunction getCSSMatrix(matrix, multipliers) {\n  var prepend = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var matrix3d = 'matrix3d(';\n\n  for (var i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n\n  return prepend + matrix3d;\n}\n\nvar getCameraCSSMatrix = function (multipliers) {\n  return function (matrix) {\n    return getCSSMatrix(matrix, multipliers);\n  };\n}([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\n\nvar getObjectCSSMatrix = function (scaleMultipliers) {\n  return function (matrix, factor) {\n    return getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n  };\n}(function (f) {\n  return [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1];\n});\n\nvar Html = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      _ref$eps = _ref.eps,\n      eps = _ref$eps === void 0 ? 0.001 : _ref$eps,\n      style = _ref.style,\n      className = _ref.className,\n      prepend = _ref.prepend,\n      center = _ref.center,\n      fullscreen = _ref.fullscreen,\n      portal = _ref.portal,\n      distanceFactor = _ref.distanceFactor,\n      _ref$sprite = _ref.sprite,\n      sprite = _ref$sprite === void 0 ? false : _ref$sprite,\n      _ref$transform = _ref.transform,\n      transform = _ref$transform === void 0 ? false : _ref$transform,\n      occluder = _ref.occluder,\n      _ref$zIndexRange = _ref.zIndexRange,\n      zIndexRange = _ref$zIndexRange === void 0 ? [16777271, 0] : _ref$zIndexRange,\n      _ref$calculatePositio = _ref.calculatePosition,\n      calculatePosition = _ref$calculatePositio === void 0 ? defaultCalculatePosition : _ref$calculatePositio,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _portal$current;\n\n  var gl = useThree(function (_ref2) {\n    var gl = _ref2.gl;\n    return gl;\n  });\n  var camera = useThree(function (_ref3) {\n    var camera = _ref3.camera;\n    return camera;\n  });\n  var scene = useThree(function (_ref4) {\n    var scene = _ref4.scene;\n    return scene;\n  });\n  var size = useThree(function (_ref5) {\n    var size = _ref5.size;\n    return size;\n  });\n  var raycaster = useThree(function (_ref6) {\n    var raycaster = _ref6.raycaster;\n    return raycaster;\n  });\n\n  var _React$useState = React.useState(function () {\n    return document.createElement('div');\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      el = _React$useState2[0];\n\n  var group = React.useRef(null);\n  var oldZoom = React.useRef(0);\n  var oldPosition = React.useRef([0, 0]);\n  var transformOuterRef = React.useRef(null);\n  var transformInnerRef = React.useRef(null);\n  var target = (_portal$current = portal == null ? void 0 : portal.current) !== null && _portal$current !== void 0 ? _portal$current : gl.domElement.parentNode;\n  React.useEffect(function () {\n    if (group.current) {\n      scene.updateMatrixWorld();\n\n      if (transform) {\n        el.style.cssText = \"position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;\";\n      } else {\n        var vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = \"position:absolute;top:0;left:0;transform:translate3d(\".concat(vec[0], \"px,\").concat(vec[1], \"px,0);transform-origin:0 0;\");\n      }\n\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n\n      return function () {\n        if (target) target.removeChild(el);\n        ReactDOM.unmountComponentAtNode(el);\n      };\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [target, transform]);\n  var styles = React.useMemo(function () {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return _objectSpread(_objectSpread({\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none'\n      }, fullscreen && {\n        top: -size.height / 2,\n        left: -size.width / 2,\n        width: size.width,\n        height: size.height\n      }), style);\n    }\n  }, [style, center, fullscreen, size, transform]);\n  var transformInnerStyles = React.useMemo(function () {\n    return _objectSpread({\n      position: 'absolute',\n      pointerEvents: 'auto'\n    }, style);\n  }, [style]);\n  React.useLayoutEffect(function () {\n    if (transform) {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        className: className,\n        children: children\n      }))), el);\n    } else {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }), el);\n    }\n  });\n  useFrame(function () {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      var vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n        var isBehindCamera = isObjectBehindCamera(group.current, camera);\n\n        if (occluder != null && occluder.current) {\n          var visible = isObjectVisible(group.current, camera, raycaster, occluder == null ? void 0 : occluder.current);\n          el.style.display = visible && !isBehindCamera ? 'block' : 'none';\n        } else {\n          el.style.display = !isBehindCamera ? 'block' : 'none';\n        }\n\n        el.style.zIndex = \"\".concat(objectZIndex(group.current, camera, zIndexRange));\n\n        if (transform) {\n          var widthHalf = size.width / 2,\n              heightHalf = size.height / 2;\n          var fov = camera.projectionMatrix.elements[5] * heightHalf;\n          var isOrthographicCamera = camera.isOrthographicCamera,\n              top = camera.top,\n              left = camera.left,\n              bottom = camera.bottom,\n              right = camera.right;\n          var cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          var cameraTransform = isOrthographicCamera ? \"scale(\".concat(fov, \")translate(\").concat(epsilon(-(right + left) / 2), \"px,\").concat(epsilon((top + bottom) / 2), \"px)\") : \"translateZ(\".concat(fov, \"px)\");\n          var matrix = group.current.matrixWorld;\n\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : \"\".concat(fov, \"px\");\n\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = \"\".concat(cameraTransform).concat(cameraMatrix, \"translate(\").concat(widthHalf, \"px,\").concat(heightHalf, \"px)\");\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n          }\n        } else {\n          var scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n          el.style.transform = \"translate3d(\".concat(vec[0], \"px,\").concat(vec[1], \"px,0) scale(\").concat(scale, \")\");\n        }\n\n        oldPosition.current = vec;\n        oldZoom.current = camera.zoom;\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }));\n});\nexport { Html };","map":{"version":3,"sources":["C:/Users/Home/Downloads/raycast-vehicle/node_modules/@react-three/drei/web/Html.js"],"names":["_extends","React","ReactDOM","Vector3","OrthographicCamera","PerspectiveCamera","useThree","useFrame","v1","v2","v3","defaultCalculatePosition","el","camera","size","objectPos","setFromMatrixPosition","matrixWorld","project","widthHalf","width","heightHalf","height","x","y","isObjectBehindCamera","cameraPos","deltaCamObj","sub","camDir","getWorldDirection","angleTo","Math","PI","isObjectVisible","raycaster","occluder","elPos","screenPos","clone","setFromCamera","intersects","intersectObject","length","intersectionDistance","distance","pointDistance","distanceTo","position","objectScale","zoom","vFOV","fov","dist","scaleFOV","tan","objectZIndex","zIndexRange","A","far","near","B","round","undefined","epsilon","value","abs","getCSSMatrix","matrix","multipliers","prepend","matrix3d","i","elements","getCameraCSSMatrix","getObjectCSSMatrix","scaleMultipliers","factor","f","Html","forwardRef","ref","children","eps","style","className","center","fullscreen","portal","distanceFactor","sprite","transform","calculatePosition","props","_portal$current","gl","scene","useState","document","createElement","group","useRef","oldZoom","oldPosition","transformOuterRef","transformInnerRef","target","current","domElement","parentNode","useEffect","updateMatrixWorld","cssText","vec","appendChild","removeChild","unmountComponentAtNode","styles","useMemo","top","left","transformStyle","pointerEvents","transformInnerStyles","useLayoutEffect","render","isBehindCamera","visible","display","zIndex","projectionMatrix","isOrthographicCamera","bottom","right","cameraMatrix","matrixWorldInverse","cameraTransform","transpose","copyPosition","scale","perspective"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Vector3, OrthographicCamera, PerspectiveCamera } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nconst v1 = new Vector3();\nconst v2 = new Vector3();\nconst v3 = new Vector3();\n\nfunction defaultCalculatePosition(el, camera, size) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  const widthHalf = size.width / 2;\n  const heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\n\nfunction isObjectBehindCamera(el, camera) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  const deltaCamObj = objectPos.sub(cameraPos);\n  const camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\n\nfunction isObjectVisible(el, camera, raycaster, occluder) {\n  const elPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const screenPos = elPos.clone();\n  screenPos.project(camera);\n  raycaster.setFromCamera(screenPos, camera);\n  const intersects = raycaster.intersectObject(occluder, true);\n\n  if (intersects.length) {\n    const intersectionDistance = intersects[0].distance;\n    const pointDistance = elPos.distanceTo(camera.position);\n    return pointDistance < intersectionDistance;\n  } else {\n    return true;\n  }\n}\n\nfunction objectScale(el, camera) {\n  if (camera instanceof OrthographicCamera) {\n    return camera.zoom;\n  } else if (camera instanceof PerspectiveCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const vFOV = camera.fov * Math.PI / 180;\n    const dist = objectPos.distanceTo(cameraPos);\n    const scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\n\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const dist = objectPos.distanceTo(cameraPos);\n    const A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    const B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n\n  return undefined;\n}\n\nconst epsilon = value => Math.abs(value) < 1e-10 ? 0 : value;\n\nfunction getCSSMatrix(matrix, multipliers, prepend = '') {\n  let matrix3d = 'matrix3d(';\n\n  for (let i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n\n  return prepend + matrix3d;\n}\n\nconst getCameraCSSMatrix = (multipliers => {\n  return matrix => getCSSMatrix(matrix, multipliers);\n})([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\n\nconst getObjectCSSMatrix = (scaleMultipliers => {\n  return (matrix, factor) => getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n})(f => [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1]);\n\nconst Html = /*#__PURE__*/React.forwardRef(({\n  children,\n  eps = 0.001,\n  style,\n  className,\n  prepend,\n  center,\n  fullscreen,\n  portal,\n  distanceFactor,\n  sprite = false,\n  transform = false,\n  occluder,\n  zIndexRange = [16777271, 0],\n  calculatePosition = defaultCalculatePosition,\n  ...props\n}, ref) => {\n  var _portal$current;\n\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const size = useThree(({\n    size\n  }) => size);\n  const raycaster = useThree(({\n    raycaster\n  }) => raycaster);\n  const [el] = React.useState(() => document.createElement('div'));\n  const group = React.useRef(null);\n  const oldZoom = React.useRef(0);\n  const oldPosition = React.useRef([0, 0]);\n  const transformOuterRef = React.useRef(null);\n  const transformInnerRef = React.useRef(null);\n  const target = (_portal$current = portal == null ? void 0 : portal.current) !== null && _portal$current !== void 0 ? _portal$current : gl.domElement.parentNode;\n  React.useEffect(() => {\n    if (group.current) {\n      scene.updateMatrixWorld();\n\n      if (transform) {\n        el.style.cssText = `position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;`;\n      } else {\n        const vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = `position:absolute;top:0;left:0;transform:translate3d(${vec[0]}px,${vec[1]}px,0);transform-origin:0 0;`;\n      }\n\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n\n      return () => {\n        if (target) target.removeChild(el);\n        ReactDOM.unmountComponentAtNode(el);\n      };\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [target, transform]);\n  const styles = React.useMemo(() => {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return {\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none',\n        ...(fullscreen && {\n          top: -size.height / 2,\n          left: -size.width / 2,\n          width: size.width,\n          height: size.height\n        }),\n        ...style\n      };\n    }\n  }, [style, center, fullscreen, size, transform]);\n  const transformInnerStyles = React.useMemo(() => ({\n    position: 'absolute',\n    pointerEvents: 'auto',\n    ...style\n  }), [style]);\n  React.useLayoutEffect(() => {\n    if (transform) {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        className: className,\n        children: children\n      }))), el);\n    } else {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }), el);\n    }\n  });\n  useFrame(() => {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      const vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n        const isBehindCamera = isObjectBehindCamera(group.current, camera);\n\n        if (occluder != null && occluder.current) {\n          const visible = isObjectVisible(group.current, camera, raycaster, occluder == null ? void 0 : occluder.current);\n          el.style.display = visible && !isBehindCamera ? 'block' : 'none';\n        } else {\n          el.style.display = !isBehindCamera ? 'block' : 'none';\n        }\n\n        el.style.zIndex = `${objectZIndex(group.current, camera, zIndexRange)}`;\n\n        if (transform) {\n          const [widthHalf, heightHalf] = [size.width / 2, size.height / 2];\n          const fov = camera.projectionMatrix.elements[5] * heightHalf;\n          const {\n            isOrthographicCamera,\n            top,\n            left,\n            bottom,\n            right\n          } = camera;\n          const cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          const cameraTransform = isOrthographicCamera ? `scale(${fov})translate(${epsilon(-(right + left) / 2)}px,${epsilon((top + bottom) / 2)}px)` : `translateZ(${fov}px)`;\n          let matrix = group.current.matrixWorld;\n\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : `${fov}px`;\n\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = `${cameraTransform}${cameraMatrix}translate(${widthHalf}px,${heightHalf}px)`;\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n          }\n        } else {\n          const scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n          el.style.transform = `translate3d(${vec[0]}px,${vec[1]}px,0) scale(${scale})`;\n        }\n\n        oldPosition.current = vec;\n        oldZoom.current = camera.zoom;\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }));\n});\n\nexport { Html };\n"]},"metadata":{},"sourceType":"module"}