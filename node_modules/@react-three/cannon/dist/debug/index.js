import React, { createContext, useState, useRef, useMemo, useEffect, useContext, useLayoutEffect, Suspense } from 'react';
import { useThree, useFrame } from '@react-three/fiber';
import * as THREE from 'three';

const context = /*#__PURE__*/createContext({});

function decodeBase64(base64, enableUnicode) {
    var binaryString = atob(base64);
    if (enableUnicode) {
        var binaryView = new Uint8Array(binaryString.length);
        for (var i = 0, n = binaryString.length; i < n; ++i) {
            binaryView[i] = binaryString.charCodeAt(i);
        }
        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));
    }
    return binaryString;
}

function createURL(base64, sourcemapArg, enableUnicodeArg) {
    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;
    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;
    var source = decodeBase64(base64, enableUnicode);
    var start = source.indexOf('\n', 10) + 1;
    var body = source.substring(start) + (sourcemap ? '\/\/# sourceMappingURL=' + sourcemap : '');
    var blob = new Blob([body], { type: 'application/javascript' });
    return URL.createObjectURL(blob);
}

function createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {
    var url;
    return function WorkerFactory(options) {
        url = url || createURL(base64, sourcemapArg, enableUnicodeArg);
        return new Worker(url, options);
    };
}

var WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogUmVjb3JkcyB3aGF0IG9iamVjdHMgYXJlIGNvbGxpZGluZyB3aXRoIGVhY2ggb3RoZXIKICAgKiBAY2xhc3MgT2JqZWN0Q29sbGlzaW9uTWF0cml4CiAgICogQGNvbnN0cnVjdG9yCiAgICovCiAgLyoqCiAgICogQSAzeDMgbWF0cml4LgogICAqIEBjbGFzcyBNYXQzCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudHMgQSB2ZWN0b3Igb2YgbGVuZ3RoIDksIGNvbnRhaW5pbmcgYWxsIG1hdHJpeCBlbGVtZW50cy4gT3B0aW9uYWwuCiAgICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHA6Ly9naXRodWIuY29tL3NjaHRlcHBlCiAgICovCgoKICBjbGFzcyBNYXQzIHsKICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRzID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdKSB7CiAgICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50czsKICAgIH0KICAgIC8qKgogICAgICogU2V0cyB0aGUgbWF0cml4IHRvIGlkZW50aXR5CiAgICAgKiBAbWV0aG9kIGlkZW50aXR5CiAgICAgKiBAdG9kbyBTaG91bGQgcGVyaGFwcyBiZSByZW5hbWVkIHRvIHNldElkZW50aXR5KCkgdG8gYmUgbW9yZSBjbGVhci4KICAgICAqIEB0b2RvIENyZWF0ZSBhbm90aGVyIGZ1bmN0aW9uIHRoYXQgaW1tZWRpYXRlbHkgY3JlYXRlcyBhbiBpZGVudGl0eSBtYXRyaXggZWcuIGV5ZSgpCiAgICAgKi8KCgogICAgaWRlbnRpdHkoKSB7CiAgICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICBlWzBdID0gMTsKICAgICAgZVsxXSA9IDA7CiAgICAgIGVbMl0gPSAwOwogICAgICBlWzNdID0gMDsKICAgICAgZVs0XSA9IDE7CiAgICAgIGVbNV0gPSAwOwogICAgICBlWzZdID0gMDsKICAgICAgZVs3XSA9IDA7CiAgICAgIGVbOF0gPSAxOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgYWxsIGVsZW1lbnRzIHRvIHplcm8KICAgICAqIEBtZXRob2Qgc2V0WmVybwogICAgICovCgoKICAgIHNldFplcm8oKSB7CiAgICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICBlWzBdID0gMDsKICAgICAgZVsxXSA9IDA7CiAgICAgIGVbMl0gPSAwOwogICAgICBlWzNdID0gMDsKICAgICAgZVs0XSA9IDA7CiAgICAgIGVbNV0gPSAwOwogICAgICBlWzZdID0gMDsKICAgICAgZVs3XSA9IDA7CiAgICAgIGVbOF0gPSAwOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBtYXRyaXggZGlhZ29uYWwgZWxlbWVudHMgZnJvbSBhIFZlYzMKICAgICAqIEBtZXRob2Qgc2V0VHJhY2UKICAgICAqIEBwYXJhbSB7VmVjM30gdmVjMwogICAgICovCgoKICAgIHNldFRyYWNlKHZlY3RvcikgewogICAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgICAgZVswXSA9IHZlY3Rvci54OwogICAgICBlWzRdID0gdmVjdG9yLnk7CiAgICAgIGVbOF0gPSB2ZWN0b3IuejsKICAgIH0KICAgIC8qKgogICAgICogR2V0cyB0aGUgbWF0cml4IGRpYWdvbmFsIGVsZW1lbnRzCiAgICAgKiBAbWV0aG9kIGdldFRyYWNlCiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIGdldFRyYWNlKHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIHRhcmdldC54ID0gZVswXTsKICAgICAgdGFyZ2V0LnkgPSBlWzRdOwogICAgICB0YXJnZXQueiA9IGVbOF07CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CiAgICAvKioKICAgICAqIE1hdHJpeC1WZWN0b3IgbXVsdGlwbGljYXRpb24KICAgICAqIEBtZXRob2Qgdm11bHQKICAgICAqIEBwYXJhbSB7VmVjM30gdiBUaGUgdmVjdG9yIHRvIG11bHRpcGx5IHdpdGgKICAgICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLCB0YXJnZXQgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLgogICAgICovCgoKICAgIHZtdWx0KHYsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIGNvbnN0IHggPSB2Lng7CiAgICAgIGNvbnN0IHkgPSB2Lnk7CiAgICAgIGNvbnN0IHogPSB2Lno7CiAgICAgIHRhcmdldC54ID0gZVswXSAqIHggKyBlWzFdICogeSArIGVbMl0gKiB6OwogICAgICB0YXJnZXQueSA9IGVbM10gKiB4ICsgZVs0XSAqIHkgKyBlWzVdICogejsKICAgICAgdGFyZ2V0LnogPSBlWzZdICogeCArIGVbN10gKiB5ICsgZVs4XSAqIHo7CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CiAgICAvKioKICAgICAqIE1hdHJpeC1zY2FsYXIgbXVsdGlwbGljYXRpb24KICAgICAqIEBtZXRob2Qgc211bHQKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzCiAgICAgKi8KCgogICAgc211bHQocykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLmVsZW1lbnRzW2ldICo9IHM7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogTWF0cml4IG11bHRpcGxpY2F0aW9uCiAgICAgKiBAbWV0aG9kIG1tdWx0CiAgICAgKiBAcGFyYW0ge01hdDN9IG1hdHJpeCBNYXRyaXggdG8gbXVsdGlwbHkgd2l0aCBmcm9tIGxlZnQgc2lkZS4KICAgICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuCiAgICAgKi8KCgogICAgbW11bHQobWF0cml4LCB0YXJnZXQgPSBuZXcgTWF0MygpKSB7CiAgICAgIGNvbnN0IEEgPSB0aGlzLmVsZW1lbnRzOwogICAgICBjb25zdCBCID0gbWF0cml4LmVsZW1lbnRzOwogICAgICBjb25zdCBUID0gdGFyZ2V0LmVsZW1lbnRzOwogICAgICBjb25zdCBhMTEgPSBBWzBdLAogICAgICAgICAgICBhMTIgPSBBWzFdLAogICAgICAgICAgICBhMTMgPSBBWzJdLAogICAgICAgICAgICBhMjEgPSBBWzNdLAogICAgICAgICAgICBhMjIgPSBBWzRdLAogICAgICAgICAgICBhMjMgPSBBWzVdLAogICAgICAgICAgICBhMzEgPSBBWzZdLAogICAgICAgICAgICBhMzIgPSBBWzddLAogICAgICAgICAgICBhMzMgPSBBWzhdOwogICAgICBjb25zdCBiMTEgPSBCWzBdLAogICAgICAgICAgICBiMTIgPSBCWzFdLAogICAgICAgICAgICBiMTMgPSBCWzJdLAogICAgICAgICAgICBiMjEgPSBCWzNdLAogICAgICAgICAgICBiMjIgPSBCWzRdLAogICAgICAgICAgICBiMjMgPSBCWzVdLAogICAgICAgICAgICBiMzEgPSBCWzZdLAogICAgICAgICAgICBiMzIgPSBCWzddLAogICAgICAgICAgICBiMzMgPSBCWzhdOwogICAgICBUWzBdID0gYTExICogYjExICsgYTEyICogYjIxICsgYTEzICogYjMxOwogICAgICBUWzFdID0gYTExICogYjEyICsgYTEyICogYjIyICsgYTEzICogYjMyOwogICAgICBUWzJdID0gYTExICogYjEzICsgYTEyICogYjIzICsgYTEzICogYjMzOwogICAgICBUWzNdID0gYTIxICogYjExICsgYTIyICogYjIxICsgYTIzICogYjMxOwogICAgICBUWzRdID0gYTIxICogYjEyICsgYTIyICogYjIyICsgYTIzICogYjMyOwogICAgICBUWzVdID0gYTIxICogYjEzICsgYTIyICogYjIzICsgYTIzICogYjMzOwogICAgICBUWzZdID0gYTMxICogYjExICsgYTMyICogYjIxICsgYTMzICogYjMxOwogICAgICBUWzddID0gYTMxICogYjEyICsgYTMyICogYjIyICsgYTMzICogYjMyOwogICAgICBUWzhdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBTY2FsZSBlYWNoIGNvbHVtbiBvZiB0aGUgbWF0cml4CiAgICAgKiBAbWV0aG9kIHNjYWxlCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHYKICAgICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuCiAgICAgKi8KCgogICAgc2NhbGUodmVjdG9yLCB0YXJnZXQgPSBuZXcgTWF0MygpKSB7CiAgICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICBjb25zdCB0ID0gdGFyZ2V0LmVsZW1lbnRzOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDM7IGkrKykgewogICAgICAgIHRbMyAqIGkgKyAwXSA9IHZlY3Rvci54ICogZVszICogaSArIDBdOwogICAgICAgIHRbMyAqIGkgKyAxXSA9IHZlY3Rvci55ICogZVszICogaSArIDFdOwogICAgICAgIHRbMyAqIGkgKyAyXSA9IHZlY3Rvci56ICogZVszICogaSArIDJdOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBTb2x2ZSBBeD1iCiAgICAgKiBAbWV0aG9kIHNvbHZlCiAgICAgKiBAcGFyYW0ge1ZlYzN9IGIgVGhlIHJpZ2h0IGhhbmQgc2lkZQogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCB2ZWN0b3IgdG8gc2F2ZSBpbi4KICAgICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBzb2x1dGlvbiB4CiAgICAgKiBAdG9kbyBzaG91bGQgcmV1c2UgYXJyYXlzCiAgICAgKi8KCgogICAgc29sdmUoYiwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICAvLyBDb25zdHJ1Y3QgZXF1YXRpb25zCiAgICAgIGNvbnN0IG5yID0gMzsgLy8gbnVtIHJvd3MKCiAgICAgIGNvbnN0IG5jID0gNDsgLy8gbnVtIGNvbHMKCiAgICAgIGNvbnN0IGVxbnMgPSBbXTsKICAgICAgbGV0IGk7CiAgICAgIGxldCBqOwoKICAgICAgZm9yIChpID0gMDsgaSA8IG5yICogbmM7IGkrKykgewogICAgICAgIGVxbnMucHVzaCgwKTsKICAgICAgfQoKICAgICAgZm9yIChpID0gMDsgaSA8IDM7IGkrKykgewogICAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICAgIGVxbnNbaSArIG5jICogal0gPSB0aGlzLmVsZW1lbnRzW2kgKyAzICogal07CiAgICAgICAgfQogICAgICB9CgogICAgICBlcW5zWzMgKyA0ICogMF0gPSBiLng7CiAgICAgIGVxbnNbMyArIDQgKiAxXSA9IGIueTsKICAgICAgZXFuc1szICsgNCAqIDJdID0gYi56OyAvLyBDb21wdXRlIHJpZ2h0IHVwcGVyIHRyaWFuZ3VsYXIgdmVyc2lvbiBvZiB0aGUgbWF0cml4IC0gR2F1c3MgZWxpbWluYXRpb24KCiAgICAgIGxldCBuID0gMzsKICAgICAgY29uc3QgayA9IG47CiAgICAgIGxldCBucDsKICAgICAgY29uc3Qga3AgPSA0OyAvLyBudW0gcm93cwoKICAgICAgbGV0IHA7CgogICAgICBkbyB7CiAgICAgICAgaSA9IGsgLSBuOwoKICAgICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSA9PT0gMCkgewogICAgICAgICAgLy8gdGhlIHBpdm90IGlzIG51bGwsIHN3YXAgbGluZXMKICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgazsgaisrKSB7CiAgICAgICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGpdICE9PSAwKSB7CiAgICAgICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICAgICAgZG8gewogICAgICAgICAgICAgICAgLy8gZG8gbGlnbmUoIGkgKSA9IGxpZ25lKCBpICkgKyBsaWduZSggayApCiAgICAgICAgICAgICAgICBwID0ga3AgLSBucDsKICAgICAgICAgICAgICAgIGVxbnNbcCArIG5jICogaV0gKz0gZXFuc1twICsgbmMgKiBqXTsKICAgICAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGldICE9PSAwKSB7CiAgICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykgewogICAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07CiAgICAgICAgICAgIG5wID0ga3A7CgogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgLy8gZG8gbGlnbmUoIGsgKSA9IGxpZ25lKCBrICkgLSBtdWx0aXBsaWVyICogbGlnbmUoIGkgKQogICAgICAgICAgICAgIHAgPSBrcCAtIG5wOwogICAgICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBwIDw9IGkgPyAwIDogZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gd2hpbGUgKC0tbik7IC8vIEdldCB0aGUgc29sdXRpb24KCgogICAgICB0YXJnZXQueiA9IGVxbnNbMiAqIG5jICsgM10gLyBlcW5zWzIgKiBuYyArIDJdOwogICAgICB0YXJnZXQueSA9IChlcW5zWzEgKiBuYyArIDNdIC0gZXFuc1sxICogbmMgKyAyXSAqIHRhcmdldC56KSAvIGVxbnNbMSAqIG5jICsgMV07CiAgICAgIHRhcmdldC54ID0gKGVxbnNbMCAqIG5jICsgM10gLSBlcW5zWzAgKiBuYyArIDJdICogdGFyZ2V0LnogLSBlcW5zWzAgKiBuYyArIDFdICogdGFyZ2V0LnkpIC8gZXFuc1swICogbmMgKyAwXTsKCiAgICAgIGlmIChpc05hTih0YXJnZXQueCkgfHwgaXNOYU4odGFyZ2V0LnkpIHx8IGlzTmFOKHRhcmdldC56KSB8fCB0YXJnZXQueCA9PT0gSW5maW5pdHkgfHwgdGFyZ2V0LnkgPT09IEluZmluaXR5IHx8IHRhcmdldC56ID09PSBJbmZpbml0eSkgewogICAgICAgIHRocm93ICJDb3VsZCBub3Qgc29sdmUgZXF1YXRpb24hIEdvdCB4PVsiICsgdGFyZ2V0LnRvU3RyaW5nKCkgKyAiXSwgYj1bIiArIGIudG9TdHJpbmcoKSArICJdLCBBPVsiICsgdGhpcy50b1N0cmluZygpICsgIl0iOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYW4gZWxlbWVudCBpbiB0aGUgbWF0cml4IGJ5IGluZGV4LiBJbmRleCBzdGFydHMgYXQgMCwgbm90IDEhISEKICAgICAqIEBtZXRob2QgZQogICAgICogQHBhcmFtIHtOdW1iZXJ9IHJvdwogICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbHVtbgogICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIE9wdGlvbmFsLiBJZiBwcm92aWRlZCwgdGhlIG1hdHJpeCBlbGVtZW50IHdpbGwgYmUgc2V0IHRvIHRoaXMgdmFsdWUuCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgZShyb3csIGNvbHVtbiwgdmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tjb2x1bW4gKyAzICogcm93XTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBTZXQgdmFsdWUKICAgICAgICB0aGlzLmVsZW1lbnRzW2NvbHVtbiArIDMgKiByb3ddID0gdmFsdWU7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQ29weSBhbm90aGVyIG1hdHJpeCBpbnRvIHRoaXMgbWF0cml4IG9iamVjdC4KICAgICAqIEBtZXRob2QgY29weQogICAgICogQHBhcmFtIHtNYXQzfSBzb3VyY2UKICAgICAqIEByZXR1cm4ge01hdDN9IHRoaXMKICAgICAqLwoKCiAgICBjb3B5KG1hdHJpeCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdHJpeC5lbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBtYXRyaXguZWxlbWVudHNbaV07CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXguCiAgICAgKiBAbWV0aG9kIHRvU3RyaW5nCiAgICAgKiBAcmV0dXJuIHN0cmluZwogICAgICovCgoKICAgIHRvU3RyaW5nKCkgewogICAgICBsZXQgciA9ICcnOwogICAgICBjb25zdCBzZXAgPSAnLCc7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDk7IGkrKykgewogICAgICAgIHIgKz0gdGhpcy5lbGVtZW50c1tpXSArIHNlcDsKICAgICAgfQoKICAgICAgcmV0dXJuIHI7CiAgICB9CiAgICAvKioKICAgICAqIHJldmVyc2UgdGhlIG1hdHJpeAogICAgICogQG1ldGhvZCByZXZlcnNlCiAgICAgKiBAcGFyYW0ge01hdDN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IG1hdHJpeCB0byBzYXZlIGluLgogICAgICogQHJldHVybiB7TWF0M30gVGhlIHNvbHV0aW9uIHgKICAgICAqLwoKCiAgICByZXZlcnNlKHRhcmdldCA9IG5ldyBNYXQzKCkpIHsKICAgICAgLy8gQ29uc3RydWN0IGVxdWF0aW9ucwogICAgICBjb25zdCBuciA9IDM7IC8vIG51bSByb3dzCgogICAgICBjb25zdCBuYyA9IDY7IC8vIG51bSBjb2xzCgogICAgICBjb25zdCBlcW5zID0gW107CiAgICAgIGxldCBpOwogICAgICBsZXQgajsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCBuciAqIG5jOyBpKyspIHsKICAgICAgICBlcW5zLnB1c2goMCk7CiAgICAgIH0KCiAgICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHsKICAgICAgICBmb3IgKGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgICBlcW5zW2kgKyBuYyAqIGpdID0gdGhpcy5lbGVtZW50c1tpICsgMyAqIGpdOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZXFuc1szICsgNiAqIDBdID0gMTsKICAgICAgZXFuc1szICsgNiAqIDFdID0gMDsKICAgICAgZXFuc1szICsgNiAqIDJdID0gMDsKICAgICAgZXFuc1s0ICsgNiAqIDBdID0gMDsKICAgICAgZXFuc1s0ICsgNiAqIDFdID0gMTsKICAgICAgZXFuc1s0ICsgNiAqIDJdID0gMDsKICAgICAgZXFuc1s1ICsgNiAqIDBdID0gMDsKICAgICAgZXFuc1s1ICsgNiAqIDFdID0gMDsKICAgICAgZXFuc1s1ICsgNiAqIDJdID0gMTsgLy8gQ29tcHV0ZSByaWdodCB1cHBlciB0cmlhbmd1bGFyIHZlcnNpb24gb2YgdGhlIG1hdHJpeCAtIEdhdXNzIGVsaW1pbmF0aW9uCgogICAgICBsZXQgbiA9IDM7CiAgICAgIGNvbnN0IGsgPSBuOwogICAgICBsZXQgbnA7CiAgICAgIGNvbnN0IGtwID0gbmM7IC8vIG51bSByb3dzCgogICAgICBsZXQgcDsKCiAgICAgIGRvIHsKICAgICAgICBpID0gayAtIG47CgogICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGldID09PSAwKSB7CiAgICAgICAgICAvLyB0aGUgcGl2b3QgaXMgbnVsbCwgc3dhcCBsaW5lcwogICAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHsKICAgICAgICAgICAgaWYgKGVxbnNbaSArIG5jICogal0gIT09IDApIHsKICAgICAgICAgICAgICBucCA9IGtwOwoKICAgICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgICAvLyBkbyBsaW5lKCBpICkgPSBsaW5lKCBpICkgKyBsaW5lKCBrICkKICAgICAgICAgICAgICAgIHAgPSBrcCAtIG5wOwogICAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdOwogICAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApOwoKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHsKICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgazsgaisrKSB7CiAgICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBlcW5zW2kgKyBuYyAqIGpdIC8gZXFuc1tpICsgbmMgKiBpXTsKICAgICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAvLyBkbyBsaW5lKCBrICkgPSBsaW5lKCBrICkgLSBtdWx0aXBsaWVyICogbGluZSggaSApCiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IHAgPD0gaSA/IDAgOiBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7CiAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSB3aGlsZSAoLS1uKTsgLy8gZWxpbWluYXRlIHRoZSB1cHBlciBsZWZ0IHRyaWFuZ2xlIG9mIHRoZSBtYXRyaXgKCgogICAgICBpID0gMjsKCiAgICAgIGRvIHsKICAgICAgICBqID0gaSAtIDE7CgogICAgICAgIGRvIHsKICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBlcW5zW2kgKyBuYyAqIGpdIC8gZXFuc1tpICsgbmMgKiBpXTsKICAgICAgICAgIG5wID0gbmM7CgogICAgICAgICAgZG8gewogICAgICAgICAgICBwID0gbmMgLSBucDsKICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IGVxbnNbcCArIG5jICogal0gLSBlcW5zW3AgKyBuYyAqIGldICogbXVsdGlwbGllcjsKICAgICAgICAgIH0gd2hpbGUgKC0tbnApOwogICAgICAgIH0gd2hpbGUgKGotLSk7CiAgICAgIH0gd2hpbGUgKC0taSk7IC8vIG9wZXJhdGlvbnMgb24gdGhlIGRpYWdvbmFsCgoKICAgICAgaSA9IDI7CgogICAgICBkbyB7CiAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IDEgLyBlcW5zW2kgKyBuYyAqIGldOwogICAgICAgIG5wID0gbmM7CgogICAgICAgIGRvIHsKICAgICAgICAgIHAgPSBuYyAtIG5wOwogICAgICAgICAgZXFuc1twICsgbmMgKiBpXSA9IGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgIH0gd2hpbGUgKC0tbnApOwogICAgICB9IHdoaWxlIChpLS0pOwoKICAgICAgaSA9IDI7CgogICAgICBkbyB7CiAgICAgICAgaiA9IDI7CgogICAgICAgIGRvIHsKICAgICAgICAgIHAgPSBlcW5zW25yICsgaiArIG5jICogaV07CgogICAgICAgICAgaWYgKGlzTmFOKHApIHx8IHAgPT09IEluZmluaXR5KSB7CiAgICAgICAgICAgIHRocm93ICJDb3VsZCBub3QgcmV2ZXJzZSEgQT1bIiArIHRoaXMudG9TdHJpbmcoKSArICJdIjsKICAgICAgICAgIH0KCiAgICAgICAgICB0YXJnZXQuZShpLCBqLCBwKTsKICAgICAgICB9IHdoaWxlIChqLS0pOwogICAgICB9IHdoaWxlIChpLS0pOwoKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBtYXRyaXggZnJvbSBhIHF1YXRlcmlvbgogICAgICogQG1ldGhvZCBzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uCiAgICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHEKICAgICAqLwoKCiAgICBzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHEpIHsKICAgICAgY29uc3QgeCA9IHEueDsKICAgICAgY29uc3QgeSA9IHEueTsKICAgICAgY29uc3QgeiA9IHEuejsKICAgICAgY29uc3QgdyA9IHEudzsKICAgICAgY29uc3QgeDIgPSB4ICsgeDsKICAgICAgY29uc3QgeTIgPSB5ICsgeTsKICAgICAgY29uc3QgejIgPSB6ICsgejsKICAgICAgY29uc3QgeHggPSB4ICogeDI7CiAgICAgIGNvbnN0IHh5ID0geCAqIHkyOwogICAgICBjb25zdCB4eiA9IHggKiB6MjsKICAgICAgY29uc3QgeXkgPSB5ICogeTI7CiAgICAgIGNvbnN0IHl6ID0geSAqIHoyOwogICAgICBjb25zdCB6eiA9IHogKiB6MjsKICAgICAgY29uc3Qgd3ggPSB3ICogeDI7CiAgICAgIGNvbnN0IHd5ID0gdyAqIHkyOwogICAgICBjb25zdCB3eiA9IHcgKiB6MjsKICAgICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIGVbMyAqIDAgKyAwXSA9IDEgLSAoeXkgKyB6eik7CiAgICAgIGVbMyAqIDAgKyAxXSA9IHh5IC0gd3o7CiAgICAgIGVbMyAqIDAgKyAyXSA9IHh6ICsgd3k7CiAgICAgIGVbMyAqIDEgKyAwXSA9IHh5ICsgd3o7CiAgICAgIGVbMyAqIDEgKyAxXSA9IDEgLSAoeHggKyB6eik7CiAgICAgIGVbMyAqIDEgKyAyXSA9IHl6IC0gd3g7CiAgICAgIGVbMyAqIDIgKyAwXSA9IHh6IC0gd3k7CiAgICAgIGVbMyAqIDIgKyAxXSA9IHl6ICsgd3g7CiAgICAgIGVbMyAqIDIgKyAyXSA9IDEgLSAoeHggKyB5eSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBUcmFuc3Bvc2UgdGhlIG1hdHJpeAogICAgICogQG1ldGhvZCB0cmFuc3Bvc2UKICAgICAqIEBwYXJhbSAge01hdDN9IHRhcmdldCBPcHRpb25hbC4gV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdC4KICAgICAqIEByZXR1cm4ge01hdDN9IFRoZSB0YXJnZXQgTWF0Mywgb3IgYSBuZXcgTWF0MyBpZiB0YXJnZXQgd2FzIG9taXR0ZWQuCiAgICAgKi8KCgogICAgdHJhbnNwb3NlKHRhcmdldCA9IG5ldyBNYXQzKCkpIHsKICAgICAgY29uc3QgTSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIGNvbnN0IFQgPSB0YXJnZXQuZWxlbWVudHM7CiAgICAgIGxldCB0bXA7IC8vU2V0IGRpYWdvbmFscwoKICAgICAgVFswXSA9IE1bMF07CiAgICAgIFRbNF0gPSBNWzRdOwogICAgICBUWzhdID0gTVs4XTsKICAgICAgdG1wID0gTVsxXTsKICAgICAgVFsxXSA9IE1bM107CiAgICAgIFRbM10gPSB0bXA7CiAgICAgIHRtcCA9IE1bMl07CiAgICAgIFRbMl0gPSBNWzZdOwogICAgICBUWzZdID0gdG1wOwogICAgICB0bXAgPSBNWzVdOwogICAgICBUWzVdID0gTVs3XTsKICAgICAgVFs3XSA9IHRtcDsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KCiAgfQogIC8qKgogICAqIDMtZGltZW5zaW9uYWwgdmVjdG9yCiAgICogQGNsYXNzIFZlYzMKICAgKiBAY29uc3RydWN0b3IKICAgKiBAcGFyYW0ge051bWJlcn0geAogICAqIEBwYXJhbSB7TnVtYmVyfSB5CiAgICogQHBhcmFtIHtOdW1iZXJ9IHoKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQGV4YW1wbGUKICAgKiAgICAgY29uc3QgdiA9IG5ldyBWZWMzKDEsIDIsIDMpOwogICAqICAgICBjb25zb2xlLmxvZygneD0nICsgdi54KTsgLy8geD0xCiAgICovCgoKICBjbGFzcyBWZWMzIHsKICAgIGNvbnN0cnVjdG9yKHggPSAwLjAsIHkgPSAwLjAsIHogPSAwLjApIHsKICAgICAgdGhpcy54ID0geDsKICAgICAgdGhpcy55ID0geTsKICAgICAgdGhpcy56ID0gejsKICAgIH0KICAgIC8qKgogICAgICogVmVjdG9yIGNyb3NzIHByb2R1Y3QKICAgICAqIEBtZXRob2QgY3Jvc3MKICAgICAqIEBwYXJhbSB7VmVjM30gdmVjdG9yCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IHRvIHNhdmUgaW4uCiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIGNyb3NzKHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICBjb25zdCB2eCA9IHZlY3Rvci54OwogICAgICBjb25zdCB2eSA9IHZlY3Rvci55OwogICAgICBjb25zdCB2eiA9IHZlY3Rvci56OwogICAgICBjb25zdCB4ID0gdGhpcy54OwogICAgICBjb25zdCB5ID0gdGhpcy55OwogICAgICBjb25zdCB6ID0gdGhpcy56OwogICAgICB0YXJnZXQueCA9IHkgKiB2eiAtIHogKiB2eTsKICAgICAgdGFyZ2V0LnkgPSB6ICogdnggLSB4ICogdno7CiAgICAgIHRhcmdldC56ID0geCAqIHZ5IC0geSAqIHZ4OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIHZlY3RvcnMnIDMgZWxlbWVudHMKICAgICAqIEBtZXRob2Qgc2V0CiAgICAgKiBAcGFyYW0ge051bWJlcn0geAogICAgICogQHBhcmFtIHtOdW1iZXJ9IHkKICAgICAqIEBwYXJhbSB7TnVtYmVyfSB6CiAgICAgKiBAcmV0dXJuIFZlYzMKICAgICAqLwoKCiAgICBzZXQoeCwgeSwgeikgewogICAgICB0aGlzLnggPSB4OwogICAgICB0aGlzLnkgPSB5OwogICAgICB0aGlzLnogPSB6OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogU2V0IGFsbCBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3IgdG8gemVyby4KICAgICAqIEBtZXRob2Qgc2V0WmVybwogICAgICovCgoKICAgIHNldFplcm8oKSB7CiAgICAgIHRoaXMueCA9IHRoaXMueSA9IHRoaXMueiA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIFZlY3RvciBhZGRpdGlvbgogICAgICogQG1ldGhvZCB2YWRkCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvcgogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuCiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIHZhZGQodmVjdG9yLCB0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldCkgewogICAgICAgIHRhcmdldC54ID0gdmVjdG9yLnggKyB0aGlzLng7CiAgICAgICAgdGFyZ2V0LnkgPSB2ZWN0b3IueSArIHRoaXMueTsKICAgICAgICB0YXJnZXQueiA9IHZlY3Rvci56ICsgdGhpcy56OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggKyB2ZWN0b3IueCwgdGhpcy55ICsgdmVjdG9yLnksIHRoaXMueiArIHZlY3Rvci56KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBWZWN0b3Igc3VidHJhY3Rpb24KICAgICAqIEBtZXRob2QgdnN1YgogICAgICogQHBhcmFtIHtWZWMzfSB2ZWN0b3IKICAgICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdG8gc2F2ZSBpbi4KICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgdnN1Yih2ZWN0b3IsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgdGFyZ2V0LnggPSB0aGlzLnggLSB2ZWN0b3IueDsKICAgICAgICB0YXJnZXQueSA9IHRoaXMueSAtIHZlY3Rvci55OwogICAgICAgIHRhcmdldC56ID0gdGhpcy56IC0gdmVjdG9yLno7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCAtIHZlY3Rvci54LCB0aGlzLnkgLSB2ZWN0b3IueSwgdGhpcy56IC0gdmVjdG9yLnopOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgY3Jvc3MgcHJvZHVjdCBtYXRyaXggYV9jcm9zcyBmcm9tIGEgdmVjdG9yLCBzdWNoIHRoYXQgYSB4IGIgPSBhX2Nyb3NzICogYiA9IGMKICAgICAqIEBtZXRob2QgY3Jvc3NtYXQKICAgICAqIEBzZWUgaHR0cDovL3d3dzguY3MudW11LnNlL2t1cnNlci9UREJEMjQvVlQwNi9sZWN0dXJlcy9MZWN0dXJlNi5wZGYKICAgICAqIEByZXR1cm4ge01hdDN9CiAgICAgKi8KCgogICAgY3Jvc3NtYXQoKSB7CiAgICAgIHJldHVybiBuZXcgTWF0MyhbMCwgLXRoaXMueiwgdGhpcy55LCB0aGlzLnosIDAsIC10aGlzLngsIC10aGlzLnksIHRoaXMueCwgMF0pOwogICAgfQogICAgLyoqCiAgICAgKiBOb3JtYWxpemUgdGhlIHZlY3Rvci4gTm90ZSB0aGF0IHRoaXMgY2hhbmdlcyB0aGUgdmFsdWVzIGluIHRoZSB2ZWN0b3IuCiAgICAgKiBAbWV0aG9kIG5vcm1hbGl6ZQogICAgICogQHJldHVybiB7TnVtYmVyfSBSZXR1cm5zIHRoZSBub3JtIG9mIHRoZSB2ZWN0b3IKICAgICAqLwoKCiAgICBub3JtYWxpemUoKSB7CiAgICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICAgIGNvbnN0IG4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKCiAgICAgIGlmIChuID4gMC4wKSB7CiAgICAgICAgY29uc3QgaW52TiA9IDEgLyBuOwogICAgICAgIHRoaXMueCAqPSBpbnZOOwogICAgICAgIHRoaXMueSAqPSBpbnZOOwogICAgICAgIHRoaXMueiAqPSBpbnZOOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIE1ha2Ugc29tZXRoaW5nIHVwCiAgICAgICAgdGhpcy54ID0gMDsKICAgICAgICB0aGlzLnkgPSAwOwogICAgICAgIHRoaXMueiA9IDA7CiAgICAgIH0KCiAgICAgIHJldHVybiBuOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhpcyB2ZWN0b3IgdGhhdCBpcyBvZiBsZW5ndGggMS4KICAgICAqIEBtZXRob2QgdW5pdAogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwgdGFyZ2V0IHRvIHNhdmUgaW4KICAgICAqIEByZXR1cm4ge1ZlYzN9IFJldHVybnMgdGhlIHVuaXQgdmVjdG9yCiAgICAgKi8KCgogICAgdW5pdCh0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICAgIGxldCBuaW52ID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7CgogICAgICBpZiAobmludiA+IDAuMCkgewogICAgICAgIG5pbnYgPSAxLjAgLyBuaW52OwogICAgICAgIHRhcmdldC54ID0geCAqIG5pbnY7CiAgICAgICAgdGFyZ2V0LnkgPSB5ICogbmludjsKICAgICAgICB0YXJnZXQueiA9IHogKiBuaW52OwogICAgICB9IGVsc2UgewogICAgICAgIHRhcmdldC54ID0gMTsKICAgICAgICB0YXJnZXQueSA9IDA7CiAgICAgICAgdGFyZ2V0LnogPSAwOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgdmVjdG9yCiAgICAgKiBAbWV0aG9kIGxlbmd0aAogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICovCgoKICAgIGxlbmd0aCgpIHsKICAgICAgY29uc3QgeCA9IHRoaXMueDsKICAgICAgY29uc3QgeSA9IHRoaXMueTsKICAgICAgY29uc3QgeiA9IHRoaXMuejsKICAgICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIHRoZSB2ZWN0b3IuCiAgICAgKiBAbWV0aG9kIGxlbmd0aFNxdWFyZWQKICAgICAqIEByZXR1cm4ge051bWJlcn0KICAgICAqLwoKCiAgICBsZW5ndGhTcXVhcmVkKCkgewogICAgICByZXR1cm4gdGhpcy5kb3QodGhpcyk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludAogICAgICogQG1ldGhvZCBkaXN0YW5jZVRvCiAgICAgKiBAcGFyYW0gIHtWZWMzfSBwCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgZGlzdGFuY2VUbyhwKSB7CiAgICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICAgIGNvbnN0IHB4ID0gcC54OwogICAgICBjb25zdCBweSA9IHAueTsKICAgICAgY29uc3QgcHogPSBwLno7CiAgICAgIHJldHVybiBNYXRoLnNxcnQoKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHNxdWFyZWQgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQKICAgICAqIEBtZXRob2QgZGlzdGFuY2VTcXVhcmVkCiAgICAgKiBAcGFyYW0gIHtWZWMzfSBwCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgZGlzdGFuY2VTcXVhcmVkKHApIHsKICAgICAgY29uc3QgeCA9IHRoaXMueDsKICAgICAgY29uc3QgeSA9IHRoaXMueTsKICAgICAgY29uc3QgeiA9IHRoaXMuejsKICAgICAgY29uc3QgcHggPSBwLng7CiAgICAgIGNvbnN0IHB5ID0gcC55OwogICAgICBjb25zdCBweiA9IHAuejsKICAgICAgcmV0dXJuIChweCAtIHgpICogKHB4IC0geCkgKyAocHkgLSB5KSAqIChweSAtIHkpICsgKHB6IC0geikgKiAocHogLSB6KTsKICAgIH0KICAgIC8qKgogICAgICogTXVsdGlwbHkgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3Igd2l0aCBhIHNjYWxhci4KICAgICAqIEBtZXRob2Qgc2NhbGUKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXIKICAgICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLgogICAgICogQHJldHVybiB7VmVjM30KICAgICAqLwoKCiAgICBzY2FsZShzY2FsYXIsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgY29uc3QgeCA9IHRoaXMueDsKICAgICAgY29uc3QgeSA9IHRoaXMueTsKICAgICAgY29uc3QgeiA9IHRoaXMuejsKICAgICAgdGFyZ2V0LnggPSBzY2FsYXIgKiB4OwogICAgICB0YXJnZXQueSA9IHNjYWxhciAqIHk7CiAgICAgIHRhcmdldC56ID0gc2NhbGFyICogejsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogTXVsdGlwbHkgdGhlIHZlY3RvciB3aXRoIGFuIG90aGVyIHZlY3RvciwgY29tcG9uZW50LXdpc2UuCiAgICAgKiBAbWV0aG9kIHZtdWx0CiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmVjdG9yCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBUaGUgdmVjdG9yIHRvIHNhdmUgdGhlIHJlc3VsdCBpbi4KICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgdm11bCh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgdGFyZ2V0LnggPSB2ZWN0b3IueCAqIHRoaXMueDsKICAgICAgdGFyZ2V0LnkgPSB2ZWN0b3IueSAqIHRoaXMueTsKICAgICAgdGFyZ2V0LnogPSB2ZWN0b3IueiAqIHRoaXMuejsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogU2NhbGUgYSB2ZWN0b3IgYW5kIGFkZCBpdCB0byB0aGlzIHZlY3Rvci4gU2F2ZSB0aGUgcmVzdWx0IGluICJ0YXJnZXQiLiAodGFyZ2V0ID0gdGhpcyArIHZlY3RvciAqIHNjYWxhcikKICAgICAqIEBtZXRob2QgYWRkU2NhbGVkVmVjdG9yCiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvcgogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uCiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIGFkZFNjYWxlZFZlY3RvcihzY2FsYXIsIHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICB0YXJnZXQueCA9IHRoaXMueCArIHNjYWxhciAqIHZlY3Rvci54OwogICAgICB0YXJnZXQueSA9IHRoaXMueSArIHNjYWxhciAqIHZlY3Rvci55OwogICAgICB0YXJnZXQueiA9IHRoaXMueiArIHNjYWxhciAqIHZlY3Rvci56OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBDYWxjdWxhdGUgZG90IHByb2R1Y3QKICAgICAqIEBtZXRob2QgZG90CiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvcgogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICovCgoKICAgIGRvdCh2ZWN0b3IpIHsKICAgICAgcmV0dXJuIHRoaXMueCAqIHZlY3Rvci54ICsgdGhpcy55ICogdmVjdG9yLnkgKyB0aGlzLnogKiB2ZWN0b3IuejsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBpc1plcm8KICAgICAqIEByZXR1cm4gYm9vbAogICAgICovCgoKICAgIGlzWmVybygpIHsKICAgICAgcmV0dXJuIHRoaXMueCA9PT0gMCAmJiB0aGlzLnkgPT09IDAgJiYgdGhpcy56ID09PSAwOwogICAgfQogICAgLyoqCiAgICAgKiBNYWtlIHRoZSB2ZWN0b3IgcG9pbnQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi4KICAgICAqIEBtZXRob2QgbmVnYXRlCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpbgogICAgICogQHJldHVybiB7VmVjM30KICAgICAqLwoKCiAgICBuZWdhdGUodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICB0YXJnZXQueCA9IC10aGlzLng7CiAgICAgIHRhcmdldC55ID0gLXRoaXMueTsKICAgICAgdGFyZ2V0LnogPSAtdGhpcy56OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHR3byBhcnRpZmljaWFsIHRhbmdlbnRzIHRvIHRoZSB2ZWN0b3IKICAgICAqIEBtZXRob2QgdGFuZ2VudHMKICAgICAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHQyIFZlY3RvciBvYmplY3QgdG8gc2F2ZSB0aGUgc2Vjb25kIHRhbmdlbnQgaW4KICAgICAqLwoKCiAgICB0YW5nZW50cyh0MSwgdDIpIHsKICAgICAgY29uc3Qgbm9ybSA9IHRoaXMubGVuZ3RoKCk7CgogICAgICBpZiAobm9ybSA+IDAuMCkgewogICAgICAgIGNvbnN0IG4gPSBWZWMzX3RhbmdlbnRzX247CiAgICAgICAgY29uc3QgaW5vcm0gPSAxIC8gbm9ybTsKICAgICAgICBuLnNldCh0aGlzLnggKiBpbm9ybSwgdGhpcy55ICogaW5vcm0sIHRoaXMueiAqIGlub3JtKTsKICAgICAgICBjb25zdCByYW5kVmVjID0gVmVjM190YW5nZW50c19yYW5kVmVjOwoKICAgICAgICBpZiAoTWF0aC5hYnMobi54KSA8IDAuOSkgewogICAgICAgICAgcmFuZFZlYy5zZXQoMSwgMCwgMCk7CiAgICAgICAgICBuLmNyb3NzKHJhbmRWZWMsIHQxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmFuZFZlYy5zZXQoMCwgMSwgMCk7CiAgICAgICAgICBuLmNyb3NzKHJhbmRWZWMsIHQxKTsKICAgICAgICB9CgogICAgICAgIG4uY3Jvc3ModDEsIHQyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBUaGUgbm9ybWFsIGxlbmd0aCBpcyB6ZXJvLCBtYWtlIHNvbWV0aGluZyB1cAogICAgICAgIHQxLnNldCgxLCAwLCAwKTsKICAgICAgICB0Mi5zZXQoMCwgMSwgMCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQ29udmVydHMgdG8gYSBtb3JlIHJlYWRhYmxlIGZvcm1hdAogICAgICogQG1ldGhvZCB0b1N0cmluZwogICAgICogQHJldHVybiBzdHJpbmcKICAgICAqLwoKCiAgICB0b1N0cmluZygpIHsKICAgICAgcmV0dXJuIHRoaXMueCArICIsIiArIHRoaXMueSArICIsIiArIHRoaXMuejsKICAgIH0KICAgIC8qKgogICAgICogQ29udmVydHMgdG8gYW4gYXJyYXkKICAgICAqIEBtZXRob2QgdG9BcnJheQogICAgICogQHJldHVybiBBcnJheQogICAgICovCgoKICAgIHRvQXJyYXkoKSB7CiAgICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMuel07CiAgICB9CiAgICAvKioKICAgICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyB2ZWN0b3IuCiAgICAgKiBAbWV0aG9kIGNvcHkKICAgICAqIEBwYXJhbSB7VmVjM30gc291cmNlCiAgICAgKiBAcmV0dXJuIHtWZWMzfSB0aGlzCiAgICAgKi8KCgogICAgY29weSh2ZWN0b3IpIHsKICAgICAgdGhpcy54ID0gdmVjdG9yLng7CiAgICAgIHRoaXMueSA9IHZlY3Rvci55OwogICAgICB0aGlzLnogPSB2ZWN0b3IuejsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIERvIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjdG9ycwogICAgICogQG1ldGhvZCBsZXJwCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvcgogICAgICogQHBhcmFtIHtOdW1iZXJ9IHQgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLiAwIHdpbGwgbWFrZSB0aGlzIGZ1bmN0aW9uIHJldHVybiB1LCBhbmQgMSB3aWxsIG1ha2UgaXQgcmV0dXJuIHYuIE51bWJlcnMgaW4gYmV0d2VlbiB3aWxsIGdlbmVyYXRlIGEgdmVjdG9yIGluIGJldHdlZW4gdGhlbS4KICAgICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0CiAgICAgKi8KCgogICAgbGVycCh2ZWN0b3IsIHQsIHRhcmdldCkgewogICAgICBjb25zdCB4ID0gdGhpcy54OwogICAgICBjb25zdCB5ID0gdGhpcy55OwogICAgICBjb25zdCB6ID0gdGhpcy56OwogICAgICB0YXJnZXQueCA9IHggKyAodmVjdG9yLnggLSB4KSAqIHQ7CiAgICAgIHRhcmdldC55ID0geSArICh2ZWN0b3IueSAtIHkpICogdDsKICAgICAgdGFyZ2V0LnogPSB6ICsgKHZlY3Rvci56IC0geikgKiB0OwogICAgfQogICAgLyoqCiAgICAgKiBDaGVjayBpZiBhIHZlY3RvciBlcXVhbHMgaXMgYWxtb3N0IGVxdWFsIHRvIGFub3RoZXIgb25lLgogICAgICogQG1ldGhvZCBhbG1vc3RFcXVhbHMKICAgICAqIEBwYXJhbSB7VmVjM30gdmVjdG9yCiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJlY2lzaW9uCiAgICAgKiBAcmV0dXJuIGJvb2wKICAgICAqLwoKCiAgICBhbG1vc3RFcXVhbHModmVjdG9yLCBwcmVjaXNpb24gPSAxZS02KSB7CiAgICAgIGlmIChNYXRoLmFicyh0aGlzLnggLSB2ZWN0b3IueCkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy55IC0gdmVjdG9yLnkpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueiAtIHZlY3Rvci56KSA+IHByZWNpc2lvbikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIGEgdmVjdG9yIGlzIGFsbW9zdCB6ZXJvCiAgICAgKiBAbWV0aG9kIGFsbW9zdFplcm8KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcmVjaXNpb24KICAgICAqLwoKCiAgICBhbG1vc3RaZXJvKHByZWNpc2lvbiA9IDFlLTYpIHsKICAgICAgaWYgKE1hdGguYWJzKHRoaXMueCkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy55KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnopID4gcHJlY2lzaW9uKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ2hlY2sgaWYgdGhlIHZlY3RvciBpcyBhbnRpLXBhcmFsbGVsIHRvIGFub3RoZXIgdmVjdG9yLgogICAgICogQG1ldGhvZCBpc0FudGlwYXJhbGxlbFRvCiAgICAgKiBAcGFyYW0gIHtWZWMzfSAgdgogICAgICogQHBhcmFtICB7TnVtYmVyfSAgcHJlY2lzaW9uIFNldCB0byB6ZXJvIGZvciBleGFjdCBjb21wYXJpc29ucwogICAgICogQHJldHVybiB7Qm9vbGVhbn0KICAgICAqLwoKCiAgICBpc0FudGlwYXJhbGxlbFRvKHZlY3RvciwgcHJlY2lzaW9uKSB7CiAgICAgIHRoaXMubmVnYXRlKGFudGlwX25lZyk7CiAgICAgIHJldHVybiBhbnRpcF9uZWcuYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uKTsKICAgIH0KICAgIC8qKgogICAgICogQ2xvbmUgdGhlIHZlY3RvcgogICAgICogQG1ldGhvZCBjbG9uZQogICAgICogQHJldHVybiB7VmVjM30KICAgICAqLwoKCiAgICBjbG9uZSgpIHsKICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCwgdGhpcy55LCB0aGlzLnopOwogICAgfQoKICB9CgogIFZlYzMuWkVSTyA9IG5ldyBWZWMzKDAsIDAsIDApOwogIFZlYzMuVU5JVF9YID0gbmV3IFZlYzMoMSwgMCwgMCk7CiAgVmVjMy5VTklUX1kgPSBuZXcgVmVjMygwLCAxLCAwKTsKICBWZWMzLlVOSVRfWiA9IG5ldyBWZWMzKDAsIDAsIDEpOwogIC8qKgogICAqIENvbXB1dGUgdHdvIGFydGlmaWNpYWwgdGFuZ2VudHMgdG8gdGhlIHZlY3RvcgogICAqIEBtZXRob2QgdGFuZ2VudHMKICAgKiBAcGFyYW0ge1ZlYzN9IHQxIFZlY3RvciBvYmplY3QgdG8gc2F2ZSB0aGUgZmlyc3QgdGFuZ2VudCBpbgogICAqIEBwYXJhbSB7VmVjM30gdDIgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBzZWNvbmQgdGFuZ2VudCBpbgogICAqLwoKICBjb25zdCBWZWMzX3RhbmdlbnRzX24gPSBuZXcgVmVjMygpOwogIGNvbnN0IFZlYzNfdGFuZ2VudHNfcmFuZFZlYyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYW50aXBfbmVnID0gbmV3IFZlYzMoKTsKICAvKioKICAgKiBBeGlzIGFsaWduZWQgYm91bmRpbmcgYm94IGNsYXNzLgogICAqIEBjbGFzcyBBQUJCCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXQogICAqIEBwYXJhbSB7VmVjM30gICBbb3B0aW9ucy51cHBlckJvdW5kXSBUaGUgdXBwZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveC4KICAgKiBAcGFyYW0ge1ZlYzN9ICAgW29wdGlvbnMubG93ZXJCb3VuZF0gVGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3gKICAgKi8KCiAgY2xhc3MgQUFCQiB7CiAgICAvLyBUaGUgbG93ZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveAogICAgLy8gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3gKICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICB0aGlzLmxvd2VyQm91bmQgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnVwcGVyQm91bmQgPSBuZXcgVmVjMygpOwoKICAgICAgaWYgKG9wdGlvbnMubG93ZXJCb3VuZCkgewogICAgICAgIHRoaXMubG93ZXJCb3VuZC5jb3B5KG9wdGlvbnMubG93ZXJCb3VuZCk7CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zLnVwcGVyQm91bmQpIHsKICAgICAgICB0aGlzLnVwcGVyQm91bmQuY29weShvcHRpb25zLnVwcGVyQm91bmQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFNldCB0aGUgQUFCQiBib3VuZHMgZnJvbSBhIHNldCBvZiBwb2ludHMuCiAgICAgKiBAbWV0aG9kIHNldEZyb21Qb2ludHMKICAgICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50cyBBbiBhcnJheSBvZiBWZWMzJ3MuCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHBvc2l0aW9uIE9wdGlvbmFsLgogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0ZXJuaW9uIE9wdGlvbmFsLgogICAgICogQHBhcmFtIHtudW1iZXJ9IHNraW5TaXplIE9wdGlvbmFsLgogICAgICogQHJldHVybiB7QUFCQn0gVGhlIHNlbGYgb2JqZWN0CiAgICAgKi8KCgogICAgc2V0RnJvbVBvaW50cyhwb2ludHMsIHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBza2luU2l6ZSkgewogICAgICBjb25zdCBsID0gdGhpcy5sb3dlckJvdW5kOwogICAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kOwogICAgICBjb25zdCBxID0gcXVhdGVybmlvbjsgLy8gU2V0IHRvIHRoZSBmaXJzdCBwb2ludAoKICAgICAgbC5jb3B5KHBvaW50c1swXSk7CgogICAgICBpZiAocSkgewogICAgICAgIHEudm11bHQobCwgbCk7CiAgICAgIH0KCiAgICAgIHUuY29weShsKTsKCiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGV0IHAgPSBwb2ludHNbaV07CgogICAgICAgIGlmIChxKSB7CiAgICAgICAgICBxLnZtdWx0KHAsIHRtcCk7CiAgICAgICAgICBwID0gdG1wOwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueCA+IHUueCkgewogICAgICAgICAgdS54ID0gcC54OwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueCA8IGwueCkgewogICAgICAgICAgbC54ID0gcC54OwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueSA+IHUueSkgewogICAgICAgICAgdS55ID0gcC55OwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueSA8IGwueSkgewogICAgICAgICAgbC55ID0gcC55OwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueiA+IHUueikgewogICAgICAgICAgdS56ID0gcC56OwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueiA8IGwueikgewogICAgICAgICAgbC56ID0gcC56OwogICAgICAgIH0KICAgICAgfSAvLyBBZGQgb2Zmc2V0CgoKICAgICAgaWYgKHBvc2l0aW9uKSB7CiAgICAgICAgcG9zaXRpb24udmFkZChsLCBsKTsKICAgICAgICBwb3NpdGlvbi52YWRkKHUsIHUpOwogICAgICB9CgogICAgICBpZiAoc2tpblNpemUpIHsKICAgICAgICBsLnggLT0gc2tpblNpemU7CiAgICAgICAgbC55IC09IHNraW5TaXplOwogICAgICAgIGwueiAtPSBza2luU2l6ZTsKICAgICAgICB1LnggKz0gc2tpblNpemU7CiAgICAgICAgdS55ICs9IHNraW5TaXplOwogICAgICAgIHUueiArPSBza2luU2l6ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIENvcHkgYm91bmRzIGZyb20gYW4gQUFCQiB0byB0aGlzIEFBQkIKICAgICAqIEBtZXRob2QgY29weQogICAgICogQHBhcmFtICB7QUFCQn0gYWFiYiBTb3VyY2UgdG8gY29weSBmcm9tCiAgICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgdGhpcyBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkKICAgICAqLwoKCiAgICBjb3B5KGFhYmIpIHsKICAgICAgdGhpcy5sb3dlckJvdW5kLmNvcHkoYWFiYi5sb3dlckJvdW5kKTsKICAgICAgdGhpcy51cHBlckJvdW5kLmNvcHkoYWFiYi51cHBlckJvdW5kKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIENsb25lIGFuIEFBQkIKICAgICAqIEBtZXRob2QgY2xvbmUKICAgICAqLwoKCiAgICBjbG9uZSgpIHsKICAgICAgcmV0dXJuIG5ldyBBQUJCKCkuY29weSh0aGlzKTsKICAgIH0KICAgIC8qKgogICAgICogRXh0ZW5kIHRoaXMgQUFCQiBzbyB0aGF0IGl0IGNvdmVycyB0aGUgZ2l2ZW4gQUFCQiB0b28uCiAgICAgKiBAbWV0aG9kIGV4dGVuZAogICAgICogQHBhcmFtICB7QUFCQn0gYWFiYgogICAgICovCgoKICAgIGV4dGVuZChhYWJiKSB7CiAgICAgIHRoaXMubG93ZXJCb3VuZC54ID0gTWF0aC5taW4odGhpcy5sb3dlckJvdW5kLngsIGFhYmIubG93ZXJCb3VuZC54KTsKICAgICAgdGhpcy51cHBlckJvdW5kLnggPSBNYXRoLm1heCh0aGlzLnVwcGVyQm91bmQueCwgYWFiYi51cHBlckJvdW5kLngpOwogICAgICB0aGlzLmxvd2VyQm91bmQueSA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC55LCBhYWJiLmxvd2VyQm91bmQueSk7CiAgICAgIHRoaXMudXBwZXJCb3VuZC55ID0gTWF0aC5tYXgodGhpcy51cHBlckJvdW5kLnksIGFhYmIudXBwZXJCb3VuZC55KTsKICAgICAgdGhpcy5sb3dlckJvdW5kLnogPSBNYXRoLm1pbih0aGlzLmxvd2VyQm91bmQueiwgYWFiYi5sb3dlckJvdW5kLnopOwogICAgICB0aGlzLnVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC56LCBhYWJiLnVwcGVyQm91bmQueik7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBvdmVybGFwcyB0aGlzIEFBQkIuCiAgICAgKiBAbWV0aG9kIG92ZXJsYXBzCiAgICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufQogICAgICovCgoKICAgIG92ZXJsYXBzKGFhYmIpIHsKICAgICAgY29uc3QgbDEgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kOwogICAgICBjb25zdCBsMiA9IGFhYmIubG93ZXJCb3VuZDsKICAgICAgY29uc3QgdTIgPSBhYWJiLnVwcGVyQm91bmQ7IC8vICAgICAgbDIgICAgICAgIHUyCiAgICAgIC8vICAgICAgfC0tLS0tLS0tLXwKICAgICAgLy8gfC0tLS0tLS0tfAogICAgICAvLyBsMSAgICAgICB1MQoKICAgICAgY29uc3Qgb3ZlcmxhcHNYID0gbDIueCA8PSB1MS54ICYmIHUxLnggPD0gdTIueCB8fCBsMS54IDw9IHUyLnggJiYgdTIueCA8PSB1MS54OwogICAgICBjb25zdCBvdmVybGFwc1kgPSBsMi55IDw9IHUxLnkgJiYgdTEueSA8PSB1Mi55IHx8IGwxLnkgPD0gdTIueSAmJiB1Mi55IDw9IHUxLnk7CiAgICAgIGNvbnN0IG92ZXJsYXBzWiA9IGwyLnogPD0gdTEueiAmJiB1MS56IDw9IHUyLnogfHwgbDEueiA8PSB1Mi56ICYmIHUyLnogPD0gdTEuejsKICAgICAgcmV0dXJuIG92ZXJsYXBzWCAmJiBvdmVybGFwc1kgJiYgb3ZlcmxhcHNaOwogICAgfSAvLyBNb3N0bHkgZm9yIGRlYnVnZ2luZwoKCiAgICB2b2x1bWUoKSB7CiAgICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUgPSB0aGlzLnVwcGVyQm91bmQ7CiAgICAgIHJldHVybiAodS54IC0gbC54KSAqICh1LnkgLSBsLnkpICogKHUueiAtIGwueik7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBpcyBmdWxseSBjb250YWluZWQgaW4gdGhpcyBBQUJCLgogICAgICogQG1ldGhvZCBjb250YWlucwogICAgICogQHBhcmFtIHtBQUJCfSBhYWJiCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufQogICAgICovCgoKICAgIGNvbnRhaW5zKGFhYmIpIHsKICAgICAgY29uc3QgbDEgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kOwogICAgICBjb25zdCBsMiA9IGFhYmIubG93ZXJCb3VuZDsKICAgICAgY29uc3QgdTIgPSBhYWJiLnVwcGVyQm91bmQ7IC8vICAgICAgbDIgICAgICAgIHUyCiAgICAgIC8vICAgICAgfC0tLS0tLS0tLXwKICAgICAgLy8gfC0tLS0tLS0tLS0tLS0tLXwKICAgICAgLy8gbDEgICAgICAgICAgICAgIHUxCgogICAgICByZXR1cm4gbDEueCA8PSBsMi54ICYmIHUxLnggPj0gdTIueCAmJiBsMS55IDw9IGwyLnkgJiYgdTEueSA+PSB1Mi55ICYmIGwxLnogPD0gbDIueiAmJiB1MS56ID49IHUyLno7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgZ2V0Q29ybmVycwogICAgICogQHBhcmFtIHtWZWMzfSBhCiAgICAgKiBAcGFyYW0ge1ZlYzN9IGIKICAgICAqIEBwYXJhbSB7VmVjM30gYwogICAgICogQHBhcmFtIHtWZWMzfSBkCiAgICAgKiBAcGFyYW0ge1ZlYzN9IGUKICAgICAqIEBwYXJhbSB7VmVjM30gZgogICAgICogQHBhcmFtIHtWZWMzfSBnCiAgICAgKiBAcGFyYW0ge1ZlYzN9IGgKICAgICAqLwoKCiAgICBnZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpIHsKICAgICAgY29uc3QgbCA9IHRoaXMubG93ZXJCb3VuZDsKICAgICAgY29uc3QgdSA9IHRoaXMudXBwZXJCb3VuZDsKICAgICAgYS5jb3B5KGwpOwogICAgICBiLnNldCh1LngsIGwueSwgbC56KTsKICAgICAgYy5zZXQodS54LCB1LnksIGwueik7CiAgICAgIGQuc2V0KGwueCwgdS55LCB1LnopOwogICAgICBlLnNldCh1LngsIGwueSwgdS56KTsKICAgICAgZi5zZXQobC54LCB1LnksIGwueik7CiAgICAgIGcuc2V0KGwueCwgbC55LCB1LnopOwogICAgICBoLmNvcHkodSk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgcmVwcmVzZW50YXRpb24gb2YgYW4gQUFCQiBpbiBhbm90aGVyIGZyYW1lLgogICAgICogQG1ldGhvZCB0b0xvY2FsRnJhbWUKICAgICAqIEBwYXJhbSAge1RyYW5zZm9ybX0gZnJhbWUKICAgICAqIEBwYXJhbSAge0FBQkJ9IHRhcmdldAogICAgICogQHJldHVybiB7QUFCQn0gVGhlICJ0YXJnZXQiIEFBQkIgb2JqZWN0LgogICAgICovCgoKICAgIHRvTG9jYWxGcmFtZShmcmFtZSwgdGFyZ2V0KSB7CiAgICAgIGNvbnN0IGNvcm5lcnMgPSB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVyczsKICAgICAgY29uc3QgYSA9IGNvcm5lcnNbMF07CiAgICAgIGNvbnN0IGIgPSBjb3JuZXJzWzFdOwogICAgICBjb25zdCBjID0gY29ybmVyc1syXTsKICAgICAgY29uc3QgZCA9IGNvcm5lcnNbM107CiAgICAgIGNvbnN0IGUgPSBjb3JuZXJzWzRdOwogICAgICBjb25zdCBmID0gY29ybmVyc1s1XTsKICAgICAgY29uc3QgZyA9IGNvcm5lcnNbNl07CiAgICAgIGNvbnN0IGggPSBjb3JuZXJzWzddOyAvLyBHZXQgY29ybmVycyBpbiBjdXJyZW50IGZyYW1lCgogICAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZQoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykgewogICAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNbaV07CiAgICAgICAgZnJhbWUucG9pbnRUb0xvY2FsKGNvcm5lciwgY29ybmVyKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRhcmdldC5zZXRGcm9tUG9pbnRzKGNvcm5lcnMpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gdGhlIGdsb2JhbCBmcmFtZS4KICAgICAqIEBtZXRob2QgdG9Xb3JsZEZyYW1lCiAgICAgKiBAcGFyYW0gIHtUcmFuc2Zvcm19IGZyYW1lCiAgICAgKiBAcGFyYW0gIHtBQUJCfSB0YXJnZXQKICAgICAqIEByZXR1cm4ge0FBQkJ9IFRoZSAidGFyZ2V0IiBBQUJCIG9iamVjdC4KICAgICAqLwoKCiAgICB0b1dvcmxkRnJhbWUoZnJhbWUsIHRhcmdldCkgewogICAgICBjb25zdCBjb3JuZXJzID0gdHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnM7CiAgICAgIGNvbnN0IGEgPSBjb3JuZXJzWzBdOwogICAgICBjb25zdCBiID0gY29ybmVyc1sxXTsKICAgICAgY29uc3QgYyA9IGNvcm5lcnNbMl07CiAgICAgIGNvbnN0IGQgPSBjb3JuZXJzWzNdOwogICAgICBjb25zdCBlID0gY29ybmVyc1s0XTsKICAgICAgY29uc3QgZiA9IGNvcm5lcnNbNV07CiAgICAgIGNvbnN0IGcgPSBjb3JuZXJzWzZdOwogICAgICBjb25zdCBoID0gY29ybmVyc1s3XTsgLy8gR2V0IGNvcm5lcnMgaW4gY3VycmVudCBmcmFtZQoKICAgICAgdGhpcy5nZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpOyAvLyBUcmFuc2Zvcm0gdGhlbSB0byBuZXcgbG9jYWwgZnJhbWUKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHsKICAgICAgICBjb25zdCBjb3JuZXIgPSBjb3JuZXJzW2ldOwogICAgICAgIGZyYW1lLnBvaW50VG9Xb3JsZChjb3JuZXIsIGNvcm5lcik7CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXQuc2V0RnJvbVBvaW50cyhjb3JuZXJzKTsKICAgIH0KICAgIC8qKgogICAgICogQ2hlY2sgaWYgdGhlIEFBQkIgaXMgaGl0IGJ5IGEgcmF5LgogICAgICogQHBhcmFtICB7UmF5fSByYXkKICAgICAqIEByZXR1cm4ge0Jvb2xlYW59CiAgICAgKi8KCgogICAgb3ZlcmxhcHNSYXkocmF5KSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBkaXJlY3Rpb24sCiAgICAgICAgZnJvbQogICAgICB9ID0gcmF5OwogICAgICBjb25zdCBkaXJGcmFjWCA9IDEgLyBkaXJlY3Rpb24ueDsKICAgICAgY29uc3QgZGlyRnJhY1kgPSAxIC8gZGlyZWN0aW9uLnk7CiAgICAgIGNvbnN0IGRpckZyYWNaID0gMSAvIGRpcmVjdGlvbi56OyAvLyB0aGlzLmxvd2VyQm91bmQgaXMgdGhlIGNvcm5lciBvZiBBQUJCIHdpdGggbWluaW1hbCBjb29yZGluYXRlcyAtIGxlZnQgYm90dG9tLCBydCBpcyBtYXhpbWFsIGNvcm5lcgoKICAgICAgY29uc3QgdDEgPSAodGhpcy5sb3dlckJvdW5kLnggLSBmcm9tLngpICogZGlyRnJhY1g7CiAgICAgIGNvbnN0IHQyID0gKHRoaXMudXBwZXJCb3VuZC54IC0gZnJvbS54KSAqIGRpckZyYWNYOwogICAgICBjb25zdCB0MyA9ICh0aGlzLmxvd2VyQm91bmQueSAtIGZyb20ueSkgKiBkaXJGcmFjWTsKICAgICAgY29uc3QgdDQgPSAodGhpcy51cHBlckJvdW5kLnkgLSBmcm9tLnkpICogZGlyRnJhY1k7CiAgICAgIGNvbnN0IHQ1ID0gKHRoaXMubG93ZXJCb3VuZC56IC0gZnJvbS56KSAqIGRpckZyYWNaOwogICAgICBjb25zdCB0NiA9ICh0aGlzLnVwcGVyQm91bmQueiAtIGZyb20ueikgKiBkaXJGcmFjWjsgLy8gY29uc3QgdG1pbiA9IE1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKHQxLCB0MiksIE1hdGgubWluKHQzLCB0NCkpKTsKICAgICAgLy8gY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpKTsKCiAgICAgIGNvbnN0IHRtaW4gPSBNYXRoLm1heChNYXRoLm1heChNYXRoLm1pbih0MSwgdDIpLCBNYXRoLm1pbih0MywgdDQpKSwgTWF0aC5taW4odDUsIHQ2KSk7CiAgICAgIGNvbnN0IHRtYXggPSBNYXRoLm1pbihNYXRoLm1pbihNYXRoLm1heCh0MSwgdDIpLCBNYXRoLm1heCh0MywgdDQpKSwgTWF0aC5tYXgodDUsIHQ2KSk7IC8vIGlmIHRtYXggPCAwLCByYXkgKGxpbmUpIGlzIGludGVyc2VjdGluZyBBQUJCLCBidXQgd2hvbGUgQUFCQiBpcyBiZWhpbmcgdXMKCiAgICAgIGlmICh0bWF4IDwgMCkgewogICAgICAgIC8vdCA9IHRtYXg7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vIGlmIHRtaW4gPiB0bWF4LCByYXkgZG9lc24ndCBpbnRlcnNlY3QgQUFCQgoKCiAgICAgIGlmICh0bWluID4gdG1heCkgewogICAgICAgIC8vdCA9IHRtYXg7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgfQoKICBjb25zdCB0bXAgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldOwogIC8qKgogICAqIENvbGxpc2lvbiAibWF0cml4Ii4gSXQncyBhY3R1YWxseSBhIHRyaWFuZ3VsYXItc2hhcGVkIGFycmF5IG9mIHdoZXRoZXIgdHdvIGJvZGllcyBhcmUgdG91Y2hpbmcgdGhpcyBzdGVwLCBmb3IgcmVmZXJlbmNlIG5leHQgc3RlcAogICAqIEBjbGFzcyBBcnJheUNvbGxpc2lvbk1hdHJpeAogICAqIEBjb25zdHJ1Y3RvcgogICAqLwoKICBjbGFzcyBBcnJheUNvbGxpc2lvbk1hdHJpeCB7CiAgICAvLyBUaGUgbWF0cml4IHN0b3JhZ2UuCiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5tYXRyaXggPSBbXTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGFuIGVsZW1lbnQKICAgICAqIEBtZXRob2QgZ2V0CiAgICAgKiBAcGFyYW0gIHtCb2R5fSBiaQogICAgICogQHBhcmFtICB7Qm9keX0gYmoKICAgICAqIEByZXR1cm4ge051bWJlcn0KICAgICAqLwoKCiAgICBnZXQoYmksIGJqKSB7CiAgICAgIGxldCB7CiAgICAgICAgaW5kZXg6IGkKICAgICAgfSA9IGJpOwogICAgICBsZXQgewogICAgICAgIGluZGV4OiBqCiAgICAgIH0gPSBiajsKCiAgICAgIGlmIChqID4gaSkgewogICAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICAgIGogPSBpOwogICAgICAgIGkgPSB0ZW1wOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5tYXRyaXhbKGkgKiAoaSArIDEpID4+IDEpICsgaiAtIDFdOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgYW4gZWxlbWVudAogICAgICogQG1ldGhvZCBzZXQKICAgICAqIEBwYXJhbSB7Qm9keX0gYmkKICAgICAqIEBwYXJhbSB7Qm9keX0gYmoKICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUKICAgICAqLwoKCiAgICBzZXQoYmksIGJqLCB2YWx1ZSkgewogICAgICBsZXQgewogICAgICAgIGluZGV4OiBpCiAgICAgIH0gPSBiaTsKICAgICAgbGV0IHsKICAgICAgICBpbmRleDogagogICAgICB9ID0gYmo7CgogICAgICBpZiAoaiA+IGkpIHsKICAgICAgICBjb25zdCB0ZW1wID0gajsKICAgICAgICBqID0gaTsKICAgICAgICBpID0gdGVtcDsKICAgICAgfQoKICAgICAgdGhpcy5tYXRyaXhbKGkgKiAoaSArIDEpID4+IDEpICsgaiAtIDFdID0gdmFsdWUgPyAxIDogMDsKICAgIH0KICAgIC8qKgogICAgICogU2V0cyBhbGwgZWxlbWVudHMgdG8gemVybwogICAgICogQG1ldGhvZCByZXNldAogICAgICovCgoKICAgIHJlc2V0KCkgewogICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubWF0cml4Lmxlbmd0aDsgaSAhPT0gbDsgaSsrKSB7CiAgICAgICAgdGhpcy5tYXRyaXhbaV0gPSAwOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFNldHMgdGhlIG1heCBudW1iZXIgb2Ygb2JqZWN0cwogICAgICogQG1ldGhvZCBzZXROdW1PYmplY3RzCiAgICAgKiBAcGFyYW0ge051bWJlcn0gbgogICAgICovCgoKICAgIHNldE51bU9iamVjdHMobikgewogICAgICB0aGlzLm1hdHJpeC5sZW5ndGggPSBuICogKG4gLSAxKSA+PiAxOwogICAgfQoKICB9CiAgLyoqCiAgICogQmFzZSBjbGFzcyBmb3Igb2JqZWN0cyB0aGF0IGRpc3BhdGNoZXMgZXZlbnRzLgogICAqIEBjbGFzcyBFdmVudFRhcmdldAogICAqIEBjb25zdHJ1Y3RvcgogICAqLwoKCiAgY2xhc3MgRXZlbnRUYXJnZXQgewogICAgY29uc3RydWN0b3IoKSB7fQogICAgLyoqCiAgICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIKICAgICAqIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lcgogICAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlCiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXIKICAgICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuCiAgICAgKi8KCgogICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTsKICAgICAgfQoKICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwoKICAgICAgaWYgKGxpc3RlbmVyc1t0eXBlXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgbGlzdGVuZXJzW3R5cGVdID0gW107CiAgICAgIH0KCiAgICAgIGlmICghbGlzdGVuZXJzW3R5cGVdLmluY2x1ZGVzKGxpc3RlbmVyKSkgewogICAgICAgIGxpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIGFuIGV2ZW50IGxpc3RlbmVyIGlzIGFkZGVkCiAgICAgKiBAbWV0aG9kIGhhc0V2ZW50TGlzdGVuZXIKICAgICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZQogICAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufQogICAgICovCgoKICAgIGhhc0V2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CgogICAgICBpZiAobGlzdGVuZXJzW3R5cGVdICE9PSB1bmRlZmluZWQgJiYgbGlzdGVuZXJzW3R5cGVdLmluY2x1ZGVzKGxpc3RlbmVyKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIGFueSBldmVudCBsaXN0ZW5lciBvZiB0aGUgZ2l2ZW4gdHlwZSBpcyBhZGRlZAogICAgICogQG1ldGhvZCBoYXNBbnlFdmVudExpc3RlbmVyCiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUKICAgICAqIEByZXR1cm4ge0Jvb2xlYW59CiAgICAgKi8KCgogICAgaGFzQW55RXZlbnRMaXN0ZW5lcih0eXBlKSB7CiAgICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwogICAgICByZXR1cm4gbGlzdGVuZXJzW3R5cGVdICE9PSB1bmRlZmluZWQ7CiAgICB9CiAgICAvKioKICAgICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lcgogICAgICogQG1ldGhvZCByZW1vdmVFdmVudExpc3RlbmVyCiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUKICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lcgogICAgICogQHJldHVybiB7RXZlbnRUYXJnZXR9IFRoZSBzZWxmIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS4KICAgICAqLwoKCiAgICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CiAgICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CgogICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CgogICAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQoKICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnNbdHlwZV0uaW5kZXhPZihsaXN0ZW5lcik7CgogICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgbGlzdGVuZXJzW3R5cGVdLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBFbWl0IGFuIGV2ZW50LgogICAgICogQG1ldGhvZCBkaXNwYXRjaEV2ZW50CiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50CiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50LnR5cGUKICAgICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuCiAgICAgKi8KCgogICAgZGlzcGF0Y2hFdmVudChldmVudCkgewogICAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQoKICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwogICAgICBjb25zdCBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJzW2V2ZW50LnR5cGVdOwoKICAgICAgaWYgKGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGV2ZW50LnRhcmdldCA9IHRoaXM7CgogICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGlzdGVuZXJBcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIGxpc3RlbmVyQXJyYXlbaV0uY2FsbCh0aGlzLCBldmVudCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgfQogIC8qKgogICAqIEEgUXVhdGVybmlvbiBkZXNjcmliZXMgYSByb3RhdGlvbiBpbiAzRCBzcGFjZS4gVGhlIFF1YXRlcm5pb24gaXMgbWF0aGVtYXRpY2FsbHkgZGVmaW5lZCBhcyBRID0geCppICsgeSpqICsgeiprICsgdywgd2hlcmUgKGksaixrKSBhcmUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvcnMuICh4LHkseikgY2FuIGJlIHNlZW4gYXMgYSB2ZWN0b3IgcmVsYXRlZCB0byB0aGUgYXhpcyBvZiByb3RhdGlvbiwgd2hpbGUgdGhlIHJlYWwgbXVsdGlwbGllciwgdywgaXMgcmVsYXRlZCB0byB0aGUgYW1vdW50IG9mIHJvdGF0aW9uLgogICAqIEBwYXJhbSB7TnVtYmVyfSB4IE11bHRpcGxpZXIgb2YgdGhlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3IgaS4KICAgKiBAcGFyYW0ge051bWJlcn0geSBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGouCiAgICogQHBhcmFtIHtOdW1iZXJ9IHogTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBrLgogICAqIEBwYXJhbSB7TnVtYmVyfSB3IE11bHRpcGxpZXIgb2YgdGhlIHJlYWwgcGFydC4KICAgKiBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUXVhdGVybmlvbgogICAqLwoKCiAgY2xhc3MgUXVhdGVybmlvbiB7CiAgICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIHogPSAwLCB3ID0gMSkgewogICAgICB0aGlzLnggPSB4OwogICAgICB0aGlzLnkgPSB5OwogICAgICB0aGlzLnogPSB6OwogICAgICB0aGlzLncgPSB3OwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLgogICAgICovCgoKICAgIHNldCh4LCB5LCB6LCB3KSB7CiAgICAgIHRoaXMueCA9IHg7CiAgICAgIHRoaXMueSA9IHk7CiAgICAgIHRoaXMueiA9IHo7CiAgICAgIHRoaXMudyA9IHc7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0IHRvIGEgcmVhZGFibGUgZm9ybWF0CiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9ICJ4LHkseix3IgogICAgICovCgoKICAgIHRvU3RyaW5nKCkgewogICAgICByZXR1cm4gdGhpcy54ICsgIiwiICsgdGhpcy55ICsgIiwiICsgdGhpcy56ICsgIiwiICsgdGhpcy53OwogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0IHRvIGFuIEFycmF5CiAgICAgKiBAcmV0dXJuIHtBcnJheX0gW3gsIHksIHosIHddCiAgICAgKi8KCgogICAgdG9BcnJheSgpIHsKICAgICAgcmV0dXJuIFt0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLnddOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIHF1YXRlcm5pb24gY29tcG9uZW50cyBnaXZlbiBhbiBheGlzIGFuZCBhbiBhbmdsZSBpbiByYWRpYW5zLgogICAgICovCgoKICAgIHNldEZyb21BeGlzQW5nbGUodmVjdG9yLCBhbmdsZSkgewogICAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUgKiAwLjUpOwogICAgICB0aGlzLnggPSB2ZWN0b3IueCAqIHM7CiAgICAgIHRoaXMueSA9IHZlY3Rvci55ICogczsKICAgICAgdGhpcy56ID0gdmVjdG9yLnogKiBzOwogICAgICB0aGlzLncgPSBNYXRoLmNvcyhhbmdsZSAqIDAuNSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0cyB0aGUgcXVhdGVybmlvbiB0byBbIGF4aXMsIGFuZ2xlIF0gcmVwcmVzZW50YXRpb24uCiAgICAgKiBAcGFyYW0ge1ZlYzN9IFt0YXJnZXRBeGlzXSBBIHZlY3RvciBvYmplY3QgdG8gcmV1c2UgZm9yIHN0b3JpbmcgdGhlIGF4aXMuCiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXksIGZpcnN0IGVsZW1lbnQgaXMgdGhlIGF4aXMgYW5kIHRoZSBzZWNvbmQgaXMgdGhlIGFuZ2xlIGluIHJhZGlhbnMuCiAgICAgKi8KCgogICAgdG9BeGlzQW5nbGUodGFyZ2V0QXhpcyA9IG5ldyBWZWMzKCkpIHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsgLy8gaWYgdz4xIGFjb3MgYW5kIHNxcnQgd2lsbCBwcm9kdWNlIGVycm9ycywgdGhpcyBjYW50IGhhcHBlbiBpZiBxdWF0ZXJuaW9uIGlzIG5vcm1hbGlzZWQKCiAgICAgIGNvbnN0IGFuZ2xlID0gMiAqIE1hdGguYWNvcyh0aGlzLncpOwogICAgICBjb25zdCBzID0gTWF0aC5zcXJ0KDEgLSB0aGlzLncgKiB0aGlzLncpOyAvLyBhc3N1bWluZyBxdWF0ZXJuaW9uIG5vcm1hbGlzZWQgdGhlbiB3IGlzIGxlc3MgdGhhbiAxLCBzbyB0ZXJtIGFsd2F5cyBwb3NpdGl2ZS4KCiAgICAgIGlmIChzIDwgMC4wMDEpIHsKICAgICAgICAvLyB0ZXN0IHRvIGF2b2lkIGRpdmlkZSBieSB6ZXJvLCBzIGlzIGFsd2F5cyBwb3NpdGl2ZSBkdWUgdG8gc3FydAogICAgICAgIC8vIGlmIHMgY2xvc2UgdG8gemVybyB0aGVuIGRpcmVjdGlvbiBvZiBheGlzIG5vdCBpbXBvcnRhbnQKICAgICAgICB0YXJnZXRBeGlzLnggPSB0aGlzLng7IC8vIGlmIGl0IGlzIGltcG9ydGFudCB0aGF0IGF4aXMgaXMgbm9ybWFsaXNlZCB0aGVuIHJlcGxhY2Ugd2l0aCB4PTE7IHk9ej0wOwoKICAgICAgICB0YXJnZXRBeGlzLnkgPSB0aGlzLnk7CiAgICAgICAgdGFyZ2V0QXhpcy56ID0gdGhpcy56OwogICAgICB9IGVsc2UgewogICAgICAgIHRhcmdldEF4aXMueCA9IHRoaXMueCAvIHM7IC8vIG5vcm1hbGlzZSBheGlzCgogICAgICAgIHRhcmdldEF4aXMueSA9IHRoaXMueSAvIHM7CiAgICAgICAgdGFyZ2V0QXhpcy56ID0gdGhpcy56IC8gczsKICAgICAgfQoKICAgICAgcmV0dXJuIFt0YXJnZXRBeGlzLCBhbmdsZV07CiAgICB9CiAgICAvKioKICAgICAqIFNldCB0aGUgcXVhdGVybmlvbiB2YWx1ZSBnaXZlbiB0d28gdmVjdG9ycy4gVGhlIHJlc3VsdGluZyByb3RhdGlvbiB3aWxsIGJlIHRoZSBuZWVkZWQgcm90YXRpb24gdG8gcm90YXRlIHUgdG8gdi4KICAgICAqLwoKCiAgICBzZXRGcm9tVmVjdG9ycyh1LCB2KSB7CiAgICAgIGlmICh1LmlzQW50aXBhcmFsbGVsVG8odikpIHsKICAgICAgICBjb25zdCB0MSA9IHNmdl90MTsKICAgICAgICBjb25zdCB0MiA9IHNmdl90MjsKICAgICAgICB1LnRhbmdlbnRzKHQxLCB0Mik7CiAgICAgICAgdGhpcy5zZXRGcm9tQXhpc0FuZ2xlKHQxLCBNYXRoLlBJKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBhID0gdS5jcm9zcyh2KTsKICAgICAgICB0aGlzLnggPSBhLng7CiAgICAgICAgdGhpcy55ID0gYS55OwogICAgICAgIHRoaXMueiA9IGEuejsKICAgICAgICB0aGlzLncgPSBNYXRoLnNxcnQodS5sZW5ndGgoKSAqKiAyICogdi5sZW5ndGgoKSAqKiAyKSArIHUuZG90KHYpOwogICAgICAgIHRoaXMubm9ybWFsaXplKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiB3aXRoIGFuIG90aGVyIHF1YXRlcm5pb24uCiAgICAgKi8KCgogICAgbXVsdChxdWF0LCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICAgIGNvbnN0IGF4ID0gdGhpcy54OwogICAgICBjb25zdCBheSA9IHRoaXMueTsKICAgICAgY29uc3QgYXogPSB0aGlzLno7CiAgICAgIGNvbnN0IGF3ID0gdGhpcy53OwogICAgICBjb25zdCBieCA9IHF1YXQueDsKICAgICAgY29uc3QgYnkgPSBxdWF0Lnk7CiAgICAgIGNvbnN0IGJ6ID0gcXVhdC56OwogICAgICBjb25zdCBidyA9IHF1YXQudzsKICAgICAgdGFyZ2V0LnggPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5OwogICAgICB0YXJnZXQueSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7CiAgICAgIHRhcmdldC56ID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDsKICAgICAgdGFyZ2V0LncgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGludmVyc2UgcXVhdGVybmlvbiByb3RhdGlvbi4KICAgICAqLwoKCiAgICBpbnZlcnNlKHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHsKICAgICAgY29uc3QgeCA9IHRoaXMueDsKICAgICAgY29uc3QgeSA9IHRoaXMueTsKICAgICAgY29uc3QgeiA9IHRoaXMuejsKICAgICAgY29uc3QgdyA9IHRoaXMudzsKICAgICAgdGhpcy5jb25qdWdhdGUodGFyZ2V0KTsKICAgICAgY29uc3QgaW5vcm0yID0gMSAvICh4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdyk7CiAgICAgIHRhcmdldC54ICo9IGlub3JtMjsKICAgICAgdGFyZ2V0LnkgKj0gaW5vcm0yOwogICAgICB0YXJnZXQueiAqPSBpbm9ybTI7CiAgICAgIHRhcmdldC53ICo9IGlub3JtMjsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBxdWF0ZXJuaW9uIGNvbmp1Z2F0ZQogICAgICovCgoKICAgIGNvbmp1Z2F0ZSh0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICAgIHRhcmdldC54ID0gLXRoaXMueDsKICAgICAgdGFyZ2V0LnkgPSAtdGhpcy55OwogICAgICB0YXJnZXQueiA9IC10aGlzLno7CiAgICAgIHRhcmdldC53ID0gdGhpcy53OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBOb3JtYWxpemUgdGhlIHF1YXRlcm5pb24uIE5vdGUgdGhhdCB0aGlzIGNoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgcXVhdGVybmlvbi4KICAgICAqIEBtZXRob2Qgbm9ybWFsaXplCiAgICAgKi8KCgogICAgbm9ybWFsaXplKCkgewogICAgICBsZXQgbCA9IE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKyB0aGlzLncgKiB0aGlzLncpOwoKICAgICAgaWYgKGwgPT09IDApIHsKICAgICAgICB0aGlzLnggPSAwOwogICAgICAgIHRoaXMueSA9IDA7CiAgICAgICAgdGhpcy56ID0gMDsKICAgICAgICB0aGlzLncgPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIGwgPSAxIC8gbDsKICAgICAgICB0aGlzLnggKj0gbDsKICAgICAgICB0aGlzLnkgKj0gbDsKICAgICAgICB0aGlzLnogKj0gbDsKICAgICAgICB0aGlzLncgKj0gbDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIEFwcHJveGltYXRpb24gb2YgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uLiBXb3JrcyBiZXN0IHdoZW4gcXVhdCBpcyBhbHJlYWR5IGFsbW9zdC1ub3JtYWxpemVkLgogICAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9mYXN0LXF1YXRlcm5pb24tbm9ybWFsaXphdGlvbgogICAgICogQGF1dGhvciB1bnBoYXNlZCwgaHR0cHM6Ly9naXRodWIuY29tL3VucGhhc2VkCiAgICAgKi8KCgogICAgbm9ybWFsaXplRmFzdCgpIHsKICAgICAgY29uc3QgZiA9ICgzLjAgLSAodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICsgdGhpcy53ICogdGhpcy53KSkgLyAyLjA7CgogICAgICBpZiAoZiA9PT0gMCkgewogICAgICAgIHRoaXMueCA9IDA7CiAgICAgICAgdGhpcy55ID0gMDsKICAgICAgICB0aGlzLnogPSAwOwogICAgICAgIHRoaXMudyA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy54ICo9IGY7CiAgICAgICAgdGhpcy55ICo9IGY7CiAgICAgICAgdGhpcy56ICo9IGY7CiAgICAgICAgdGhpcy53ICo9IGY7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiBieSBhIHZlY3RvcgogICAgICovCgoKICAgIHZtdWx0KHYsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgY29uc3QgeCA9IHYueDsKICAgICAgY29uc3QgeSA9IHYueTsKICAgICAgY29uc3QgeiA9IHYuejsKICAgICAgY29uc3QgcXggPSB0aGlzLng7CiAgICAgIGNvbnN0IHF5ID0gdGhpcy55OwogICAgICBjb25zdCBxeiA9IHRoaXMuejsKICAgICAgY29uc3QgcXcgPSB0aGlzLnc7IC8vIHEqdgoKICAgICAgY29uc3QgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHk7CiAgICAgIGNvbnN0IGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6OwogICAgICBjb25zdCBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDsKICAgICAgY29uc3QgaXcgPSAtcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6OwogICAgICB0YXJnZXQueCA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7CiAgICAgIHRhcmdldC55ID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejsKICAgICAgdGFyZ2V0LnogPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBDb3BpZXMgdmFsdWUgb2Ygc291cmNlIHRvIHRoaXMgcXVhdGVybmlvbi4KICAgICAqIEBtZXRob2QgY29weQogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBzb3VyY2UKICAgICAqIEByZXR1cm4ge1F1YXRlcm5pb259IHRoaXMKICAgICAqLwoKCiAgICBjb3B5KHF1YXQpIHsKICAgICAgdGhpcy54ID0gcXVhdC54OwogICAgICB0aGlzLnkgPSBxdWF0Lnk7CiAgICAgIHRoaXMueiA9IHF1YXQuejsKICAgICAgdGhpcy53ID0gcXVhdC53OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogQ29udmVydCB0aGUgcXVhdGVybmlvbiB0byBldWxlciBhbmdsZSByZXByZXNlbnRhdGlvbi4gT3JkZXI6IFlaWCwgYXMgdGhpcyBwYWdlIGRlc2NyaWJlczogaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvc3RhbmRhcmRzL2luZGV4Lmh0bQogICAgICogQG1ldGhvZCB0b0V1bGVyCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldAogICAgICogQHBhcmFtIHtTdHJpbmd9IG9yZGVyIFRocmVlLWNoYXJhY3RlciBzdHJpbmcsIGRlZmF1bHRzIHRvICJZWlgiCiAgICAgKi8KCgogICAgdG9FdWxlcih0YXJnZXQsIG9yZGVyID0gJ1laWCcpIHsKICAgICAgbGV0IGhlYWRpbmc7CiAgICAgIGxldCBhdHRpdHVkZTsKICAgICAgbGV0IGJhbms7CiAgICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICAgIGNvbnN0IHcgPSB0aGlzLnc7CgogICAgICBzd2l0Y2ggKG9yZGVyKSB7CiAgICAgICAgY2FzZSAnWVpYJzoKICAgICAgICAgIGNvbnN0IHRlc3QgPSB4ICogeSArIHogKiB3OwoKICAgICAgICAgIGlmICh0ZXN0ID4gMC40OTkpIHsKICAgICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgbm9ydGggcG9sZQogICAgICAgICAgICBoZWFkaW5nID0gMiAqIE1hdGguYXRhbjIoeCwgdyk7CiAgICAgICAgICAgIGF0dGl0dWRlID0gTWF0aC5QSSAvIDI7CiAgICAgICAgICAgIGJhbmsgPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0ZXN0IDwgLTAuNDk5KSB7CiAgICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IHNvdXRoIHBvbGUKICAgICAgICAgICAgaGVhZGluZyA9IC0yICogTWF0aC5hdGFuMih4LCB3KTsKICAgICAgICAgICAgYXR0aXR1ZGUgPSAtTWF0aC5QSSAvIDI7CiAgICAgICAgICAgIGJhbmsgPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChoZWFkaW5nID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgY29uc3Qgc3F4ID0geCAqIHg7CiAgICAgICAgICAgIGNvbnN0IHNxeSA9IHkgKiB5OwogICAgICAgICAgICBjb25zdCBzcXogPSB6ICogejsKICAgICAgICAgICAgaGVhZGluZyA9IE1hdGguYXRhbjIoMiAqIHkgKiB3IC0gMiAqIHggKiB6LCAxIC0gMiAqIHNxeSAtIDIgKiBzcXopOyAvLyBIZWFkaW5nCgogICAgICAgICAgICBhdHRpdHVkZSA9IE1hdGguYXNpbigyICogdGVzdCk7IC8vIGF0dGl0dWRlCgogICAgICAgICAgICBiYW5rID0gTWF0aC5hdGFuMigyICogeCAqIHcgLSAyICogeSAqIHosIDEgLSAyICogc3F4IC0gMiAqIHNxeik7IC8vIGJhbmsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRXVsZXIgb3JkZXIgIiArIG9yZGVyICsgIiBub3Qgc3VwcG9ydGVkIHlldC4iKTsKICAgICAgfQoKICAgICAgdGFyZ2V0LnkgPSBoZWFkaW5nOwogICAgICB0YXJnZXQueiA9IGF0dGl0dWRlOwogICAgICB0YXJnZXQueCA9IGJhbms7CiAgICB9CiAgICAvKioKICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4CiAgICAgKiBAcGFyYW0ge051bWJlcn0geQogICAgICogQHBhcmFtIHtOdW1iZXJ9IHoKICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmRlciBUaGUgb3JkZXIgdG8gYXBwbHkgYW5nbGVzOiAnWFlaJyBvciAnWVhaJyBvciBhbnkgb3RoZXIgY29tYmluYXRpb24KICAgICAqIEBzZWUgaHR0cDovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlLzIwNjk2LWZ1bmN0aW9uLXRvLWNvbnZlcnQtYmV0d2Vlbi1kY20tZXVsZXItYW5nbGVzLXF1YXRlcm5pb25zLWFuZC1ldWxlci12ZWN0b3JzL2NvbnRlbnQvU3BpbkNhbGMubQogICAgICovCgoKICAgIHNldEZyb21FdWxlcih4LCB5LCB6LCBvcmRlciA9ICdYWVonKSB7CiAgICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoeCAvIDIpOwogICAgICBjb25zdCBjMiA9IE1hdGguY29zKHkgLyAyKTsKICAgICAgY29uc3QgYzMgPSBNYXRoLmNvcyh6IC8gMik7CiAgICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oeCAvIDIpOwogICAgICBjb25zdCBzMiA9IE1hdGguc2luKHkgLyAyKTsKICAgICAgY29uc3QgczMgPSBNYXRoLnNpbih6IC8gMik7CgogICAgICBpZiAob3JkZXIgPT09ICdYWVonKSB7CiAgICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzOwogICAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7CiAgICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzOwogICAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVhaJykgewogICAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMzsKICAgICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7CiAgICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMzsKICAgICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1pYWScpIHsKICAgICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzOwogICAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMzsKICAgICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdaWVgnKSB7CiAgICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzOwogICAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7CiAgICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzOwogICAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVpYJykgewogICAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMzsKICAgICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7CiAgICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMzsKICAgICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1haWScpIHsKICAgICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzOwogICAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMzsKICAgICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIGNsb25lCiAgICAgKiBAcmV0dXJuIHtRdWF0ZXJuaW9ufQogICAgICovCgoKICAgIGNsb25lKCkgewogICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24odGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTsKICAgIH0KICAgIC8qKgogICAgICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdAogICAgICoKICAgICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gdG9RdWF0IHNlY29uZCBvcGVyYW5kCiAgICAgKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCBiZXR3ZWVuIHRoZSBzZWxmIHF1YXRlcm5pb24gYW5kIHRvUXVhdAogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBbdGFyZ2V0XSBBIHF1YXRlcm5pb24gdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4gSWYgbm90IHByb3ZpZGVkLCBhIG5ldyBvbmUgd2lsbCBiZSBjcmVhdGVkLgogICAgICogQHJldHVybnMge1F1YXRlcm5pb259IFRoZSAidGFyZ2V0IiBvYmplY3QKICAgICAqLwoKCiAgICBzbGVycCh0b1F1YXQsIHQsIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHsKICAgICAgY29uc3QgYXggPSB0aGlzLng7CiAgICAgIGNvbnN0IGF5ID0gdGhpcy55OwogICAgICBjb25zdCBheiA9IHRoaXMuejsKICAgICAgY29uc3QgYXcgPSB0aGlzLnc7CiAgICAgIGxldCBieCA9IHRvUXVhdC54OwogICAgICBsZXQgYnkgPSB0b1F1YXQueTsKICAgICAgbGV0IGJ6ID0gdG9RdWF0Lno7CiAgICAgIGxldCBidyA9IHRvUXVhdC53OwogICAgICBsZXQgb21lZ2E7CiAgICAgIGxldCBjb3NvbTsKICAgICAgbGV0IHNpbm9tOwogICAgICBsZXQgc2NhbGUwOwogICAgICBsZXQgc2NhbGUxOyAvLyBjYWxjIGNvc2luZQoKICAgICAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3OyAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSkKCiAgICAgIGlmIChjb3NvbSA8IDAuMCkgewogICAgICAgIGNvc29tID0gLWNvc29tOwogICAgICAgIGJ4ID0gLWJ4OwogICAgICAgIGJ5ID0gLWJ5OwogICAgICAgIGJ6ID0gLWJ6OwogICAgICAgIGJ3ID0gLWJ3OwogICAgICB9IC8vIGNhbGN1bGF0ZSBjb2VmZmljaWVudHMKCgogICAgICBpZiAoMS4wIC0gY29zb20gPiAwLjAwMDAwMSkgewogICAgICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKQogICAgICAgIG9tZWdhID0gTWF0aC5hY29zKGNvc29tKTsKICAgICAgICBzaW5vbSA9IE1hdGguc2luKG9tZWdhKTsKICAgICAgICBzY2FsZTAgPSBNYXRoLnNpbigoMS4wIC0gdCkgKiBvbWVnYSkgLyBzaW5vbTsKICAgICAgICBzY2FsZTEgPSBNYXRoLnNpbih0ICogb21lZ2EpIC8gc2lub207CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gImZyb20iIGFuZCAidG8iIHF1YXRlcm5pb25zIGFyZSB2ZXJ5IGNsb3NlCiAgICAgICAgLy8gIC4uLiBzbyB3ZSBjYW4gZG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvbgogICAgICAgIHNjYWxlMCA9IDEuMCAtIHQ7CiAgICAgICAgc2NhbGUxID0gdDsKICAgICAgfSAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWVzCgoKICAgICAgdGFyZ2V0LnggPSBzY2FsZTAgKiBheCArIHNjYWxlMSAqIGJ4OwogICAgICB0YXJnZXQueSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7CiAgICAgIHRhcmdldC56ID0gc2NhbGUwICogYXogKyBzY2FsZTEgKiBiejsKICAgICAgdGFyZ2V0LncgPSBzY2FsZTAgKiBhdyArIHNjYWxlMSAqIGJ3OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBSb3RhdGUgYW4gYWJzb2x1dGUgb3JpZW50YXRpb24gcXVhdGVybmlvbiBnaXZlbiBhbiBhbmd1bGFyIHZlbG9jaXR5IGFuZCBhIHRpbWUgc3RlcC4KICAgICAqLwoKCiAgICBpbnRlZ3JhdGUoYW5ndWxhclZlbG9jaXR5LCBkdCwgYW5ndWxhckZhY3RvciwgdGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkgewogICAgICBjb25zdCBheCA9IGFuZ3VsYXJWZWxvY2l0eS54ICogYW5ndWxhckZhY3Rvci54LAogICAgICAgICAgICBheSA9IGFuZ3VsYXJWZWxvY2l0eS55ICogYW5ndWxhckZhY3Rvci55LAogICAgICAgICAgICBheiA9IGFuZ3VsYXJWZWxvY2l0eS56ICogYW5ndWxhckZhY3Rvci56LAogICAgICAgICAgICBieCA9IHRoaXMueCwKICAgICAgICAgICAgYnkgPSB0aGlzLnksCiAgICAgICAgICAgIGJ6ID0gdGhpcy56LAogICAgICAgICAgICBidyA9IHRoaXMudzsKICAgICAgY29uc3QgaGFsZl9kdCA9IGR0ICogMC41OwogICAgICB0YXJnZXQueCArPSBoYWxmX2R0ICogKGF4ICogYncgKyBheSAqIGJ6IC0gYXogKiBieSk7CiAgICAgIHRhcmdldC55ICs9IGhhbGZfZHQgKiAoYXkgKiBidyArIGF6ICogYnggLSBheCAqIGJ6KTsKICAgICAgdGFyZ2V0LnogKz0gaGFsZl9kdCAqIChheiAqIGJ3ICsgYXggKiBieSAtIGF5ICogYngpOwogICAgICB0YXJnZXQudyArPSBoYWxmX2R0ICogKC1heCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYnopOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICB9CgogIGNvbnN0IHNmdl90MSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc2Z2X3QyID0gbmV3IFZlYzMoKTsKICBjb25zdCBTSEFQRV9UWVBFUyA9IHsKICAgIFNQSEVSRTogMSwKICAgIFBMQU5FOiAyLAogICAgQk9YOiA0LAogICAgQ09NUE9VTkQ6IDgsCiAgICBDT05WRVhQT0xZSEVEUk9OOiAxNiwKICAgIEhFSUdIVEZJRUxEOiAzMiwKICAgIFBBUlRJQ0xFOiA2NCwKICAgIENZTElOREVSOiAxMjgsCiAgICBUUklNRVNIOiAyNTYKICB9OwogIC8qKgogICAqIEJhc2UgY2xhc3MgZm9yIHNoYXBlcwogICAqIEBjbGFzcyBTaGFwZQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9MV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF0ZXJpYWw9bnVsbF0KICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICovCgogIGNsYXNzIFNoYXBlIHsKICAgIC8vIElkZW50aWZ5ZXIgb2YgdGhlIFNoYXBlLgogICAgLy8gVGhlIHR5cGUgb2YgdGhpcyBzaGFwZS4gTXVzdCBiZSBzZXQgdG8gYW4gaW50ID4gMCBieSBzdWJjbGFzc2VzLgogICAgLy8gVGhlIGxvY2FsIGJvdW5kaW5nIHNwaGVyZSByYWRpdXMgb2YgdGhpcyBzaGFwZS4KICAgIC8vIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZC4KICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICB0aGlzLmlkID0gU2hhcGUuaWRDb3VudGVyKys7CiAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZSB8fCAwOwogICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gMDsKICAgICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKICAgICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgOiAxOwogICAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xOwogICAgICB0aGlzLm1hdGVyaWFsID0gb3B0aW9ucy5tYXRlcmlhbCA/IG9wdGlvbnMubWF0ZXJpYWwgOiBudWxsOwogICAgICB0aGlzLmJvZHkgPSBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlcyB0aGUgYm91bmRpbmcgc3BoZXJlIHJhZGl1cy4gVGhlIHJlc3VsdCBpcyBzdG9yZWQgaW4gdGhlIHByb3BlcnR5IC5ib3VuZGluZ1NwaGVyZVJhZGl1cwogICAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cwogICAgICovCgoKICAgIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgICB0aHJvdyAiY29tcHV0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgdm9sdW1lIG9mIHRoaXMgc2hhcGUKICAgICAqIEBtZXRob2Qgdm9sdW1lCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgdm9sdW1lKCkgewogICAgICB0aHJvdyAidm9sdW1lKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgICB9CiAgICAvKioKICAgICAqIENhbGN1bGF0ZXMgdGhlIGluZXJ0aWEgaW4gdGhlIGxvY2FsIGZyYW1lIGZvciB0aGlzIHNoYXBlLgogICAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWEKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXNzCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldAogICAgICogQHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfbW9tZW50c19vZl9pbmVydGlhCiAgICAgKi8KCgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgICB0aHJvdyAiY2FsY3VsYXRlTG9jYWxJbmVydGlhKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgICB9CgogICAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgICAgdGhyb3cgImNhbGN1bGF0ZVdvcmxkQUFCQigpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSAiICsgdGhpcy50eXBlOwogICAgfQoKICB9CgogIFNoYXBlLmlkQ291bnRlciA9IDA7CiAgLyoqCiAgICogVGhlIGF2YWlsYWJsZSBzaGFwZSB0eXBlcy4KICAgKiBAc3RhdGljCiAgICogQHByb3BlcnR5IHR5cGVzCiAgICogQHR5cGUge09iamVjdH0KICAgKi8KCiAgU2hhcGUudHlwZXMgPSBTSEFQRV9UWVBFUzsKCiAgY2xhc3MgVHJhbnNmb3JtIHsKICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5xdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKCiAgICAgIGlmIChvcHRpb25zLnBvc2l0aW9uKSB7CiAgICAgICAgdGhpcy5wb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy5xdWF0ZXJuaW9uKSB7CiAgICAgICAgdGhpcy5xdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYSBnbG9iYWwgcG9pbnQgaW4gbG9jYWwgdHJhbnNmb3JtIGNvb3JkaW5hdGVzLgogICAgICovCgoKICAgIHBvaW50VG9Mb2NhbCh3b3JsZFBvaW50LCByZXN1bHQpIHsKICAgICAgcmV0dXJuIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZSh0aGlzLnBvc2l0aW9uLCB0aGlzLnF1YXRlcm5pb24sIHdvcmxkUG9pbnQsIHJlc3VsdCk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhIGxvY2FsIHBvaW50IGluIGdsb2JhbCB0cmFuc2Zvcm0gY29vcmRpbmF0ZXMuCiAgICAgKi8KCgogICAgcG9pbnRUb1dvcmxkKGxvY2FsUG9pbnQsIHJlc3VsdCkgewogICAgICByZXR1cm4gVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMucG9zaXRpb24sIHRoaXMucXVhdGVybmlvbiwgbG9jYWxQb2ludCwgcmVzdWx0KTsKICAgIH0KCiAgICB2ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsVmVjdG9yLCByZXN1bHQpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIHN0YXRpYyBwb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgICB3b3JsZFBvaW50LnZzdWIocG9zaXRpb24sIHJlc3VsdCk7CiAgICAgIHF1YXRlcm5pb24uY29uanVnYXRlKHRtcFF1YXQpOwogICAgICB0bXBRdWF0LnZtdWx0KHJlc3VsdCwgcmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBzdGF0aWMgcG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXRlcm5pb24sIGxvY2FsUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgICAgcXVhdGVybmlvbi52bXVsdChsb2NhbFBvaW50LCByZXN1bHQpOwogICAgICByZXN1bHQudmFkZChwb3NpdGlvbiwgcmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBzdGF0aWMgdmVjdG9yVG9Xb3JsZEZyYW1lKHF1YXRlcm5pb24sIGxvY2FsVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICAgIHF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgc3RhdGljIHZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgICAgcXVhdGVybmlvbi53ICo9IC0xOwogICAgICBxdWF0ZXJuaW9uLnZtdWx0KHdvcmxkVmVjdG9yLCByZXN1bHQpOwogICAgICBxdWF0ZXJuaW9uLncgKj0gLTE7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogIH0KCiAgY29uc3QgdG1wUXVhdCA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgLyoqCiAgICogQSBzZXQgb2YgcG9seWdvbnMgZGVzY3JpYmluZyBhIGNvbnZleCBzaGFwZS4KICAgKiBAY2xhc3MgQ29udmV4UG9seWhlZHJvbgogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIFNoYXBlCiAgICogQGRlc2NyaXB0aW9uIFRoZSBzaGFwZSBNVVNUIGJlIGNvbnZleCBmb3IgdGhlIGNvZGUgdG8gd29yayBwcm9wZXJseS4gTm8gcG9seWdvbnMgbWF5IGJlIGNvcGxhbmFyIChjb250YWluZWQKICAgKiBpbiB0aGUgc2FtZSAzRCBwbGFuZSksIGluc3RlYWQgdGhlc2Ugc2hvdWxkIGJlIG1lcmdlZCBpbnRvIG9uZSBwb2x5Z29uLgogICAqCiAgICogQHBhcmFtIHthcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMncwogICAqIEBwYXJhbSB7YXJyYXl9IGZhY2VzIEFycmF5IG9mIGludGVnZXIgYXJyYXlzLCBkZXNjcmliaW5nIHdoaWNoIHZlcnRpY2VzIHRoYXQgaXMgaW5jbHVkZWQgaW4gZWFjaCBmYWNlLgogICAqCiAgICogQGF1dGhvciBxaWFvIC8gaHR0cHM6Ly9naXRodWIuY29tL3FpYW8gKG9yaWdpbmFsIGF1dGhvciwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvL3RocmVlLmpzL2NvbW1pdC84NTAyNmYwYzc2OWU0MDAwMTQ4YTY3ZDQ1YTllOWI5YzUxMDg4MzZmKQogICAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUKICAgKiBAc2VlIGh0dHA6Ly93d3cuYWx0ZGV2YmxvZ2FkYXkuY29tLzIwMTEvMDUvMTMvY29udGFjdC1nZW5lcmF0aW9uLWJldHdlZW4tM2QtY29udmV4LW1lc2hlcy8KICAgKgogICAqIEB0b2RvIE1vdmUgdGhlIGNsaXBwaW5nIGZ1bmN0aW9ucyB0byBDb250YWN0R2VuZXJhdG9yPwogICAqIEB0b2RvIEF1dG9tYXRpY2FsbHkgbWVyZ2UgY29wbGFuYXIgcG9seWdvbnMgaW4gY29uc3RydWN0b3IuCiAgICovCgogIGNsYXNzIENvbnZleFBvbHloZWRyb24gZXh0ZW5kcyBTaGFwZSB7CiAgICAvLyBBcnJheSBvZiBpbnRlZ2VyIGFycmF5cywgaW5kaWNhdGluZyB3aGljaCB2ZXJ0aWNlcyBlYWNoIGZhY2UgY29uc2lzdHMgb2YKICAgIC8vIElmIGdpdmVuLCB0aGVzZSBsb2NhbGx5IGRlZmluZWQsIG5vcm1hbGl6ZWQgYXhlcyBhcmUgdGhlIG9ubHkgb25lcyBiZWluZyBjaGVja2VkIHdoZW4gZG9pbmcgc2VwYXJhdGluZyBheGlzIGNoZWNrLgogICAgY29uc3RydWN0b3IocHJvcHMgPSB7fSkgewogICAgICBjb25zdCB7CiAgICAgICAgdmVydGljZXMgPSBbXSwKICAgICAgICBmYWNlcyA9IFtdLAogICAgICAgIG5vcm1hbHMgPSBbXSwKICAgICAgICBheGVzLAogICAgICAgIGJvdW5kaW5nU3BoZXJlUmFkaXVzCiAgICAgIH0gPSBwcm9wczsKICAgICAgc3VwZXIoewogICAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04KICAgICAgfSk7CiAgICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlczsKICAgICAgdGhpcy5mYWNlcyA9IGZhY2VzOwogICAgICB0aGlzLmZhY2VOb3JtYWxzID0gbm9ybWFsczsKCiAgICAgIGlmICh0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuY29tcHV0ZU5vcm1hbHMoKTsKICAgICAgfQoKICAgICAgaWYgKCFib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gYm91bmRpbmdTcGhlcmVSYWRpdXM7CiAgICAgIH0KCiAgICAgIHRoaXMud29ybGRWZXJ0aWNlcyA9IFtdOyAvLyBXb3JsZCB0cmFuc2Zvcm1lZCB2ZXJzaW9uIG9mIC52ZXJ0aWNlcwoKICAgICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHMgPSBbXTsgLy8gV29ybGQgdHJhbnNmb3JtZWQgdmVyc2lvbiBvZiAuZmFjZU5vcm1hbHMKCiAgICAgIHRoaXMud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlID0gdHJ1ZTsKICAgICAgdGhpcy51bmlxdWVBeGVzID0gYXhlcyA/IGF4ZXMuc2xpY2UoKSA6IG51bGw7CiAgICAgIHRoaXMudW5pcXVlRWRnZXMgPSBbXTsKICAgICAgdGhpcy5jb21wdXRlRWRnZXMoKTsKICAgIH0KICAgIC8qKgogICAgICogQ29tcHV0ZXMgdW5pcXVlRWRnZXMKICAgICAqIEBtZXRob2QgY29tcHV0ZUVkZ2VzCiAgICAgKi8KCgogICAgY29tcHV0ZUVkZ2VzKCkgewogICAgICBjb25zdCBmYWNlcyA9IHRoaXMuZmFjZXM7CiAgICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlczsKICAgICAgY29uc3QgZWRnZXMgPSB0aGlzLnVuaXF1ZUVkZ2VzOwogICAgICBlZGdlcy5sZW5ndGggPSAwOwogICAgICBjb25zdCBlZGdlID0gbmV3IFZlYzMoKTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBmYWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGZhY2UgPSBmYWNlc1tpXTsKICAgICAgICBjb25zdCBudW1WZXJ0aWNlcyA9IGZhY2UubGVuZ3RoOwoKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gbnVtVmVydGljZXM7IGorKykgewogICAgICAgICAgY29uc3QgayA9IChqICsgMSkgJSBudW1WZXJ0aWNlczsKICAgICAgICAgIHZlcnRpY2VzW2ZhY2Vbal1dLnZzdWIodmVydGljZXNbZmFjZVtrXV0sIGVkZ2UpOwogICAgICAgICAgZWRnZS5ub3JtYWxpemUoKTsKICAgICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwoKICAgICAgICAgIGZvciAobGV0IHAgPSAwOyBwICE9PSBlZGdlcy5sZW5ndGg7IHArKykgewogICAgICAgICAgICBpZiAoZWRnZXNbcF0uYWxtb3N0RXF1YWxzKGVkZ2UpIHx8IGVkZ2VzW3BdLmFsbW9zdEVxdWFscyhlZGdlKSkgewogICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgICAgZWRnZXMucHVzaChlZGdlLmNsb25lKCkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCByZXVzZSBleGlzdGluZyBWZWMzIG9iamVjdHMgaW4gdGhlIC5mYWNlTm9ybWFscyBhcnJheSBpZiB0aGV5IGV4aXN0LgogICAgICogQG1ldGhvZCBjb21wdXRlTm9ybWFscwogICAgICovCgoKICAgIGNvbXB1dGVOb3JtYWxzKCkgewogICAgICB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9IHRoaXMuZmFjZXMubGVuZ3RoOyAvLyBHZW5lcmF0ZSBub3JtYWxzCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyBDaGVjayBzbyBhbGwgdmVydGljZXMgZXhpc3RzIGZvciB0aGlzIGZhY2UKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmICghdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldW2pdXSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlZlcnRleCAiICsgdGhpcy5mYWNlc1tpXVtqXSArICIgbm90IGZvdW5kISIpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY29uc3QgbiA9IHRoaXMuZmFjZU5vcm1hbHNbaV0gfHwgbmV3IFZlYzMoKTsKICAgICAgICB0aGlzLmdldEZhY2VOb3JtYWwoaSwgbik7CiAgICAgICAgbi5uZWdhdGUobik7CiAgICAgICAgdGhpcy5mYWNlTm9ybWFsc1tpXSA9IG47CiAgICAgICAgY29uc3QgdmVydGV4ID0gdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldWzBdXTsKCiAgICAgICAgaWYgKG4uZG90KHZlcnRleCkgPCAwKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCIuZmFjZU5vcm1hbHNbIiArIGkgKyAiXSA9IFZlYzMoIiArIG4udG9TdHJpbmcoKSArICIpIGxvb2tzIGxpa2UgaXQgcG9pbnRzIGludG8gdGhlIHNoYXBlPyBUaGUgdmVydGljZXMgZm9sbG93LiBNYWtlIHN1cmUgdGhleSBhcmUgb3JkZXJlZCBDQ1cgYXJvdW5kIHRoZSBub3JtYWwsIHVzaW5nIHRoZSByaWdodCBoYW5kIHJ1bGUuIik7CgogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGNvbnNvbGUud2FybigiLnZlcnRpY2VzWyIgKyB0aGlzLmZhY2VzW2ldW2pdICsgIl0gPSBWZWMzKCIgKyB0aGlzLnZlcnRpY2VzW3RoaXMuZmFjZXNbaV1bal1dLnRvU3RyaW5nKCkgKyAiKSIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBub3JtYWwgb2YgYSBmYWNlIGZyb20gaXRzIHZlcnRpY2VzCiAgICAgKiBAbWV0aG9kIGdldEZhY2VOb3JtYWwKICAgICAqIEBwYXJhbSAge051bWJlcn0gaQogICAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0CiAgICAgKi8KCgogICAgZ2V0RmFjZU5vcm1hbChpLCB0YXJnZXQpIHsKICAgICAgY29uc3QgZiA9IHRoaXMuZmFjZXNbaV07CiAgICAgIGNvbnN0IHZhID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTsKICAgICAgY29uc3QgdmIgPSB0aGlzLnZlcnRpY2VzW2ZbMV1dOwogICAgICBjb25zdCB2YyA9IHRoaXMudmVydGljZXNbZlsyXV07CiAgICAgIENvbnZleFBvbHloZWRyb24uY29tcHV0ZU5vcm1hbCh2YSwgdmIsIHZjLCB0YXJnZXQpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgZmFjZSBub3JtYWwgZ2l2ZW4gMyB2ZXJ0aWNlcwogICAgICogQHN0YXRpYwogICAgICogQG1ldGhvZCBjb21wdXRlTm9ybWFsCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZhCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZiCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZjCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldAogICAgICovCgoKICAgIHN0YXRpYyBjb21wdXRlTm9ybWFsKHZhLCB2YiwgdmMsIHRhcmdldCkgewogICAgICBjb25zdCBjYiA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGFiID0gbmV3IFZlYzMoKTsKICAgICAgdmIudnN1Yih2YSwgYWIpOwogICAgICB2Yy52c3ViKHZiLCBjYik7CiAgICAgIGNiLmNyb3NzKGFiLCB0YXJnZXQpOwoKICAgICAgaWYgKCF0YXJnZXQuaXNaZXJvKCkpIHsKICAgICAgICB0YXJnZXQubm9ybWFsaXplKCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBjbGlwQWdhaW5zdEh1bGwKICAgICAqIEBwYXJhbSB7VmVjM30gcG9zQQogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QQogICAgICogQHBhcmFtIHtDb252ZXhQb2x5aGVkcm9ufSBodWxsQgogICAgICogQHBhcmFtIHtWZWMzfSBwb3NCCiAgICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHNlcGFyYXRpbmdOb3JtYWwKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5EaXN0IENsYW1wIGRpc3RhbmNlCiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdAogICAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IFRoZSBhbiBhcnJheSBvZiBjb250YWN0IHBvaW50IG9iamVjdHMsIHNlZSBjbGlwRmFjZUFnYWluc3RIdWxsCiAgICAgKi8KCgogICAgY2xpcEFnYWluc3RIdWxsKHBvc0EsIHF1YXRBLCBodWxsQiwgcG9zQiwgcXVhdEIsIHNlcGFyYXRpbmdOb3JtYWwsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCkgewogICAgICBjb25zdCBXb3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgICAgIGxldCBjbG9zZXN0RmFjZUIgPSAtMTsKICAgICAgbGV0IGRtYXggPSAtTnVtYmVyLk1BWF9WQUxVRTsKCiAgICAgIGZvciAobGV0IGZhY2UgPSAwOyBmYWNlIDwgaHVsbEIuZmFjZXMubGVuZ3RoOyBmYWNlKyspIHsKICAgICAgICBXb3JsZE5vcm1hbC5jb3B5KGh1bGxCLmZhY2VOb3JtYWxzW2ZhY2VdKTsKICAgICAgICBxdWF0Qi52bXVsdChXb3JsZE5vcm1hbCwgV29ybGROb3JtYWwpOwogICAgICAgIGNvbnN0IGQgPSBXb3JsZE5vcm1hbC5kb3Qoc2VwYXJhdGluZ05vcm1hbCk7CgogICAgICAgIGlmIChkID4gZG1heCkgewogICAgICAgICAgZG1heCA9IGQ7CiAgICAgICAgICBjbG9zZXN0RmFjZUIgPSBmYWNlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3Qgd29ybGRWZXJ0c0IxID0gW107CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxCLmZhY2VzW2Nsb3Nlc3RGYWNlQl0ubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBiID0gaHVsbEIudmVydGljZXNbaHVsbEIuZmFjZXNbY2xvc2VzdEZhY2VCXVtpXV07CiAgICAgICAgY29uc3Qgd29ybGRiID0gbmV3IFZlYzMoKTsKICAgICAgICB3b3JsZGIuY29weShiKTsKICAgICAgICBxdWF0Qi52bXVsdCh3b3JsZGIsIHdvcmxkYik7CiAgICAgICAgcG9zQi52YWRkKHdvcmxkYiwgd29ybGRiKTsKICAgICAgICB3b3JsZFZlcnRzQjEucHVzaCh3b3JsZGIpOwogICAgICB9CgogICAgICBpZiAoY2xvc2VzdEZhY2VCID49IDApIHsKICAgICAgICB0aGlzLmNsaXBGYWNlQWdhaW5zdEh1bGwoc2VwYXJhdGluZ05vcm1hbCwgcG9zQSwgcXVhdEEsIHdvcmxkVmVydHNCMSwgbWluRGlzdCwgbWF4RGlzdCwgcmVzdWx0KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBGaW5kIHRoZSBzZXBhcmF0aW5nIGF4aXMgYmV0d2VlbiB0aGlzIGh1bGwgYW5kIGFub3RoZXIKICAgICAqIEBtZXRob2QgZmluZFNlcGFyYXRpbmdBeGlzCiAgICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxCCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0EKICAgICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEEKICAgICAqIEBwYXJhbSB7VmVjM30gcG9zQgogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QgogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHRhcmdldCB2ZWN0b3IgdG8gc2F2ZSB0aGUgYXhpcyBpbgogICAgICogQHJldHVybiB7Ym9vbH0gUmV0dXJucyBmYWxzZSBpZiBhIHNlcGFyYXRpb24gaXMgZm91bmQsIGVsc2UgdHJ1ZQogICAgICovCgoKICAgIGZpbmRTZXBhcmF0aW5nQXhpcyhodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCLCB0YXJnZXQsIGZhY2VMaXN0QSwgZmFjZUxpc3RCKSB7CiAgICAgIGNvbnN0IGZhY2VBTm9ybWFsV1MzID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgV29ybGRub3JtYWwxID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgZGVsdGFDID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3Qgd29ybGRFZGdlMCA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IHdvcmxkRWRnZTEgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBDcm9zcyA9IG5ldyBWZWMzKCk7CiAgICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsKICAgICAgY29uc3QgaHVsbEEgPSB0aGlzOwoKICAgICAgaWYgKCFodWxsQS51bmlxdWVBeGVzKSB7CiAgICAgICAgY29uc3QgbnVtRmFjZXNBID0gZmFjZUxpc3RBID8gZmFjZUxpc3RBLmxlbmd0aCA6IGh1bGxBLmZhY2VzLmxlbmd0aDsgLy8gVGVzdCBmYWNlIG5vcm1hbHMgZnJvbSBodWxsQQoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZhY2VzQTsgaSsrKSB7CiAgICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QSA/IGZhY2VMaXN0QVtpXSA6IGk7IC8vIEdldCB3b3JsZCBmYWNlIG5vcm1hbAoKICAgICAgICAgIGZhY2VBTm9ybWFsV1MzLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmldKTsKICAgICAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MzLCBmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoZmFjZUFOb3JtYWxXUzMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICAgIGlmIChkID09PSBmYWxzZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgICAgIGRtaW4gPSBkOwogICAgICAgICAgICB0YXJnZXQuY29weShmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXMKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gaHVsbEEudW5pcXVlQXhlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgLy8gR2V0IHdvcmxkIGF4aXMKICAgICAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUF4ZXNbaV0sIGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhmYWNlQU5vcm1hbFdTMywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICAgIHRhcmdldC5jb3B5KGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICghaHVsbEIudW5pcXVlQXhlcykgewogICAgICAgIC8vIFRlc3QgZmFjZSBub3JtYWxzIGZyb20gaHVsbEIKICAgICAgICBjb25zdCBudW1GYWNlc0IgPSBmYWNlTGlzdEIgPyBmYWNlTGlzdEIubGVuZ3RoIDogaHVsbEIuZmFjZXMubGVuZ3RoOwoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZhY2VzQjsgaSsrKSB7CiAgICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QiA/IGZhY2VMaXN0QltpXSA6IGk7CiAgICAgICAgICBXb3JsZG5vcm1hbDEuY29weShodWxsQi5mYWNlTm9ybWFsc1tmaV0pOwogICAgICAgICAgcXVhdEIudm11bHQoV29ybGRub3JtYWwxLCBXb3JsZG5vcm1hbDEpOwogICAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKFdvcmxkbm9ybWFsMSwgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXMgaW4gQgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBodWxsQi51bmlxdWVBeGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBxdWF0Qi52bXVsdChodWxsQi51bmlxdWVBeGVzW2ldLCBXb3JsZG5vcm1hbDEpOwogICAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKFdvcmxkbm9ybWFsMSwgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIFRlc3QgZWRnZXMKCgogICAgICBmb3IgKGxldCBlMCA9IDA7IGUwICE9PSBodWxsQS51bmlxdWVFZGdlcy5sZW5ndGg7IGUwKyspIHsKICAgICAgICAvLyBHZXQgd29ybGQgZWRnZQogICAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUVkZ2VzW2UwXSwgd29ybGRFZGdlMCk7CgogICAgICAgIGZvciAobGV0IGUxID0gMDsgZTEgIT09IGh1bGxCLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTErKykgewogICAgICAgICAgLy8gR2V0IHdvcmxkIGVkZ2UgMgogICAgICAgICAgcXVhdEIudm11bHQoaHVsbEIudW5pcXVlRWRnZXNbZTFdLCB3b3JsZEVkZ2UxKTsKICAgICAgICAgIHdvcmxkRWRnZTAuY3Jvc3Mod29ybGRFZGdlMSwgQ3Jvc3MpOwoKICAgICAgICAgIGlmICghQ3Jvc3MuYWxtb3N0WmVybygpKSB7CiAgICAgICAgICAgIENyb3NzLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICBjb25zdCBkaXN0ID0gaHVsbEEudGVzdFNlcEF4aXMoQ3Jvc3MsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICAgICAgaWYgKGRpc3QgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZGlzdCA8IGRtaW4pIHsKICAgICAgICAgICAgICBkbWluID0gZGlzdDsKICAgICAgICAgICAgICB0YXJnZXQuY29weShDcm9zcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHBvc0IudnN1Yihwb3NBLCBkZWx0YUMpOwoKICAgICAgaWYgKGRlbHRhQy5kb3QodGFyZ2V0KSA+IDAuMCkgewogICAgICAgIHRhcmdldC5uZWdhdGUodGFyZ2V0KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIFRlc3Qgc2VwYXJhdGluZyBheGlzIGFnYWluc3QgdHdvIGh1bGxzLiBCb3RoIGh1bGxzIGFyZSBwcm9qZWN0ZWQgb250byB0aGUgYXhpcyBhbmQgdGhlIG92ZXJsYXAgc2l6ZSBpcyByZXR1cm5lZCBpZiB0aGVyZSBpcyBvbmUuCiAgICAgKiBAbWV0aG9kIHRlc3RTZXBBeGlzCiAgICAgKiBAcGFyYW0ge1ZlYzN9IGF4aXMKICAgICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEIKICAgICAqIEBwYXJhbSB7VmVjM30gcG9zQQogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QQogICAgICogQHBhcmFtIHtWZWMzfSBwb3NCCiAgICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCCiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBvdmVybGFwIGRlcHRoLCBvciBGQUxTRSBpZiBubyBwZW5ldHJhdGlvbi4KICAgICAqLwoKCiAgICB0ZXN0U2VwQXhpcyhheGlzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKSB7CiAgICAgIGNvbnN0IGh1bGxBID0gdGhpczsKICAgICAgQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0KGh1bGxBLCBheGlzLCBwb3NBLCBxdWF0QSwgbWF4bWluQSk7CiAgICAgIENvbnZleFBvbHloZWRyb24ucHJvamVjdChodWxsQiwgYXhpcywgcG9zQiwgcXVhdEIsIG1heG1pbkIpOwogICAgICBjb25zdCBtYXhBID0gbWF4bWluQVswXTsKICAgICAgY29uc3QgbWluQSA9IG1heG1pbkFbMV07CiAgICAgIGNvbnN0IG1heEIgPSBtYXhtaW5CWzBdOwogICAgICBjb25zdCBtaW5CID0gbWF4bWluQlsxXTsKCiAgICAgIGlmIChtYXhBIDwgbWluQiB8fCBtYXhCIDwgbWluQSkgewogICAgICAgIHJldHVybiBmYWxzZTsgLy8gU2VwYXJhdGVkCiAgICAgIH0KCiAgICAgIGNvbnN0IGQwID0gbWF4QSAtIG1pbkI7CiAgICAgIGNvbnN0IGQxID0gbWF4QiAtIG1pbkE7CiAgICAgIGNvbnN0IGRlcHRoID0gZDAgPCBkMSA/IGQwIDogZDE7CiAgICAgIHJldHVybiBkZXB0aDsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWEKICAgICAqIEBwYXJhbSAge051bWJlcn0gbWFzcwogICAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0CiAgICAgKi8KCgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGJveCBpbmVydGlhCiAgICAgIC8vIEV4YWN0IGluZXJ0aWEgY2FsY3VsYXRpb24gaXMgb3ZlcmtpbGwsIGJ1dCBzZWUgaHR0cDovL2dlb21ldHJpY3Rvb2xzLmNvbS9Eb2N1bWVudGF0aW9uL1BvbHloZWRyYWxNYXNzUHJvcGVydGllcy5wZGYgZm9yIHRoZSBjb3JyZWN0IHdheSB0byBkbyBpdAogICAgICBjb25zdCBhYWJibWF4ID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgYWFiYm1pbiA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQihhYWJibWluLCBhYWJibWF4KTsKICAgICAgY29uc3QgeCA9IGFhYmJtYXgueCAtIGFhYmJtaW4ueDsKICAgICAgY29uc3QgeSA9IGFhYmJtYXgueSAtIGFhYmJtaW4ueTsKICAgICAgY29uc3QgeiA9IGFhYmJtYXgueiAtIGFhYmJtaW4uejsKICAgICAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeik7CiAgICAgIHRhcmdldC55ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHggKiAyICogeCArIDIgKiB6ICogMiAqIHopOwogICAgICB0YXJnZXQueiA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeCAqIDIgKiB4KTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZhY2VfaSBJbmRleCBvZiB0aGUgZmFjZQogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICovCgoKICAgIGdldFBsYW5lQ29uc3RhbnRPZkZhY2UoZmFjZV9pKSB7CiAgICAgIGNvbnN0IGYgPSB0aGlzLmZhY2VzW2ZhY2VfaV07CiAgICAgIGNvbnN0IG4gPSB0aGlzLmZhY2VOb3JtYWxzW2ZhY2VfaV07CiAgICAgIGNvbnN0IHYgPSB0aGlzLnZlcnRpY2VzW2ZbMF1dOwogICAgICBjb25zdCBjID0gLW4uZG90KHYpOwogICAgICByZXR1cm4gYzsKICAgIH0KICAgIC8qKgogICAgICogQ2xpcCBhIGZhY2UgYWdhaW5zdCBhIGh1bGwuCiAgICAgKiBAbWV0aG9kIGNsaXBGYWNlQWdhaW5zdEh1bGwKICAgICAqIEBwYXJhbSB7VmVjM30gc2VwYXJhdGluZ05vcm1hbAogICAgICogQHBhcmFtIHtWZWMzfSBwb3NBCiAgICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBCiAgICAgKiBAcGFyYW0ge0FycmF5fSB3b3JsZFZlcnRzQjEgQW4gYXJyYXkgb2YgVmVjMyB3aXRoIHZlcnRpY2VzIGluIHRoZSB3b3JsZCBmcmFtZS4KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5EaXN0IERpc3RhbmNlIGNsYW1waW5nCiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdAogICAgICogQHBhcmFtIEFycmF5IHJlc3VsdCBBcnJheSB0byBzdG9yZSByZXN1bHRpbmcgY29udGFjdCBwb2ludHMgaW4uIFdpbGwgYmUgb2JqZWN0cyB3aXRoIHByb3BlcnRpZXM6IHBvaW50LCBkZXB0aCwgbm9ybWFsLiBUaGVzZSBhcmUgcmVwcmVzZW50ZWQgaW4gd29ybGQgY29vcmRpbmF0ZXMuCiAgICAgKi8KCgogICAgY2xpcEZhY2VBZ2FpbnN0SHVsbChzZXBhcmF0aW5nTm9ybWFsLCBwb3NBLCBxdWF0QSwgd29ybGRWZXJ0c0IxLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpIHsKICAgICAgY29uc3QgZmFjZUFOb3JtYWxXUyA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGVkZ2UwID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgV29ybGRFZGdlMCA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IHdvcmxkUGxhbmVBbm9ybWFsMSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IHBsYW5lTm9ybWFsV1MxID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3Qgd29ybGRBMSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGxvY2FsUGxhbmVOb3JtYWwgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBwbGFuZU5vcm1hbFdTID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgaHVsbEEgPSB0aGlzOwogICAgICBjb25zdCB3b3JsZFZlcnRzQjIgPSBbXTsKICAgICAgY29uc3QgcFZ0eEluID0gd29ybGRWZXJ0c0IxOwogICAgICBjb25zdCBwVnR4T3V0ID0gd29ybGRWZXJ0c0IyOwogICAgICBsZXQgY2xvc2VzdEZhY2VBID0gLTE7CiAgICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsgLy8gRmluZCB0aGUgZmFjZSB3aXRoIG5vcm1hbCBjbG9zZXN0IHRvIHRoZSBzZXBhcmF0aW5nIGF4aXMKCiAgICAgIGZvciAobGV0IGZhY2UgPSAwOyBmYWNlIDwgaHVsbEEuZmFjZXMubGVuZ3RoOyBmYWNlKyspIHsKICAgICAgICBmYWNlQU5vcm1hbFdTLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmFjZV0pOwogICAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MsIGZhY2VBTm9ybWFsV1MpOwogICAgICAgIGNvbnN0IGQgPSBmYWNlQU5vcm1hbFdTLmRvdChzZXBhcmF0aW5nTm9ybWFsKTsKCiAgICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgICBkbWluID0gZDsKICAgICAgICAgIGNsb3Nlc3RGYWNlQSA9IGZhY2U7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoY2xvc2VzdEZhY2VBIDwgMCkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBHZXQgdGhlIGZhY2UgYW5kIGNvbnN0cnVjdCBjb25uZWN0ZWQgZmFjZXMKCgogICAgICBjb25zdCBwb2x5QSA9IGh1bGxBLmZhY2VzW2Nsb3Nlc3RGYWNlQV07CiAgICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzID0gW107CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxBLmZhY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBodWxsQS5mYWNlc1tpXS5sZW5ndGg7IGorKykgewogICAgICAgICAgaWYgKAogICAgICAgICAgLyogU2hhcmluZyBhIHZlcnRleCovCiAgICAgICAgICBwb2x5QS5pbmRleE9mKGh1bGxBLmZhY2VzW2ldW2pdKSAhPT0gLTEgJiYKICAgICAgICAgIC8qIE5vdCB0aGUgb25lIHdlIGFyZSBsb29raW5nIGZvciBjb25uZWN0aW9ucyBmcm9tICovCiAgICAgICAgICBpICE9PSBjbG9zZXN0RmFjZUEgJiYKICAgICAgICAgIC8qIE5vdCBhbHJlYWR5IGFkZGVkICovCiAgICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5pbmRleE9mKGkpID09PSAtMSkgewogICAgICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5wdXNoKGkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAvLyBDbGlwIHRoZSBwb2x5Z29uIHRvIHRoZSBiYWNrIG9mIHRoZSBwbGFuZXMgb2YgYWxsIGZhY2VzIG9mIGh1bGwgQSwKICAgICAgLy8gdGhhdCBhcmUgYWRqYWNlbnQgdG8gdGhlIHdpdG5lc3MgZmFjZQoKCiAgICAgIGNvbnN0IG51bVZlcnRpY2VzQSA9IHBvbHlBLmxlbmd0aDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmVydGljZXNBOyBpKyspIHsKICAgICAgICBjb25zdCBhID0gaHVsbEEudmVydGljZXNbcG9seUFbaV1dOwogICAgICAgIGNvbnN0IGIgPSBodWxsQS52ZXJ0aWNlc1twb2x5QVsoaSArIDEpICUgbnVtVmVydGljZXNBXV07CiAgICAgICAgYS52c3ViKGIsIGVkZ2UwKTsKICAgICAgICBXb3JsZEVkZ2UwLmNvcHkoZWRnZTApOwogICAgICAgIHF1YXRBLnZtdWx0KFdvcmxkRWRnZTAsIFdvcmxkRWRnZTApOwogICAgICAgIHBvc0EudmFkZChXb3JsZEVkZ2UwLCBXb3JsZEVkZ2UwKTsKICAgICAgICB3b3JsZFBsYW5lQW5vcm1hbDEuY29weSh0aGlzLmZhY2VOb3JtYWxzW2Nsb3Nlc3RGYWNlQV0pOwogICAgICAgIHF1YXRBLnZtdWx0KHdvcmxkUGxhbmVBbm9ybWFsMSwgd29ybGRQbGFuZUFub3JtYWwxKTsKICAgICAgICBwb3NBLnZhZGQod29ybGRQbGFuZUFub3JtYWwxLCB3b3JsZFBsYW5lQW5vcm1hbDEpOwogICAgICAgIFdvcmxkRWRnZTAuY3Jvc3Mod29ybGRQbGFuZUFub3JtYWwxLCBwbGFuZU5vcm1hbFdTMSk7CiAgICAgICAgcGxhbmVOb3JtYWxXUzEubmVnYXRlKHBsYW5lTm9ybWFsV1MxKTsKICAgICAgICB3b3JsZEExLmNvcHkoYSk7CiAgICAgICAgcXVhdEEudm11bHQod29ybGRBMSwgd29ybGRBMSk7CiAgICAgICAgcG9zQS52YWRkKHdvcmxkQTEsIHdvcmxkQTEpOwogICAgICAgIGNvbnN0IG90aGVyRmFjZSA9IHBvbHlBLmNvbm5lY3RlZEZhY2VzW2ldOwogICAgICAgIGxvY2FsUGxhbmVOb3JtYWwuY29weSh0aGlzLmZhY2VOb3JtYWxzW290aGVyRmFjZV0pOwogICAgICAgIGNvbnN0IGxvY2FsUGxhbmVFcSA9IHRoaXMuZ2V0UGxhbmVDb25zdGFudE9mRmFjZShvdGhlckZhY2UpOwogICAgICAgIHBsYW5lTm9ybWFsV1MuY29weShsb2NhbFBsYW5lTm9ybWFsKTsKICAgICAgICBxdWF0QS52bXVsdChwbGFuZU5vcm1hbFdTLCBwbGFuZU5vcm1hbFdTKTsKICAgICAgICBjb25zdCBwbGFuZUVxV1MgPSBsb2NhbFBsYW5lRXEgLSBwbGFuZU5vcm1hbFdTLmRvdChwb3NBKTsgLy8gQ2xpcCBmYWNlIGFnYWluc3Qgb3VyIGNvbnN0cnVjdGVkIHBsYW5lCgogICAgICAgIHRoaXMuY2xpcEZhY2VBZ2FpbnN0UGxhbmUocFZ0eEluLCBwVnR4T3V0LCBwbGFuZU5vcm1hbFdTLCBwbGFuZUVxV1MpOyAvLyBUaHJvdyBhd2F5IGFsbCBjbGlwcGVkIHBvaW50cywgYnV0IHNhdmUgdGhlIHJlbWFpbmluZyB1bnRpbCBuZXh0IGNsaXAKCiAgICAgICAgd2hpbGUgKHBWdHhJbi5sZW5ndGgpIHsKICAgICAgICAgIHBWdHhJbi5zaGlmdCgpOwogICAgICAgIH0KCiAgICAgICAgd2hpbGUgKHBWdHhPdXQubGVuZ3RoKSB7CiAgICAgICAgICBwVnR4SW4ucHVzaChwVnR4T3V0LnNoaWZ0KCkpOwogICAgICAgIH0KICAgICAgfSAvLyBvbmx5IGtlZXAgY29udGFjdCBwb2ludHMgdGhhdCBhcmUgYmVoaW5kIHRoZSB3aXRuZXNzIGZhY2UKCgogICAgICBsb2NhbFBsYW5lTm9ybWFsLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tjbG9zZXN0RmFjZUFdKTsKICAgICAgY29uc3QgbG9jYWxQbGFuZUVxID0gdGhpcy5nZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGNsb3Nlc3RGYWNlQSk7CiAgICAgIHBsYW5lTm9ybWFsV1MuY29weShsb2NhbFBsYW5lTm9ybWFsKTsKICAgICAgcXVhdEEudm11bHQocGxhbmVOb3JtYWxXUywgcGxhbmVOb3JtYWxXUyk7CiAgICAgIGNvbnN0IHBsYW5lRXFXUyA9IGxvY2FsUGxhbmVFcSAtIHBsYW5lTm9ybWFsV1MuZG90KHBvc0EpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwVnR4SW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgZGVwdGggPSBwbGFuZU5vcm1hbFdTLmRvdChwVnR4SW5baV0pICsgcGxhbmVFcVdTOyAvLyA/Pz8KCiAgICAgICAgaWYgKGRlcHRoIDw9IG1pbkRpc3QpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJjbGFtcGVkOiBkZXB0aD0iICsgZGVwdGggKyAiIHRvIG1pbkRpc3Q9IiArIG1pbkRpc3QpOwogICAgICAgICAgZGVwdGggPSBtaW5EaXN0OwogICAgICAgIH0KCiAgICAgICAgaWYgKGRlcHRoIDw9IG1heERpc3QpIHsKICAgICAgICAgIGNvbnN0IHBvaW50ID0gcFZ0eEluW2ldOwoKICAgICAgICAgIGlmIChkZXB0aCA8PSAxZS02KSB7CiAgICAgICAgICAgIGNvbnN0IHAgPSB7CiAgICAgICAgICAgICAgcG9pbnQsCiAgICAgICAgICAgICAgbm9ybWFsOiBwbGFuZU5vcm1hbFdTLAogICAgICAgICAgICAgIGRlcHRoCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDbGlwIGEgZmFjZSBpbiBhIGh1bGwgYWdhaW5zdCB0aGUgYmFjayBvZiBhIHBsYW5lLgogICAgICogQG1ldGhvZCBjbGlwRmFjZUFnYWluc3RQbGFuZQogICAgICogQHBhcmFtIHtBcnJheX0gaW5WZXJ0aWNlcwogICAgICogQHBhcmFtIHtBcnJheX0gb3V0VmVydGljZXMKICAgICAqIEBwYXJhbSB7VmVjM30gcGxhbmVOb3JtYWwKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwbGFuZUNvbnN0YW50IFRoZSBjb25zdGFudCBpbiB0aGUgbWF0aGVtYXRpY2FsIHBsYW5lIGVxdWF0aW9uCiAgICAgKi8KCgogICAgY2xpcEZhY2VBZ2FpbnN0UGxhbmUoaW5WZXJ0aWNlcywgb3V0VmVydGljZXMsIHBsYW5lTm9ybWFsLCBwbGFuZUNvbnN0YW50KSB7CiAgICAgIGxldCBuX2RvdF9maXJzdDsKICAgICAgbGV0IG5fZG90X2xhc3Q7CiAgICAgIGNvbnN0IG51bVZlcnRzID0gaW5WZXJ0aWNlcy5sZW5ndGg7CgogICAgICBpZiAobnVtVmVydHMgPCAyKSB7CiAgICAgICAgcmV0dXJuIG91dFZlcnRpY2VzOwogICAgICB9CgogICAgICBsZXQgZmlyc3RWZXJ0ZXggPSBpblZlcnRpY2VzW2luVmVydGljZXMubGVuZ3RoIC0gMV07CiAgICAgIGxldCBsYXN0VmVydGV4ID0gaW5WZXJ0aWNlc1swXTsKICAgICAgbl9kb3RfZmlyc3QgPSBwbGFuZU5vcm1hbC5kb3QoZmlyc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDsKCiAgICAgIGZvciAobGV0IHZpID0gMDsgdmkgPCBudW1WZXJ0czsgdmkrKykgewogICAgICAgIGxhc3RWZXJ0ZXggPSBpblZlcnRpY2VzW3ZpXTsKICAgICAgICBuX2RvdF9sYXN0ID0gcGxhbmVOb3JtYWwuZG90KGxhc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDsKCiAgICAgICAgaWYgKG5fZG90X2ZpcnN0IDwgMCkgewogICAgICAgICAgaWYgKG5fZG90X2xhc3QgPCAwKSB7CiAgICAgICAgICAgIC8vIFN0YXJ0IDwgMCwgZW5kIDwgMCwgc28gb3V0cHV0IGxhc3RWZXJ0ZXgKICAgICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICAgIG5ld3YuY29weShsYXN0VmVydGV4KTsKICAgICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFN0YXJ0IDwgMCwgZW5kID49IDAsIHNvIG91dHB1dCBpbnRlcnNlY3Rpb24KICAgICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICAgIGZpcnN0VmVydGV4LmxlcnAobGFzdFZlcnRleCwgbl9kb3RfZmlyc3QgLyAobl9kb3RfZmlyc3QgLSBuX2RvdF9sYXN0KSwgbmV3dik7CiAgICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobmV3dik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChuX2RvdF9sYXN0IDwgMCkgewogICAgICAgICAgICAvLyBTdGFydCA+PSAwLCBlbmQgPCAwIHNvIG91dHB1dCBpbnRlcnNlY3Rpb24gYW5kIGVuZAogICAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTsKICAgICAgICAgICAgZmlyc3RWZXJ0ZXgubGVycChsYXN0VmVydGV4LCBuX2RvdF9maXJzdCAvIChuX2RvdF9maXJzdCAtIG5fZG90X2xhc3QpLCBuZXd2KTsKICAgICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICAgICAgb3V0VmVydGljZXMucHVzaChsYXN0VmVydGV4KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZpcnN0VmVydGV4ID0gbGFzdFZlcnRleDsKICAgICAgICBuX2RvdF9maXJzdCA9IG5fZG90X2xhc3Q7CiAgICAgIH0KCiAgICAgIHJldHVybiBvdXRWZXJ0aWNlczsKICAgIH0gLy8gVXBkYXRlcyAud29ybGRWZXJ0aWNlcyBhbmQgc2V0cyAud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlIHRvIGZhbHNlLgoKCiAgICBjb21wdXRlV29ybGRWZXJ0aWNlcyhwb3NpdGlvbiwgcXVhdCkgewogICAgICB3aGlsZSAodGhpcy53b3JsZFZlcnRpY2VzLmxlbmd0aCA8IHRoaXMudmVydGljZXMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy53b3JsZFZlcnRpY2VzLnB1c2gobmV3IFZlYzMoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKICAgICAgY29uc3Qgd29ybGRWZXJ0cyA9IHRoaXMud29ybGRWZXJ0aWNlczsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcXVhdC52bXVsdCh2ZXJ0c1tpXSwgd29ybGRWZXJ0c1tpXSk7CiAgICAgICAgcG9zaXRpb24udmFkZCh3b3JsZFZlcnRzW2ldLCB3b3JsZFZlcnRzW2ldKTsKICAgICAgfQoKICAgICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSBmYWxzZTsKICAgIH0KCiAgICBjb21wdXRlTG9jYWxBQUJCKGFhYmJtaW4sIGFhYmJtYXgpIHsKICAgICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzOwogICAgICBhYWJibWluLnNldChOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFKTsKICAgICAgYWFiYm1heC5zZXQoLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB2ID0gdmVydGljZXNbaV07CgogICAgICAgIGlmICh2LnggPCBhYWJibWluLngpIHsKICAgICAgICAgIGFhYmJtaW4ueCA9IHYueDsKICAgICAgICB9IGVsc2UgaWYgKHYueCA+IGFhYmJtYXgueCkgewogICAgICAgICAgYWFiYm1heC54ID0gdi54OwogICAgICAgIH0KCiAgICAgICAgaWYgKHYueSA8IGFhYmJtaW4ueSkgewogICAgICAgICAgYWFiYm1pbi55ID0gdi55OwogICAgICAgIH0gZWxzZSBpZiAodi55ID4gYWFiYm1heC55KSB7CiAgICAgICAgICBhYWJibWF4LnkgPSB2Lnk7CiAgICAgICAgfQoKICAgICAgICBpZiAodi56IDwgYWFiYm1pbi56KSB7CiAgICAgICAgICBhYWJibWluLnogPSB2Lno7CiAgICAgICAgfSBlbHNlIGlmICh2LnogPiBhYWJibWF4LnopIHsKICAgICAgICAgIGFhYmJtYXgueiA9IHYuejsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlcyAud29ybGRWZXJ0aWNlcyBhbmQgc2V0cyAud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlIHRvIGZhbHNlLgogICAgICogQG1ldGhvZCBjb21wdXRlV29ybGRGYWNlTm9ybWFscwogICAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdAogICAgICovCgoKICAgIGNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzKHF1YXQpIHsKICAgICAgY29uc3QgTiA9IHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoOwoKICAgICAgd2hpbGUgKHRoaXMud29ybGRGYWNlTm9ybWFscy5sZW5ndGggPCBOKSB7CiAgICAgICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzLnB1c2gobmV3IFZlYzMoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLmZhY2VOb3JtYWxzOwogICAgICBjb25zdCB3b3JsZE5vcm1hbHMgPSB0aGlzLndvcmxkRmFjZU5vcm1hbHM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgcXVhdC52bXVsdChub3JtYWxzW2ldLCB3b3JsZE5vcm1hbHNbaV0pOwogICAgICB9CgogICAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSA9IGZhbHNlOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzCiAgICAgKi8KCgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIC8vIEFzc3VtZSBwb2ludHMgYXJlIGRpc3RyaWJ1dGVkIHdpdGggbG9jYWwgKDAsMCwwKSBhcyBjZW50ZXIKICAgICAgbGV0IG1heDIgPSAwOwogICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdmVydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBub3JtMiA9IHZlcnRzW2ldLmxlbmd0aFNxdWFyZWQoKTsKCiAgICAgICAgaWYgKG5vcm0yID4gbWF4MikgewogICAgICAgICAgbWF4MiA9IG5vcm0yOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE1hdGguc3FydChtYXgyKTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBjYWxjdWxhdGVXb3JsZEFBQkIKICAgICAqIEBwYXJhbSB7VmVjM30gICAgICAgIHBvcwogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSAgcXVhdAogICAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWluCiAgICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtYXgKICAgICAqLwoKCiAgICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CiAgICAgIGxldCBtaW54OwogICAgICBsZXQgbWlueTsKICAgICAgbGV0IG1pbno7CiAgICAgIGxldCBtYXh4OwogICAgICBsZXQgbWF4eTsKICAgICAgbGV0IG1heHo7CiAgICAgIGxldCB0ZW1wV29ybGRWZXJ0ZXggPSBuZXcgVmVjMygpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0cy5sZW5ndGg7IGkrKykgewogICAgICAgIHRlbXBXb3JsZFZlcnRleC5jb3B5KHZlcnRzW2ldKTsKICAgICAgICBxdWF0LnZtdWx0KHRlbXBXb3JsZFZlcnRleCwgdGVtcFdvcmxkVmVydGV4KTsKICAgICAgICBwb3MudmFkZCh0ZW1wV29ybGRWZXJ0ZXgsIHRlbXBXb3JsZFZlcnRleCk7CiAgICAgICAgY29uc3QgdiA9IHRlbXBXb3JsZFZlcnRleDsKCiAgICAgICAgaWYgKG1pbnggPT09IHVuZGVmaW5lZCB8fCB2LnggPCBtaW54KSB7CiAgICAgICAgICBtaW54ID0gdi54OwogICAgICAgIH0KCiAgICAgICAgaWYgKG1heHggPT09IHVuZGVmaW5lZCB8fCB2LnggPiBtYXh4KSB7CiAgICAgICAgICBtYXh4ID0gdi54OwogICAgICAgIH0KCiAgICAgICAgaWYgKG1pbnkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPCBtaW55KSB7CiAgICAgICAgICBtaW55ID0gdi55OwogICAgICAgIH0KCiAgICAgICAgaWYgKG1heHkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPiBtYXh5KSB7CiAgICAgICAgICBtYXh5ID0gdi55OwogICAgICAgIH0KCiAgICAgICAgaWYgKG1pbnogPT09IHVuZGVmaW5lZCB8fCB2LnogPCBtaW56KSB7CiAgICAgICAgICBtaW56ID0gdi56OwogICAgICAgIH0KCiAgICAgICAgaWYgKG1heHogPT09IHVuZGVmaW5lZCB8fCB2LnogPiBtYXh6KSB7CiAgICAgICAgICBtYXh6ID0gdi56OwogICAgICAgIH0KICAgICAgfQoKICAgICAgbWluLnNldChtaW54LCBtaW55LCBtaW56KTsKICAgICAgbWF4LnNldChtYXh4LCBtYXh5LCBtYXh6KTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGFwcHJveGltYXRlIGNvbnZleCB2b2x1bWUKICAgICAqIEBtZXRob2Qgdm9sdW1lCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgdm9sdW1lKCkgewogICAgICByZXR1cm4gNC4wICogTWF0aC5QSSAqIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgLyAzLjA7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhbiBhdmVyYWdlIG9mIGFsbCB0aGUgdmVydGljZXMgcG9zaXRpb25zCiAgICAgKiBAbWV0aG9kIGdldEF2ZXJhZ2VQb2ludExvY2FsCiAgICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQKICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgZ2V0QXZlcmFnZVBvaW50TG9jYWwodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGFyZ2V0LnZhZGQodmVydHNbaV0sIHRhcmdldCk7CiAgICAgIH0KCiAgICAgIHRhcmdldC5zY2FsZSgxIC8gdmVydHMubGVuZ3RoLCB0YXJnZXQpOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBUcmFuc2Zvcm0gYWxsIGxvY2FsIHBvaW50cy4gV2lsbCBjaGFuZ2UgdGhlIC52ZXJ0aWNlcwogICAgICogQG1ldGhvZCB0cmFuc2Zvcm1BbGxQb2ludHMKICAgICAqIEBwYXJhbSAge1ZlYzN9IG9mZnNldAogICAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdAogICAgICovCgoKICAgIHRyYW5zZm9ybUFsbFBvaW50cyhvZmZzZXQsIHF1YXQpIHsKICAgICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoOwogICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7IC8vIEFwcGx5IHJvdGF0aW9uCgogICAgICBpZiAocXVhdCkgewogICAgICAgIC8vIFJvdGF0ZSB2ZXJ0aWNlcwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICBjb25zdCB2ID0gdmVydHNbaV07CiAgICAgICAgICBxdWF0LnZtdWx0KHYsIHYpOwogICAgICAgIH0gLy8gUm90YXRlIGZhY2Ugbm9ybWFscwoKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCB2ID0gdGhpcy5mYWNlTm9ybWFsc1tpXTsKICAgICAgICAgIHF1YXQudm11bHQodiwgdik7CiAgICAgICAgfQogICAgICAgIC8qCiAgICAgICAgICAgICAgLy8gUm90YXRlIGVkZ2VzCiAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy51bmlxdWVFZGdlcy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLnVuaXF1ZUVkZ2VzW2ldOwogICAgICAgICAgICAgICAgICBxdWF0LnZtdWx0KHYsdik7CiAgICAgICAgICAgICAgfSovCgogICAgICB9IC8vIEFwcGx5IG9mZnNldAoKCiAgICAgIGlmIChvZmZzZXQpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgY29uc3QgdiA9IHZlcnRzW2ldOwogICAgICAgICAgdi52YWRkKG9mZnNldCwgdik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrcyB3aGV0aGVyIHAgaXMgaW5zaWRlIHRoZSBwb2x5aGVkcmEuIE11c3QgYmUgaW4gbG9jYWwgY29vcmRzLgogICAgICogVGhlIHBvaW50IGxpZXMgb3V0c2lkZSBvZiB0aGUgY29udmV4IGh1bGwgb2YgdGhlIG90aGVyIHBvaW50cyBpZiBhbmQgb25seSBpZiB0aGUgZGlyZWN0aW9uCiAgICAgKiBvZiBhbGwgdGhlIHZlY3RvcnMgZnJvbSBpdCB0byB0aG9zZSBvdGhlciBwb2ludHMgYXJlIG9uIGxlc3MgdGhhbiBvbmUgaGFsZiBvZiBhIHNwaGVyZSBhcm91bmQgaXQuCiAgICAgKiBAbWV0aG9kIHBvaW50SXNJbnNpZGUKICAgICAqIEBwYXJhbSAge1ZlYzN9IHAgICAgICBBIHBvaW50IGdpdmVuIGluIGxvY2FsIGNvb3JkaW5hdGVzCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufQogICAgICovCgoKICAgIHBvaW50SXNJbnNpZGUocCkgewogICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CiAgICAgIGNvbnN0IGZhY2VzID0gdGhpcy5mYWNlczsKICAgICAgY29uc3Qgbm9ybWFscyA9IHRoaXMuZmFjZU5vcm1hbHM7CiAgICAgIGNvbnN0IHBvaW50SW5zaWRlID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5nZXRBdmVyYWdlUG9pbnRMb2NhbChwb2ludEluc2lkZSk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgbiA9IG5vcm1hbHNbaV07CiAgICAgICAgY29uc3QgdiA9IHZlcnRzW2ZhY2VzW2ldWzBdXTsgLy8gV2Ugb25seSBuZWVkIG9uZSBwb2ludCBpbiB0aGUgZmFjZQogICAgICAgIC8vIFRoaXMgZG90IHByb2R1Y3QgZGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIHRoZSBlZGdlIHRoZSBwb2ludCBpcwoKICAgICAgICBjb25zdCB2VG9QID0gbmV3IFZlYzMoKTsKICAgICAgICBwLnZzdWIodiwgdlRvUCk7CiAgICAgICAgY29uc3QgcjEgPSBuLmRvdCh2VG9QKTsKICAgICAgICBjb25zdCB2VG9Qb2ludEluc2lkZSA9IG5ldyBWZWMzKCk7CiAgICAgICAgcG9pbnRJbnNpZGUudnN1Yih2LCB2VG9Qb2ludEluc2lkZSk7CiAgICAgICAgY29uc3QgcjIgPSBuLmRvdCh2VG9Qb2ludEluc2lkZSk7CgogICAgICAgIGlmIChyMSA8IDAgJiYgcjIgPiAwIHx8IHIxID4gMCAmJiByMiA8IDApIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gRW5jb3VudGVyZWQgc29tZSBvdGhlciBzaWduLiBFeGl0LgogICAgICAgIH0KICAgICAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uCgoKICAgICAgcmV0dXJuIC0xOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgbWF4IGFuZCBtaW4gZG90IHByb2R1Y3Qgb2YgYSBjb252ZXggaHVsbCBhdCBwb3NpdGlvbiAocG9zLHF1YXQpIHByb2plY3RlZCBvbnRvIGFuIGF4aXMuCiAgICAgKiBSZXN1bHRzIGFyZSBzYXZlZCBpbiB0aGUgYXJyYXkgbWF4bWluLgogICAgICogQHN0YXRpYwogICAgICogQG1ldGhvZCBwcm9qZWN0CiAgICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGwKICAgICAqIEBwYXJhbSB7VmVjM30gYXhpcwogICAgICogQHBhcmFtIHtWZWMzfSBwb3MKICAgICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdAogICAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IHJlc3VsdFswXSBhbmQgcmVzdWx0WzFdIHdpbGwgYmUgc2V0IHRvIG1heGltdW0gYW5kIG1pbmltdW0sIHJlc3BlY3RpdmVseS4KICAgICAqLwoKCiAgICBzdGF0aWMgcHJvamVjdChzaGFwZSwgYXhpcywgcG9zLCBxdWF0LCByZXN1bHQpIHsKICAgICAgY29uc3QgbiA9IHNoYXBlLnZlcnRpY2VzLmxlbmd0aDsKICAgICAgY29uc3QgbG9jYWxBeGlzID0gcHJvamVjdF9sb2NhbEF4aXM7CiAgICAgIGxldCBtYXggPSAwOwogICAgICBsZXQgbWluID0gMDsKICAgICAgY29uc3QgbG9jYWxPcmlnaW4gPSBwcm9qZWN0X2xvY2FsT3JpZ2luOwogICAgICBjb25zdCB2cyA9IHNoYXBlLnZlcnRpY2VzOwogICAgICBsb2NhbE9yaWdpbi5zZXRaZXJvKCk7IC8vIFRyYW5zZm9ybSB0aGUgYXhpcyB0byBsb2NhbAoKICAgICAgVHJhbnNmb3JtLnZlY3RvclRvTG9jYWxGcmFtZShwb3MsIHF1YXQsIGF4aXMsIGxvY2FsQXhpcyk7CiAgICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3MsIHF1YXQsIGxvY2FsT3JpZ2luLCBsb2NhbE9yaWdpbik7CiAgICAgIGNvbnN0IGFkZCA9IGxvY2FsT3JpZ2luLmRvdChsb2NhbEF4aXMpOwogICAgICBtaW4gPSBtYXggPSB2c1swXS5kb3QobG9jYWxBeGlzKTsKCiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgY29uc3QgdmFsID0gdnNbaV0uZG90KGxvY2FsQXhpcyk7CgogICAgICAgIGlmICh2YWwgPiBtYXgpIHsKICAgICAgICAgIG1heCA9IHZhbDsKICAgICAgICB9CgogICAgICAgIGlmICh2YWwgPCBtaW4pIHsKICAgICAgICAgIG1pbiA9IHZhbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIG1pbiAtPSBhZGQ7CiAgICAgIG1heCAtPSBhZGQ7CgogICAgICBpZiAobWluID4gbWF4KSB7CiAgICAgICAgLy8gSW5jb25zaXN0ZW50IC0gc3dhcAogICAgICAgIGNvbnN0IHRlbXAgPSBtaW47CiAgICAgICAgbWluID0gbWF4OwogICAgICAgIG1heCA9IHRlbXA7CiAgICAgIH0gLy8gT3V0cHV0CgoKICAgICAgcmVzdWx0WzBdID0gbWF4OwogICAgICByZXN1bHRbMV0gPSBtaW47CiAgICB9CgogIH0KCiAgY29uc3QgbWF4bWluQSA9IFtdOwogIGNvbnN0IG1heG1pbkIgPSBbXTsKICBjb25zdCBwcm9qZWN0X2xvY2FsQXhpcyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcHJvamVjdF9sb2NhbE9yaWdpbiA9IG5ldyBWZWMzKCk7CiAgLyoqCiAgICogQSAzZCBib3ggc2hhcGUuCiAgICogQGNsYXNzIEJveAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7VmVjM30gaGFsZkV4dGVudHMKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQGV4dGVuZHMgU2hhcGUKICAgKi8KCiAgY2xhc3MgQm94IGV4dGVuZHMgU2hhcGUgewogICAgLy8gVXNlZCBieSB0aGUgY29udGFjdCBnZW5lcmF0b3IgdG8gbWFrZSBjb250YWN0cyB3aXRoIG90aGVyIGNvbnZleCBwb2x5aGVkcmEgZm9yIGV4YW1wbGUuCiAgICBjb25zdHJ1Y3RvcihoYWxmRXh0ZW50cykgewogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuQk9YCiAgICAgIH0pOwogICAgICB0aGlzLmhhbGZFeHRlbnRzID0gaGFsZkV4dGVudHM7CiAgICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gbnVsbDsKICAgICAgdGhpcy51cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24oKTsKICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBjb252ZXggcG9seWhlZHJvbiByZXByZXNlbnRhdGlvbiB1c2VkIGZvciBzb21lIGNvbGxpc2lvbnMuCiAgICAgKiBAbWV0aG9kIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbgogICAgICovCgoKICAgIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpIHsKICAgICAgY29uc3Qgc3ggPSB0aGlzLmhhbGZFeHRlbnRzLng7CiAgICAgIGNvbnN0IHN5ID0gdGhpcy5oYWxmRXh0ZW50cy55OwogICAgICBjb25zdCBzeiA9IHRoaXMuaGFsZkV4dGVudHMuejsKICAgICAgY29uc3QgViA9IFZlYzM7CiAgICAgIGNvbnN0IHZlcnRpY2VzID0gW25ldyBWKC1zeCwgLXN5LCAtc3opLCBuZXcgVihzeCwgLXN5LCAtc3opLCBuZXcgVihzeCwgc3ksIC1zeiksIG5ldyBWKC1zeCwgc3ksIC1zeiksIG5ldyBWKC1zeCwgLXN5LCBzeiksIG5ldyBWKHN4LCAtc3ksIHN6KSwgbmV3IFYoc3gsIHN5LCBzeiksIG5ldyBWKC1zeCwgc3ksIHN6KV07CiAgICAgIGNvbnN0IGZhY2VzID0gW1szLCAyLCAxLCAwXSwgLy8gLXoKICAgICAgWzQsIDUsIDYsIDddLCAvLyAregogICAgICBbNSwgNCwgMCwgMV0sIC8vIC15CiAgICAgIFsyLCAzLCA3LCA2XSwgLy8gK3kKICAgICAgWzAsIDQsIDcsIDNdLCAvLyAteAogICAgICBbMSwgMiwgNiwgNV0gLy8gK3gKICAgICAgXTsKICAgICAgY29uc3QgYXhlcyA9IFtuZXcgVigwLCAwLCAxKSwgbmV3IFYoMCwgMSwgMCksIG5ldyBWKDEsIDAsIDApXTsKICAgICAgY29uc3QgaCA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKHsKICAgICAgICB2ZXJ0aWNlcywKICAgICAgICBmYWNlcywKICAgICAgICBheGVzCiAgICAgIH0pOwogICAgICB0aGlzLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiA9IGg7CiAgICAgIGgubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQogICAgICogQHBhcmFtICB7TnVtYmVyfSBtYXNzCiAgICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQKICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgQm94LmNhbGN1bGF0ZUluZXJ0aWEodGhpcy5oYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KTsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KCiAgICBzdGF0aWMgY2FsY3VsYXRlSW5lcnRpYShoYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KSB7CiAgICAgIGNvbnN0IGUgPSBoYWxmRXh0ZW50czsKICAgICAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnogKiAyICogZS56KTsKICAgICAgdGFyZ2V0LnkgPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS54ICogMiAqIGUueCArIDIgKiBlLnogKiAyICogZS56KTsKICAgICAgdGFyZ2V0LnogPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnggKiAyICogZS54KTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBib3ggNiBzaWRlIG5vcm1hbHMKICAgICAqIEBtZXRob2QgZ2V0U2lkZU5vcm1hbHMKICAgICAqIEBwYXJhbSB7YXJyYXl9ICAgICAgc2l4VGFyZ2V0VmVjdG9ycyBBbiBhcnJheSBvZiA2IHZlY3RvcnMsIHRvIHN0b3JlIHRoZSByZXN1bHRpbmcgc2lkZSBub3JtYWxzIGluLgogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0ICAgICAgICAgICAgIE9yaWVudGF0aW9uIHRvIGFwcGx5IHRvIHRoZSBub3JtYWwgdmVjdG9ycy4gSWYgbm90IHByb3ZpZGVkLCB0aGUgdmVjdG9ycyB3aWxsIGJlIGluIHJlc3BlY3QgdG8gdGhlIGxvY2FsIGZyYW1lLgogICAgICogQHJldHVybiB7YXJyYXl9CiAgICAgKi8KCgogICAgZ2V0U2lkZU5vcm1hbHMoc2l4VGFyZ2V0VmVjdG9ycywgcXVhdCkgewogICAgICBjb25zdCBzaWRlcyA9IHNpeFRhcmdldFZlY3RvcnM7CiAgICAgIGNvbnN0IGV4ID0gdGhpcy5oYWxmRXh0ZW50czsKICAgICAgc2lkZXNbMF0uc2V0KGV4LngsIDAsIDApOwogICAgICBzaWRlc1sxXS5zZXQoMCwgZXgueSwgMCk7CiAgICAgIHNpZGVzWzJdLnNldCgwLCAwLCBleC56KTsKICAgICAgc2lkZXNbM10uc2V0KC1leC54LCAwLCAwKTsKICAgICAgc2lkZXNbNF0uc2V0KDAsIC1leC55LCAwKTsKICAgICAgc2lkZXNbNV0uc2V0KDAsIDAsIC1leC56KTsKCiAgICAgIGlmIChxdWF0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gc2lkZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHF1YXQudm11bHQoc2lkZXNbaV0sIHNpZGVzW2ldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzaWRlczsKICAgIH0KCiAgICB2b2x1bWUoKSB7CiAgICAgIHJldHVybiA4LjAgKiB0aGlzLmhhbGZFeHRlbnRzLnggKiB0aGlzLmhhbGZFeHRlbnRzLnkgKiB0aGlzLmhhbGZFeHRlbnRzLno7CiAgICB9CgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSB0aGlzLmhhbGZFeHRlbnRzLmxlbmd0aCgpOwogICAgfQoKICAgIGZvckVhY2hXb3JsZENvcm5lcihwb3MsIHF1YXQsIGNhbGxiYWNrKSB7CiAgICAgIGNvbnN0IGUgPSB0aGlzLmhhbGZFeHRlbnRzOwogICAgICBjb25zdCBjb3JuZXJzID0gW1tlLngsIGUueSwgZS56XSwgWy1lLngsIGUueSwgZS56XSwgWy1lLngsIC1lLnksIGUuel0sIFstZS54LCAtZS55LCAtZS56XSwgW2UueCwgLWUueSwgLWUuel0sIFtlLngsIGUueSwgLWUuel0sIFstZS54LCBlLnksIC1lLnpdLCBbZS54LCAtZS55LCBlLnpdXTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29ybmVycy5sZW5ndGg7IGkrKykgewogICAgICAgIHdvcmxkQ29ybmVyVGVtcFBvcy5zZXQoY29ybmVyc1tpXVswXSwgY29ybmVyc1tpXVsxXSwgY29ybmVyc1tpXVsyXSk7CiAgICAgICAgcXVhdC52bXVsdCh3b3JsZENvcm5lclRlbXBQb3MsIHdvcmxkQ29ybmVyVGVtcFBvcyk7CiAgICAgICAgcG9zLnZhZGQod29ybGRDb3JuZXJUZW1wUG9zLCB3b3JsZENvcm5lclRlbXBQb3MpOwogICAgICAgIGNhbGxiYWNrKHdvcmxkQ29ybmVyVGVtcFBvcy54LCB3b3JsZENvcm5lclRlbXBQb3MueSwgd29ybGRDb3JuZXJUZW1wUG9zLnopOwogICAgICB9CiAgICB9CgogICAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgICAgY29uc3QgZSA9IHRoaXMuaGFsZkV4dGVudHM7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbMF0uc2V0KGUueCwgZS55LCBlLnopOwogICAgICB3b3JsZENvcm5lcnNUZW1wWzFdLnNldCgtZS54LCBlLnksIGUueik7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbMl0uc2V0KC1lLngsIC1lLnksIGUueik7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbM10uc2V0KC1lLngsIC1lLnksIC1lLnopOwogICAgICB3b3JsZENvcm5lcnNUZW1wWzRdLnNldChlLngsIC1lLnksIC1lLnopOwogICAgICB3b3JsZENvcm5lcnNUZW1wWzVdLnNldChlLngsIGUueSwgLWUueik7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbNl0uc2V0KC1lLngsIGUueSwgLWUueik7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbN10uc2V0KGUueCwgLWUueSwgZS56KTsKICAgICAgY29uc3Qgd2MgPSB3b3JsZENvcm5lcnNUZW1wWzBdOwogICAgICBxdWF0LnZtdWx0KHdjLCB3Yyk7CiAgICAgIHBvcy52YWRkKHdjLCB3Yyk7CiAgICAgIG1heC5jb3B5KHdjKTsKICAgICAgbWluLmNvcHkod2MpOwoKICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCA4OyBpKyspIHsKICAgICAgICBjb25zdCB3YyA9IHdvcmxkQ29ybmVyc1RlbXBbaV07CiAgICAgICAgcXVhdC52bXVsdCh3Yywgd2MpOwogICAgICAgIHBvcy52YWRkKHdjLCB3Yyk7CiAgICAgICAgY29uc3QgeCA9IHdjLng7CiAgICAgICAgY29uc3QgeSA9IHdjLnk7CiAgICAgICAgY29uc3QgeiA9IHdjLno7CgogICAgICAgIGlmICh4ID4gbWF4LngpIHsKICAgICAgICAgIG1heC54ID0geDsKICAgICAgICB9CgogICAgICAgIGlmICh5ID4gbWF4LnkpIHsKICAgICAgICAgIG1heC55ID0geTsKICAgICAgICB9CgogICAgICAgIGlmICh6ID4gbWF4LnopIHsKICAgICAgICAgIG1heC56ID0gejsKICAgICAgICB9CgogICAgICAgIGlmICh4IDwgbWluLngpIHsKICAgICAgICAgIG1pbi54ID0geDsKICAgICAgICB9CgogICAgICAgIGlmICh5IDwgbWluLnkpIHsKICAgICAgICAgIG1pbi55ID0geTsKICAgICAgICB9CgogICAgICAgIGlmICh6IDwgbWluLnopIHsKICAgICAgICAgIG1pbi56ID0gejsKICAgICAgICB9CiAgICAgIH0gLy8gR2V0IGVhY2ggYXhpcyBtYXgKICAgICAgLy8gbWluLnNldChJbmZpbml0eSxJbmZpbml0eSxJbmZpbml0eSk7CiAgICAgIC8vIG1heC5zZXQoLUluZmluaXR5LC1JbmZpbml0eSwtSW5maW5pdHkpOwogICAgICAvLyB0aGlzLmZvckVhY2hXb3JsZENvcm5lcihwb3MscXVhdCxmdW5jdGlvbih4LHkseil7CiAgICAgIC8vICAgICBpZih4ID4gbWF4LngpewogICAgICAvLyAgICAgICAgIG1heC54ID0geDsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGlmKHkgPiBtYXgueSl7CiAgICAgIC8vICAgICAgICAgbWF4LnkgPSB5OwogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgaWYoeiA+IG1heC56KXsKICAgICAgLy8gICAgICAgICBtYXgueiA9IHo7CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICBpZih4IDwgbWluLngpewogICAgICAvLyAgICAgICAgIG1pbi54ID0geDsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGlmKHkgPCBtaW4ueSl7CiAgICAgIC8vICAgICAgICAgbWluLnkgPSB5OwogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgaWYoeiA8IG1pbi56KXsKICAgICAgLy8gICAgICAgICBtaW4ueiA9IHo7CiAgICAgIC8vICAgICB9CiAgICAgIC8vIH0pOwoKICAgIH0KCiAgfQoKICBjb25zdCB3b3JsZENvcm5lclRlbXBQb3MgPSBuZXcgVmVjMygpOwogIGNvbnN0IHdvcmxkQ29ybmVyc1RlbXAgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07CiAgY29uc3QgQk9EWV9TTEVFUF9TVEFURVMgPSB7CiAgICBBV0FLRTogMCwKICAgIFNMRUVQWTogMSwKICAgIFNMRUVQSU5HOiAyCiAgfTsKICAvKioKICAgKiBCYXNlIGNsYXNzIGZvciBhbGwgYm9keSB0eXBlcy4KICAgKiBAY2xhc3MgQm9keQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0CiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucG9zaXRpb25dCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy52ZWxvY2l0eV0KICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eV0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IFtvcHRpb25zLnF1YXRlcm5pb25dCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1hc3NdCiAgICogQHBhcmFtIHtNYXRlcmlhbH0gW29wdGlvbnMubWF0ZXJpYWxdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnR5cGVdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbmVhckRhbXBpbmc9MC4wMV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYW5ndWxhckRhbXBpbmc9MC4wMV0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFsbG93U2xlZXA9dHJ1ZV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBTcGVlZExpbWl0PTAuMV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBUaW1lTGltaXQ9MV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9MV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZpeGVkUm90YXRpb249ZmFsc2VdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5saW5lYXJGYWN0b3JdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5hbmd1bGFyRmFjdG9yXQogICAqIEBwYXJhbSB7U2hhcGV9IFtvcHRpb25zLnNoYXBlXQogICAqIEBleGFtcGxlCiAgICogICAgIGNvbnN0IGJvZHkgPSBuZXcgQm9keSh7CiAgICogICAgICAgICBtYXNzOiAxCiAgICogICAgIH0pOwogICAqICAgICBjb25zdCBzaGFwZSA9IG5ldyBTcGhlcmUoMSk7CiAgICogICAgIGJvZHkuYWRkU2hhcGUoc2hhcGUpOwogICAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpOwogICAqLwoKICBjbGFzcyBCb2R5IGV4dGVuZHMgRXZlbnRUYXJnZXQgewogICAgLy8gUG9zaXRpb24gb2YgYm9keSBpbiBXb3JsZC5ib2RpZXMuIFVwZGF0ZWQgYnkgV29ybGQgYW5kIHVzZWQgaW4gQXJyYXlDb2xsaXNpb25NYXRyaXguCiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHdvcmxkIHRoZSBib2R5IGlzIGxpdmluZyBpbi4KICAgIC8vIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCBCRUZPUkUgc3RlcHBpbmcgdGhlIHN5c3RlbS4gVXNlIGl0IHRvIGFwcGx5IGZvcmNlcywgZm9yIGV4YW1wbGUuIEluc2lkZSB0aGUgZnVuY3Rpb24sICJ0aGlzIiB3aWxsIHJlZmVyIHRvIHRoaXMgQm9keSBvYmplY3QuIERlcHJlY2F0ZWQgLSB1c2UgV29ybGQgZXZlbnRzIGluc3RlYWQuCiAgICAvLyBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgQUZURVIgc3RlcHBpbmcgdGhlIHN5c3RlbS4gSW5zaWRlIHRoZSBmdW5jdGlvbiwgInRoaXMiIHdpbGwgcmVmZXIgdG8gdGhpcyBCb2R5IG9iamVjdC4gRGVwcmVjYXRlZCAtIHVzZSBXb3JsZCBldmVudHMgaW5zdGVhZC4KICAgIC8vIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZCAtIGkuZS4gImNvbGxpZGUiIGV2ZW50cyB3aWxsIGJlIHJhaXNlZCwgYnV0IGZvcmNlcyB3aWxsIG5vdCBiZSBhbHRlcmVkLgogICAgLy8gV29ybGQgc3BhY2UgcG9zaXRpb24gb2YgdGhlIGJvZHkuCiAgICAvLyBJbnRlcnBvbGF0ZWQgcG9zaXRpb24gb2YgdGhlIGJvZHkuCiAgICAvLyBJbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBib2R5LgogICAgLy8gV29ybGQgc3BhY2UgdmVsb2NpdHkgb2YgdGhlIGJvZHkuCiAgICAvLyBMaW5lYXIgZm9yY2Ugb24gdGhlIGJvZHkgaW4gd29ybGQgc3BhY2UuCiAgICAvLyBPbmUgb2Y6IEJvZHkuRFlOQU1JQywgQm9keS5TVEFUSUMgYW5kIEJvZHkuS0lORU1BVElDLgogICAgLy8gSWYgdHJ1ZSwgdGhlIGJvZHkgd2lsbCBhdXRvbWF0aWNhbGx5IGZhbGwgdG8gc2xlZXAuCiAgICAvLyBDdXJyZW50IHNsZWVwIHN0YXRlLgogICAgLy8gSWYgdGhlIHNwZWVkICh0aGUgbm9ybSBvZiB0aGUgdmVsb2NpdHkpIGlzIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLCB0aGUgYm9keSBpcyBjb25zaWRlcmVkIHNsZWVweS4KICAgIC8vIElmIHRoZSBib2R5IGhhcyBiZWVuIHNsZWVweSBmb3IgdGhpcyBzbGVlcFRpbWVMaW1pdCBzZWNvbmRzLCBpdCBpcyBjb25zaWRlcmVkIHNsZWVwaW5nLgogICAgLy8gV29ybGQgc3BhY2Ugcm90YXRpb25hbCBmb3JjZSBvbiB0aGUgYm9keSwgYXJvdW5kIGNlbnRlciBvZiBtYXNzLgogICAgLy8gV29ybGQgc3BhY2Ugb3JpZW50YXRpb24gb2YgdGhlIGJvZHkuCiAgICAvLyBJbnRlcnBvbGF0ZWQgb3JpZW50YXRpb24gb2YgdGhlIGJvZHkuCiAgICAvLyBBbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2R5LCBpbiB3b3JsZCBzcGFjZS4gVGhpbmsgb2YgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgYXMgYSB2ZWN0b3IsIHdoaWNoIHRoZSBib2R5IHJvdGF0ZXMgYXJvdW5kLiBUaGUgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yIGRldGVybWluZXMgaG93IGZhc3QgKGluIHJhZGlhbnMgcGVyIHNlY29uZCkgdGhlIGJvZHkgcm90YXRlcy4KICAgIC8vIFBvc2l0aW9uIG9mIGVhY2ggU2hhcGUgaW4gdGhlIGJvZHksIGdpdmVuIGluIGxvY2FsIEJvZHkgc3BhY2UuCiAgICAvLyBPcmllbnRhdGlvbiBvZiBlYWNoIFNoYXBlLCBnaXZlbiBpbiBsb2NhbCBCb2R5IHNwYWNlLgogICAgLy8gU2V0IHRvIHRydWUgaWYgeW91IGRvbid0IHdhbnQgdGhlIGJvZHkgdG8gcm90YXRlLiBNYWtlIHN1cmUgdG8gcnVuIC51cGRhdGVNYXNzUHJvcGVydGllcygpIGFmdGVyIGNoYW5naW5nIHRoaXMuCiAgICAvLyBVc2UgdGhpcyBwcm9wZXJ0eSB0byBsaW1pdCB0aGUgbW90aW9uIGFsb25nIGFueSB3b3JsZCBheGlzLiAoMSwxLDEpIHdpbGwgYWxsb3cgbW90aW9uIGFsb25nIGFsbCBheGVzIHdoaWxlICgwLDAsMCkgYWxsb3dzIG5vbmUuCiAgICAvLyBVc2UgdGhpcyBwcm9wZXJ0eSB0byBsaW1pdCB0aGUgcm90YXRpb25hbCBtb3Rpb24gYWxvbmcgYW55IHdvcmxkIGF4aXMuICgxLDEsMSkgd2lsbCBhbGxvdyByb3RhdGlvbiBhbG9uZyBhbGwgYXhlcyB3aGlsZSAoMCwwLDApIGFsbG93cyBub25lLgogICAgLy8gV29ybGQgc3BhY2UgYm91bmRpbmcgYm94IG9mIHRoZSBib2R5IGFuZCBpdHMgc2hhcGVzLgogICAgLy8gSW5kaWNhdGVzIGlmIHRoZSBBQUJCIG5lZWRzIHRvIGJlIHVwZGF0ZWQgYmVmb3JlIHVzZS4KICAgIC8vIFRvdGFsIGJvdW5kaW5nIHJhZGl1cyBvZiB0aGUgQm9keSBpbmNsdWRpbmcgaXRzIHNoYXBlcywgcmVsYXRpdmUgdG8gYm9keS5wb3NpdGlvbi4KICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLmlkID0gQm9keS5pZENvdW50ZXIrKzsKICAgICAgdGhpcy5pbmRleCA9IC0xOwogICAgICB0aGlzLndvcmxkID0gbnVsbDsKICAgICAgdGhpcy5wcmVTdGVwID0gbnVsbDsKICAgICAgdGhpcy5wb3N0U3RlcCA9IG51bGw7CiAgICAgIHRoaXMudmxhbWJkYSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogMTsKICAgICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTsKICAgICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuaW50ZXJwb2xhdGVkUG9zaXRpb24gPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmluaXRQb3NpdGlvbiA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy5wb3NpdGlvbikgewogICAgICAgIHRoaXMucG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICAgICAgdGhpcy5pbml0UG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgfQoKICAgICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy52ZWxvY2l0eSkgewogICAgICAgIHRoaXMudmVsb2NpdHkuY29weShvcHRpb25zLnZlbG9jaXR5KTsKICAgICAgfQoKICAgICAgdGhpcy5pbml0VmVsb2NpdHkgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmZvcmNlID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgbWFzcyA9IHR5cGVvZiBvcHRpb25zLm1hc3MgPT09ICdudW1iZXInID8gb3B0aW9ucy5tYXNzIDogMDsKICAgICAgdGhpcy5tYXNzID0gbWFzczsKICAgICAgdGhpcy5pbnZNYXNzID0gbWFzcyA+IDAgPyAxLjAgLyBtYXNzIDogMDsKICAgICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgfHwgbnVsbDsKICAgICAgdGhpcy5saW5lYXJEYW1waW5nID0gdHlwZW9mIG9wdGlvbnMubGluZWFyRGFtcGluZyA9PT0gJ251bWJlcicgPyBvcHRpb25zLmxpbmVhckRhbXBpbmcgOiAwLjAxOwogICAgICB0aGlzLnR5cGUgPSBtYXNzIDw9IDAuMCA/IEJvZHkuU1RBVElDIDogQm9keS5EWU5BTUlDOwoKICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnR5cGUgPT09IHR5cGVvZiBCb2R5LlNUQVRJQykgewogICAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTsKICAgICAgfQoKICAgICAgdGhpcy5hbGxvd1NsZWVwID0gdHlwZW9mIG9wdGlvbnMuYWxsb3dTbGVlcCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFsbG93U2xlZXAgOiB0cnVlOwogICAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LkFXQUtFOwogICAgICB0aGlzLnNsZWVwU3BlZWRMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCA6IDAuMTsKICAgICAgdGhpcy5zbGVlcFRpbWVMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwVGltZUxpbWl0ICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgOiAxOwogICAgICB0aGlzLnRpbWVMYXN0U2xlZXB5ID0gMDsKICAgICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7CiAgICAgIHRoaXMudG9ycXVlID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5xdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgICAgdGhpcy5pbml0UXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgICAgdGhpcy5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKCiAgICAgIGlmIChvcHRpb25zLnF1YXRlcm5pb24pIHsKICAgICAgICB0aGlzLnF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICAgIHRoaXMuaW5pdFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTsKICAgICAgICB0aGlzLmludGVycG9sYXRlZFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICB9CgogICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eSA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy5hbmd1bGFyVmVsb2NpdHkpIHsKICAgICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jb3B5KG9wdGlvbnMuYW5ndWxhclZlbG9jaXR5KTsKICAgICAgfQoKICAgICAgdGhpcy5pbml0QW5ndWxhclZlbG9jaXR5ID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5zaGFwZXMgPSBbXTsKICAgICAgdGhpcy5zaGFwZU9mZnNldHMgPSBbXTsKICAgICAgdGhpcy5zaGFwZU9yaWVudGF0aW9ucyA9IFtdOwogICAgICB0aGlzLmluZXJ0aWEgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmludkluZXJ0aWEgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmludkluZXJ0aWFXb3JsZCA9IG5ldyBNYXQzKCk7CiAgICAgIHRoaXMuaW52TWFzc1NvbHZlID0gMDsKICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlID0gbmV3IE1hdDMoKTsKICAgICAgdGhpcy5maXhlZFJvdGF0aW9uID0gdHlwZW9mIG9wdGlvbnMuZml4ZWRSb3RhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZpeGVkUm90YXRpb24gOiBmYWxzZTsKICAgICAgdGhpcy5hbmd1bGFyRGFtcGluZyA9IHR5cGVvZiBvcHRpb25zLmFuZ3VsYXJEYW1waW5nICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYW5ndWxhckRhbXBpbmcgOiAwLjAxOwogICAgICB0aGlzLmxpbmVhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpOwoKICAgICAgaWYgKG9wdGlvbnMubGluZWFyRmFjdG9yKSB7CiAgICAgICAgdGhpcy5saW5lYXJGYWN0b3IuY29weShvcHRpb25zLmxpbmVhckZhY3Rvcik7CiAgICAgIH0KCiAgICAgIHRoaXMuYW5ndWxhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpOwoKICAgICAgaWYgKG9wdGlvbnMuYW5ndWxhckZhY3RvcikgewogICAgICAgIHRoaXMuYW5ndWxhckZhY3Rvci5jb3B5KG9wdGlvbnMuYW5ndWxhckZhY3Rvcik7CiAgICAgIH0KCiAgICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7CiAgICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7CiAgICAgIHRoaXMud2xhbWJkYSA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy5zaGFwZSkgewogICAgICAgIHRoaXMuYWRkU2hhcGUob3B0aW9ucy5zaGFwZSk7CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTsKICAgIH0KICAgIC8qKgogICAgICogV2FrZSB0aGUgYm9keSB1cC4KICAgICAqIEBtZXRob2Qgd2FrZVVwCiAgICAgKi8KCgogICAgd2FrZVVwKCkgewogICAgICBjb25zdCBwcmV2U3RhdGUgPSB0aGlzLnNsZWVwU3RhdGU7CiAgICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuQVdBS0U7CiAgICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwoKICAgICAgaWYgKHByZXZTdGF0ZSA9PT0gQm9keS5TTEVFUElORykgewogICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChCb2R5Lndha2V1cEV2ZW50KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBGb3JjZSBib2R5IHNsZWVwCiAgICAgKiBAbWV0aG9kIHNsZWVwCiAgICAgKi8KCgogICAgc2xlZXAoKSB7CiAgICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuU0xFRVBJTkc7CiAgICAgIHRoaXMudmVsb2NpdHkuc2V0KDAsIDAsIDApOwogICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5zZXQoMCwgMCwgMCk7CiAgICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwogICAgfQogICAgLyoqCiAgICAgKiBDYWxsZWQgZXZlcnkgdGltZXN0ZXAgdG8gdXBkYXRlIGludGVybmFsIHNsZWVwIHRpbWVyIGFuZCBjaGFuZ2Ugc2xlZXAgc3RhdGUgaWYgbmVlZGVkLgogICAgICogQG1ldGhvZCBzbGVlcFRpY2sKICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIFRoZSB3b3JsZCB0aW1lIGluIHNlY29uZHMKICAgICAqLwoKCiAgICBzbGVlcFRpY2sodGltZSkgewogICAgICBpZiAodGhpcy5hbGxvd1NsZWVwKSB7CiAgICAgICAgY29uc3Qgc2xlZXBTdGF0ZSA9IHRoaXMuc2xlZXBTdGF0ZTsKICAgICAgICBjb25zdCBzcGVlZFNxdWFyZWQgPSB0aGlzLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIHRoaXMuYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTsKICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZCA9IHRoaXMuc2xlZXBTcGVlZExpbWl0ICoqIDI7CgogICAgICAgIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LkFXQUtFICYmIHNwZWVkU3F1YXJlZCA8IHNwZWVkTGltaXRTcXVhcmVkKSB7CiAgICAgICAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LlNMRUVQWTsgLy8gU2xlZXB5CgogICAgICAgICAgdGhpcy50aW1lTGFzdFNsZWVweSA9IHRpbWU7CiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoQm9keS5zbGVlcHlFdmVudCk7CiAgICAgICAgfSBlbHNlIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQWSAmJiBzcGVlZFNxdWFyZWQgPiBzcGVlZExpbWl0U3F1YXJlZCkgewogICAgICAgICAgdGhpcy53YWtlVXAoKTsgLy8gV2FrZSB1cAogICAgICAgIH0gZWxzZSBpZiAoc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUFkgJiYgdGltZSAtIHRoaXMudGltZUxhc3RTbGVlcHkgPiB0aGlzLnNsZWVwVGltZUxpbWl0KSB7CiAgICAgICAgICB0aGlzLnNsZWVwKCk7IC8vIFNsZWVwaW5nCgogICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkuc2xlZXBFdmVudCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIElmIHRoZSBib2R5IGlzIHNsZWVwaW5nLCBpdCBzaG91bGQgYmUgaW1tb3ZhYmxlIC8gaGF2ZSBpbmZpbml0ZSBtYXNzIGR1cmluZyBzb2x2ZS4gV2Ugc29sdmUgaXQgYnkgaGF2aW5nIGEgc2VwYXJhdGUgInNvbHZlIG1hc3MiLgogICAgICogQG1ldGhvZCB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzCiAgICAgKi8KCgogICAgdXBkYXRlU29sdmVNYXNzUHJvcGVydGllcygpIHsKICAgICAgaWYgKHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyB8fCB0aGlzLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKSB7CiAgICAgICAgdGhpcy5pbnZNYXNzU29sdmUgPSAwOwogICAgICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlLnNldFplcm8oKTsKICAgICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLnNldFplcm8oKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmludk1hc3NTb2x2ZSA9IHRoaXMuaW52TWFzczsKICAgICAgICB0aGlzLmludkluZXJ0aWFTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYSk7CiAgICAgICAgdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYVdvcmxkKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0IGEgd29ybGQgcG9pbnQgdG8gbG9jYWwgYm9keSBmcmFtZS4KICAgICAqIEBtZXRob2QgcG9pbnRUb0xvY2FsRnJhbWUKICAgICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnQKICAgICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdAogICAgICogQHJldHVybiB7VmVjM30KICAgICAqLwoKCiAgICBwb2ludFRvTG9jYWxGcmFtZSh3b3JsZFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByZXN1bHQpOwogICAgICB0aGlzLnF1YXRlcm5pb24uY29uanVnYXRlKCkudm11bHQocmVzdWx0LCByZXN1bHQpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0IGEgd29ybGQgdmVjdG9yIHRvIGxvY2FsIGJvZHkgZnJhbWUuCiAgICAgKiBAbWV0aG9kIHZlY3RvclRvTG9jYWxGcmFtZQogICAgICogQHBhcmFtICB7VmVjM30gd29ybGRQb2ludAogICAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIHZlY3RvclRvTG9jYWxGcmFtZSh3b3JsZFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgICB0aGlzLnF1YXRlcm5pb24uY29uanVnYXRlKCkudm11bHQod29ybGRWZWN0b3IsIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLgogICAgICogQG1ldGhvZCBwb2ludFRvV29ybGRGcmFtZQogICAgICogQHBhcmFtICB7VmVjM30gbG9jYWxQb2ludAogICAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIHBvaW50VG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsUG9pbnQsIHJlc3VsdCk7CiAgICAgIHJlc3VsdC52YWRkKHRoaXMucG9zaXRpb24sIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLgogICAgICogQG1ldGhvZCB2ZWN0b3JUb1dvcmxkRnJhbWUKICAgICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsVmVjdG9yCiAgICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHQKICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgdmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICAgIHRoaXMucXVhdGVybmlvbi52bXVsdChsb2NhbFZlY3RvciwgcmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogQWRkIGEgc2hhcGUgdG8gdGhlIGJvZHkgd2l0aCBhIGxvY2FsIG9mZnNldCBhbmQgb3JpZW50YXRpb24uCiAgICAgKiBAbWV0aG9kIGFkZFNoYXBlCiAgICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZQogICAgICogQHBhcmFtIHtWZWMzfSBbX29mZnNldF0KICAgICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gW19vcmllbnRhdGlvbl0KICAgICAqIEByZXR1cm4ge0JvZHl9IFRoZSBib2R5IG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS4KICAgICAqLwoKCiAgICBhZGRTaGFwZShzaGFwZSwgX29mZnNldCwgX29yaWVudGF0aW9uKSB7CiAgICAgIGNvbnN0IG9mZnNldCA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IG9yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb24oKTsKCiAgICAgIGlmIChfb2Zmc2V0KSB7CiAgICAgICAgb2Zmc2V0LmNvcHkoX29mZnNldCk7CiAgICAgIH0KCiAgICAgIGlmIChfb3JpZW50YXRpb24pIHsKICAgICAgICBvcmllbnRhdGlvbi5jb3B5KF9vcmllbnRhdGlvbik7CiAgICAgIH0KCiAgICAgIHRoaXMuc2hhcGVzLnB1c2goc2hhcGUpOwogICAgICB0aGlzLnNoYXBlT2Zmc2V0cy5wdXNoKG9mZnNldCk7CiAgICAgIHRoaXMuc2hhcGVPcmllbnRhdGlvbnMucHVzaChvcmllbnRhdGlvbik7CiAgICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTsKICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpOwogICAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IHRydWU7CiAgICAgIHNoYXBlLmJvZHkgPSB0aGlzOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGEgc2hhcGUgZnJvbSB0aGUgYm9keS4KICAgICAqIEBtZXRob2QgcmVtb3ZlU2hhcGUKICAgICAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlCiAgICAgKiBAcmV0dXJuIHtCb2R5fSBUaGUgYm9keSBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuCiAgICAgKi8KCgogICAgcmVtb3ZlU2hhcGUoc2hhcGUpIHsKICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnNoYXBlcy5pbmRleE9mKHNoYXBlKTsKCiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1NoYXBlIGRvZXMgbm90IGJlbG9uZyB0byB0aGUgYm9keScpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CgogICAgICB0aGlzLnNoYXBlcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB0aGlzLnNoYXBlT2Zmc2V0cy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB0aGlzLnNoYXBlT3JpZW50YXRpb25zLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTsKICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpOwogICAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IHRydWU7CiAgICAgIHNoYXBlLmJvZHkgPSBudWxsOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlIHRoZSBib3VuZGluZyByYWRpdXMgb2YgdGhlIGJvZHkuIFNob3VsZCBiZSBkb25lIGlmIGFueSBvZiB0aGUgc2hhcGVzIGFyZSBjaGFuZ2VkLgogICAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1cwogICAgICovCgoKICAgIHVwZGF0ZUJvdW5kaW5nUmFkaXVzKCkgewogICAgICBjb25zdCBzaGFwZXMgPSB0aGlzLnNoYXBlczsKICAgICAgY29uc3Qgc2hhcGVPZmZzZXRzID0gdGhpcy5zaGFwZU9mZnNldHM7CiAgICAgIGNvbnN0IE4gPSBzaGFwZXMubGVuZ3RoOwogICAgICBsZXQgcmFkaXVzID0gMDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTsKICAgICAgICBzaGFwZS51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgICAgIGNvbnN0IG9mZnNldCA9IHNoYXBlT2Zmc2V0c1tpXS5sZW5ndGgoKTsKICAgICAgICBjb25zdCByID0gc2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXM7CgogICAgICAgIGlmIChvZmZzZXQgKyByID4gcmFkaXVzKSB7CiAgICAgICAgICByYWRpdXMgPSBvZmZzZXQgKyByOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IHJhZGl1czsKICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlcyB0aGUgLmFhYmIKICAgICAqIEBtZXRob2QgdXBkYXRlQUFCQgogICAgICovCgoKICAgIHVwZGF0ZUFBQkIoKSB7CiAgICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuc2hhcGVzOwogICAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0czsKICAgICAgY29uc3Qgc2hhcGVPcmllbnRhdGlvbnMgPSB0aGlzLnNoYXBlT3JpZW50YXRpb25zOwogICAgICBjb25zdCBOID0gc2hhcGVzLmxlbmd0aDsKICAgICAgY29uc3Qgb2Zmc2V0ID0gdG1wVmVjOwogICAgICBjb25zdCBvcmllbnRhdGlvbiA9IHRtcFF1YXQkMTsKICAgICAgY29uc3QgYm9keVF1YXQgPSB0aGlzLnF1YXRlcm5pb247CiAgICAgIGNvbnN0IGFhYmIgPSB0aGlzLmFhYmI7CiAgICAgIGNvbnN0IHNoYXBlQUFCQiA9IHVwZGF0ZUFBQkJfc2hhcGVBQUJCOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2ldOyAvLyBHZXQgc2hhcGUgd29ybGQgcG9zaXRpb24KCiAgICAgICAgYm9keVF1YXQudm11bHQoc2hhcGVPZmZzZXRzW2ldLCBvZmZzZXQpOwogICAgICAgIG9mZnNldC52YWRkKHRoaXMucG9zaXRpb24sIG9mZnNldCk7IC8vIEdldCBzaGFwZSB3b3JsZCBxdWF0ZXJuaW9uCgogICAgICAgIGJvZHlRdWF0Lm11bHQoc2hhcGVPcmllbnRhdGlvbnNbaV0sIG9yaWVudGF0aW9uKTsgLy8gR2V0IHNoYXBlIEFBQkIKCiAgICAgICAgc2hhcGUuY2FsY3VsYXRlV29ybGRBQUJCKG9mZnNldCwgb3JpZW50YXRpb24sIHNoYXBlQUFCQi5sb3dlckJvdW5kLCBzaGFwZUFBQkIudXBwZXJCb3VuZCk7CgogICAgICAgIGlmIChpID09PSAwKSB7CiAgICAgICAgICBhYWJiLmNvcHkoc2hhcGVBQUJCKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWFiYi5leHRlbmQoc2hhcGVBQUJCKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZSAuaW5lcnRpYVdvcmxkIGFuZCAuaW52SW5lcnRpYVdvcmxkCiAgICAgKiBAbWV0aG9kIHVwZGF0ZUluZXJ0aWFXb3JsZAogICAgICovCgoKICAgIHVwZGF0ZUluZXJ0aWFXb3JsZChmb3JjZSkgewogICAgICBjb25zdCBJID0gdGhpcy5pbnZJbmVydGlhOwogICAgICBpZiAoSS54ID09PSBJLnkgJiYgSS55ID09PSBJLnogJiYgIWZvcmNlKSA7ZWxzZSB7CiAgICAgICAgY29uc3QgbTEgPSB1aXdfbTE7CiAgICAgICAgY29uc3QgbTIgPSB1aXdfbTI7CiAgICAgICAgbTEuc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pOwogICAgICAgIG0xLnRyYW5zcG9zZShtMik7CiAgICAgICAgbTEuc2NhbGUoSSwgbTEpOwogICAgICAgIG0xLm1tdWx0KG0yLCB0aGlzLmludkluZXJ0aWFXb3JsZCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQXBwbHkgZm9yY2UgdG8gYSBwb2ludCBvZiB0aGUgYm9keS4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuCiAgICAgKiBBcHBseWluZyBmb3JjZSB0aGlzIHdheSB3aWxsIGFkZCB0byBCb2R5LmZvcmNlIGFuZCBCb2R5LnRvcnF1ZS4KICAgICAqIEBtZXRob2QgYXBwbHlGb3JjZQogICAgICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGFtb3VudCBvZiBmb3JjZSB0byBhZGQuCiAgICAgKiBAcGFyYW0gIHtWZWMzfSBbcmVsYXRpdmVQb2ludF0gQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3MgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLgogICAgICovCgoKICAgIGFwcGx5Rm9yY2UoZm9yY2UsIHJlbGF0aXZlUG9pbnQgPSBuZXcgVmVjMygpKSB7CiAgICAgIC8vIE5lZWRlZD8KICAgICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgICAgdGhpcy53YWtlVXAoKTsKICAgICAgfSAvLyBDb21wdXRlIHByb2R1Y2VkIHJvdGF0aW9uYWwgZm9yY2UKCgogICAgICBjb25zdCByb3RGb3JjZSA9IEJvZHlfYXBwbHlGb3JjZV9yb3RGb3JjZTsKICAgICAgcmVsYXRpdmVQb2ludC5jcm9zcyhmb3JjZSwgcm90Rm9yY2UpOyAvLyBBZGQgbGluZWFyIGZvcmNlCgogICAgICB0aGlzLmZvcmNlLnZhZGQoZm9yY2UsIHRoaXMuZm9yY2UpOyAvLyBBZGQgcm90YXRpb25hbCBmb3JjZQoKICAgICAgdGhpcy50b3JxdWUudmFkZChyb3RGb3JjZSwgdGhpcy50b3JxdWUpOwogICAgfQogICAgLyoqCiAgICAgKiBBcHBseSBmb3JjZSB0byBhIGxvY2FsIHBvaW50IGluIHRoZSBib2R5LgogICAgICogQG1ldGhvZCBhcHBseUxvY2FsRm9yY2UKICAgICAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS4KICAgICAqIEBwYXJhbSAge1ZlYzN9IFtsb2NhbFBvaW50XSBBIGxvY2FsIHBvaW50IGluIHRoZSBib2R5IHRvIGFwcGx5IHRoZSBmb3JjZSBvbi4KICAgICAqLwoKCiAgICBhcHBseUxvY2FsRm9yY2UobG9jYWxGb3JjZSwgbG9jYWxQb2ludCA9IG5ldyBWZWMzKCkpIHsKICAgICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCB3b3JsZEZvcmNlID0gQm9keV9hcHBseUxvY2FsRm9yY2Vfd29ybGRGb3JjZTsKICAgICAgY29uc3QgcmVsYXRpdmVQb2ludFdvcmxkID0gQm9keV9hcHBseUxvY2FsRm9yY2VfcmVsYXRpdmVQb2ludFdvcmxkOyAvLyBUcmFuc2Zvcm0gdGhlIGZvcmNlIHZlY3RvciB0byB3b3JsZCBzcGFjZQoKICAgICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxGb3JjZSwgd29ybGRGb3JjZSk7CiAgICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7CiAgICAgIHRoaXMuYXBwbHlGb3JjZSh3b3JsZEZvcmNlLCByZWxhdGl2ZVBvaW50V29ybGQpOwogICAgfQogICAgLyoqCiAgICAgKiBBcHBseSB0b3JxdWUgdG8gdGhlIGJvZHkuCiAgICAgKiBAbWV0aG9kIGFwcGx5VG9ycXVlCiAgICAgKiBAcGFyYW0gIHtWZWMzfSB0b3JxdWUgVGhlIGFtb3VudCBvZiB0b3JxdWUgdG8gYWRkLgogICAgICovCgoKICAgIGFwcGx5VG9ycXVlKHRvcnF1ZSkgewogICAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpIHsKICAgICAgICB0aGlzLndha2VVcCgpOwogICAgICB9IC8vIEFkZCByb3RhdGlvbmFsIGZvcmNlCgoKICAgICAgdGhpcy50b3JxdWUudmFkZCh0b3JxdWUsIHRoaXMudG9ycXVlKTsKICAgIH0KICAgIC8qKgogICAgICogQXBwbHkgaW1wdWxzZSB0byBhIHBvaW50IG9mIHRoZSBib2R5LiBUaGlzIGNvdWxkIGZvciBleGFtcGxlIGJlIGEgcG9pbnQgb24gdGhlIEJvZHkgc3VyZmFjZS4KICAgICAqIEFuIGltcHVsc2UgaXMgYSBmb3JjZSBhZGRlZCB0byBhIGJvZHkgZHVyaW5nIGEgc2hvcnQgcGVyaW9kIG9mIHRpbWUgKGltcHVsc2UgPSBmb3JjZSAqIHRpbWUpLgogICAgICogSW1wdWxzZXMgd2lsbCBiZSBhZGRlZCB0byBCb2R5LnZlbG9jaXR5IGFuZCBCb2R5LmFuZ3VsYXJWZWxvY2l0eS4KICAgICAqIEBtZXRob2QgYXBwbHlJbXB1bHNlCiAgICAgKiBAcGFyYW0gIHtWZWMzfSBpbXB1bHNlIFRoZSBhbW91bnQgb2YgaW1wdWxzZSB0byBhZGQuCiAgICAgKiBAcGFyYW0gIHtWZWMzfSByZWxhdGl2ZVBvaW50IEEgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIHRvIGFwcGx5IHRoZSBmb3JjZSBvbi4KICAgICAqLwoKCiAgICBhcHBseUltcHVsc2UoaW1wdWxzZSwgcmVsYXRpdmVQb2ludCA9IG5ldyBWZWMzKCkpIHsKICAgICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgICAgdGhpcy53YWtlVXAoKTsKICAgICAgfSAvLyBDb21wdXRlIHBvaW50IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBib2R5IGNlbnRlcgoKCiAgICAgIGNvbnN0IHIgPSByZWxhdGl2ZVBvaW50OyAvLyBDb21wdXRlIHByb2R1Y2VkIGNlbnRyYWwgaW1wdWxzZSB2ZWxvY2l0eQoKICAgICAgY29uc3QgdmVsbyA9IEJvZHlfYXBwbHlJbXB1bHNlX3ZlbG87CiAgICAgIHZlbG8uY29weShpbXB1bHNlKTsKICAgICAgdmVsby5zY2FsZSh0aGlzLmludk1hc3MsIHZlbG8pOyAvLyBBZGQgbGluZWFyIGltcHVsc2UKCiAgICAgIHRoaXMudmVsb2NpdHkudmFkZCh2ZWxvLCB0aGlzLnZlbG9jaXR5KTsgLy8gQ29tcHV0ZSBwcm9kdWNlZCByb3RhdGlvbmFsIGltcHVsc2UgdmVsb2NpdHkKCiAgICAgIGNvbnN0IHJvdFZlbG8gPSBCb2R5X2FwcGx5SW1wdWxzZV9yb3RWZWxvOwogICAgICByLmNyb3NzKGltcHVsc2UsIHJvdFZlbG8pOwogICAgICAvKgogICAgICAgcm90VmVsby54ICo9IHRoaXMuaW52SW5lcnRpYS54OwogICAgICAgcm90VmVsby55ICo9IHRoaXMuaW52SW5lcnRpYS55OwogICAgICAgcm90VmVsby56ICo9IHRoaXMuaW52SW5lcnRpYS56OwogICAgICAgKi8KCiAgICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkLnZtdWx0KHJvdFZlbG8sIHJvdFZlbG8pOyAvLyBBZGQgcm90YXRpb25hbCBJbXB1bHNlCgogICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS52YWRkKHJvdFZlbG8sIHRoaXMuYW5ndWxhclZlbG9jaXR5KTsKICAgIH0KICAgIC8qKgogICAgICogQXBwbHkgbG9jYWxseS1kZWZpbmVkIGltcHVsc2UgdG8gYSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keS4KICAgICAqIEBtZXRob2QgYXBwbHlMb2NhbEltcHVsc2UKICAgICAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS4KICAgICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQgQSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keSB0byBhcHBseSB0aGUgZm9yY2Ugb24uCiAgICAgKi8KCgogICAgYXBwbHlMb2NhbEltcHVsc2UobG9jYWxJbXB1bHNlLCBsb2NhbFBvaW50ID0gbmV3IFZlYzMoKSkgewogICAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IHdvcmxkSW1wdWxzZSA9IEJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlOwogICAgICBjb25zdCByZWxhdGl2ZVBvaW50V29ybGQgPSBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3JlbGF0aXZlUG9pbnQ7IC8vIFRyYW5zZm9ybSB0aGUgZm9yY2UgdmVjdG9yIHRvIHdvcmxkIHNwYWNlCgogICAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbEltcHVsc2UsIHdvcmxkSW1wdWxzZSk7CiAgICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7CiAgICAgIHRoaXMuYXBwbHlJbXB1bHNlKHdvcmxkSW1wdWxzZSwgcmVsYXRpdmVQb2ludFdvcmxkKTsKICAgIH0KICAgIC8qKgogICAgICogU2hvdWxkIGJlIGNhbGxlZCB3aGVuZXZlciB5b3UgY2hhbmdlIHRoZSBib2R5IHNoYXBlIG9yIG1hc3MuCiAgICAgKiBAbWV0aG9kIHVwZGF0ZU1hc3NQcm9wZXJ0aWVzCiAgICAgKi8KCgogICAgdXBkYXRlTWFzc1Byb3BlcnRpZXMoKSB7CiAgICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50czsKICAgICAgdGhpcy5pbnZNYXNzID0gdGhpcy5tYXNzID4gMCA/IDEuMCAvIHRoaXMubWFzcyA6IDA7CiAgICAgIGNvbnN0IEkgPSB0aGlzLmluZXJ0aWE7CiAgICAgIGNvbnN0IGZpeGVkID0gdGhpcy5maXhlZFJvdGF0aW9uOyAvLyBBcHByb3hpbWF0ZSB3aXRoIEFBQkIgYm94CgogICAgICB0aGlzLnVwZGF0ZUFBQkIoKTsKICAgICAgaGFsZkV4dGVudHMuc2V0KCh0aGlzLmFhYmIudXBwZXJCb3VuZC54IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueCkgLyAyLCAodGhpcy5hYWJiLnVwcGVyQm91bmQueSAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLnkpIC8gMiwgKHRoaXMuYWFiYi51cHBlckJvdW5kLnogLSB0aGlzLmFhYmIubG93ZXJCb3VuZC56KSAvIDIpOwogICAgICBCb3guY2FsY3VsYXRlSW5lcnRpYShoYWxmRXh0ZW50cywgdGhpcy5tYXNzLCBJKTsKICAgICAgdGhpcy5pbnZJbmVydGlhLnNldChJLnggPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueCA6IDAsIEkueSA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS55IDogMCwgSS56ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnogOiAwKTsKICAgICAgdGhpcy51cGRhdGVJbmVydGlhV29ybGQodHJ1ZSk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB3b3JsZCB2ZWxvY2l0eSBvZiBhIHBvaW50IGluIHRoZSBib2R5LgogICAgICogQG1ldGhvZCBnZXRWZWxvY2l0eUF0V29ybGRQb2ludAogICAgICogQHBhcmFtICB7VmVjM30gd29ybGRQb2ludAogICAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgcmVzdWx0IHZlY3Rvci4KICAgICAqLwoKCiAgICBnZXRWZWxvY2l0eUF0V29ybGRQb2ludCh3b3JsZFBvaW50LCByZXN1bHQpIHsKICAgICAgY29uc3QgciA9IG5ldyBWZWMzKCk7CiAgICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByKTsKICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MociwgcmVzdWx0KTsKICAgICAgdGhpcy52ZWxvY2l0eS52YWRkKHJlc3VsdCwgcmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogTW92ZSB0aGUgYm9keSBmb3J3YXJkIGluIHRpbWUuCiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHQgVGltZSBzdGVwCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1YXROb3JtYWxpemUgU2V0IHRvIHRydWUgdG8gbm9ybWFsaXplIHRoZSBib2R5IHF1YXRlcm5pb24KICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVhdE5vcm1hbGl6ZUZhc3QgSWYgdGhlIHF1YXRlcm5pb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWQgdXNpbmcgImZhc3QiIHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbgogICAgICovCgoKICAgIGludGVncmF0ZShkdCwgcXVhdE5vcm1hbGl6ZSwgcXVhdE5vcm1hbGl6ZUZhc3QpIHsKICAgICAgLy8gU2F2ZSBwcmV2aW91cyBwb3NpdGlvbgogICAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24uY29weSh0aGlzLnBvc2l0aW9uKTsKICAgICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24uY29weSh0aGlzLnF1YXRlcm5pb24pOwoKICAgICAgaWYgKCEodGhpcy50eXBlID09PSBCb2R5LkRZTkFNSUMgfHwgdGhpcy50eXBlID09PSBCb2R5LktJTkVNQVRJQykgfHwgdGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgdmVsbyA9IHRoaXMudmVsb2NpdHk7CiAgICAgIGNvbnN0IGFuZ3VsYXJWZWxvID0gdGhpcy5hbmd1bGFyVmVsb2NpdHk7CiAgICAgIGNvbnN0IHBvcyA9IHRoaXMucG9zaXRpb247CiAgICAgIGNvbnN0IGZvcmNlID0gdGhpcy5mb3JjZTsKICAgICAgY29uc3QgdG9ycXVlID0gdGhpcy50b3JxdWU7CiAgICAgIGNvbnN0IHF1YXQgPSB0aGlzLnF1YXRlcm5pb247CiAgICAgIGNvbnN0IGludk1hc3MgPSB0aGlzLmludk1hc3M7CiAgICAgIGNvbnN0IGludkluZXJ0aWEgPSB0aGlzLmludkluZXJ0aWFXb3JsZDsKICAgICAgY29uc3QgbGluZWFyRmFjdG9yID0gdGhpcy5saW5lYXJGYWN0b3I7CiAgICAgIGNvbnN0IGlNZHQgPSBpbnZNYXNzICogZHQ7CiAgICAgIHZlbG8ueCArPSBmb3JjZS54ICogaU1kdCAqIGxpbmVhckZhY3Rvci54OwogICAgICB2ZWxvLnkgKz0gZm9yY2UueSAqIGlNZHQgKiBsaW5lYXJGYWN0b3IueTsKICAgICAgdmVsby56ICs9IGZvcmNlLnogKiBpTWR0ICogbGluZWFyRmFjdG9yLno7CiAgICAgIGNvbnN0IGUgPSBpbnZJbmVydGlhLmVsZW1lbnRzOwogICAgICBjb25zdCBhbmd1bGFyRmFjdG9yID0gdGhpcy5hbmd1bGFyRmFjdG9yOwogICAgICBjb25zdCB0eCA9IHRvcnF1ZS54ICogYW5ndWxhckZhY3Rvci54OwogICAgICBjb25zdCB0eSA9IHRvcnF1ZS55ICogYW5ndWxhckZhY3Rvci55OwogICAgICBjb25zdCB0eiA9IHRvcnF1ZS56ICogYW5ndWxhckZhY3Rvci56OwogICAgICBhbmd1bGFyVmVsby54ICs9IGR0ICogKGVbMF0gKiB0eCArIGVbMV0gKiB0eSArIGVbMl0gKiB0eik7CiAgICAgIGFuZ3VsYXJWZWxvLnkgKz0gZHQgKiAoZVszXSAqIHR4ICsgZVs0XSAqIHR5ICsgZVs1XSAqIHR6KTsKICAgICAgYW5ndWxhclZlbG8ueiArPSBkdCAqIChlWzZdICogdHggKyBlWzddICogdHkgKyBlWzhdICogdHopOyAvLyBVc2UgbmV3IHZlbG9jaXR5ICAtIGxlYXAgZnJvZwoKICAgICAgcG9zLnggKz0gdmVsby54ICogZHQ7CiAgICAgIHBvcy55ICs9IHZlbG8ueSAqIGR0OwogICAgICBwb3MueiArPSB2ZWxvLnogKiBkdDsKICAgICAgcXVhdC5pbnRlZ3JhdGUodGhpcy5hbmd1bGFyVmVsb2NpdHksIGR0LCB0aGlzLmFuZ3VsYXJGYWN0b3IsIHF1YXQpOwoKICAgICAgaWYgKHF1YXROb3JtYWxpemUpIHsKICAgICAgICBpZiAocXVhdE5vcm1hbGl6ZUZhc3QpIHsKICAgICAgICAgIHF1YXQubm9ybWFsaXplRmFzdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBxdWF0Lm5vcm1hbGl6ZSgpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlOyAvLyBVcGRhdGUgd29ybGQgaW5lcnRpYQoKICAgICAgdGhpcy51cGRhdGVJbmVydGlhV29ybGQoKTsKICAgIH0KCiAgfQogIC8qKgogICAqIERpc3BhdGNoZWQgYWZ0ZXIgdHdvIGJvZGllcyBjb2xsaWRlLiBUaGlzIGV2ZW50IGlzIGRpc3BhdGNoZWQgb24gZWFjaAogICAqIG9mIHRoZSB0d28gYm9kaWVzIGludm9sdmVkIGluIHRoZSBjb2xsaXNpb24uCiAgICogQGV2ZW50IGNvbGxpZGUKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHkgVGhlIGJvZHkgdGhhdCB3YXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi4KICAgKiBAcGFyYW0ge0NvbnRhY3RFcXVhdGlvbn0gY29udGFjdCBUaGUgZGV0YWlscyBvZiB0aGUgY29sbGlzaW9uLgogICAqLwoKCiAgQm9keS5DT0xMSURFX0VWRU5UX05BTUUgPSAnY29sbGlkZSc7CiAgLyoqCiAgICogQSBkeW5hbWljIGJvZHkgaXMgZnVsbHkgc2ltdWxhdGVkLiBDYW4gYmUgbW92ZWQgbWFudWFsbHkgYnkgdGhlIHVzZXIsIGJ1dCBub3JtYWxseSB0aGV5IG1vdmUgYWNjb3JkaW5nIHRvIGZvcmNlcy4gQSBkeW5hbWljIGJvZHkgY2FuIGNvbGxpZGUgd2l0aCBhbGwgYm9keSB0eXBlcy4gQSBkeW5hbWljIGJvZHkgYWx3YXlzIGhhcyBmaW5pdGUsIG5vbi16ZXJvIG1hc3MuCiAgICogQHN0YXRpYwogICAqIEBwcm9wZXJ0eSBEWU5BTUlDCiAgICogQHR5cGUge051bWJlcn0KICAgKi8KCiAgQm9keS5EWU5BTUlDID0gMTsKICAvKioKICAgKiBBIHN0YXRpYyBib2R5IGRvZXMgbm90IG1vdmUgZHVyaW5nIHNpbXVsYXRpb24gYW5kIGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIFN0YXRpYyBib2RpZXMgY2FuIGJlIG1vdmVkIG1hbnVhbGx5IGJ5IHNldHRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBib2R5LiBUaGUgdmVsb2NpdHkgb2YgYSBzdGF0aWMgYm9keSBpcyBhbHdheXMgemVyby4gU3RhdGljIGJvZGllcyBkbyBub3QgY29sbGlkZSB3aXRoIG90aGVyIHN0YXRpYyBvciBraW5lbWF0aWMgYm9kaWVzLgogICAqIEBzdGF0aWMKICAgKiBAcHJvcGVydHkgU1RBVElDCiAgICogQHR5cGUge051bWJlcn0KICAgKi8KCiAgQm9keS5TVEFUSUMgPSAyOwogIC8qKgogICAqIEEga2luZW1hdGljIGJvZHkgbW92ZXMgdW5kZXIgc2ltdWxhdGlvbiBhY2NvcmRpbmcgdG8gaXRzIHZlbG9jaXR5LiBUaGV5IGRvIG5vdCByZXNwb25kIHRvIGZvcmNlcy4gVGhleSBjYW4gYmUgbW92ZWQgbWFudWFsbHksIGJ1dCBub3JtYWxseSBhIGtpbmVtYXRpYyBib2R5IGlzIG1vdmVkIGJ5IHNldHRpbmcgaXRzIHZlbG9jaXR5LiBBIGtpbmVtYXRpYyBib2R5IGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIEtpbmVtYXRpYyBib2RpZXMgZG8gbm90IGNvbGxpZGUgd2l0aCBvdGhlciBzdGF0aWMgb3Iga2luZW1hdGljIGJvZGllcy4KICAgKiBAc3RhdGljCiAgICogQHByb3BlcnR5IEtJTkVNQVRJQwogICAqIEB0eXBlIHtOdW1iZXJ9CiAgICovCgogIEJvZHkuS0lORU1BVElDID0gNDsKICAvKioKICAgKiBAc3RhdGljCiAgICogQHByb3BlcnR5IEFXQUtFCiAgICogQHR5cGUge251bWJlcn0KICAgKi8KCiAgQm9keS5BV0FLRSA9IEJPRFlfU0xFRVBfU1RBVEVTLkFXQUtFOwogIEJvZHkuU0xFRVBZID0gQk9EWV9TTEVFUF9TVEFURVMuU0xFRVBZOwogIEJvZHkuU0xFRVBJTkcgPSBCT0RZX1NMRUVQX1NUQVRFUy5TTEVFUElORzsKICBCb2R5LmlkQ291bnRlciA9IDA7CiAgLyoqCiAgICogRGlzcGF0Y2hlZCBhZnRlciBhIHNsZWVwaW5nIGJvZHkgaGFzIHdva2VuIHVwLgogICAqIEBldmVudCB3YWtldXAKICAgKi8KCiAgQm9keS53YWtldXBFdmVudCA9IHsKICAgIHR5cGU6ICd3YWtldXAnCiAgfTsKICAvKioKICAgKiBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgZ29uZSBpbiB0byB0aGUgc2xlZXB5IHN0YXRlLgogICAqIEBldmVudCBzbGVlcHkKICAgKi8KCiAgQm9keS5zbGVlcHlFdmVudCA9IHsKICAgIHR5cGU6ICdzbGVlcHknCiAgfTsKICAvKioKICAgKiBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgZmFsbGVuIGFzbGVlcC4KICAgKiBAZXZlbnQgc2xlZXAKICAgKi8KCiAgQm9keS5zbGVlcEV2ZW50ID0gewogICAgdHlwZTogJ3NsZWVwJwogIH07CiAgY29uc3QgdG1wVmVjID0gbmV3IFZlYzMoKTsKICBjb25zdCB0bXBRdWF0JDEgPSBuZXcgUXVhdGVybmlvbigpOwogIGNvbnN0IHVwZGF0ZUFBQkJfc2hhcGVBQUJCID0gbmV3IEFBQkIoKTsKICBjb25zdCB1aXdfbTEgPSBuZXcgTWF0MygpOwogIGNvbnN0IHVpd19tMiA9IG5ldyBNYXQzKCk7CiAgY29uc3QgQm9keV9hcHBseUZvcmNlX3JvdEZvcmNlID0gbmV3IFZlYzMoKTsKICBjb25zdCBCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlID0gbmV3IFZlYzMoKTsKICBjb25zdCBCb2R5X2FwcGx5TG9jYWxGb3JjZV9yZWxhdGl2ZVBvaW50V29ybGQgPSBuZXcgVmVjMygpOwogIGNvbnN0IEJvZHlfYXBwbHlJbXB1bHNlX3ZlbG8gPSBuZXcgVmVjMygpOwogIGNvbnN0IEJvZHlfYXBwbHlJbXB1bHNlX3JvdFZlbG8gPSBuZXcgVmVjMygpOwogIGNvbnN0IEJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlID0gbmV3IFZlYzMoKTsKICBjb25zdCBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3JlbGF0aXZlUG9pbnQgPSBuZXcgVmVjMygpOwogIGNvbnN0IEJvZHlfdXBkYXRlTWFzc1Byb3BlcnRpZXNfaGFsZkV4dGVudHMgPSBuZXcgVmVjMygpOwogIC8qKgogICAqIEJhc2UgY2xhc3MgZm9yIGJyb2FkcGhhc2UgaW1wbGVtZW50YXRpb25zCiAgICogQGNsYXNzIEJyb2FkcGhhc2UKICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICovCgogIGNsYXNzIEJyb2FkcGhhc2UgewogICAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBmb3IgY29sbGlzaW9ucyBpbi4KICAgIC8vIElmIHNldCB0byB0cnVlLCB0aGUgYnJvYWRwaGFzZSB1c2VzIGJvdW5kaW5nIGJveGVzIGZvciBpbnRlcnNlY3Rpb24gdGVzdCwgZWxzZSBpdCB1c2VzIGJvdW5kaW5nIHNwaGVyZXMuCiAgICAvLyBTZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0cyBpbiB0aGUgd29ybGQgbW92ZWQuCiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICAgIHRoaXMudXNlQm91bmRpbmdCb3hlcyA9IGZhbHNlOwogICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBjb2xsaXNpb24gcGFpcnMgZnJvbSB0aGUgd29ybGQKICAgICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnMKICAgICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkIFRoZSB3b3JsZCB0byBzZWFyY2ggaW4KICAgICAqIEBwYXJhbSB7QXJyYXl9IHAxIEVtcHR5IGFycmF5IHRvIGJlIGZpbGxlZCB3aXRoIGJvZHkgb2JqZWN0cwogICAgICogQHBhcmFtIHtBcnJheX0gcDIgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzCiAgICAgKi8KCgogICAgY29sbGlzaW9uUGFpcnMod29ybGQsIHAxLCBwMikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbGxpc2lvblBhaXJzIG5vdCBpbXBsZW1lbnRlZCBmb3IgdGhpcyBCcm9hZFBoYXNlIGNsYXNzIScpOwogICAgfQogICAgLyoqCiAgICAgKiBDaGVjayBpZiBhIGJvZHkgcGFpciBuZWVkcyB0byBiZSBpbnRlcnNlY3Rpb24gdGVzdGVkIGF0IGFsbC4KICAgICAqIEBtZXRob2QgbmVlZEJyb2FkcGhhc2VDb2xsaXNpb24KICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgICAqIEByZXR1cm4ge2Jvb2x9CiAgICAgKi8KCgogICAgbmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYm9keUEsIGJvZHlCKSB7CiAgICAgIC8vIENoZWNrIGNvbGxpc2lvbiBmaWx0ZXIgbWFza3MKICAgICAgaWYgKChib2R5QS5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlCLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5Qi5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlBLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vIENoZWNrIHR5cGVzCgoKICAgICAgaWYgKCgoYm9keUEudHlwZSAmIEJvZHkuU1RBVElDKSAhPT0gMCB8fCBib2R5QS5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSAmJiAoKGJvZHlCLnR5cGUgJiBCb2R5LlNUQVRJQykgIT09IDAgfHwgYm9keUIuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykpIHsKICAgICAgICAvLyBCb3RoIGJvZGllcyBhcmUgc3RhdGljIG9yIHNsZWVwaW5nLiBTa2lwLgogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIHRoZSBib3VuZGluZyB2b2x1bWVzIG9mIHR3byBib2RpZXMgaW50ZXJzZWN0LgogICAgICogQG1ldGhvZCBpbnRlcnNlY3Rpb25UZXN0CiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCCiAgICAgKiBAcGFyYW0ge2FycmF5fSBwYWlyczEKICAgICAqIEBwYXJhbSB7YXJyYXl9IHBhaXJzMgogICAgICovCgoKICAgIGludGVyc2VjdGlvblRlc3QoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikgewogICAgICBpZiAodGhpcy51c2VCb3VuZGluZ0JveGVzKSB7CiAgICAgICAgdGhpcy5kb0JvdW5kaW5nQm94QnJvYWRwaGFzZShib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIHRoZSBib3VuZGluZyBzcGhlcmVzIG9mIHR3byBib2RpZXMgYXJlIGludGVyc2VjdGluZy4KICAgICAqIEBtZXRob2QgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMSBib2R5QSBpcyBhcHBlbmRlZCB0byB0aGlzIGFycmF5IGlmIGludGVyc2VjdGlvbgogICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMyIGJvZHlCIGlzIGFwcGVuZGVkIHRvIHRoaXMgYXJyYXkgaWYgaW50ZXJzZWN0aW9uCiAgICAgKi8KCgogICAgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikgewogICAgICBjb25zdCByID0gQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19yOwogICAgICBib2R5Qi5wb3NpdGlvbi52c3ViKGJvZHlBLnBvc2l0aW9uLCByKTsKICAgICAgY29uc3QgYm91bmRpbmdSYWRpdXNTdW0yID0gKGJvZHlBLmJvdW5kaW5nUmFkaXVzICsgYm9keUIuYm91bmRpbmdSYWRpdXMpICoqIDI7CiAgICAgIGNvbnN0IG5vcm0yID0gci5sZW5ndGhTcXVhcmVkKCk7CgogICAgICBpZiAobm9ybTIgPCBib3VuZGluZ1JhZGl1c1N1bTIpIHsKICAgICAgICBwYWlyczEucHVzaChib2R5QSk7CiAgICAgICAgcGFpcnMyLnB1c2goYm9keUIpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIHRoZSBib3VuZGluZyBib3hlcyBvZiB0d28gYm9kaWVzIGFyZSBpbnRlcnNlY3RpbmcuCiAgICAgKiBAbWV0aG9kIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlCiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCCiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczEKICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMgogICAgICovCgoKICAgIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpIHsKICAgICAgaWYgKGJvZHlBLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgIGJvZHlBLnVwZGF0ZUFBQkIoKTsKICAgICAgfQoKICAgICAgaWYgKGJvZHlCLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgIGJvZHlCLnVwZGF0ZUFBQkIoKTsKICAgICAgfSAvLyBDaGVjayBBQUJCIC8gQUFCQgoKCiAgICAgIGlmIChib2R5QS5hYWJiLm92ZXJsYXBzKGJvZHlCLmFhYmIpKSB7CiAgICAgICAgcGFpcnMxLnB1c2goYm9keUEpOwogICAgICAgIHBhaXJzMi5wdXNoKGJvZHlCKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSZW1vdmVzIGR1cGxpY2F0ZSBwYWlycyBmcm9tIHRoZSBwYWlyIGFycmF5cy4KICAgICAqIEBtZXRob2QgbWFrZVBhaXJzVW5pcXVlCiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczEKICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMgogICAgICovCgoKICAgIG1ha2VQYWlyc1VuaXF1ZShwYWlyczEsIHBhaXJzMikgewogICAgICBjb25zdCB0ID0gQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfdGVtcDsKICAgICAgY29uc3QgcDEgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMTsKICAgICAgY29uc3QgcDIgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMjsKICAgICAgY29uc3QgTiA9IHBhaXJzMS5sZW5ndGg7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgcDFbaV0gPSBwYWlyczFbaV07CiAgICAgICAgcDJbaV0gPSBwYWlyczJbaV07CiAgICAgIH0KCiAgICAgIHBhaXJzMS5sZW5ndGggPSAwOwogICAgICBwYWlyczIubGVuZ3RoID0gMDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBpZDEgPSBwMVtpXS5pZDsKICAgICAgICBjb25zdCBpZDIgPSBwMltpXS5pZDsKICAgICAgICBjb25zdCBrZXkgPSBpZDEgPCBpZDIgPyBpZDEgKyAiLCIgKyBpZDIgOiBpZDIgKyAiLCIgKyBpZDE7CiAgICAgICAgdFtrZXldID0gaTsKICAgICAgICB0LmtleXMucHVzaChrZXkpOwogICAgICB9CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdC5rZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3Qga2V5ID0gdC5rZXlzLnBvcCgpOwogICAgICAgIGNvbnN0IHBhaXJJbmRleCA9IHRba2V5XTsKICAgICAgICBwYWlyczEucHVzaChwMVtwYWlySW5kZXhdKTsKICAgICAgICBwYWlyczIucHVzaChwMltwYWlySW5kZXhdKTsKICAgICAgICBkZWxldGUgdFtrZXldOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFRvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNhc3NlcwogICAgICogQG1ldGhvZCBzZXRXb3JsZAogICAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQKICAgICAqLwoKCiAgICBzZXRXb3JsZCh3b3JsZCkge30KICAgIC8qKgogICAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHNwaGVyZXMgb2YgdHdvIGJvZGllcyBvdmVybGFwLgogICAgICogQHN0YXRpYwogICAgICogQG1ldGhvZCBib3VuZGluZ1NwaGVyZUNoZWNrCiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCCiAgICAgKiBAcmV0dXJuIHtib29sZWFufQogICAgICovCgoKICAgIHN0YXRpYyBib3VuZGluZ1NwaGVyZUNoZWNrKGJvZHlBLCBib2R5QikgewogICAgICBjb25zdCBkaXN0ID0gbmV3IFZlYzMoKTsgLy8gYnNjX2Rpc3Q7CgogICAgICBib2R5QS5wb3NpdGlvbi52c3ViKGJvZHlCLnBvc2l0aW9uLCBkaXN0KTsKICAgICAgY29uc3Qgc2EgPSBib2R5QS5zaGFwZXNbMF07CiAgICAgIGNvbnN0IHNiID0gYm9keUIuc2hhcGVzWzBdOwogICAgICByZXR1cm4gTWF0aC5wb3coc2EuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzYi5ib3VuZGluZ1NwaGVyZVJhZGl1cywgMikgPiBkaXN0Lmxlbmd0aFNxdWFyZWQoKTsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gdGhlIEFBQkIuCiAgICAgKiBAbWV0aG9kIGFhYmJRdWVyeQogICAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkCiAgICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uCiAgICAgKiBAcmV0dXJuIHthcnJheX0KICAgICAqLwoKCiAgICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCkgewogICAgICBjb25zb2xlLndhcm4oJy5hYWJiUXVlcnkgaXMgbm90IGltcGxlbWVudGVkIGluIHRoaXMgQnJvYWRwaGFzZSBzdWJjbGFzcy4nKTsKICAgICAgcmV0dXJuIFtdOwogICAgfQoKICB9IC8vIFRlbXAgb2JqZWN0cwoKCiAgY29uc3QgQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19yID0gbmV3IFZlYzMoKTsKICBjb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV90ZW1wID0gewogICAga2V5czogW10KICB9OwogIGNvbnN0IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AxID0gW107CiAgY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDIgPSBbXTsKICAvKioKICAgKiBOYWl2ZSBicm9hZHBoYXNlIGltcGxlbWVudGF0aW9uLCB1c2VkIGluIGxhY2sgb2YgYmV0dGVyIG9uZXMuCiAgICogQGNsYXNzIE5haXZlQnJvYWRwaGFzZQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBkZXNjcmlwdGlvbiBUaGUgbmFpdmUgYnJvYWRwaGFzZSBsb29rcyBhdCBhbGwgcG9zc2libGUgcGFpcnMgd2l0aG91dCByZXN0cmljdGlvbiwgdGhlcmVmb3JlIGl0IGhhcyBjb21wbGV4aXR5IE5eMiAod2hpY2ggaXMgYmFkKQogICAqIEBleHRlbmRzIEJyb2FkcGhhc2UKICAgKi8KCiAgY2xhc3MgTmFpdmVCcm9hZHBoYXNlIGV4dGVuZHMgQnJvYWRwaGFzZSB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGFsbCB0aGUgY29sbGlzaW9uIHBhaXJzIGluIHRoZSBwaHlzaWNzIHdvcmxkCiAgICAgKiBAbWV0aG9kIGNvbGxpc2lvblBhaXJzCiAgICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZAogICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMxCiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczIKICAgICAqLwoKCiAgICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcGFpcnMxLCBwYWlyczIpIHsKICAgICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzOwogICAgICBjb25zdCBuID0gYm9kaWVzLmxlbmd0aDsKICAgICAgbGV0IGJpOwogICAgICBsZXQgYmo7IC8vIE5haXZlIE5eMiBmdHchCgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbjsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGk7IGorKykgewogICAgICAgICAgYmkgPSBib2RpZXNbaV07CiAgICAgICAgICBiaiA9IGJvZGllc1tqXTsKCiAgICAgICAgICBpZiAoIXRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmludGVyc2VjdGlvblRlc3QoYmksIGJqLCBwYWlyczEsIHBhaXJzMik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgYWxsIHRoZSBib2RpZXMgd2l0aGluIGFuIEFBQkIuCiAgICAgKiBAbWV0aG9kIGFhYmJRdWVyeQogICAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkCiAgICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi4KICAgICAqIEByZXR1cm4ge2FycmF5fQogICAgICovCgoKICAgIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0ID0gW10pIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JsZC5ib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBiID0gd29ybGQuYm9kaWVzW2ldOwoKICAgICAgICBpZiAoYi5hYWJiTmVlZHNVcGRhdGUpIHsKICAgICAgICAgIGIudXBkYXRlQUFCQigpOwogICAgICAgIH0gLy8gVWdseSBoYWNrIHVudGlsIEJvZHkgZ2V0cyBhYWJiCgoKICAgICAgICBpZiAoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7CiAgICAgICAgICByZXN1bHQucHVzaChiKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogIH0KICAvKioKICAgKiBTdG9yYWdlIGZvciBSYXkgY2FzdGluZyBkYXRhLgogICAqIEBjbGFzcyBSYXljYXN0UmVzdWx0CiAgICogQGNvbnN0cnVjdG9yCiAgICovCgoKICBjbGFzcyBSYXljYXN0UmVzdWx0IHsKICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgaGl0IHRyaWFuZ2xlLCBpZiB0aGUgaGl0IHNoYXBlIHdhcyBhIHRyaW1lc2guCiAgICAvLyBEaXN0YW5jZSB0byB0aGUgaGl0LiBXaWxsIGJlIHNldCB0byAtMSBpZiB0aGVyZSB3YXMgbm8gaGl0LgogICAgLy8gSWYgdGhlIHJheSBzaG91bGQgc3RvcCB0cmF2ZXJzaW5nIHRoZSBib2RpZXMuCiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5yYXlGcm9tV29ybGQgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnJheVRvV29ybGQgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmhpdE5vcm1hbFdvcmxkID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5oaXRQb2ludFdvcmxkID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5oYXNIaXQgPSBmYWxzZTsKICAgICAgdGhpcy5zaGFwZSA9IG51bGw7CiAgICAgIHRoaXMuYm9keSA9IG51bGw7CiAgICAgIHRoaXMuaGl0RmFjZUluZGV4ID0gLTE7CiAgICAgIHRoaXMuZGlzdGFuY2UgPSAtMTsKICAgICAgdGhpcy5zaG91bGRTdG9wID0gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIFJlc2V0IGFsbCByZXN1bHQgZGF0YS4KICAgICAqIEBtZXRob2QgcmVzZXQKICAgICAqLwoKCiAgICByZXNldCgpIHsKICAgICAgdGhpcy5yYXlGcm9tV29ybGQuc2V0WmVybygpOwogICAgICB0aGlzLnJheVRvV29ybGQuc2V0WmVybygpOwogICAgICB0aGlzLmhpdE5vcm1hbFdvcmxkLnNldFplcm8oKTsKICAgICAgdGhpcy5oaXRQb2ludFdvcmxkLnNldFplcm8oKTsKICAgICAgdGhpcy5oYXNIaXQgPSBmYWxzZTsKICAgICAgdGhpcy5zaGFwZSA9IG51bGw7CiAgICAgIHRoaXMuYm9keSA9IG51bGw7CiAgICAgIHRoaXMuaGl0RmFjZUluZGV4ID0gLTE7CiAgICAgIHRoaXMuZGlzdGFuY2UgPSAtMTsKICAgICAgdGhpcy5zaG91bGRTdG9wID0gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgYWJvcnQKICAgICAqLwoKCiAgICBhYm9ydCgpIHsKICAgICAgdGhpcy5zaG91bGRTdG9wID0gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBzZXQKICAgICAqIEBwYXJhbSB7VmVjM30gcmF5RnJvbVdvcmxkCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHJheVRvV29ybGQKICAgICAqIEBwYXJhbSB7VmVjM30gaGl0Tm9ybWFsV29ybGQKICAgICAqIEBwYXJhbSB7VmVjM30gaGl0UG9pbnRXb3JsZAogICAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGUKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keQogICAgICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlCiAgICAgKi8KCgogICAgc2V0KHJheUZyb21Xb3JsZCwgcmF5VG9Xb3JsZCwgaGl0Tm9ybWFsV29ybGQsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSkgewogICAgICB0aGlzLnJheUZyb21Xb3JsZC5jb3B5KHJheUZyb21Xb3JsZCk7CiAgICAgIHRoaXMucmF5VG9Xb3JsZC5jb3B5KHJheVRvV29ybGQpOwogICAgICB0aGlzLmhpdE5vcm1hbFdvcmxkLmNvcHkoaGl0Tm9ybWFsV29ybGQpOwogICAgICB0aGlzLmhpdFBvaW50V29ybGQuY29weShoaXRQb2ludFdvcmxkKTsKICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlOwogICAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7CiAgICB9CgogIH0KICAvKioKICAgKiBBIGxpbmUgaW4gM0Qgc3BhY2UgdGhhdCBpbnRlcnNlY3RzIGJvZGllcyBhbmQgcmV0dXJuIHBvaW50cy4KICAgKiBAY2xhc3MgUmF5CiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtWZWMzfSBmcm9tCiAgICogQHBhcmFtIHtWZWMzfSB0bwogICAqLwoKICBjbGFzcyBSYXkgewogICAgLy8gVGhlIHByZWNpc2lvbiBvZiB0aGUgcmF5LiBVc2VkIHdoZW4gY2hlY2tpbmcgcGFyYWxsZWxpdHkgZXRjLgogICAgLy8gU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdGhlIFJheSB0byB0YWtlIC5jb2xsaXNpb25SZXNwb25zZSBmbGFncyBpbnRvIGFjY291bnQgb24gYm9kaWVzIGFuZCBzaGFwZXMuCiAgICAvLyBJZiBzZXQgdG8gdHJ1ZSwgdGhlIHJheSBza2lwcyBhbnkgaGl0cyB3aXRoIG5vcm1hbC5kb3QocmF5RGlyZWN0aW9uKSA8IDAuCiAgICAvLyBUaGUgaW50ZXJzZWN0aW9uIG1vZGUuIFNob3VsZCBiZSBSYXkuQU5ZLCBSYXkuQUxMIG9yIFJheS5DTE9TRVNULgogICAgLy8gQ3VycmVudCByZXN1bHQgb2JqZWN0LgogICAgLy8gV2lsbCBiZSBzZXQgdG8gdHJ1ZSBkdXJpbmcgaW50ZXJzZWN0V29ybGQoKSBpZiB0aGUgcmF5IGhpdCBhbnl0aGluZy4KICAgIC8vIFVzZXItcHJvdmlkZWQgcmVzdWx0IGNhbGxiYWNrLiBXaWxsIGJlIHVzZWQgaWYgbW9kZSBpcyBSYXkuQUxMLgogICAgY29uc3RydWN0b3IoZnJvbSA9IG5ldyBWZWMzKCksIHRvID0gbmV3IFZlYzMoKSkgewogICAgICB0aGlzLmZyb20gPSBmcm9tLmNsb25lKCk7CiAgICAgIHRoaXMudG8gPSB0by5jbG9uZSgpOwogICAgICB0aGlzLmRpcmVjdGlvbiA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucHJlY2lzaW9uID0gMC4wMDAxOwogICAgICB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0cnVlOwogICAgICB0aGlzLnNraXBCYWNrZmFjZXMgPSBmYWxzZTsKICAgICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gLTE7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSAtMTsKICAgICAgdGhpcy5tb2RlID0gUmF5LkFOWTsKICAgICAgdGhpcy5yZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpOwogICAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwoKICAgICAgdGhpcy5jYWxsYmFjayA9IHJlc3VsdCA9PiB7fTsKICAgIH0KICAgIC8qKgogICAgICogRG8gaXRlcnNlY3Rpb24gYWdhaW5zdCBhbGwgYm9kaWVzIGluIHRoZSBnaXZlbiBXb3JsZC4KICAgICAqIEBtZXRob2QgaW50ZXJzZWN0V29ybGQKICAgICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZAogICAgICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSByYXkgaGl0IGFueXRoaW5nLCBvdGhlcndpc2UgZmFsc2UuCiAgICAgKi8KCgogICAgaW50ZXJzZWN0V29ybGQod29ybGQsIG9wdGlvbnMpIHsKICAgICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IFJheS5BTlk7CiAgICAgIHRoaXMucmVzdWx0ID0gb3B0aW9ucy5yZXN1bHQgfHwgbmV3IFJheWNhc3RSZXN1bHQoKTsKICAgICAgdGhpcy5za2lwQmFja2ZhY2VzID0gISFvcHRpb25zLnNraXBCYWNrZmFjZXM7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrIDogLTE7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogLTE7CiAgICAgIHRoaXMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSA9IHR5cGVvZiBvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKCiAgICAgIGlmIChvcHRpb25zLmZyb20pIHsKICAgICAgICB0aGlzLmZyb20uY29weShvcHRpb25zLmZyb20pOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy50bykgewogICAgICAgIHRoaXMudG8uY29weShvcHRpb25zLnRvKTsKICAgICAgfQoKICAgICAgdGhpcy5jYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2sgfHwgKCgpID0+IHt9KTsKCiAgICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7CiAgICAgIHRoaXMucmVzdWx0LnJlc2V0KCk7CiAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7CiAgICAgIHRoaXMuZ2V0QUFCQih0bXBBQUJCKTsKICAgICAgdG1wQXJyYXkubGVuZ3RoID0gMDsKICAgICAgd29ybGQuYnJvYWRwaGFzZS5hYWJiUXVlcnkod29ybGQsIHRtcEFBQkIsIHRtcEFycmF5KTsKICAgICAgdGhpcy5pbnRlcnNlY3RCb2RpZXModG1wQXJyYXkpOwogICAgICByZXR1cm4gdGhpcy5oYXNIaXQ7CiAgICB9CiAgICAvKioKICAgICAqIFNob290IGEgcmF5IGF0IGEgYm9keSwgZ2V0IGJhY2sgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhpdC4KICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keQogICAgICogQHBhcmFtIHtSYXljYXN0UmVzdWx0fSBbcmVzdWx0XSBEZXByZWNhdGVkIC0gc2V0IHRoZSByZXN1bHQgcHJvcGVydHkgb2YgdGhlIFJheSBpbnN0ZWFkLgogICAgICovCgoKICAgIGludGVyc2VjdEJvZHkoYm9keSwgcmVzdWx0KSB7CiAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDsKICAgICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpOwogICAgICB9CgogICAgICBjb25zdCBjaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlOwoKICAgICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIWJvZHkuY29sbGlzaW9uUmVzcG9uc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICgodGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHkuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDAgfHwgKGJvZHkuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCB4aSA9IGludGVyc2VjdEJvZHlfeGk7CiAgICAgIGNvbnN0IHFpID0gaW50ZXJzZWN0Qm9keV9xaTsKCiAgICAgIGZvciAobGV0IGkgPSAwLCBOID0gYm9keS5zaGFwZXMubGVuZ3RoOyBpIDwgTjsgaSsrKSB7CiAgICAgICAgY29uc3Qgc2hhcGUgPSBib2R5LnNoYXBlc1tpXTsKCiAgICAgICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIXNoYXBlLmNvbGxpc2lvblJlc3BvbnNlKSB7CiAgICAgICAgICBjb250aW51ZTsgLy8gU2tpcAogICAgICAgIH0KCiAgICAgICAgYm9keS5xdWF0ZXJuaW9uLm11bHQoYm9keS5zaGFwZU9yaWVudGF0aW9uc1tpXSwgcWkpOwogICAgICAgIGJvZHkucXVhdGVybmlvbi52bXVsdChib2R5LnNoYXBlT2Zmc2V0c1tpXSwgeGkpOwogICAgICAgIHhpLnZhZGQoYm9keS5wb3NpdGlvbiwgeGkpOwogICAgICAgIHRoaXMuaW50ZXJzZWN0U2hhcGUoc2hhcGUsIHFpLCB4aSwgYm9keSk7CgogICAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBpbnRlcnNlY3RCb2RpZXMKICAgICAqIEBwYXJhbSB7QXJyYXl9IGJvZGllcyBBbiBhcnJheSBvZiBCb2R5IG9iamVjdHMuCiAgICAgKiBAcGFyYW0ge1JheWNhc3RSZXN1bHR9IFtyZXN1bHRdIERlcHJlY2F0ZWQKICAgICAqLwoKCiAgICBpbnRlcnNlY3RCb2RpZXMoYm9kaWVzLCByZXN1bHQpIHsKICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0OwogICAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7CiAgICAgIH0KCiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYm9kaWVzLmxlbmd0aDsgIXRoaXMucmVzdWx0LnNob3VsZFN0b3AgJiYgaSA8IGw7IGkrKykgewogICAgICAgIHRoaXMuaW50ZXJzZWN0Qm9keShib2RpZXNbaV0pOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZXMgdGhlIGRpcmVjdGlvbiB2ZWN0b3IuCiAgICAgKi8KCgogICAgdXBkYXRlRGlyZWN0aW9uKCkgewogICAgICB0aGlzLnRvLnZzdWIodGhpcy5mcm9tLCB0aGlzLmRpcmVjdGlvbik7CiAgICAgIHRoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpOwogICAgfQoKICAgIGludGVyc2VjdFNoYXBlKHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSkgewogICAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOyAvLyBDaGVja2luZyBib3VuZGluZ1NwaGVyZQoKICAgICAgY29uc3QgZGlzdGFuY2UgPSBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb24oZnJvbSwgdGhpcy5kaXJlY3Rpb24sIHBvc2l0aW9uKTsKCiAgICAgIGlmIChkaXN0YW5jZSA+IHNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCBpbnRlcnNlY3RNZXRob2QgPSB0aGlzW3NoYXBlLnR5cGVdOwoKICAgICAgaWYgKGludGVyc2VjdE1ldGhvZCkgewogICAgICAgIGludGVyc2VjdE1ldGhvZC5jYWxsKHRoaXMsIHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgc2hhcGUpOwogICAgICB9CiAgICB9CgogICAgX2ludGVyc2VjdEJveChib3gsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICAgIHJldHVybiB0aGlzLl9pbnRlcnNlY3RDb252ZXgoYm94LmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpOwogICAgfQoKICAgIF9pbnRlcnNlY3RQbGFuZShzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjsgLy8gR2V0IHBsYW5lIG5vcm1hbAoKICAgICAgY29uc3Qgd29ybGROb3JtYWwgPSBuZXcgVmVjMygwLCAwLCAxKTsKICAgICAgcXVhdC52bXVsdCh3b3JsZE5vcm1hbCwgd29ybGROb3JtYWwpOwogICAgICBjb25zdCBsZW4gPSBuZXcgVmVjMygpOwogICAgICBmcm9tLnZzdWIocG9zaXRpb24sIGxlbik7CiAgICAgIGNvbnN0IHBsYW5lVG9Gcm9tID0gbGVuLmRvdCh3b3JsZE5vcm1hbCk7CiAgICAgIHRvLnZzdWIocG9zaXRpb24sIGxlbik7CiAgICAgIGNvbnN0IHBsYW5lVG9UbyA9IGxlbi5kb3Qod29ybGROb3JtYWwpOwoKICAgICAgaWYgKHBsYW5lVG9Gcm9tICogcGxhbmVUb1RvID4gMCkgewogICAgICAgIC8vICJmcm9tIiBhbmQgInRvIiBhcmUgb24gdGhlIHNhbWUgc2lkZSBvZiB0aGUgcGxhbmUuLi4gYmFpbCBvdXQKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChmcm9tLmRpc3RhbmNlVG8odG8pIDwgcGxhbmVUb0Zyb20pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IG5fZG90X2RpciA9IHdvcmxkTm9ybWFsLmRvdChkaXJlY3Rpb24pOwoKICAgICAgaWYgKE1hdGguYWJzKG5fZG90X2RpcikgPCB0aGlzLnByZWNpc2lvbikgewogICAgICAgIC8vIE5vIGludGVyc2VjdGlvbgogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgcGxhbmVQb2ludFRvRnJvbSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGRpcl9zY2FsZWRfd2l0aF90ID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgaGl0UG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7CiAgICAgIGZyb20udnN1Yihwb3NpdGlvbiwgcGxhbmVQb2ludFRvRnJvbSk7CiAgICAgIGNvbnN0IHQgPSAtd29ybGROb3JtYWwuZG90KHBsYW5lUG9pbnRUb0Zyb20pIC8gbl9kb3RfZGlyOwogICAgICBkaXJlY3Rpb24uc2NhbGUodCwgZGlyX3NjYWxlZF93aXRoX3QpOwogICAgICBmcm9tLnZhZGQoZGlyX3NjYWxlZF93aXRoX3QsIGhpdFBvaW50V29ybGQpOwogICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbih3b3JsZE5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHdvcmxkIEFBQkIgb2YgdGhlIHJheS4KICAgICAqLwoKCiAgICBnZXRBQUJCKGFhYmIpIHsKICAgICAgY29uc3QgewogICAgICAgIGxvd2VyQm91bmQsCiAgICAgICAgdXBwZXJCb3VuZAogICAgICB9ID0gYWFiYjsKICAgICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgICBsb3dlckJvdW5kLnggPSBNYXRoLm1pbih0by54LCBmcm9tLngpOwogICAgICBsb3dlckJvdW5kLnkgPSBNYXRoLm1pbih0by55LCBmcm9tLnkpOwogICAgICBsb3dlckJvdW5kLnogPSBNYXRoLm1pbih0by56LCBmcm9tLnopOwogICAgICB1cHBlckJvdW5kLnggPSBNYXRoLm1heCh0by54LCBmcm9tLngpOwogICAgICB1cHBlckJvdW5kLnkgPSBNYXRoLm1heCh0by55LCBmcm9tLnkpOwogICAgICB1cHBlckJvdW5kLnogPSBNYXRoLm1heCh0by56LCBmcm9tLnopOwogICAgfQoKICAgIF9pbnRlcnNlY3RIZWlnaHRmaWVsZChzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgICAgc2hhcGUuZGF0YTsKICAgICAgc2hhcGUuZWxlbWVudFNpemU7IC8vIENvbnZlcnQgdGhlIHJheSB0byBsb2NhbCBoZWlnaHRmaWVsZCBjb29yZGluYXRlcwoKICAgICAgY29uc3QgbG9jYWxSYXkgPSBpbnRlcnNlY3RIZWlnaHRmaWVsZF9sb2NhbFJheTsgLy9uZXcgUmF5KHRoaXMuZnJvbSwgdGhpcy50byk7CgogICAgICBsb2NhbFJheS5mcm9tLmNvcHkodGhpcy5mcm9tKTsKICAgICAgbG9jYWxSYXkudG8uY29weSh0aGlzLnRvKTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBsb2NhbFJheS5mcm9tLCBsb2NhbFJheS5mcm9tKTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBsb2NhbFJheS50bywgbG9jYWxSYXkudG8pOwogICAgICBsb2NhbFJheS51cGRhdGVEaXJlY3Rpb24oKTsgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0CgogICAgICBjb25zdCBpbmRleCA9IGludGVyc2VjdEhlaWdodGZpZWxkX2luZGV4OwogICAgICBsZXQgaU1pblg7CiAgICAgIGxldCBpTWluWTsKICAgICAgbGV0IGlNYXhYOwogICAgICBsZXQgaU1heFk7IC8vIFNldCB0byBtYXgKCiAgICAgIGlNaW5YID0gaU1pblkgPSAwOwogICAgICBpTWF4WCA9IGlNYXhZID0gc2hhcGUuZGF0YS5sZW5ndGggLSAxOwogICAgICBjb25zdCBhYWJiID0gbmV3IEFBQkIoKTsKICAgICAgbG9jYWxSYXkuZ2V0QUFCQihhYWJiKTsKICAgICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIubG93ZXJCb3VuZC54LCBhYWJiLmxvd2VyQm91bmQueSwgaW5kZXgsIHRydWUpOwogICAgICBpTWluWCA9IE1hdGgubWF4KGlNaW5YLCBpbmRleFswXSk7CiAgICAgIGlNaW5ZID0gTWF0aC5tYXgoaU1pblksIGluZGV4WzFdKTsKICAgICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIudXBwZXJCb3VuZC54LCBhYWJiLnVwcGVyQm91bmQueSwgaW5kZXgsIHRydWUpOwogICAgICBpTWF4WCA9IE1hdGgubWluKGlNYXhYLCBpbmRleFswXSArIDEpOwogICAgICBpTWF4WSA9IE1hdGgubWluKGlNYXhZLCBpbmRleFsxXSArIDEpOwoKICAgICAgZm9yIChsZXQgaSA9IGlNaW5YOyBpIDwgaU1heFg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHsKICAgICAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBzaGFwZS5nZXRBYWJiQXRJbmRleChpLCBqLCBhYWJiKTsKCiAgICAgICAgICBpZiAoIWFhYmIub3ZlcmxhcHNSYXkobG9jYWxSYXkpKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfSAvLyBMb3dlciB0cmlhbmdsZQoKCiAgICAgICAgICBzaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7CiAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIHNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpOwoKICAgICAgICAgIHRoaXMuX2ludGVyc2VjdENvbnZleChzaGFwZS5waWxsYXJDb252ZXgsIHF1YXQsIHdvcmxkUGlsbGFyT2Zmc2V0LCBib2R5LCByZXBvcnRlZFNoYXBlLCBpbnRlcnNlY3RDb252ZXhPcHRpb25zKTsKCiAgICAgICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IC8vIFVwcGVyIHRyaWFuZ2xlCgoKICAgICAgICAgIHNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpOwogICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBzaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgICB0aGlzLl9pbnRlcnNlY3RDb252ZXgoc2hhcGUucGlsbGFyQ29udmV4LCBxdWF0LCB3b3JsZFBpbGxhck9mZnNldCwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgaW50ZXJzZWN0Q29udmV4T3B0aW9ucyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgX2ludGVyc2VjdFNwaGVyZShzcGhlcmUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgICAgY29uc3QgciA9IHNwaGVyZS5yYWRpdXM7CiAgICAgIGNvbnN0IGEgPSAodG8ueCAtIGZyb20ueCkgKiogMiArICh0by55IC0gZnJvbS55KSAqKiAyICsgKHRvLnogLSBmcm9tLnopICoqIDI7CiAgICAgIGNvbnN0IGIgPSAyICogKCh0by54IC0gZnJvbS54KSAqIChmcm9tLnggLSBwb3NpdGlvbi54KSArICh0by55IC0gZnJvbS55KSAqIChmcm9tLnkgLSBwb3NpdGlvbi55KSArICh0by56IC0gZnJvbS56KSAqIChmcm9tLnogLSBwb3NpdGlvbi56KSk7CiAgICAgIGNvbnN0IGMgPSAoZnJvbS54IC0gcG9zaXRpb24ueCkgKiogMiArIChmcm9tLnkgLSBwb3NpdGlvbi55KSAqKiAyICsgKGZyb20ueiAtIHBvc2l0aW9uLnopICoqIDIgLSByICoqIDI7CiAgICAgIGNvbnN0IGRlbHRhID0gYiAqKiAyIC0gNCAqIGEgKiBjOwogICAgICBjb25zdCBpbnRlcnNlY3Rpb25Qb2ludCA9IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQ7CiAgICAgIGNvbnN0IG5vcm1hbCA9IFJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsOwoKICAgICAgaWYgKGRlbHRhIDwgMCkgewogICAgICAgIC8vIE5vIGludGVyc2VjdGlvbgogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChkZWx0YSA9PT0gMCkgewogICAgICAgIC8vIHNpbmdsZSBpbnRlcnNlY3Rpb24gcG9pbnQKICAgICAgICBmcm9tLmxlcnAodG8sIGRlbHRhLCBpbnRlcnNlY3Rpb25Qb2ludCk7CiAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTsKICAgICAgICBub3JtYWwubm9ybWFsaXplKCk7CiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGQxID0gKC1iIC0gTWF0aC5zcXJ0KGRlbHRhKSkgLyAoMiAqIGEpOwogICAgICAgIGNvbnN0IGQyID0gKC1iICsgTWF0aC5zcXJ0KGRlbHRhKSkgLyAoMiAqIGEpOwoKICAgICAgICBpZiAoZDEgPj0gMCAmJiBkMSA8PSAxKSB7CiAgICAgICAgICBmcm9tLmxlcnAodG8sIGQxLCBpbnRlcnNlY3Rpb25Qb2ludCk7CiAgICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludC52c3ViKHBvc2l0aW9uLCBub3JtYWwpOwogICAgICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChkMiA+PSAwICYmIGQyIDw9IDEpIHsKICAgICAgICAgIGZyb20ubGVycCh0bywgZDIsIGludGVyc2VjdGlvblBvaW50KTsKICAgICAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7CiAgICAgICAgICBub3JtYWwubm9ybWFsaXplKCk7CiAgICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgX2ludGVyc2VjdENvbnZleChzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUsIG9wdGlvbnMpIHsKICAgICAgY29uc3Qgbm9ybWFsID0gaW50ZXJzZWN0Q29udmV4X25vcm1hbDsKICAgICAgY29uc3QgdmVjdG9yID0gaW50ZXJzZWN0Q29udmV4X3ZlY3RvcjsKICAgICAgY29uc3QgZmFjZUxpc3QgPSBvcHRpb25zICYmIG9wdGlvbnMuZmFjZUxpc3QgfHwgbnVsbDsgLy8gQ2hlY2tpbmcgZmFjZXMKCiAgICAgIGNvbnN0IGZhY2VzID0gc2hhcGUuZmFjZXM7CiAgICAgIGNvbnN0IHZlcnRpY2VzID0gc2hhcGUudmVydGljZXM7CiAgICAgIGNvbnN0IG5vcm1hbHMgPSBzaGFwZS5mYWNlTm9ybWFsczsKICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247CiAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgICAgY29uc3QgZnJvbVRvRGlzdGFuY2UgPSBmcm9tLmRpc3RhbmNlVG8odG8pOwogICAgICBjb25zdCBOZmFjZXMgPSBmYWNlTGlzdCA/IGZhY2VMaXN0Lmxlbmd0aCA6IGZhY2VzLmxlbmd0aDsKICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7CgogICAgICBmb3IgKGxldCBqID0gMDsgIXJlc3VsdC5zaG91bGRTdG9wICYmIGogPCBOZmFjZXM7IGorKykgewogICAgICAgIGNvbnN0IGZpID0gZmFjZUxpc3QgPyBmYWNlTGlzdFtqXSA6IGo7CiAgICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ZpXTsKICAgICAgICBjb25zdCBmYWNlTm9ybWFsID0gbm9ybWFsc1tmaV07CiAgICAgICAgY29uc3QgcSA9IHF1YXQ7CiAgICAgICAgY29uc3QgeCA9IHBvc2l0aW9uOyAvLyBkZXRlcm1pbmUgaWYgcmF5IGludGVyc2VjdHMgdGhlIHBsYW5lIG9mIHRoZSBmYWNlCiAgICAgICAgLy8gbm90ZTogdGhpcyB3b3JrcyByZWdhcmRsZXNzIG9mIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGZhY2Ugbm9ybWFsCiAgICAgICAgLy8gR2V0IHBsYW5lIHBvaW50IGluIHdvcmxkIGNvb3JkaW5hdGVzLi4uCgogICAgICAgIHZlY3Rvci5jb3B5KHZlcnRpY2VzW2ZhY2VbMF1dKTsKICAgICAgICBxLnZtdWx0KHZlY3RvciwgdmVjdG9yKTsKICAgICAgICB2ZWN0b3IudmFkZCh4LCB2ZWN0b3IpOyAvLyAuLi5idXQgbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgcmF5IGZyb20uIFdlJ2xsIGZpeCB0aGlzIGxhdGVyLgoKICAgICAgICB2ZWN0b3IudnN1Yihmcm9tLCB2ZWN0b3IpOyAvLyBHZXQgcGxhbmUgbm9ybWFsCgogICAgICAgIHEudm11bHQoZmFjZU5vcm1hbCwgbm9ybWFsKTsgLy8gSWYgdGhpcyBkb3QgcHJvZHVjdCBpcyBuZWdhdGl2ZSwgd2UgaGF2ZSBzb21ldGhpbmcgaW50ZXJlc3RpbmcKCiAgICAgICAgY29uc3QgZG90ID0gZGlyZWN0aW9uLmRvdChub3JtYWwpOyAvLyBCYWlsIG91dCBpZiByYXkgYW5kIHBsYW5lIGFyZSBwYXJhbGxlbAoKICAgICAgICBpZiAoTWF0aC5hYnMoZG90KSA8IHRoaXMucHJlY2lzaW9uKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9IC8vIGNhbGMgZGlzdGFuY2UgdG8gcGxhbmUKCgogICAgICAgIGNvbnN0IHNjYWxhciA9IG5vcm1hbC5kb3QodmVjdG9yKSAvIGRvdDsgLy8gaWYgbmVnYXRpdmUgZGlzdGFuY2UsIHRoZW4gcGxhbmUgaXMgYmVoaW5kIHJheQoKICAgICAgICBpZiAoc2NhbGFyIDwgMCkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfSAvLyBpZiAoZG90IDwgMCkgewogICAgICAgIC8vIEludGVyc2VjdGlvbiBwb2ludCBpcyBmcm9tICsgZGlyZWN0aW9uICogc2NhbGFyCgoKICAgICAgICBkaXJlY3Rpb24uc2NhbGUoc2NhbGFyLCBpbnRlcnNlY3RQb2ludCk7CiAgICAgICAgaW50ZXJzZWN0UG9pbnQudmFkZChmcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIGEgaXMgdGhlIHBvaW50IHdlIGNvbXBhcmUgcG9pbnRzIGIgYW5kIGMgd2l0aC4KCiAgICAgICAgYS5jb3B5KHZlcnRpY2VzW2ZhY2VbMF1dKTsKICAgICAgICBxLnZtdWx0KGEsIGEpOwogICAgICAgIHgudmFkZChhLCBhKTsKCiAgICAgICAgZm9yIChsZXQgaSA9IDE7ICFyZXN1bHQuc2hvdWxkU3RvcCAmJiBpIDwgZmFjZS5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICAgIC8vIFRyYW5zZm9ybSAzIHZlcnRpY2VzIHRvIHdvcmxkIGNvb3JkcwogICAgICAgICAgYi5jb3B5KHZlcnRpY2VzW2ZhY2VbaV1dKTsKICAgICAgICAgIGMuY29weSh2ZXJ0aWNlc1tmYWNlW2kgKyAxXV0pOwogICAgICAgICAgcS52bXVsdChiLCBiKTsKICAgICAgICAgIHEudm11bHQoYywgYyk7CiAgICAgICAgICB4LnZhZGQoYiwgYik7CiAgICAgICAgICB4LnZhZGQoYywgYyk7CiAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGludGVyc2VjdFBvaW50LmRpc3RhbmNlVG8oZnJvbSk7CgogICAgICAgICAgaWYgKCEocG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBhLCBiLCBjKSB8fCBwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGIsIGEsIGMpKSB8fCBkaXN0YW5jZSA+IGZyb21Ub0Rpc3RhbmNlKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0UG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIGZpKTsKICAgICAgICB9IC8vIH0KCiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQHRvZG8gT3B0aW1pemUgYnkgdHJhbnNmb3JtaW5nIHRoZSB3b3JsZCB0byBsb2NhbCBzcGFjZSBmaXJzdC4KICAgICAqIEB0b2RvIFVzZSBPY3RyZWUgbG9va3VwCiAgICAgKi8KCgogICAgX2ludGVyc2VjdFRyaW1lc2gobWVzaCwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUsIG9wdGlvbnMpIHsKICAgICAgY29uc3Qgbm9ybWFsID0gaW50ZXJzZWN0VHJpbWVzaF9ub3JtYWw7CiAgICAgIGNvbnN0IHRyaWFuZ2xlcyA9IGludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzOwogICAgICBjb25zdCB0cmVlVHJhbnNmb3JtID0gaW50ZXJzZWN0VHJpbWVzaF90cmVlVHJhbnNmb3JtOwogICAgICBjb25zdCB2ZWN0b3IgPSBpbnRlcnNlY3RDb252ZXhfdmVjdG9yOwogICAgICBjb25zdCBsb2NhbERpcmVjdGlvbiA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxEaXJlY3Rpb247CiAgICAgIGNvbnN0IGxvY2FsRnJvbSA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxGcm9tOwogICAgICBjb25zdCBsb2NhbFRvID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbFRvOwogICAgICBjb25zdCB3b3JsZEludGVyc2VjdFBvaW50ID0gaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50OwogICAgICBjb25zdCB3b3JsZE5vcm1hbCA9IGludGVyc2VjdFRyaW1lc2hfd29ybGROb3JtYWw7CiAgICAgIG9wdGlvbnMgJiYgb3B0aW9ucy5mYWNlTGlzdCB8fCBudWxsOyAvLyBDaGVja2luZyBmYWNlcwoKICAgICAgY29uc3QgaW5kaWNlcyA9IG1lc2guaW5kaWNlczsKICAgICAgbWVzaC52ZXJ0aWNlczsgLy8gY29uc3Qgbm9ybWFscyA9IG1lc2guZmFjZU5vcm1hbHMKCiAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247CiAgICAgIHRyZWVUcmFuc2Zvcm0ucG9zaXRpb24uY29weShwb3NpdGlvbik7CiAgICAgIHRyZWVUcmFuc2Zvcm0ucXVhdGVybmlvbi5jb3B5KHF1YXQpOyAvLyBUcmFuc2Zvcm0gcmF5IHRvIGxvY2FsIHNwYWNlIQoKICAgICAgVHJhbnNmb3JtLnZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZGlyZWN0aW9uLCBsb2NhbERpcmVjdGlvbik7CiAgICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZnJvbSwgbG9jYWxGcm9tKTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCB0bywgbG9jYWxUbyk7CiAgICAgIGxvY2FsVG8ueCAqPSBtZXNoLnNjYWxlLng7CiAgICAgIGxvY2FsVG8ueSAqPSBtZXNoLnNjYWxlLnk7CiAgICAgIGxvY2FsVG8ueiAqPSBtZXNoLnNjYWxlLno7CiAgICAgIGxvY2FsRnJvbS54ICo9IG1lc2guc2NhbGUueDsKICAgICAgbG9jYWxGcm9tLnkgKj0gbWVzaC5zY2FsZS55OwogICAgICBsb2NhbEZyb20ueiAqPSBtZXNoLnNjYWxlLno7CiAgICAgIGxvY2FsVG8udnN1Yihsb2NhbEZyb20sIGxvY2FsRGlyZWN0aW9uKTsKICAgICAgbG9jYWxEaXJlY3Rpb24ubm9ybWFsaXplKCk7CiAgICAgIGNvbnN0IGZyb21Ub0Rpc3RhbmNlU3F1YXJlZCA9IGxvY2FsRnJvbS5kaXN0YW5jZVNxdWFyZWQobG9jYWxUbyk7CiAgICAgIG1lc2gudHJlZS5yYXlRdWVyeSh0aGlzLCB0cmVlVHJhbnNmb3JtLCB0cmlhbmdsZXMpOwoKICAgICAgZm9yIChsZXQgaSA9IDAsIE4gPSB0cmlhbmdsZXMubGVuZ3RoOyAhdGhpcy5yZXN1bHQuc2hvdWxkU3RvcCAmJiBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCB0cmlhbmdsZXNJbmRleCA9IHRyaWFuZ2xlc1tpXTsKICAgICAgICBtZXNoLmdldE5vcm1hbCh0cmlhbmdsZXNJbmRleCwgbm9ybWFsKTsgLy8gZGV0ZXJtaW5lIGlmIHJheSBpbnRlcnNlY3RzIHRoZSBwbGFuZSBvZiB0aGUgZmFjZQogICAgICAgIC8vIG5vdGU6IHRoaXMgd29ya3MgcmVnYXJkbGVzcyBvZiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBmYWNlIG5vcm1hbAogICAgICAgIC8vIEdldCBwbGFuZSBwb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcy4uLgoKICAgICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogM10sIGEpOyAvLyAuLi5idXQgbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgcmF5IGZyb20uIFdlJ2xsIGZpeCB0aGlzIGxhdGVyLgoKICAgICAgICBhLnZzdWIobG9jYWxGcm9tLCB2ZWN0b3IpOyAvLyBJZiB0aGlzIGRvdCBwcm9kdWN0IGlzIG5lZ2F0aXZlLCB3ZSBoYXZlIHNvbWV0aGluZyBpbnRlcmVzdGluZwoKICAgICAgICBjb25zdCBkb3QgPSBsb2NhbERpcmVjdGlvbi5kb3Qobm9ybWFsKTsgLy8gQmFpbCBvdXQgaWYgcmF5IGFuZCBwbGFuZSBhcmUgcGFyYWxsZWwKICAgICAgICAvLyBpZiAoTWF0aC5hYnMoIGRvdCApIDwgdGhpcy5wcmVjaXNpb24pewogICAgICAgIC8vICAgICBjb250aW51ZTsKICAgICAgICAvLyB9CiAgICAgICAgLy8gY2FsYyBkaXN0YW5jZSB0byBwbGFuZQoKICAgICAgICBjb25zdCBzY2FsYXIgPSBub3JtYWwuZG90KHZlY3RvcikgLyBkb3Q7IC8vIGlmIG5lZ2F0aXZlIGRpc3RhbmNlLCB0aGVuIHBsYW5lIGlzIGJlaGluZCByYXkKCiAgICAgICAgaWYgKHNjYWxhciA8IDApIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gSW50ZXJzZWN0aW9uIHBvaW50IGlzIGZyb20gKyBkaXJlY3Rpb24gKiBzY2FsYXIKCgogICAgICAgIGxvY2FsRGlyZWN0aW9uLnNjYWxlKHNjYWxhciwgaW50ZXJzZWN0UG9pbnQpOwogICAgICAgIGludGVyc2VjdFBvaW50LnZhZGQobG9jYWxGcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIEdldCB0cmlhbmdsZSB2ZXJ0aWNlcwoKICAgICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogMyArIDFdLCBiKTsKICAgICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogMyArIDJdLCBjKTsKICAgICAgICBjb25zdCBzcXVhcmVkRGlzdGFuY2UgPSBpbnRlcnNlY3RQb2ludC5kaXN0YW5jZVNxdWFyZWQobG9jYWxGcm9tKTsKCiAgICAgICAgaWYgKCEocG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBiLCBhLCBjKSB8fCBwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGEsIGIsIGMpKSB8fCBzcXVhcmVkRGlzdGFuY2UgPiBmcm9tVG9EaXN0YW5jZVNxdWFyZWQpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gdHJhbnNmb3JtIGludGVyc2VjdHBvaW50IGFuZCBub3JtYWwgdG8gd29ybGQKCgogICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUocXVhdCwgbm9ybWFsLCB3b3JsZE5vcm1hbCk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBpbnRlcnNlY3RQb2ludCwgd29ybGRJbnRlcnNlY3RQb2ludCk7CiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24od29ybGROb3JtYWwsIHdvcmxkSW50ZXJzZWN0UG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIHRyaWFuZ2xlc0luZGV4KTsKICAgICAgfQoKICAgICAgdHJpYW5nbGVzLmxlbmd0aCA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGludGVyc2VjdGlvbnMgc2hvdWxkIGNvbnRpbnVlCiAgICAgKi8KCgogICAgcmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGhpdEZhY2VJbmRleCkgewogICAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgICBjb25zdCB0byA9IHRoaXMudG87CiAgICAgIGNvbnN0IGRpc3RhbmNlID0gZnJvbS5kaXN0YW5jZVRvKGhpdFBvaW50V29ybGQpOwogICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDsgLy8gU2tpcCBiYWNrIGZhY2VzPwoKICAgICAgaWYgKHRoaXMuc2tpcEJhY2tmYWNlcyAmJiBub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSA+IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHJlc3VsdC5oaXRGYWNlSW5kZXggPSB0eXBlb2YgaGl0RmFjZUluZGV4ICE9PSAndW5kZWZpbmVkJyA/IGhpdEZhY2VJbmRleCA6IC0xOwoKICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHsKICAgICAgICBjYXNlIFJheS5BTEw6CiAgICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7CiAgICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7CiAgICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuY2FsbGJhY2socmVzdWx0KTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIFJheS5DTE9TRVNUOgogICAgICAgICAgLy8gU3RvcmUgaWYgY2xvc2VyIHRoYW4gY3VycmVudCBjbG9zZXN0CiAgICAgICAgICBpZiAoZGlzdGFuY2UgPCByZXN1bHQuZGlzdGFuY2UgfHwgIXJlc3VsdC5oYXNIaXQpIHsKICAgICAgICAgICAgdGhpcy5oYXNIaXQgPSB0cnVlOwogICAgICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIFJheS5BTlk6CiAgICAgICAgICAvLyBSZXBvcnQgYW5kIHN0b3AuCiAgICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7CiAgICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICAgIHJlc3VsdC5zZXQoZnJvbSwgdG8sIG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKTsKICAgICAgICAgIHJlc3VsdC5zaG91bGRTdG9wID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogIH0KCiAgUmF5LkNMT1NFU1QgPSAxOwogIFJheS5BTlkgPSAyOwogIFJheS5BTEwgPSA0OwogIGNvbnN0IHRtcEFBQkIgPSBuZXcgQUFCQigpOwogIGNvbnN0IHRtcEFycmF5ID0gW107CiAgY29uc3QgdjEgPSBuZXcgVmVjMygpOwogIGNvbnN0IHYyID0gbmV3IFZlYzMoKTsKICAvKgogICAqIEFzIHBlciAiQmFyeWNlbnRyaWMgVGVjaG5pcXVlIiBhcyBuYW1lZCBoZXJlIGh0dHA6Ly93d3cuYmxhY2twYXduLmNvbS90ZXh0cy9wb2ludGlucG9seS9kZWZhdWx0Lmh0bWwgQnV0IHdpdGhvdXQgdGhlIGRpdmlzaW9uCiAgICovCgogIFJheS5wb2ludEluVHJpYW5nbGUgPSBwb2ludEluVHJpYW5nbGU7CgogIGZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShwLCBhLCBiLCBjKSB7CiAgICBjLnZzdWIoYSwgdjApOwogICAgYi52c3ViKGEsIHYxKTsKICAgIHAudnN1YihhLCB2Mik7CiAgICBjb25zdCBkb3QwMCA9IHYwLmRvdCh2MCk7CiAgICBjb25zdCBkb3QwMSA9IHYwLmRvdCh2MSk7CiAgICBjb25zdCBkb3QwMiA9IHYwLmRvdCh2Mik7CiAgICBjb25zdCBkb3QxMSA9IHYxLmRvdCh2MSk7CiAgICBjb25zdCBkb3QxMiA9IHYxLmRvdCh2Mik7CiAgICBsZXQgdTsKICAgIGxldCB2OwogICAgcmV0dXJuICh1ID0gZG90MTEgKiBkb3QwMiAtIGRvdDAxICogZG90MTIpID49IDAgJiYgKHYgPSBkb3QwMCAqIGRvdDEyIC0gZG90MDEgKiBkb3QwMikgPj0gMCAmJiB1ICsgdiA8IGRvdDAwICogZG90MTEgLSBkb3QwMSAqIGRvdDAxOwogIH0KCiAgY29uc3QgaW50ZXJzZWN0Qm9keV94aSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0Qm9keV9xaSA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgY29uc3QgaW50ZXJzZWN0UG9pbnQgPSBuZXcgVmVjMygpOwogIGNvbnN0IGEgPSBuZXcgVmVjMygpOwogIGNvbnN0IGIgPSBuZXcgVmVjMygpOwogIGNvbnN0IGMgPSBuZXcgVmVjMygpOwogIFJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuQk9YXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEJveDsKICBSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLlBMQU5FXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdFBsYW5lOwogIGNvbnN0IGludGVyc2VjdENvbnZleE9wdGlvbnMgPSB7CiAgICBmYWNlTGlzdDogWzBdCiAgfTsKICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXkgPSBuZXcgUmF5KCk7CiAgY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfaW5kZXggPSBbXTsKICBSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLkhFSUdIVEZJRUxEXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEhlaWdodGZpZWxkOwogIGNvbnN0IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQgPSBuZXcgVmVjMygpOwogIGNvbnN0IFJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLlNQSEVSRV0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RTcGhlcmU7CiAgY29uc3QgaW50ZXJzZWN0Q29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0Q29udmV4X3ZlY3RvciA9IG5ldyBWZWMzKCk7CiAgUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5DWUxJTkRFUl0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RDb252ZXg7CiAgUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdENvbnZleDsKICBjb25zdCBpbnRlcnNlY3RUcmltZXNoX25vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbERpcmVjdGlvbiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEZyb20gPSBuZXcgVmVjMygpOwogIGNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxUbyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF93b3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50ID0gbmV3IFZlYzMoKTsKICBuZXcgQUFCQigpOwogIGNvbnN0IGludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzID0gW107CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF90cmVlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpOwogIFJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuVFJJTUVTSF0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RUcmltZXNoOwogIGNvbnN0IHYwID0gbmV3IFZlYzMoKTsKICBjb25zdCBpbnRlcnNlY3QgPSBuZXcgVmVjMygpOwoKICBmdW5jdGlvbiBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb24oZnJvbSwgZGlyZWN0aW9uLCBwb3NpdGlvbikgewogICAgLy8gdjAgaXMgdmVjdG9yIGZyb20gZnJvbSB0byBwb3NpdGlvbgogICAgcG9zaXRpb24udnN1Yihmcm9tLCB2MCk7CiAgICBjb25zdCBkb3QgPSB2MC5kb3QoZGlyZWN0aW9uKTsgLy8gaW50ZXJzZWN0ID0gZGlyZWN0aW9uKmRvdCArIGZyb20KCiAgICBkaXJlY3Rpb24uc2NhbGUoZG90LCBpbnRlcnNlY3QpOwogICAgaW50ZXJzZWN0LnZhZGQoZnJvbSwgaW50ZXJzZWN0KTsKICAgIGNvbnN0IGRpc3RhbmNlID0gcG9zaXRpb24uZGlzdGFuY2VUbyhpbnRlcnNlY3QpOwogICAgcmV0dXJuIGRpc3RhbmNlOwogIH0KICAvKioKICAgKiBTd2VlcCBhbmQgcHJ1bmUgYnJvYWRwaGFzZSBhbG9uZyBvbmUgYXhpcy4KICAgKgogICAqIEBjbGFzcyBTQVBCcm9hZHBoYXNlCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtXb3JsZH0gW3dvcmxkXQogICAqIEBleHRlbmRzIEJyb2FkcGhhc2UKICAgKi8KCgogIGNsYXNzIFNBUEJyb2FkcGhhc2UgZXh0ZW5kcyBCcm9hZHBoYXNlIHsKICAgIC8vIExpc3Qgb2YgYm9kaWVzIGN1cnJlbnRseSBpbiB0aGUgYnJvYWRwaGFzZS4KICAgIC8vIFRoZSB3b3JsZCB0byBzZWFyY2ggaW4uCiAgICAvLyBBeGlzIHRvIHNvcnQgdGhlIGJvZGllcyBhbG9uZy4gU2V0IHRvIDAgZm9yIHggYXhpcywgYW5kIDEgZm9yIHkgYXhpcy4gRm9yIGJlc3QgcGVyZm9ybWFuY2UsIGNob29zZSBhbiBheGlzIHRoYXQgdGhlIGJvZGllcyBhcmUgc3ByZWFkIG91dCBtb3JlIG9uLgogICAgY29uc3RydWN0b3Iod29ybGQpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5heGlzTGlzdCA9IFtdOwogICAgICB0aGlzLndvcmxkID0gbnVsbDsKICAgICAgdGhpcy5heGlzSW5kZXggPSAwOwogICAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7CgogICAgICB0aGlzLl9hZGRCb2R5SGFuZGxlciA9IGV2ZW50ID0+IHsKICAgICAgICBheGlzTGlzdC5wdXNoKGV2ZW50LmJvZHkpOwogICAgICB9OwoKICAgICAgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIgPSBldmVudCA9PiB7CiAgICAgICAgY29uc3QgaWR4ID0gYXhpc0xpc3QuaW5kZXhPZihldmVudC5ib2R5KTsKCiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHsKICAgICAgICAgIGF4aXNMaXN0LnNwbGljZShpZHgsIDEpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGlmICh3b3JsZCkgewogICAgICAgIHRoaXMuc2V0V29ybGQod29ybGQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENoYW5nZSB0aGUgd29ybGQKICAgICAqIEBtZXRob2Qgc2V0V29ybGQKICAgICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZAogICAgICovCgoKICAgIHNldFdvcmxkKHdvcmxkKSB7CiAgICAgIC8vIENsZWFyIHRoZSBvbGQgYXhpcyBhcnJheQogICAgICB0aGlzLmF4aXNMaXN0Lmxlbmd0aCA9IDA7IC8vIEFkZCBhbGwgYm9kaWVzIGZyb20gdGhlIG5ldyB3b3JsZAoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JsZC5ib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLmF4aXNMaXN0LnB1c2god29ybGQuYm9kaWVzW2ldKTsKICAgICAgfSAvLyBSZW1vdmUgb2xkIGhhbmRsZXJzLCBpZiBhbnkKCgogICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdhZGRCb2R5JywgdGhpcy5fYWRkQm9keUhhbmRsZXIpOwogICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdyZW1vdmVCb2R5JywgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpOyAvLyBBZGQgaGFuZGxlcnMgdG8gdXBkYXRlIHRoZSBsaXN0IG9mIGJvZGllcy4KCiAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZEJvZHknLCB0aGlzLl9hZGRCb2R5SGFuZGxlcik7CiAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3JlbW92ZUJvZHknLCB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcik7CiAgICAgIHRoaXMud29ybGQgPSB3b3JsZDsKICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbGxlY3QgYWxsIGNvbGxpc2lvbiBwYWlycwogICAgICogQG1ldGhvZCBjb2xsaXNpb25QYWlycwogICAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkCiAgICAgKiBAcGFyYW0gIHtBcnJheX0gcDEKICAgICAqIEBwYXJhbSAge0FycmF5fSBwMgogICAgICovCgoKICAgIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwMSwgcDIpIHsKICAgICAgY29uc3QgYm9kaWVzID0gdGhpcy5heGlzTGlzdDsKICAgICAgY29uc3QgTiA9IGJvZGllcy5sZW5ndGg7CiAgICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4OwogICAgICBsZXQgaTsKICAgICAgbGV0IGo7CgogICAgICBpZiAodGhpcy5kaXJ0eSkgewogICAgICAgIHRoaXMuc29ydExpc3QoKTsKICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7CiAgICAgIH0gLy8gTG9vayB0aHJvdWdoIHRoZSBsaXN0CgoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgTjsgaisrKSB7CiAgICAgICAgICBjb25zdCBiaiA9IGJvZGllc1tqXTsKCiAgICAgICAgICBpZiAoIXRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIVNBUEJyb2FkcGhhc2UuY2hlY2tCb3VuZHMoYmksIGJqLCBheGlzSW5kZXgpKSB7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGVzdChiaSwgYmosIHAxLCBwMik7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgc29ydExpc3QoKSB7CiAgICAgIGNvbnN0IGF4aXNMaXN0ID0gdGhpcy5heGlzTGlzdDsKICAgICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7CiAgICAgIGNvbnN0IE4gPSBheGlzTGlzdC5sZW5ndGg7IC8vIFVwZGF0ZSBBQUJCcwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IGJpID0gYXhpc0xpc3RbaV07CgogICAgICAgIGlmIChiaS5hYWJiTmVlZHNVcGRhdGUpIHsKICAgICAgICAgIGJpLnVwZGF0ZUFBQkIoKTsKICAgICAgICB9CiAgICAgIH0gLy8gU29ydCB0aGUgbGlzdAoKCiAgICAgIGlmIChheGlzSW5kZXggPT09IDApIHsKICAgICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRYKGF4aXNMaXN0KTsKICAgICAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDEpIHsKICAgICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRZKGF4aXNMaXN0KTsKICAgICAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDIpIHsKICAgICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRaKGF4aXNMaXN0KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlcyB0aGUgdmFyaWFuY2Ugb2YgdGhlIGJvZHkgcG9zaXRpb25zIGFuZCBlc3RpbWF0ZXMgdGhlIGJlc3QKICAgICAqIGF4aXMgdG8gdXNlLiBXaWxsIGF1dG9tYXRpY2FsbHkgc2V0IHByb3BlcnR5IC5heGlzSW5kZXguCiAgICAgKiBAbWV0aG9kIGF1dG9EZXRlY3RBeGlzCiAgICAgKi8KCgogICAgYXV0b0RldGVjdEF4aXMoKSB7CiAgICAgIGxldCBzdW1YID0gMDsKICAgICAgbGV0IHN1bVgyID0gMDsKICAgICAgbGV0IHN1bVkgPSAwOwogICAgICBsZXQgc3VtWTIgPSAwOwogICAgICBsZXQgc3VtWiA9IDA7CiAgICAgIGxldCBzdW1aMiA9IDA7CiAgICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYXhpc0xpc3Q7CiAgICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoOwogICAgICBjb25zdCBpbnZOID0gMSAvIE47CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTsKICAgICAgICBjb25zdCBjZW50ZXJYID0gYi5wb3NpdGlvbi54OwogICAgICAgIHN1bVggKz0gY2VudGVyWDsKICAgICAgICBzdW1YMiArPSBjZW50ZXJYICogY2VudGVyWDsKICAgICAgICBjb25zdCBjZW50ZXJZID0gYi5wb3NpdGlvbi55OwogICAgICAgIHN1bVkgKz0gY2VudGVyWTsKICAgICAgICBzdW1ZMiArPSBjZW50ZXJZICogY2VudGVyWTsKICAgICAgICBjb25zdCBjZW50ZXJaID0gYi5wb3NpdGlvbi56OwogICAgICAgIHN1bVogKz0gY2VudGVyWjsKICAgICAgICBzdW1aMiArPSBjZW50ZXJaICogY2VudGVyWjsKICAgICAgfQoKICAgICAgY29uc3QgdmFyaWFuY2VYID0gc3VtWDIgLSBzdW1YICogc3VtWCAqIGludk47CiAgICAgIGNvbnN0IHZhcmlhbmNlWSA9IHN1bVkyIC0gc3VtWSAqIHN1bVkgKiBpbnZOOwogICAgICBjb25zdCB2YXJpYW5jZVogPSBzdW1aMiAtIHN1bVogKiBzdW1aICogaW52TjsKCiAgICAgIGlmICh2YXJpYW5jZVggPiB2YXJpYW5jZVkpIHsKICAgICAgICBpZiAodmFyaWFuY2VYID4gdmFyaWFuY2VaKSB7CiAgICAgICAgICB0aGlzLmF4aXNJbmRleCA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodmFyaWFuY2VZID4gdmFyaWFuY2VaKSB7CiAgICAgICAgdGhpcy5heGlzSW5kZXggPSAxOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLgogICAgICogQG1ldGhvZCBhYWJiUXVlcnkKICAgICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZAogICAgICogQHBhcmFtICB7QUFCQn0gYWFiYgogICAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uCiAgICAgKiBAcmV0dXJuIHthcnJheX0KICAgICAqLwoKCiAgICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCA9IFtdKSB7CiAgICAgIGlmICh0aGlzLmRpcnR5KSB7CiAgICAgICAgdGhpcy5zb3J0TGlzdCgpOwogICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTsKICAgICAgfQoKICAgICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7CiAgICAgIGxldCBheGlzID0gJ3gnOwoKICAgICAgaWYgKGF4aXNJbmRleCA9PT0gMSkgewogICAgICAgIGF4aXMgPSAneSc7CiAgICAgIH0KCiAgICAgIGlmIChheGlzSW5kZXggPT09IDIpIHsKICAgICAgICBheGlzID0gJ3onOwogICAgICB9CgogICAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7CiAgICAgIGFhYmIubG93ZXJCb3VuZFtheGlzXTsKICAgICAgYWFiYi51cHBlckJvdW5kW2F4aXNdOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGlzTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGIgPSBheGlzTGlzdFtpXTsKCiAgICAgICAgaWYgKGIuYWFiYk5lZWRzVXBkYXRlKSB7CiAgICAgICAgICBiLnVwZGF0ZUFBQkIoKTsKICAgICAgICB9CgogICAgICAgIGlmIChiLmFhYmIub3ZlcmxhcHMoYWFiYikpIHsKICAgICAgICAgIHJlc3VsdC5wdXNoKGIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgfQogIC8qKgogICAqIEBzdGF0aWMKICAgKiBAbWV0aG9kIGluc2VydGlvblNvcnRYCiAgICogQHBhcmFtICB7QXJyYXl9IGEKICAgKiBAcmV0dXJuIHtBcnJheX0KICAgKi8KCgogIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFggPSBhID0+IHsKICAgIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgY29uc3QgdiA9IGFbaV07CiAgICAgIGxldCBqOwoKICAgICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnggPD0gdi5hYWJiLmxvd2VyQm91bmQueCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBhW2ogKyAxXSA9IGFbal07CiAgICAgIH0KCiAgICAgIGFbaiArIDFdID0gdjsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9OwogIC8qKgogICAqIEBzdGF0aWMKICAgKiBAbWV0aG9kIGluc2VydGlvblNvcnRZCiAgICogQHBhcmFtICB7QXJyYXl9IGEKICAgKiBAcmV0dXJuIHtBcnJheX0KICAgKi8KCgogIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFkgPSBhID0+IHsKICAgIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgY29uc3QgdiA9IGFbaV07CiAgICAgIGxldCBqOwoKICAgICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnkgPD0gdi5hYWJiLmxvd2VyQm91bmQueSkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBhW2ogKyAxXSA9IGFbal07CiAgICAgIH0KCiAgICAgIGFbaiArIDFdID0gdjsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9OwogIC8qKgogICAqIEBzdGF0aWMKICAgKiBAbWV0aG9kIGluc2VydGlvblNvcnRaCiAgICogQHBhcmFtICB7QXJyYXl9IGEKICAgKiBAcmV0dXJuIHtBcnJheX0KICAgKi8KCgogIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFogPSBhID0+IHsKICAgIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgY29uc3QgdiA9IGFbaV07CiAgICAgIGxldCBqOwoKICAgICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnogPD0gdi5hYWJiLmxvd2VyQm91bmQueikgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBhW2ogKyAxXSA9IGFbal07CiAgICAgIH0KCiAgICAgIGFbaiArIDFdID0gdjsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9OwogIC8qKgogICAqIENoZWNrIGlmIHRoZSBib3VuZHMgb2YgdHdvIGJvZGllcyBvdmVybGFwLCBhbG9uZyB0aGUgZ2l2ZW4gU0FQIGF4aXMuCiAgICogQHN0YXRpYwogICAqIEBtZXRob2QgY2hlY2tCb3VuZHMKICAgKiBAcGFyYW0gIHtCb2R5fSBiaQogICAqIEBwYXJhbSAge0JvZHl9IGJqCiAgICogQHBhcmFtICB7TnVtYmVyfSBheGlzSW5kZXgKICAgKiBAcmV0dXJuIHtCb29sZWFufQogICAqLwoKCiAgU0FQQnJvYWRwaGFzZS5jaGVja0JvdW5kcyA9IChiaSwgYmosIGF4aXNJbmRleCkgPT4gewogICAgbGV0IGJpUG9zOwogICAgbGV0IGJqUG9zOwoKICAgIGlmIChheGlzSW5kZXggPT09IDApIHsKICAgICAgYmlQb3MgPSBiaS5wb3NpdGlvbi54OwogICAgICBialBvcyA9IGJqLnBvc2l0aW9uLng7CiAgICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMSkgewogICAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLnk7CiAgICAgIGJqUG9zID0gYmoucG9zaXRpb24ueTsKICAgIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAyKSB7CiAgICAgIGJpUG9zID0gYmkucG9zaXRpb24uejsKICAgICAgYmpQb3MgPSBiai5wb3NpdGlvbi56OwogICAgfQoKICAgIGNvbnN0IHJpID0gYmkuYm91bmRpbmdSYWRpdXMsCiAgICAgICAgICByaiA9IGJqLmJvdW5kaW5nUmFkaXVzLAogICAgICAgICAgLy8gYm91bmRBMSA9IGJpUG9zIC0gcmksCiAgICBib3VuZEEyID0gYmlQb3MgKyByaSwKICAgICAgICAgIGJvdW5kQjEgPSBialBvcyAtIHJqOyAvLyBib3VuZEIyID0gYmpQb3MgKyByajsKCiAgICByZXR1cm4gYm91bmRCMSA8IGJvdW5kQTI7CiAgfTsKCiAgY2xhc3MgVXRpbHMgewogICAgLyoqCiAgICAgKiBFeHRlbmQgYW4gb3B0aW9ucyBvYmplY3Qgd2l0aCBkZWZhdWx0IHZhbHVlcy4KICAgICAqIEBzdGF0aWMKICAgICAqIEBtZXRob2QgZGVmYXVsdHMKICAgICAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBvYmplY3QuIE1heSBiZSBmYWxzeTogaW4gdGhpcyBjYXNlLCBhIG5ldyBvYmplY3QgaXMgY3JlYXRlZCBhbmQgcmV0dXJuZWQuCiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IGRlZmF1bHRzIEFuIG9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgdmFsdWVzLgogICAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgbW9kaWZpZWQgb3B0aW9ucyBvYmplY3QuCiAgICAgKi8KICAgIHN0YXRpYyBkZWZhdWx0cyhvcHRpb25zID0ge30sIGRlZmF1bHRzKSB7CiAgICAgIGZvciAobGV0IGtleSBpbiBkZWZhdWx0cykgewogICAgICAgIGlmICghKGtleSBpbiBvcHRpb25zKSkgewogICAgICAgICAgb3B0aW9uc1trZXldID0gZGVmYXVsdHNba2V5XTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBvcHRpb25zOwogICAgfQoKICB9CiAgLyoqCiAgICogQ29uc3RyYWludCBiYXNlIGNsYXNzCiAgICogQGNsYXNzIENvbnN0cmFpbnQKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkPXRydWVdCiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy53YWtlVXBCb2RpZXM9dHJ1ZV0KICAgKi8KCgogIGNsYXNzIENvbnN0cmFpbnQgewogICAgLy8gRXF1YXRpb25zIHRvIGJlIHNvbHZlZCBpbiB0aGlzIGNvbnN0cmFpbnQuCiAgICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgYm9kaWVzIHRvIGNvbGxpZGUgd2hlbiB0aGV5IGFyZSBjb25uZWN0ZWQuCiAgICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICAgIGNvbGxpZGVDb25uZWN0ZWQ6IHRydWUsCiAgICAgICAgd2FrZVVwQm9kaWVzOiB0cnVlCiAgICAgIH0pOwogICAgICB0aGlzLmVxdWF0aW9ucyA9IFtdOwogICAgICB0aGlzLmJvZHlBID0gYm9keUE7CiAgICAgIHRoaXMuYm9keUIgPSBib2R5QjsKICAgICAgdGhpcy5pZCA9IENvbnN0cmFpbnQuaWRDb3VudGVyKys7CiAgICAgIHRoaXMuY29sbGlkZUNvbm5lY3RlZCA9IG9wdGlvbnMuY29sbGlkZUNvbm5lY3RlZDsKCiAgICAgIGlmIChvcHRpb25zLndha2VVcEJvZGllcykgewogICAgICAgIGlmIChib2R5QSkgewogICAgICAgICAgYm9keUEud2FrZVVwKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYm9keUIpIHsKICAgICAgICAgIGJvZHlCLndha2VVcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGUgYWxsIHRoZSBlcXVhdGlvbnMgd2l0aCBkYXRhLgogICAgICogQG1ldGhvZCB1cGRhdGUKICAgICAqLwoKCiAgICB1cGRhdGUoKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignbWV0aG9kIHVwZGF0ZSgpIG5vdCBpbXBsbWVtZW50ZWQgaW4gdGhpcyBDb25zdHJhaW50IHN1YmNsYXNzIScpOwogICAgfQogICAgLyoqCiAgICAgKiBFbmFibGVzIGFsbCBlcXVhdGlvbnMgaW4gdGhlIGNvbnN0cmFpbnQuCiAgICAgKiBAbWV0aG9kIGVuYWJsZQogICAgICovCgoKICAgIGVuYWJsZSgpIHsKICAgICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVxcy5sZW5ndGg7IGkrKykgewogICAgICAgIGVxc1tpXS5lbmFibGVkID0gdHJ1ZTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBEaXNhYmxlcyBhbGwgZXF1YXRpb25zIGluIHRoZSBjb25zdHJhaW50LgogICAgICogQG1ldGhvZCBkaXNhYmxlCiAgICAgKi8KCgogICAgZGlzYWJsZSgpIHsKICAgICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVxcy5sZW5ndGg7IGkrKykgewogICAgICAgIGVxc1tpXS5lbmFibGVkID0gZmFsc2U7CiAgICAgIH0KICAgIH0KCiAgfQoKICBDb25zdHJhaW50LmlkQ291bnRlciA9IDA7CiAgLyoqCiAgICogQW4gZWxlbWVudCBjb250YWluaW5nIDYgZW50cmllcywgMyBzcGF0aWFsIGFuZCAzIHJvdGF0aW9uYWwgZGVncmVlcyBvZiBmcmVlZG9tLgogICAqLwoKICBjbGFzcyBKYWNvYmlhbkVsZW1lbnQgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMuc3BhdGlhbCA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucm90YXRpb25hbCA9IG5ldyBWZWMzKCk7CiAgICB9CiAgICAvKioKICAgICAqIE11bHRpcGx5IHdpdGggb3RoZXIgSmFjb2JpYW5FbGVtZW50CiAgICAgKi8KCgogICAgbXVsdGlwbHlFbGVtZW50KGVsZW1lbnQpIHsKICAgICAgcmV0dXJuIGVsZW1lbnQuc3BhdGlhbC5kb3QodGhpcy5zcGF0aWFsKSArIGVsZW1lbnQucm90YXRpb25hbC5kb3QodGhpcy5yb3RhdGlvbmFsKTsKICAgIH0KICAgIC8qKgogICAgICogTXVsdGlwbHkgd2l0aCB0d28gdmVjdG9ycwogICAgICovCgoKICAgIG11bHRpcGx5VmVjdG9ycyhzcGF0aWFsLCByb3RhdGlvbmFsKSB7CiAgICAgIHJldHVybiBzcGF0aWFsLmRvdCh0aGlzLnNwYXRpYWwpICsgcm90YXRpb25hbC5kb3QodGhpcy5yb3RhdGlvbmFsKTsKICAgIH0KCiAgfQogIC8qKgogICAqIEVxdWF0aW9uIGJhc2UgY2xhc3MKICAgKiBAY2xhc3MgRXF1YXRpb24KICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQHBhcmFtIHtCb2R5fSBiaQogICAqIEBwYXJhbSB7Qm9keX0gYmoKICAgKiBAcGFyYW0ge051bWJlcn0gbWluRm9yY2UgTWluaW11bSAocmVhZDogbmVnYXRpdmUgbWF4KSBmb3JjZSB0byBiZSBhcHBsaWVkIGJ5IHRoZSBjb25zdHJhaW50LgogICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZSBNYXhpbXVtIChyZWFkOiBwb3NpdGl2ZSBtYXgpIGZvcmNlIHRvIGJlIGFwcGxpZWQgYnkgdGhlIGNvbnN0cmFpbnQuCiAgICovCgoKICBjbGFzcyBFcXVhdGlvbiB7CiAgICAvLyBTUE9PSyBwYXJhbWV0ZXIKICAgIC8vIFNQT09LIHBhcmFtZXRlcgogICAgLy8gU1BPT0sgcGFyYW1ldGVyCiAgICAvLyBBIG51bWJlciwgcHJvcG9ydGlvbmFsIHRvIHRoZSBmb3JjZSBhZGRlZCB0byB0aGUgYm9kaWVzLgogICAgY29uc3RydWN0b3IoYmksIGJqLCBtaW5Gb3JjZSA9IC0xZTYsIG1heEZvcmNlID0gMWU2KSB7CiAgICAgIHRoaXMuaWQgPSBFcXVhdGlvbi5pZCsrOwogICAgICB0aGlzLm1pbkZvcmNlID0gbWluRm9yY2U7CiAgICAgIHRoaXMubWF4Rm9yY2UgPSBtYXhGb3JjZTsKICAgICAgdGhpcy5iaSA9IGJpOwogICAgICB0aGlzLmJqID0gYmo7CiAgICAgIHRoaXMuYSA9IDAuMDsgLy8gU1BPT0sgcGFyYW1ldGVyCgogICAgICB0aGlzLmIgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlcgoKICAgICAgdGhpcy5lcHMgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlcgoKICAgICAgdGhpcy5qYWNvYmlhbkVsZW1lbnRBID0gbmV3IEphY29iaWFuRWxlbWVudCgpOwogICAgICB0aGlzLmphY29iaWFuRWxlbWVudEIgPSBuZXcgSmFjb2JpYW5FbGVtZW50KCk7CiAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7CiAgICAgIHRoaXMubXVsdGlwbGllciA9IDA7CiAgICAgIHRoaXMuc2V0U3Bvb2tQYXJhbXMoMWU3LCA0LCAxIC8gNjApOyAvLyBTZXQgdHlwaWNhbCBzcG9vayBwYXJhbXMKICAgIH0KICAgIC8qKgogICAgICogUmVjYWxjdWxhdGVzIGEsYixlcHMuCiAgICAgKiBAbWV0aG9kIHNldFNwb29rUGFyYW1zCiAgICAgKi8KCgogICAgc2V0U3Bvb2tQYXJhbXMoc3RpZmZuZXNzLCByZWxheGF0aW9uLCB0aW1lU3RlcCkgewogICAgICBjb25zdCBkID0gcmVsYXhhdGlvbjsKICAgICAgY29uc3QgayA9IHN0aWZmbmVzczsKICAgICAgY29uc3QgaCA9IHRpbWVTdGVwOwogICAgICB0aGlzLmEgPSA0LjAgLyAoaCAqICgxICsgNCAqIGQpKTsKICAgICAgdGhpcy5iID0gNC4wICogZCAvICgxICsgNCAqIGQpOwogICAgICB0aGlzLmVwcyA9IDQuMCAvIChoICogaCAqIGsgKiAoMSArIDQgKiBkKSk7CiAgICB9CiAgICAvKioKICAgICAqIENvbXB1dGVzIHRoZSByaWdodCBoYW5kIHNpZGUgb2YgdGhlIFNQT09LIGVxdWF0aW9uCiAgICAgKiBAbWV0aG9kIGNvbXB1dGVCCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgY29tcHV0ZUIoYSwgYiwgaCkgewogICAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7CiAgICAgIGNvbnN0IEdxID0gdGhpcy5jb21wdXRlR3EoKTsKICAgICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgICAgcmV0dXJuIC1HcSAqIGEgLSBHVyAqIGIgLSBHaU1mICogaDsKICAgIH0KICAgIC8qKgogICAgICogQ29tcHV0ZXMgRypxLCB3aGVyZSBxIGFyZSB0aGUgZ2VuZXJhbGl6ZWQgYm9keSBjb29yZGluYXRlcwogICAgICogQG1ldGhvZCBjb21wdXRlR3EKICAgICAqIEByZXR1cm4ge051bWJlcn0KICAgICAqLwoKCiAgICBjb21wdXRlR3EoKSB7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICAgIGNvbnN0IHhpID0gYmkucG9zaXRpb247CiAgICAgIGNvbnN0IHhqID0gYmoucG9zaXRpb247CiAgICAgIHJldHVybiBHQS5zcGF0aWFsLmRvdCh4aSkgKyBHQi5zcGF0aWFsLmRvdCh4aik7CiAgICB9CiAgICAvKioKICAgICAqIENvbXB1dGVzIEcqVywgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllcwogICAgICogQG1ldGhvZCBjb21wdXRlR1cKICAgICAqIEByZXR1cm4ge051bWJlcn0KICAgICAqLwoKCiAgICBjb21wdXRlR1coKSB7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICAgIGNvbnN0IHZpID0gYmkudmVsb2NpdHk7CiAgICAgIGNvbnN0IHZqID0gYmoudmVsb2NpdHk7CiAgICAgIGNvbnN0IHdpID0gYmkuYW5ndWxhclZlbG9jaXR5OwogICAgICBjb25zdCB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTsKICAgICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyh2aSwgd2kpICsgR0IubXVsdGlwbHlWZWN0b3JzKHZqLCB3aik7CiAgICB9CiAgICAvKioKICAgICAqIENvbXB1dGVzIEcqV2xhbWJkYSwgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllcwogICAgICogQG1ldGhvZCBjb21wdXRlR1dsYW1iZGEKICAgICAqIEByZXR1cm4ge051bWJlcn0KICAgICAqLwoKCiAgICBjb21wdXRlR1dsYW1iZGEoKSB7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICAgIGNvbnN0IHZpID0gYmkudmxhbWJkYTsKICAgICAgY29uc3QgdmogPSBiai52bGFtYmRhOwogICAgICBjb25zdCB3aSA9IGJpLndsYW1iZGE7CiAgICAgIGNvbnN0IHdqID0gYmoud2xhbWJkYTsKICAgICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyh2aSwgd2kpICsgR0IubXVsdGlwbHlWZWN0b3JzKHZqLCB3aik7CiAgICB9CgogICAgY29tcHV0ZUdpTWYoKSB7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICAgIGNvbnN0IGZpID0gYmkuZm9yY2U7CiAgICAgIGNvbnN0IHRpID0gYmkudG9ycXVlOwogICAgICBjb25zdCBmaiA9IGJqLmZvcmNlOwogICAgICBjb25zdCB0aiA9IGJqLnRvcnF1ZTsKICAgICAgY29uc3QgaW52TWFzc2kgPSBiaS5pbnZNYXNzU29sdmU7CiAgICAgIGNvbnN0IGludk1hc3NqID0gYmouaW52TWFzc1NvbHZlOwogICAgICBmaS5zY2FsZShpbnZNYXNzaSwgaU1maSk7CiAgICAgIGZqLnNjYWxlKGludk1hc3NqLCBpTWZqKTsKICAgICAgYmkuaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQodGksIGludklpX3ZtdWx0X3RhdWkpOwogICAgICBiai5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdCh0aiwgaW52SWpfdm11bHRfdGF1aik7CiAgICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnMoaU1maSwgaW52SWlfdm11bHRfdGF1aSkgKyBHQi5tdWx0aXBseVZlY3RvcnMoaU1maiwgaW52SWpfdm11bHRfdGF1aik7CiAgICB9CgogICAgY29tcHV0ZUdpTUd0KCkgewogICAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgICBjb25zdCBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZTsKICAgICAgY29uc3QgaW52TWFzc2ogPSBiai5pbnZNYXNzU29sdmU7CiAgICAgIGNvbnN0IGludklpID0gYmkuaW52SW5lcnRpYVdvcmxkU29sdmU7CiAgICAgIGNvbnN0IGludklqID0gYmouaW52SW5lcnRpYVdvcmxkU29sdmU7CiAgICAgIGxldCByZXN1bHQgPSBpbnZNYXNzaSArIGludk1hc3NqOwogICAgICBpbnZJaS52bXVsdChHQS5yb3RhdGlvbmFsLCB0bXAkMSk7CiAgICAgIHJlc3VsdCArPSB0bXAkMS5kb3QoR0Eucm90YXRpb25hbCk7CiAgICAgIGludklqLnZtdWx0KEdCLnJvdGF0aW9uYWwsIHRtcCQxKTsKICAgICAgcmVzdWx0ICs9IHRtcCQxLmRvdChHQi5yb3RhdGlvbmFsKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogQWRkIGNvbnN0cmFpbnQgdmVsb2NpdHkgdG8gdGhlIGJvZGllcy4KICAgICAqIEBtZXRob2QgYWRkVG9XbGFtYmRhCiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVsdGFsYW1iZGEKICAgICAqLwoKCiAgICBhZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpIHsKICAgICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgICAgY29uc3QgdGVtcCA9IGFkZFRvV2xhbWJkYV90ZW1wOyAvLyBBZGQgdG8gbGluZWFyIHZlbG9jaXR5CiAgICAgIC8vIHZfbGFtYmRhICs9IGludihNKSAqIGRlbHRhX2xhbWJhICogRwoKICAgICAgYmkudmxhbWJkYS5hZGRTY2FsZWRWZWN0b3IoYmkuaW52TWFzc1NvbHZlICogZGVsdGFsYW1iZGEsIEdBLnNwYXRpYWwsIGJpLnZsYW1iZGEpOwogICAgICBiai52bGFtYmRhLmFkZFNjYWxlZFZlY3Rvcihiai5pbnZNYXNzU29sdmUgKiBkZWx0YWxhbWJkYSwgR0Iuc3BhdGlhbCwgYmoudmxhbWJkYSk7IC8vIEFkZCB0byBhbmd1bGFyIHZlbG9jaXR5CgogICAgICBiaS5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdChHQS5yb3RhdGlvbmFsLCB0ZW1wKTsKICAgICAgYmkud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJpLndsYW1iZGEpOwogICAgICBiai5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdChHQi5yb3RhdGlvbmFsLCB0ZW1wKTsKICAgICAgYmoud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJqLndsYW1iZGEpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBkZW5vbWluYXRvciBwYXJ0IG9mIHRoZSBTUE9PSyBlcXVhdGlvbjogQyA9IEcqaW52KE0pKkcnICsgZXBzCiAgICAgKiBAbWV0aG9kIGNvbXB1dGVJbnZDCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGVwcwogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICovCgoKICAgIGNvbXB1dGVDKCkgewogICAgICByZXR1cm4gdGhpcy5jb21wdXRlR2lNR3QoKSArIHRoaXMuZXBzOwogICAgfQoKICB9CgogIEVxdWF0aW9uLmlkID0gMDsKICAvKioKICAgKiBDb21wdXRlcyBHKmludihNKSpmLCB3aGVyZSBNIGlzIHRoZSBtYXNzIG1hdHJpeCB3aXRoIGRpYWdvbmFsIGJsb2NrcyBmb3IgZWFjaCBib2R5LCBhbmQgZiBhcmUgdGhlIGZvcmNlcyBvbiB0aGUgYm9kaWVzLgogICAqIEBtZXRob2QgY29tcHV0ZUdpTWYKICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICovCgogIGNvbnN0IGlNZmkgPSBuZXcgVmVjMygpOwogIGNvbnN0IGlNZmogPSBuZXcgVmVjMygpOwogIGNvbnN0IGludklpX3ZtdWx0X3RhdWkgPSBuZXcgVmVjMygpOwogIGNvbnN0IGludklqX3ZtdWx0X3RhdWogPSBuZXcgVmVjMygpOwogIC8qKgogICAqIENvbXB1dGVzIEcqaW52KE0pKkcnCiAgICogQG1ldGhvZCBjb21wdXRlR2lNR3QKICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICovCgogIGNvbnN0IHRtcCQxID0gbmV3IFZlYzMoKTsKICBjb25zdCBhZGRUb1dsYW1iZGFfdGVtcCA9IG5ldyBWZWMzKCk7CiAgLyoqCiAgICogQ29udGFjdC9ub24tcGVuZXRyYXRpb24gY29uc3RyYWludCBlcXVhdGlvbgogICAqIEBjbGFzcyBDb250YWN0RXF1YXRpb24KICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAZXh0ZW5kcyBFcXVhdGlvbgogICAqLwoKICBjbGFzcyBDb250YWN0RXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgICAvLyAiYm91bmNpbmVzcyI6IHUxID0gLWUqdTAKICAgIC8vIFdvcmxkLW9yaWVudGVkIHZlY3RvciB0aGF0IGdvZXMgZnJvbSB0aGUgY2VudGVyIG9mIGJpIHRvIHRoZSBjb250YWN0IHBvaW50LgogICAgLy8gV29ybGQtb3JpZW50ZWQgdmVjdG9yIHRoYXQgc3RhcnRzIGluIGJvZHkgaiBwb3NpdGlvbiBhbmQgZ29lcyB0byB0aGUgY29udGFjdCBwb2ludC4KICAgIC8vIENvbnRhY3Qgbm9ybWFsLCBwb2ludGluZyBvdXQgb2YgYm9keSBpLgogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBtYXhGb3JjZSA9IDFlNikgewogICAgICBzdXBlcihib2R5QSwgYm9keUIsIDAsIG1heEZvcmNlKTsKICAgICAgdGhpcy5yZXN0aXR1dGlvbiA9IDAuMDsKICAgICAgdGhpcy5yaSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucmogPSBuZXcgVmVjMygpOwogICAgICB0aGlzLm5pID0gbmV3IFZlYzMoKTsKICAgIH0KCiAgICBjb21wdXRlQihoKSB7CiAgICAgIGNvbnN0IGEgPSB0aGlzLmE7CiAgICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgICBjb25zdCByaSA9IHRoaXMucmk7CiAgICAgIGNvbnN0IHJqID0gdGhpcy5yajsKICAgICAgY29uc3Qgcml4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMTsKICAgICAgY29uc3Qgcmp4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMjsKICAgICAgY29uc3QgdmkgPSBiaS52ZWxvY2l0eTsKICAgICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7CiAgICAgIGJpLmZvcmNlOwogICAgICBiaS50b3JxdWU7CiAgICAgIGNvbnN0IHZqID0gYmoudmVsb2NpdHk7CiAgICAgIGNvbnN0IHdqID0gYmouYW5ndWxhclZlbG9jaXR5OwogICAgICBiai5mb3JjZTsKICAgICAgYmoudG9ycXVlOwogICAgICBjb25zdCBwZW5ldHJhdGlvblZlYyA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMzsKICAgICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgICBjb25zdCBuID0gdGhpcy5uaTsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgICByaS5jcm9zcyhuLCByaXhuKTsKICAgICAgcmouY3Jvc3Mobiwgcmp4bik7IC8vIGcgPSB4aityaiAtKHhpK3JpKQogICAgICAvLyBHID0gWyAtbmkgIC1yaXhuICBuaSAgcmp4biBdCgogICAgICBuLm5lZ2F0ZShHQS5zcGF0aWFsKTsKICAgICAgcml4bi5uZWdhdGUoR0Eucm90YXRpb25hbCk7CiAgICAgIEdCLnNwYXRpYWwuY29weShuKTsKICAgICAgR0Iucm90YXRpb25hbC5jb3B5KHJqeG4pOyAvLyBDYWxjdWxhdGUgdGhlIHBlbmV0cmF0aW9uIHZlY3RvcgoKICAgICAgcGVuZXRyYXRpb25WZWMuY29weShiai5wb3NpdGlvbik7CiAgICAgIHBlbmV0cmF0aW9uVmVjLnZhZGQocmosIHBlbmV0cmF0aW9uVmVjKTsKICAgICAgcGVuZXRyYXRpb25WZWMudnN1YihiaS5wb3NpdGlvbiwgcGVuZXRyYXRpb25WZWMpOwogICAgICBwZW5ldHJhdGlvblZlYy52c3ViKHJpLCBwZW5ldHJhdGlvblZlYyk7CiAgICAgIGNvbnN0IGcgPSBuLmRvdChwZW5ldHJhdGlvblZlYyk7IC8vIENvbXB1dGUgaXRlcmF0aW9uCgogICAgICBjb25zdCBlUGx1c09uZSA9IHRoaXMucmVzdGl0dXRpb24gKyAxOwogICAgICBjb25zdCBHVyA9IGVQbHVzT25lICogdmouZG90KG4pIC0gZVBsdXNPbmUgKiB2aS5kb3QobikgKyB3ai5kb3Qocmp4bikgLSB3aS5kb3Qocml4bik7CiAgICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICAgIGNvbnN0IEIgPSAtZyAqIGEgLSBHVyAqIGIgLSBoICogR2lNZjsKICAgICAgcmV0dXJuIEI7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgY3VycmVudCByZWxhdGl2ZSB2ZWxvY2l0eSBpbiB0aGUgY29udGFjdCBwb2ludC4KICAgICAqIEBtZXRob2QgZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbAogICAgICogQHJldHVybiB7bnVtYmVyfQogICAgICovCgoKICAgIGdldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWwoKSB7CiAgICAgIGNvbnN0IHZpID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmk7CiAgICAgIGNvbnN0IHZqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmo7CiAgICAgIGNvbnN0IHhpID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGk7CiAgICAgIGNvbnN0IHhqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGo7CiAgICAgIGNvbnN0IHJlbFZlbCA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbDsKICAgICAgdGhpcy5iaS5wb3NpdGlvbi52YWRkKHRoaXMucmksIHhpKTsKICAgICAgdGhpcy5iai5wb3NpdGlvbi52YWRkKHRoaXMucmosIHhqKTsKICAgICAgdGhpcy5iaS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh4aSwgdmkpOwogICAgICB0aGlzLmJqLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHhqLCB2aik7CiAgICAgIHZpLnZzdWIodmosIHJlbFZlbCk7CiAgICAgIHJldHVybiB0aGlzLm5pLmRvdChyZWxWZWwpOwogICAgfQoKICB9CgogIGNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMSA9IG5ldyBWZWMzKCk7IC8vIFRlbXAgdmVjdG9ycwoKICBjb25zdCBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDIgPSBuZXcgVmVjMygpOwogIGNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmkgPSBuZXcgVmVjMygpOwogIGNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZqID0gbmV3IFZlYzMoKTsKICBjb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGogPSBuZXcgVmVjMygpOwogIGNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbCA9IG5ldyBWZWMzKCk7CiAgLyoqCiAgICogQ29ubmVjdHMgdHdvIGJvZGllcyBhdCBnaXZlbiBvZmZzZXQgcG9pbnRzLgogICAqIEBjbGFzcyBQb2ludFRvUG9pbnRDb25zdHJhaW50CiAgICogQGV4dGVuZHMgQ29uc3RyYWludAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICAgKiBAcGFyYW0ge1ZlYzN9IHBpdm90QSBUaGUgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIG9mIGJvZHlBIHdoaWNoIGJvZHlBIGlzIGNvbnN0cmFpbmVkIHRvLgogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIgQm9keSB0aGF0IHdpbGwgYmUgY29uc3RyYWluZWQgaW4gYSBzaW1pbGFyIHdheSB0byB0aGUgc2FtZSBwb2ludCBhcyBib2R5QS4gV2Ugd2lsbCB0aGVyZWZvcmUgZ2V0IGEgbGluayBiZXR3ZWVuIGJvZHlBIGFuZCBib2R5Qi4gSWYgbm90IHNwZWNpZmllZCwgYm9keUEgd2lsbCBiZSBjb25zdHJhaW5lZCB0byBhIHN0YXRpYyBwb2ludC4KICAgKiBAcGFyYW0ge1ZlYzN9IHBpdm90QiBTZWUgcGl2b3RBLgogICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZSBUaGUgbWF4aW11bSBmb3JjZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIGNvbnN0cmFpbiB0aGUgYm9kaWVzLgogICAqCiAgICogQGV4YW1wbGUKICAgKiAgICAgY29uc3QgYm9keUEgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSk7CiAgICogICAgIGNvbnN0IGJvZHlCID0gbmV3IEJvZHkoeyBtYXNzOiAxIH0pOwogICAqICAgICBib2R5QS5wb3NpdGlvbi5zZXQoLTEsIDAsIDApOwogICAqICAgICBib2R5Qi5wb3NpdGlvbi5zZXQoMSwgMCwgMCk7CiAgICogICAgIGJvZHlBLmFkZFNoYXBlKHNoYXBlQSk7CiAgICogICAgIGJvZHlCLmFkZFNoYXBlKHNoYXBlQik7CiAgICogICAgIHdvcmxkLmFkZEJvZHkoYm9keUEpOwogICAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHlCKTsKICAgKiAgICAgY29uc3QgbG9jYWxQaXZvdEEgPSBuZXcgVmVjMygxLCAwLCAwKTsKICAgKiAgICAgY29uc3QgbG9jYWxQaXZvdEIgPSBuZXcgVmVjMygtMSwgMCwgMCk7CiAgICogICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBuZXcgUG9pbnRUb1BvaW50Q29uc3RyYWludChib2R5QSwgbG9jYWxQaXZvdEEsIGJvZHlCLCBsb2NhbFBpdm90Qik7CiAgICogICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCk7CiAgICovCgogIGNsYXNzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgZXh0ZW5kcyBDb25zdHJhaW50IHsKICAgIC8vIFBpdm90LCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuCiAgICAvLyBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlCLgogICAgY29uc3RydWN0b3IoYm9keUEsIHBpdm90QSA9IG5ldyBWZWMzKCksIGJvZHlCLCBwaXZvdEIgPSBuZXcgVmVjMygpLCBtYXhGb3JjZSA9IDFlNikgewogICAgICBzdXBlcihib2R5QSwgYm9keUIpOwogICAgICB0aGlzLnBpdm90QSA9IHBpdm90QS5jbG9uZSgpOwogICAgICB0aGlzLnBpdm90QiA9IHBpdm90Qi5jbG9uZSgpOwogICAgICBjb25zdCB4ID0gdGhpcy5lcXVhdGlvblggPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7CiAgICAgIGNvbnN0IHkgPSB0aGlzLmVxdWF0aW9uWSA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsKICAgICAgY29uc3QgeiA9IHRoaXMuZXF1YXRpb25aID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOyAvLyBFcXVhdGlvbnMgdG8gYmUgZmVkIHRvIHRoZSBzb2x2ZXIKCiAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goeCwgeSwgeik7IC8vIE1ha2UgdGhlIGVxdWF0aW9ucyBiaWRpcmVjdGlvbmFsCgogICAgICB4Lm1pbkZvcmNlID0geS5taW5Gb3JjZSA9IHoubWluRm9yY2UgPSAtbWF4Rm9yY2U7CiAgICAgIHgubWF4Rm9yY2UgPSB5Lm1heEZvcmNlID0gei5tYXhGb3JjZSA9IG1heEZvcmNlOwogICAgICB4Lm5pLnNldCgxLCAwLCAwKTsKICAgICAgeS5uaS5zZXQoMCwgMSwgMCk7CiAgICAgIHoubmkuc2V0KDAsIDAsIDEpOwogICAgfQoKICAgIHVwZGF0ZSgpIHsKICAgICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICAgIGNvbnN0IHggPSB0aGlzLmVxdWF0aW9uWDsKICAgICAgY29uc3QgeSA9IHRoaXMuZXF1YXRpb25ZOwogICAgICBjb25zdCB6ID0gdGhpcy5lcXVhdGlvblo7IC8vIFJvdGF0ZSB0aGUgcGl2b3RzIHRvIHdvcmxkIHNwYWNlCgogICAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMucGl2b3RBLCB4LnJpKTsKICAgICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLnBpdm90QiwgeC5yaik7CiAgICAgIHkucmkuY29weSh4LnJpKTsKICAgICAgeS5yai5jb3B5KHgucmopOwogICAgICB6LnJpLmNvcHkoeC5yaSk7CiAgICAgIHoucmouY29weSh4LnJqKTsKICAgIH0KCiAgfQogIC8qKgogICAqIENvbmUgZXF1YXRpb24uIFdvcmtzIHRvIGtlZXAgdGhlIGdpdmVuIGJvZHkgd29ybGQgdmVjdG9ycyBhbGlnbmVkLCBvciB0aWx0ZWQgd2l0aGluIGEgZ2l2ZW4gYW5nbGUgZnJvbSBlYWNoIG90aGVyLgogICAqIEBjbGFzcyBDb25lRXF1YXRpb24KICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXSBMb2NhbCBheGlzIGluIEEKICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXSBMb2NhbCBheGlzIGluIEIKICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmFuZ2xlXSBUaGUgImNvbmUgYW5nbGUiIHRvIGtlZXAKICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQogICAqIEBleHRlbmRzIEVxdWF0aW9uCiAgICovCgoKICBjbGFzcyBDb25lRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgICAvLyBUaGUgY29uZSBhbmdsZSB0byBrZWVwLgogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OwogICAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpOwogICAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApOwogICAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApOwogICAgICB0aGlzLmFuZ2xlID0gdHlwZW9mIG9wdGlvbnMuYW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmdsZSA6IDA7CiAgICB9CgogICAgY29tcHV0ZUIoaCkgewogICAgICBjb25zdCBhID0gdGhpcy5hOwogICAgICBjb25zdCBiID0gdGhpcy5iOwogICAgICBjb25zdCBuaSA9IHRoaXMuYXhpc0E7CiAgICAgIGNvbnN0IG5qID0gdGhpcy5heGlzQjsKICAgICAgY29uc3Qgbml4bmogPSB0bXBWZWMxOwogICAgICBjb25zdCBuanhuaSA9IHRtcFZlYzI7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgICBuaS5jcm9zcyhuaiwgbml4bmopOwogICAgICBuai5jcm9zcyhuaSwgbmp4bmkpOyAvLyBUaGUgYW5nbGUgYmV0d2VlbiB0d28gdmVjdG9yIGlzOgogICAgICAvLyBjb3ModGhldGEpID0gYSAqIGIgLyAobGVuZ3RoKGEpICogbGVuZ3RoKGIpID0geyBsZW4oYSkgPSBsZW4oYikgPSAxIH0gPSBhICogYgogICAgICAvLyBnID0gYSAqIGIKICAgICAgLy8gZ2RvdCA9IChiIHggYSkgKiB3aSArIChhIHggYikgKiB3agogICAgICAvLyBHID0gWzAgYnhhIDAgYXhiXQogICAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXQoKICAgICAgR0Eucm90YXRpb25hbC5jb3B5KG5qeG5pKTsKICAgICAgR0Iucm90YXRpb25hbC5jb3B5KG5peG5qKTsKICAgICAgY29uc3QgZyA9IE1hdGguY29zKHRoaXMuYW5nbGUpIC0gbmkuZG90KG5qKTsKICAgICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpOwogICAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7CiAgICAgIHJldHVybiBCOwogICAgfQoKICB9CgogIGNvbnN0IHRtcFZlYzEgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRtcFZlYzIgPSBuZXcgVmVjMygpOwogIC8qKgogICAqIFJvdGF0aW9uYWwgY29uc3RyYWludC4gV29ya3MgdG8ga2VlcCB0aGUgbG9jYWwgdmVjdG9ycyBvcnRob2dvbmFsIHRvIGVhY2ggb3RoZXIgaW4gd29ybGQgc3BhY2UuCiAgICogQGNsYXNzIFJvdGF0aW9uYWxFcXVhdGlvbgogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBhdXRob3Igc2NodGVwcGUKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QgogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2VdCiAgICogQGV4dGVuZHMgRXF1YXRpb24KICAgKi8KCiAgY2xhc3MgUm90YXRpb25hbEVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24gewogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OwogICAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpOwogICAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApOwogICAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApOwogICAgICB0aGlzLm1heEFuZ2xlID0gTWF0aC5QSSAvIDI7CiAgICB9CgogICAgY29tcHV0ZUIoaCkgewogICAgICBjb25zdCBhID0gdGhpcy5hOwogICAgICBjb25zdCBiID0gdGhpcy5iOwogICAgICBjb25zdCBuaSA9IHRoaXMuYXhpc0E7CiAgICAgIGNvbnN0IG5qID0gdGhpcy5heGlzQjsKICAgICAgY29uc3Qgbml4bmogPSB0bXBWZWMxJDE7CiAgICAgIGNvbnN0IG5qeG5pID0gdG1wVmVjMiQxOwogICAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0cwoKICAgICAgbmkuY3Jvc3MobmosIG5peG5qKTsKICAgICAgbmouY3Jvc3MobmksIG5qeG5pKTsgLy8gZyA9IG5pICogbmoKICAgICAgLy8gZ2RvdCA9IChuaiB4IG5pKSAqIHdpICsgKG5pIHggbmopICogd2oKICAgICAgLy8gRyA9IFswIG5qeG5pIDAgbml4bmpdCiAgICAgIC8vIFcgPSBbdmkgd2kgdmogd2pdCgogICAgICBHQS5yb3RhdGlvbmFsLmNvcHkobmp4bmkpOwogICAgICBHQi5yb3RhdGlvbmFsLmNvcHkobml4bmopOwogICAgICBjb25zdCBnID0gTWF0aC5jb3ModGhpcy5tYXhBbmdsZSkgLSBuaS5kb3QobmopOwogICAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7CiAgICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICAgIGNvbnN0IEIgPSAtZyAqIGEgLSBHVyAqIGIgLSBoICogR2lNZjsKICAgICAgcmV0dXJuIEI7CiAgICB9CgogIH0KCiAgY29uc3QgdG1wVmVjMSQxID0gbmV3IFZlYzMoKTsKICBjb25zdCB0bXBWZWMyJDEgPSBuZXcgVmVjMygpOwogIC8qKgogICAqIEBjbGFzcyBDb25lVHdpc3RDb25zdHJhaW50CiAgICogQGNvbnN0cnVjdG9yCiAgICogQGF1dGhvciBzY2h0ZXBwZQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCCiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RBXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RCXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl0KICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQogICAqIEBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQKICAgKi8KCiAgY2xhc3MgQ29uZVR3aXN0Q29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgewogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OyAvLyBTZXQgcGl2b3QgcG9pbnQgaW4gYmV0d2VlbgoKICAgICAgY29uc3QgcGl2b3RBID0gb3B0aW9ucy5waXZvdEEgPyBvcHRpb25zLnBpdm90QS5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOwogICAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gISFvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7CiAgICAgIHRoaXMuYW5nbGUgPSB0eXBlb2Ygb3B0aW9ucy5hbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFuZ2xlIDogMDsKICAgICAgY29uc3QgYyA9IHRoaXMuY29uZUVxdWF0aW9uID0gbmV3IENvbmVFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICBjb25zdCB0ID0gdGhpcy50d2lzdEVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICB0aGlzLnR3aXN0QW5nbGUgPSB0eXBlb2Ygb3B0aW9ucy50d2lzdEFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMudHdpc3RBbmdsZSA6IDA7IC8vIE1ha2UgdGhlIGNvbmUgZXF1YXRpb24gcHVzaCB0aGUgYm9kaWVzIHRvd2FyZCB0aGUgY29uZSBheGlzLCBub3Qgb3V0d2FyZAoKICAgICAgYy5tYXhGb3JjZSA9IDA7CiAgICAgIGMubWluRm9yY2UgPSAtbWF4Rm9yY2U7IC8vIE1ha2UgdGhlIHR3aXN0IGVxdWF0aW9uIGFkZCB0b3JxdWUgdG93YXJkIHRoZSBpbml0aWFsIHBvc2l0aW9uCgogICAgICB0Lm1heEZvcmNlID0gMDsKICAgICAgdC5taW5Gb3JjZSA9IC1tYXhGb3JjZTsKICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChjLCB0KTsKICAgIH0KCiAgICB1cGRhdGUoKSB7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICBjb25zdCBjb25lID0gdGhpcy5jb25lRXF1YXRpb247CiAgICAgIGNvbnN0IHR3aXN0ID0gdGhpcy50d2lzdEVxdWF0aW9uOwogICAgICBzdXBlci51cGRhdGUoKTsgLy8gVXBkYXRlIHRoZSBheGVzIHRvIHRoZSBjb25lIGNvbnN0cmFpbnQKCiAgICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmF4aXNBLCBjb25lLmF4aXNBKTsKICAgICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0IsIGNvbmUuYXhpc0IpOyAvLyBVcGRhdGUgdGhlIHdvcmxkIGF4ZXMgaW4gdGhlIHR3aXN0IGNvbnN0cmFpbnQKCiAgICAgIHRoaXMuYXhpc0EudGFuZ2VudHModHdpc3QuYXhpc0EsIHR3aXN0LmF4aXNBKTsKICAgICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNBLCB0d2lzdC5heGlzQSk7CiAgICAgIHRoaXMuYXhpc0IudGFuZ2VudHModHdpc3QuYXhpc0IsIHR3aXN0LmF4aXNCKTsKICAgICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNCLCB0d2lzdC5heGlzQik7CiAgICAgIGNvbmUuYW5nbGUgPSB0aGlzLmFuZ2xlOwogICAgICB0d2lzdC5tYXhBbmdsZSA9IHRoaXMudHdpc3RBbmdsZTsKICAgIH0KCiAgfQogIC8qKgogICAqIENvbnN0cmFpbnMgdHdvIGJvZGllcyB0byBiZSBhdCBhIGNvbnN0YW50IGRpc3RhbmNlIGZyb20gZWFjaCBvdGhlcnMgY2VudGVyIG9mIG1hc3MuCiAgICogQGNsYXNzIERpc3RhbmNlQ29uc3RyYWludAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBhdXRob3Igc2NodGVwcGUKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QgogICAqIEBwYXJhbSB7TnVtYmVyfSBbZGlzdGFuY2VdIFRoZSBkaXN0YW5jZSB0byBrZWVwLiBJZiB1bmRlZmluZWQsIGl0IHdpbGwgYmUgc2V0IHRvIHRoZSBjdXJyZW50IGRpc3RhbmNlIGJldHdlZW4gYm9keUEgYW5kIGJvZHlCCiAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhGb3JjZT0xZTZdCiAgICogQGV4dGVuZHMgQ29uc3RyYWludAogICAqLwoKCiAgY2xhc3MgRGlzdGFuY2VDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludCB7CiAgICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIGRpc3RhbmNlLCBtYXhGb3JjZSA9IDFlNikgewogICAgICBzdXBlcihib2R5QSwgYm9keUIpOwoKICAgICAgaWYgKHR5cGVvZiBkaXN0YW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBkaXN0YW5jZSA9IGJvZHlBLnBvc2l0aW9uLmRpc3RhbmNlVG8oYm9keUIucG9zaXRpb24pOwogICAgICB9CgogICAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7CiAgICAgIGNvbnN0IGVxID0gdGhpcy5kaXN0YW5jZUVxdWF0aW9uID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOwogICAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKGVxKTsgLy8gTWFrZSBpdCBiaWRpcmVjdGlvbmFsCgogICAgICBlcS5taW5Gb3JjZSA9IC1tYXhGb3JjZTsKICAgICAgZXEubWF4Rm9yY2UgPSBtYXhGb3JjZTsKICAgIH0KCiAgICB1cGRhdGUoKSB7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICBjb25zdCBlcSA9IHRoaXMuZGlzdGFuY2VFcXVhdGlvbjsKICAgICAgY29uc3QgaGFsZkRpc3QgPSB0aGlzLmRpc3RhbmNlICogMC41OwogICAgICBjb25zdCBub3JtYWwgPSBlcS5uaTsKICAgICAgYm9keUIucG9zaXRpb24udnN1Yihib2R5QS5wb3NpdGlvbiwgbm9ybWFsKTsKICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICBub3JtYWwuc2NhbGUoaGFsZkRpc3QsIGVxLnJpKTsKICAgICAgbm9ybWFsLnNjYWxlKC1oYWxmRGlzdCwgZXEucmopOwogICAgfQoKICB9CiAgLyoqCiAgICogTG9jayBjb25zdHJhaW50LiBXaWxsIHJlbW92ZSBhbGwgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlIGJvZGllcy4KICAgKiBAY2xhc3MgTG9ja0NvbnN0cmFpbnQKICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl0KICAgKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50CiAgICovCgoKICBjbGFzcyBMb2NrQ29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgewogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OyAvLyBTZXQgcGl2b3QgcG9pbnQgaW4gYmV0d2VlbgoKICAgICAgY29uc3QgcGl2b3RBID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgcGl2b3RCID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgaGFsZldheSA9IG5ldyBWZWMzKCk7CiAgICAgIGJvZHlBLnBvc2l0aW9uLnZhZGQoYm9keUIucG9zaXRpb24sIGhhbGZXYXkpOwogICAgICBoYWxmV2F5LnNjYWxlKDAuNSwgaGFsZldheSk7CiAgICAgIGJvZHlCLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90Qik7CiAgICAgIGJvZHlBLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90QSk7IC8vIFRoZSBwb2ludC10by1wb2ludCBjb25zdHJhaW50IHdpbGwga2VlcCBhIHBvaW50IHNoYXJlZCBiZXR3ZWVuIHRoZSBib2RpZXMKCiAgICAgIHN1cGVyKGJvZHlBLCBwaXZvdEEsIGJvZHlCLCBwaXZvdEIsIG1heEZvcmNlKTsgLy8gU3RvcmUgaW5pdGlhbCByb3RhdGlvbiBvZiB0aGUgYm9kaWVzIGFzIHVuaXQgdmVjdG9ycyBpbiB0aGUgbG9jYWwgYm9keSBzcGFjZXMKCiAgICAgIHRoaXMueEEgPSBib2R5QS52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1gpOwogICAgICB0aGlzLnhCID0gYm9keUIudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9YKTsKICAgICAgdGhpcy55QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWSk7CiAgICAgIHRoaXMueUIgPSBib2R5Qi52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1kpOwogICAgICB0aGlzLnpBID0gYm9keUEudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9aKTsKICAgICAgdGhpcy56QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWik7IC8vIC4uLmFuZCB0aGUgZm9sbG93aW5nIHJvdGF0aW9uYWwgZXF1YXRpb25zIHdpbGwga2VlcCBhbGwgcm90YXRpb25hbCBET0YncyBpbiBwbGFjZQoKICAgICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICBjb25zdCByMyA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMyA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChyMSwgcjIsIHIzKTsKICAgIH0KCiAgICB1cGRhdGUoKSB7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICB0aGlzLm1vdG9yRXF1YXRpb247CiAgICAgIGNvbnN0IHIxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xOwogICAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMjsKICAgICAgY29uc3QgcjMgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjM7CiAgICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBUaGVzZSB2ZWN0b3IgcGFpcnMgbXVzdCBiZSBvcnRob2dvbmFsCgogICAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QSwgcjEuYXhpc0EpOwogICAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy55QiwgcjEuYXhpc0IpOwogICAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy55QSwgcjIuYXhpc0EpOwogICAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QiwgcjIuYXhpc0IpOwogICAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QSwgcjMuYXhpc0EpOwogICAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QiwgcjMuYXhpc0IpOwogICAgfQoKICB9CiAgLyoqCiAgICogUm90YXRpb25hbCBtb3RvciBjb25zdHJhaW50LiBUcmllcyB0byBrZWVwIHRoZSByZWxhdGl2ZSBhbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2RpZXMgdG8gYSBnaXZlbiB2YWx1ZS4KICAgKiBAY2xhc3MgUm90YXRpb25hbE1vdG9yRXF1YXRpb24KICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAcGFyYW0ge051bWJlcn0gbWF4Rm9yY2UKICAgKiBAZXh0ZW5kcyBFcXVhdGlvbgogICAqLwoKCiAgY2xhc3MgUm90YXRpb25hbE1vdG9yRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgICAvLyBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuCiAgICAvLyBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuCiAgICAvLyBNb3RvciB2ZWxvY2l0eS4KICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgICAgc3VwZXIoYm9keUEsIGJvZHlCLCAtbWF4Rm9yY2UsIG1heEZvcmNlKTsKICAgICAgdGhpcy5heGlzQSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuYXhpc0IgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnRhcmdldFZlbG9jaXR5ID0gMDsKICAgIH0KCiAgICBjb21wdXRlQihoKSB7CiAgICAgIHRoaXMuYTsKICAgICAgY29uc3QgYiA9IHRoaXMuYjsKICAgICAgdGhpcy5iaTsKICAgICAgdGhpcy5iajsKICAgICAgY29uc3QgYXhpc0EgPSB0aGlzLmF4aXNBOwogICAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0I7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gZyA9IDAKICAgICAgLy8gZ2RvdCA9IGF4aXNBICogd2kgLSBheGlzQiAqIHdqCiAgICAgIC8vIGdkb3QgPSBHICogVyA9IEcgKiBbdmkgd2kgdmogd2pdCiAgICAgIC8vID0+CiAgICAgIC8vIEcgPSBbMCBheGlzQSAwIC1heGlzQl0KCiAgICAgIEdBLnJvdGF0aW9uYWwuY29weShheGlzQSk7CiAgICAgIGF4aXNCLm5lZ2F0ZShHQi5yb3RhdGlvbmFsKTsKICAgICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpIC0gdGhpcy50YXJnZXRWZWxvY2l0eTsKICAgICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgICAgY29uc3QgQiA9IC1HVyAqIGIgLSBoICogR2lNZjsKICAgICAgcmV0dXJuIEI7CiAgICB9CgogIH0KICAvKioKICAgKiBIaW5nZSBjb25zdHJhaW50LiBUaGluayBvZiBpdCBhcyBhIGRvb3IgaGluZ2UuIEl0IHRyaWVzIHRvIGtlZXAgdGhlIGRvb3IgaW4gdGhlIGNvcnJlY3QgcGxhY2UgYW5kIHdpdGggdGhlIGNvcnJlY3Qgb3JpZW50YXRpb24uCiAgICogQGNsYXNzIEhpbmdlQ29uc3RyYWludAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBhdXRob3Igc2NodGVwcGUKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QgogICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10KICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90QV0gQSBwb2ludCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuIFRoaXMgZGVmaW5lcyB0aGUgb2Zmc2V0IG9mIGF4aXNBLgogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdIEFuIGF4aXMgdGhhdCBib2R5QSBjYW4gcm90YXRlIGFyb3VuZCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLgogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RCXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl0KICAgKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50CiAgICovCgoKICBjbGFzcyBIaW5nZUNvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHsKICAgIC8vIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS4KICAgIC8vIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5Qi4KICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsKICAgICAgY29uc3QgcGl2b3RBID0gb3B0aW9ucy5waXZvdEEgPyBvcHRpb25zLnBpdm90QS5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOwogICAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICAgIGF4aXNBLm5vcm1hbGl6ZSgpOwogICAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICAgIGF4aXNCLm5vcm1hbGl6ZSgpOwogICAgICB0aGlzLmNvbGxpZGVDb25uZWN0ZWQgPSAhIW9wdGlvbnMuY29sbGlkZUNvbm5lY3RlZDsKICAgICAgY29uc3Qgcm90YXRpb25hbDEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICAgIGNvbnN0IHJvdGF0aW9uYWwyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbiA9IG5ldyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvbihib2R5QSwgYm9keUIsIG1heEZvcmNlKTsKICAgICAgbW90b3IuZW5hYmxlZCA9IGZhbHNlOyAvLyBOb3QgZW5hYmxlZCBieSBkZWZhdWx0CiAgICAgIC8vIEVxdWF0aW9ucyB0byBiZSBmZWQgdG8gdGhlIHNvbHZlcgoKICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChyb3RhdGlvbmFsMSwgcm90YXRpb25hbDIsIG1vdG9yKTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBlbmFibGVNb3RvcgogICAgICovCgoKICAgIGVuYWJsZU1vdG9yKCkgewogICAgICB0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCA9IHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgZGlzYWJsZU1vdG9yCiAgICAgKi8KCgogICAgZGlzYWJsZU1vdG9yKCkgewogICAgICB0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCA9IGZhbHNlOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIHNldE1vdG9yU3BlZWQKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZAogICAgICovCgoKICAgIHNldE1vdG9yU3BlZWQoc3BlZWQpIHsKICAgICAgdGhpcy5tb3RvckVxdWF0aW9uLnRhcmdldFZlbG9jaXR5ID0gc3BlZWQ7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2Qgc2V0TW90b3JNYXhGb3JjZQogICAgICogQHBhcmFtIHtudW1iZXJ9IG1heEZvcmNlCiAgICAgKi8KCgogICAgc2V0TW90b3JNYXhGb3JjZShtYXhGb3JjZSkgewogICAgICB0aGlzLm1vdG9yRXF1YXRpb24ubWF4Rm9yY2UgPSBtYXhGb3JjZTsKICAgICAgdGhpcy5tb3RvckVxdWF0aW9uLm1pbkZvcmNlID0gLW1heEZvcmNlOwogICAgfQoKICAgIHVwZGF0ZSgpIHsKICAgICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uOwogICAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMTsKICAgICAgY29uc3QgcjIgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjI7CiAgICAgIGNvbnN0IHdvcmxkQXhpc0EgPSBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzE7CiAgICAgIGNvbnN0IHdvcmxkQXhpc0IgPSBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzI7CiAgICAgIGNvbnN0IGF4aXNBID0gdGhpcy5heGlzQTsKICAgICAgY29uc3QgYXhpc0IgPSB0aGlzLmF4aXNCOwogICAgICBzdXBlci51cGRhdGUoKTsgLy8gR2V0IHdvcmxkIGF4ZXMKCiAgICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQoYXhpc0EsIHdvcmxkQXhpc0EpOwogICAgICBib2R5Qi5xdWF0ZXJuaW9uLnZtdWx0KGF4aXNCLCB3b3JsZEF4aXNCKTsKICAgICAgd29ybGRBeGlzQS50YW5nZW50cyhyMS5heGlzQSwgcjIuYXhpc0EpOwogICAgICByMS5heGlzQi5jb3B5KHdvcmxkQXhpc0IpOwogICAgICByMi5heGlzQi5jb3B5KHdvcmxkQXhpc0IpOwoKICAgICAgaWYgKHRoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkKSB7CiAgICAgICAgYm9keUEucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNBLCBtb3Rvci5heGlzQSk7CiAgICAgICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNCLCBtb3Rvci5heGlzQik7CiAgICAgIH0KICAgIH0KCiAgfQoKICBjb25zdCBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzEgPSBuZXcgVmVjMygpOwogIGNvbnN0IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMiA9IG5ldyBWZWMzKCk7CiAgLyoqCiAgICogQ29uc3RyYWlucyB0aGUgc2xpcHBpbmcgaW4gYSBjb250YWN0IGFsb25nIGEgdGFuZ2VudAogICAqIEBjbGFzcyBGcmljdGlvbkVxdWF0aW9uCiAgICogQGNvbnN0cnVjdG9yCiAgICogQGF1dGhvciBzY2h0ZXBwZQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCCiAgICogQHBhcmFtIHtOdW1iZXJ9IHNsaXBGb3JjZSBzaG91bGQgYmUgKy1GX2ZyaWN0aW9uID0gKy1tdSAqIEZfbm9ybWFsID0gKy1tdSAqIG0gKiBnCiAgICogQGV4dGVuZHMgRXF1YXRpb24KICAgKi8KCiAgY2xhc3MgRnJpY3Rpb25FcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICAgIC8vIFRhbmdlbnQuCiAgICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIHNsaXBGb3JjZSkgewogICAgICBzdXBlcihib2R5QSwgYm9keUIsIC1zbGlwRm9yY2UsIHNsaXBGb3JjZSk7CiAgICAgIHRoaXMucmkgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnJqID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy50ID0gbmV3IFZlYzMoKTsKICAgIH0KCiAgICBjb21wdXRlQihoKSB7CiAgICAgIHRoaXMuYTsKICAgICAgY29uc3QgYiA9IHRoaXMuYjsKICAgICAgdGhpcy5iaTsKICAgICAgdGhpcy5iajsKICAgICAgY29uc3QgcmkgPSB0aGlzLnJpOwogICAgICBjb25zdCByaiA9IHRoaXMucmo7CiAgICAgIGNvbnN0IHJpeHQgPSBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxOwogICAgICBjb25zdCByanh0ID0gRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMjsKICAgICAgY29uc3QgdCA9IHRoaXMudDsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgICByaS5jcm9zcyh0LCByaXh0KTsKICAgICAgcmouY3Jvc3ModCwgcmp4dCk7IC8vIEcgPSBbLXQgLXJpeHQgdCByanh0XQogICAgICAvLyBBbmQgcmVtZW1iZXIsIHRoaXMgaXMgYSBwdXJlIHZlbG9jaXR5IGNvbnN0cmFpbnQsIGcgaXMgYWx3YXlzIHplcm8hCgogICAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICAgIHQubmVnYXRlKEdBLnNwYXRpYWwpOwogICAgICByaXh0Lm5lZ2F0ZShHQS5yb3RhdGlvbmFsKTsKICAgICAgR0Iuc3BhdGlhbC5jb3B5KHQpOwogICAgICBHQi5yb3RhdGlvbmFsLmNvcHkocmp4dCk7CiAgICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTsKICAgICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgICAgY29uc3QgQiA9IC1HVyAqIGIgLSBoICogR2lNZjsKICAgICAgcmV0dXJuIEI7CiAgICB9CgogIH0KCiAgY29uc3QgRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMiA9IG5ldyBWZWMzKCk7CiAgLyoqCiAgICogRGVmaW5lcyB3aGF0IGhhcHBlbnMgd2hlbiB0d28gbWF0ZXJpYWxzIG1lZXQuCiAgICogQGNsYXNzIENvbnRhY3RNYXRlcmlhbAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xCiAgICogQHBhcmFtIHtNYXRlcmlhbH0gbTIKICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uPTAuM10KICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucmVzdGl0dXRpb249MC4zXQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3M9MWU3XQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uPTNdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M9MWU3XQogICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbj0zXQogICAqIEB0b2RvIFJlZmFjdG9yIG1hdGVyaWFscyB0byBtYXRlcmlhbEEgYW5kIG1hdGVyaWFsQgogICAqLwoKICBjbGFzcyBDb250YWN0TWF0ZXJpYWwgewogICAgLy8gSWRlbnRpZmllciBvZiB0aGlzIG1hdGVyaWFsLgogICAgLy8gUGFydGljaXBhdGluZyBtYXRlcmlhbHMuCiAgICAvLyBGcmljdGlvbiBjb2VmZmljaWVudC4KICAgIC8vIFJlc3RpdHV0aW9uIGNvZWZmaWNpZW50LgogICAgLy8gU3RpZmZuZXNzIG9mIHRoZSBwcm9kdWNlZCBjb250YWN0IGVxdWF0aW9ucy4KICAgIC8vIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgY29udGFjdCBlcXVhdGlvbnMuCiAgICAvLyBTdGlmZm5lc3Mgb2YgdGhlIHByb2R1Y2VkIGZyaWN0aW9uIGVxdWF0aW9ucy4KICAgIC8vIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgZnJpY3Rpb24gZXF1YXRpb25zCiAgICBjb25zdHJ1Y3RvcihtMSwgbTIsIG9wdGlvbnMpIHsKICAgICAgb3B0aW9ucyA9IFV0aWxzLmRlZmF1bHRzKG9wdGlvbnMsIHsKICAgICAgICBmcmljdGlvbjogMC4zLAogICAgICAgIHJlc3RpdHV0aW9uOiAwLjMsCiAgICAgICAgY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzOiAxZTcsCiAgICAgICAgY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbjogMywKICAgICAgICBmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzOiAxZTcsCiAgICAgICAgZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb246IDMKICAgICAgfSk7CiAgICAgIHRoaXMuaWQgPSBDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyKys7CiAgICAgIHRoaXMubWF0ZXJpYWxzID0gW20xLCBtMl07CiAgICAgIHRoaXMuZnJpY3Rpb24gPSBvcHRpb25zLmZyaWN0aW9uOwogICAgICB0aGlzLnJlc3RpdHV0aW9uID0gb3B0aW9ucy5yZXN0aXR1dGlvbjsKICAgICAgdGhpcy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MgPSBvcHRpb25zLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczsKICAgICAgdGhpcy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uID0gb3B0aW9ucy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uOwogICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MgPSBvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M7CiAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24gPSBvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uOwogICAgfQoKICB9CgogIENvbnRhY3RNYXRlcmlhbC5pZENvdW50ZXIgPSAwOwogIC8qKgogICAqIERlZmluZXMgYSBwaHlzaWNzIG1hdGVyaWFsLgogICAqIEBjbGFzcyBNYXRlcmlhbAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10KICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICovCgogIGNsYXNzIE1hdGVyaWFsIHsKICAgIC8vIE1hdGVyaWFsIG5hbWUuCiAgICAvLyBNYXRlcmlhbCBpZC4KICAgIC8vIEZyaWN0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBmcmljdGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC4KICAgIC8vIFJlc3RpdHV0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSByZXN0aXR1dGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC4KICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICBsZXQgbmFtZSA9ICcnOyAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmaXgKCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHsKICAgICAgICBuYW1lID0gb3B0aW9uczsKICAgICAgICBvcHRpb25zID0ge307CiAgICAgIH0KCiAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMuaWQgPSBNYXRlcmlhbC5pZENvdW50ZXIrKzsKICAgICAgdGhpcy5mcmljdGlvbiA9IHR5cGVvZiBvcHRpb25zLmZyaWN0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuZnJpY3Rpb24gOiAtMTsKICAgICAgdGhpcy5yZXN0aXR1dGlvbiA9IHR5cGVvZiBvcHRpb25zLnJlc3RpdHV0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMucmVzdGl0dXRpb24gOiAtMTsKICAgIH0KCiAgfQoKICBNYXRlcmlhbC5pZENvdW50ZXIgPSAwOwogIC8qKgogICAqIEEgc3ByaW5nLCBjb25uZWN0aW5nIHR3byBib2RpZXMuCiAgICoKICAgKiBAY2xhc3MgU3ByaW5nCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc3RMZW5ndGhdICAgQSBudW1iZXIgPiAwLiBEZWZhdWx0OiAxCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN0aWZmbmVzc10gICAgQSBudW1iZXIgPj0gMC4gRGVmYXVsdDogMTAwCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRhbXBpbmddICAgICAgQSBudW1iZXIgPj0gMC4gRGVmYXVsdDogMQogICAqIEBwYXJhbSB7VmVjM30gIFtvcHRpb25zLndvcmxkQW5jaG9yQV0gV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gd29ybGQgY29vcmRpbmF0ZXMuCiAgICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMud29ybGRBbmNob3JCXQogICAqIEBwYXJhbSB7VmVjM30gIFtvcHRpb25zLmxvY2FsQW5jaG9yQV0gV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gbG9jYWwgYm9keSBjb29yZGluYXRlcy4KICAgKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy5sb2NhbEFuY2hvckJdCiAgICovCgogIGNsYXNzIFNwcmluZyB7CiAgICAvLyBSZXN0IGxlbmd0aCBvZiB0aGUgc3ByaW5nLgogICAgLy8gU3RpZmZuZXNzIG9mIHRoZSBzcHJpbmcuCiAgICAvLyBEYW1waW5nIG9mIHRoZSBzcHJpbmcuCiAgICAvLyBGaXJzdCBjb25uZWN0ZWQgYm9keS4KICAgIC8vIFNlY29uZCBjb25uZWN0ZWQgYm9keS4KICAgIC8vIEFuY2hvciBmb3IgYm9keUEgaW4gbG9jYWwgYm9keUEgY29vcmRpbmF0ZXMuCiAgICAvLyBBbmNob3IgZm9yIGJvZHlCIGluIGxvY2FsIGJvZHlCIGNvb3JkaW5hdGVzLgogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgICAgdGhpcy5yZXN0TGVuZ3RoID0gdHlwZW9mIG9wdGlvbnMucmVzdExlbmd0aCA9PT0gJ251bWJlcicgPyBvcHRpb25zLnJlc3RMZW5ndGggOiAxOwogICAgICB0aGlzLnN0aWZmbmVzcyA9IG9wdGlvbnMuc3RpZmZuZXNzIHx8IDEwMDsKICAgICAgdGhpcy5kYW1waW5nID0gb3B0aW9ucy5kYW1waW5nIHx8IDE7CiAgICAgIHRoaXMuYm9keUEgPSBib2R5QTsKICAgICAgdGhpcy5ib2R5QiA9IGJvZHlCOwogICAgICB0aGlzLmxvY2FsQW5jaG9yQSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMubG9jYWxBbmNob3JCID0gbmV3IFZlYzMoKTsKCiAgICAgIGlmIChvcHRpb25zLmxvY2FsQW5jaG9yQSkgewogICAgICAgIHRoaXMubG9jYWxBbmNob3JBLmNvcHkob3B0aW9ucy5sb2NhbEFuY2hvckEpOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy5sb2NhbEFuY2hvckIpIHsKICAgICAgICB0aGlzLmxvY2FsQW5jaG9yQi5jb3B5KG9wdGlvbnMubG9jYWxBbmNob3JCKTsKICAgICAgfQoKICAgICAgaWYgKG9wdGlvbnMud29ybGRBbmNob3JBKSB7CiAgICAgICAgdGhpcy5zZXRXb3JsZEFuY2hvckEob3B0aW9ucy53b3JsZEFuY2hvckEpOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy53b3JsZEFuY2hvckIpIHsKICAgICAgICB0aGlzLnNldFdvcmxkQW5jaG9yQihvcHRpb25zLndvcmxkQW5jaG9yQik7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBBLCB1c2luZyB3b3JsZCBjb29yZGluYXRlcy4KICAgICAqIEBtZXRob2Qgc2V0V29ybGRBbmNob3JBCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQQogICAgICovCgoKICAgIHNldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpIHsKICAgICAgdGhpcy5ib2R5QS5wb2ludFRvTG9jYWxGcmFtZSh3b3JsZEFuY2hvckEsIHRoaXMubG9jYWxBbmNob3JBKTsKICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBCLCB1c2luZyB3b3JsZCBjb29yZGluYXRlcy4KICAgICAqIEBtZXRob2Qgc2V0V29ybGRBbmNob3JCCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQgogICAgICovCgoKICAgIHNldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpIHsKICAgICAgdGhpcy5ib2R5Qi5wb2ludFRvTG9jYWxGcmFtZSh3b3JsZEFuY2hvckIsIHRoaXMubG9jYWxBbmNob3JCKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBBLCBpbiB3b3JsZCBjb29yZGluYXRlcy4KICAgICAqIEBtZXRob2QgZ2V0V29ybGRBbmNob3JBCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHJlc3VsdCBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uCiAgICAgKi8KCgogICAgZ2V0V29ybGRBbmNob3JBKHJlc3VsdCkgewogICAgICB0aGlzLmJvZHlBLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMubG9jYWxBbmNob3JBLCByZXN1bHQpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEIsIGluIHdvcmxkIGNvb3JkaW5hdGVzLgogICAgICogQG1ldGhvZCBnZXRXb3JsZEFuY2hvckIKICAgICAqIEBwYXJhbSB7VmVjM30gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4KICAgICAqLwoKCiAgICBnZXRXb3JsZEFuY2hvckIocmVzdWx0KSB7CiAgICAgIHRoaXMuYm9keUIucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5sb2NhbEFuY2hvckIsIHJlc3VsdCk7CiAgICB9CiAgICAvKioKICAgICAqIEFwcGx5IHRoZSBzcHJpbmcgZm9yY2UgdG8gdGhlIGNvbm5lY3RlZCBib2RpZXMuCiAgICAgKiBAbWV0aG9kIGFwcGx5Rm9yY2UKICAgICAqLwoKCiAgICBhcHBseUZvcmNlKCkgewogICAgICBjb25zdCBrID0gdGhpcy5zdGlmZm5lc3M7CiAgICAgIGNvbnN0IGQgPSB0aGlzLmRhbXBpbmc7CiAgICAgIGNvbnN0IGwgPSB0aGlzLnJlc3RMZW5ndGg7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICBjb25zdCByID0gYXBwbHlGb3JjZV9yOwogICAgICBjb25zdCByX3VuaXQgPSBhcHBseUZvcmNlX3JfdW5pdDsKICAgICAgY29uc3QgdSA9IGFwcGx5Rm9yY2VfdTsKICAgICAgY29uc3QgZiA9IGFwcGx5Rm9yY2VfZjsKICAgICAgY29uc3QgdG1wID0gYXBwbHlGb3JjZV90bXA7CiAgICAgIGNvbnN0IHdvcmxkQW5jaG9yQSA9IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBOwogICAgICBjb25zdCB3b3JsZEFuY2hvckIgPSBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQjsKICAgICAgY29uc3QgcmkgPSBhcHBseUZvcmNlX3JpOwogICAgICBjb25zdCByaiA9IGFwcGx5Rm9yY2Vfcmo7CiAgICAgIGNvbnN0IHJpX3hfZiA9IGFwcGx5Rm9yY2VfcmlfeF9mOwogICAgICBjb25zdCByal94X2YgPSBhcHBseUZvcmNlX3JqX3hfZjsgLy8gR2V0IHdvcmxkIGFuY2hvcnMKCiAgICAgIHRoaXMuZ2V0V29ybGRBbmNob3JBKHdvcmxkQW5jaG9yQSk7CiAgICAgIHRoaXMuZ2V0V29ybGRBbmNob3JCKHdvcmxkQW5jaG9yQik7IC8vIEdldCBvZmZzZXQgcG9pbnRzCgogICAgICB3b3JsZEFuY2hvckEudnN1Yihib2R5QS5wb3NpdGlvbiwgcmkpOwogICAgICB3b3JsZEFuY2hvckIudnN1Yihib2R5Qi5wb3NpdGlvbiwgcmopOyAvLyBDb21wdXRlIGRpc3RhbmNlIHZlY3RvciBiZXR3ZWVuIHdvcmxkIGFuY2hvciBwb2ludHMKCiAgICAgIHdvcmxkQW5jaG9yQi52c3ViKHdvcmxkQW5jaG9yQSwgcik7CiAgICAgIGNvbnN0IHJsZW4gPSByLmxlbmd0aCgpOwogICAgICByX3VuaXQuY29weShyKTsKICAgICAgcl91bml0Lm5vcm1hbGl6ZSgpOyAvLyBDb21wdXRlIHJlbGF0aXZlIHZlbG9jaXR5IG9mIHRoZSBhbmNob3IgcG9pbnRzLCB1CgogICAgICBib2R5Qi52ZWxvY2l0eS52c3ViKGJvZHlBLnZlbG9jaXR5LCB1KTsgLy8gQWRkIHJvdGF0aW9uYWwgdmVsb2NpdHkKCiAgICAgIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyaiwgdG1wKTsKICAgICAgdS52YWRkKHRtcCwgdSk7CiAgICAgIGJvZHlBLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyaSwgdG1wKTsKICAgICAgdS52c3ViKHRtcCwgdSk7IC8vIEYgPSAtIGsgKiAoIHggLSBMICkgLSBEICogKCB1ICkKCiAgICAgIHJfdW5pdC5zY2FsZSgtayAqIChybGVuIC0gbCkgLSBkICogdS5kb3Qocl91bml0KSwgZik7IC8vIEFkZCBmb3JjZXMgdG8gYm9kaWVzCgogICAgICBib2R5QS5mb3JjZS52c3ViKGYsIGJvZHlBLmZvcmNlKTsKICAgICAgYm9keUIuZm9yY2UudmFkZChmLCBib2R5Qi5mb3JjZSk7IC8vIEFuZ3VsYXIgZm9yY2UKCiAgICAgIHJpLmNyb3NzKGYsIHJpX3hfZik7CiAgICAgIHJqLmNyb3NzKGYsIHJqX3hfZik7CiAgICAgIGJvZHlBLnRvcnF1ZS52c3ViKHJpX3hfZiwgYm9keUEudG9ycXVlKTsKICAgICAgYm9keUIudG9ycXVlLnZhZGQocmpfeF9mLCBib2R5Qi50b3JxdWUpOwogICAgfQoKICB9CgogIGNvbnN0IGFwcGx5Rm9yY2VfciA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV9yX3VuaXQgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfdSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV9mID0gbmV3IFZlYzMoKTsKICBjb25zdCBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV93b3JsZEFuY2hvckIgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfcmkgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfcmogPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfcmlfeF9mID0gbmV3IFZlYzMoKTsKICBjb25zdCBhcHBseUZvcmNlX3JqX3hfZiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV90bXAgPSBuZXcgVmVjMygpOwogIC8qKgogICAqIEBjbGFzcyBXaGVlbEluZm8KICAgKiBAY29uc3RydWN0b3IKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdCiAgICoKICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbF0KICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZF0KICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmRpcmVjdGlvbkxvY2FsXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZGlyZWN0aW9uV29ybGRdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGxlTG9jYWxdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGxlV29ybGRdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25SZXN0TGVuZ3RoPTFdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25NYXhMZW5ndGg9Ml0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmFkaXVzPTFdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25TdGlmZm5lc3M9MTAwXQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kYW1waW5nQ29tcHJlc3Npb249MTBdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRhbXBpbmdSZWxheGF0aW9uPTEwXQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvblNsaXA9MTAuNV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3RlZXJpbmc9MF0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucm90YXRpb249MF0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGVsdGFSb3RhdGlvbj0wXQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yb2xsSW5mbHVlbmNlPTAuMDFdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFN1c3BlbnNpb25Gb3JjZV0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlzRnJvbnRXaGVlbD10cnVlXQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb249MV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk9MF0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvbkZvcmNlPTBdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNraWRJbmZvPTBdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25MZW5ndGg9MF0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4U3VzcGVuc2lvblRyYXZlbD0xXQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZD1mYWxzZV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZD0tMC4xXQogICAqLwoKICBjbGFzcyBXaGVlbEluZm8gewogICAgLy8gTWF4IHRyYXZlbCBkaXN0YW5jZSBvZiB0aGUgc3VzcGVuc2lvbiwgaW4gbWV0ZXJzLgogICAgLy8gU3BlZWQgdG8gYXBwbHkgdG8gdGhlIHdoZWVsIHJvdGF0aW9uIHdoZW4gdGhlIHdoZWVsIGlzIHNsaWRpbmcuCiAgICAvLyBJZiB0aGUgY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCBzaG91bGQgYmUgdXNlZC4KICAgIC8vIENvbm5lY3Rpb24gcG9pbnQsIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgY2hhc3NpcyBib2R5IGZyYW1lLgogICAgLy8gUm90YXRpb24gdmFsdWUsIGluIHJhZGlhbnMuCiAgICAvLyBUaGUgcmVzdWx0IGZyb20gcmF5Y2FzdGluZy4KICAgIC8vIFdoZWVsIHdvcmxkIHRyYW5zZm9ybS4KICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICAgIGNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbDogbmV3IFZlYzMoKSwKICAgICAgICBjaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQ6IG5ldyBWZWMzKCksCiAgICAgICAgZGlyZWN0aW9uTG9jYWw6IG5ldyBWZWMzKCksCiAgICAgICAgZGlyZWN0aW9uV29ybGQ6IG5ldyBWZWMzKCksCiAgICAgICAgYXhsZUxvY2FsOiBuZXcgVmVjMygpLAogICAgICAgIGF4bGVXb3JsZDogbmV3IFZlYzMoKSwKICAgICAgICBzdXNwZW5zaW9uUmVzdExlbmd0aDogMSwKICAgICAgICBzdXNwZW5zaW9uTWF4TGVuZ3RoOiAyLAogICAgICAgIHJhZGl1czogMSwKICAgICAgICBzdXNwZW5zaW9uU3RpZmZuZXNzOiAxMDAsCiAgICAgICAgZGFtcGluZ0NvbXByZXNzaW9uOiAxMCwKICAgICAgICBkYW1waW5nUmVsYXhhdGlvbjogMTAsCiAgICAgICAgZnJpY3Rpb25TbGlwOiAxMC41LAogICAgICAgIGZvcndhcmRBY2NlbGVyYXRpb246IDEsCiAgICAgICAgc2lkZUFjY2VsZXJhdGlvbjogMSwKICAgICAgICBzdGVlcmluZzogMCwKICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICBkZWx0YVJvdGF0aW9uOiAwLAogICAgICAgIHJvbGxJbmZsdWVuY2U6IDAuMDEsCiAgICAgICAgbWF4U3VzcGVuc2lvbkZvcmNlOiBOdW1iZXIuTUFYX1ZBTFVFLAogICAgICAgIGlzRnJvbnRXaGVlbDogdHJ1ZSwKICAgICAgICBjbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb246IDEsCiAgICAgICAgc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk6IDAsCiAgICAgICAgc3VzcGVuc2lvbkZvcmNlOiAwLAogICAgICAgIHNsaXBJbmZvOiAwLAogICAgICAgIHNraWRJbmZvOiAwLAogICAgICAgIHN1c3BlbnNpb25MZW5ndGg6IDAsCiAgICAgICAgbWF4U3VzcGVuc2lvblRyYXZlbDogMSwKICAgICAgICB1c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOiBmYWxzZSwKICAgICAgICBjdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOiAtMC4xCiAgICAgIH0pOwogICAgICB0aGlzLm1heFN1c3BlbnNpb25UcmF2ZWwgPSBvcHRpb25zLm1heFN1c3BlbnNpb25UcmF2ZWw7CiAgICAgIHRoaXMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCA9IG9wdGlvbnMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDsKICAgICAgdGhpcy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkID0gb3B0aW9ucy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOwogICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwgPSBvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbC5jbG9uZSgpOwogICAgICB0aGlzLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCA9IG9wdGlvbnMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLmNsb25lKCk7CiAgICAgIHRoaXMuZGlyZWN0aW9uTG9jYWwgPSBvcHRpb25zLmRpcmVjdGlvbkxvY2FsLmNsb25lKCk7CiAgICAgIHRoaXMuZGlyZWN0aW9uV29ybGQgPSBvcHRpb25zLmRpcmVjdGlvbldvcmxkLmNsb25lKCk7CiAgICAgIHRoaXMuYXhsZUxvY2FsID0gb3B0aW9ucy5heGxlTG9jYWwuY2xvbmUoKTsKICAgICAgdGhpcy5heGxlV29ybGQgPSBvcHRpb25zLmF4bGVXb3JsZC5jbG9uZSgpOwogICAgICB0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoID0gb3B0aW9ucy5zdXNwZW5zaW9uUmVzdExlbmd0aDsKICAgICAgdGhpcy5zdXNwZW5zaW9uTWF4TGVuZ3RoID0gb3B0aW9ucy5zdXNwZW5zaW9uTWF4TGVuZ3RoOwogICAgICB0aGlzLnJhZGl1cyA9IG9wdGlvbnMucmFkaXVzOwogICAgICB0aGlzLnN1c3BlbnNpb25TdGlmZm5lc3MgPSBvcHRpb25zLnN1c3BlbnNpb25TdGlmZm5lc3M7CiAgICAgIHRoaXMuZGFtcGluZ0NvbXByZXNzaW9uID0gb3B0aW9ucy5kYW1waW5nQ29tcHJlc3Npb247CiAgICAgIHRoaXMuZGFtcGluZ1JlbGF4YXRpb24gPSBvcHRpb25zLmRhbXBpbmdSZWxheGF0aW9uOwogICAgICB0aGlzLmZyaWN0aW9uU2xpcCA9IG9wdGlvbnMuZnJpY3Rpb25TbGlwOwogICAgICB0aGlzLmZvcndhcmRBY2NlbGVyYXRpb24gPSBvcHRpb25zLmZvcndhcmRBY2NlbGVyYXRpb247CiAgICAgIHRoaXMuc2lkZUFjY2VsZXJhdGlvbiA9IG9wdGlvbnMuc2lkZUFjY2VsZXJhdGlvbjsKICAgICAgdGhpcy5zdGVlcmluZyA9IDA7CiAgICAgIHRoaXMucm90YXRpb24gPSAwOwogICAgICB0aGlzLmRlbHRhUm90YXRpb24gPSAwOwogICAgICB0aGlzLnJvbGxJbmZsdWVuY2UgPSBvcHRpb25zLnJvbGxJbmZsdWVuY2U7CiAgICAgIHRoaXMubWF4U3VzcGVuc2lvbkZvcmNlID0gb3B0aW9ucy5tYXhTdXNwZW5zaW9uRm9yY2U7CiAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwOwogICAgICB0aGlzLmJyYWtlID0gMDsKICAgICAgdGhpcy5pc0Zyb250V2hlZWwgPSBvcHRpb25zLmlzRnJvbnRXaGVlbDsKICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxOwogICAgICB0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMDsKICAgICAgdGhpcy5zdXNwZW5zaW9uRm9yY2UgPSAwOwogICAgICB0aGlzLnNsaXBJbmZvID0gMDsKICAgICAgdGhpcy5za2lkSW5mbyA9IDA7CiAgICAgIHRoaXMuc3VzcGVuc2lvbkxlbmd0aCA9IDA7CiAgICAgIHRoaXMuc2lkZUltcHVsc2UgPSAwOwogICAgICB0aGlzLmZvcndhcmRJbXB1bHNlID0gMDsKICAgICAgdGhpcy5yYXljYXN0UmVzdWx0ID0gbmV3IFJheWNhc3RSZXN1bHQoKTsKICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTsKICAgICAgdGhpcy5pc0luQ29udGFjdCA9IGZhbHNlOwogICAgfQoKICAgIHVwZGF0ZVdoZWVsKGNoYXNzaXMpIHsKICAgICAgY29uc3QgcmF5Y2FzdFJlc3VsdCA9IHRoaXMucmF5Y2FzdFJlc3VsdDsKCiAgICAgIGlmICh0aGlzLmlzSW5Db250YWN0KSB7CiAgICAgICAgY29uc3QgcHJvamVjdCA9IHJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KHJheWNhc3RSZXN1bHQuZGlyZWN0aW9uV29ybGQpOwogICAgICAgIHJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXMucG9zaXRpb24sIHJlbHBvcyk7CiAgICAgICAgY2hhc3Npcy5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChyZWxwb3MsIGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTsKICAgICAgICBjb25zdCBwcm9qVmVsID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3QoY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpOwoKICAgICAgICBpZiAocHJvamVjdCA+PSAtMC4xKSB7CiAgICAgICAgICB0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMC4wOwogICAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjAgLyAwLjE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IGludiA9IC0xIC8gcHJvamVjdDsKICAgICAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSBwcm9qVmVsICogaW52OwogICAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSBpbnY7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIE5vdCBpbiBjb250YWN0IDogcG9zaXRpb24gd2hlZWwgaW4gYSBuaWNlIChyZXN0IGxlbmd0aCkgcG9zaXRpb24KICAgICAgICByYXljYXN0UmVzdWx0LnN1c3BlbnNpb25MZW5ndGggPSB0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoOwogICAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwLjA7CiAgICAgICAgcmF5Y2FzdFJlc3VsdC5kaXJlY3Rpb25Xb3JsZC5zY2FsZSgtMSwgcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZCk7CiAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjA7CiAgICAgIH0KICAgIH0KCiAgfQoKICBjb25zdCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcmVscG9zID0gbmV3IFZlYzMoKTsKICAvKioKICAgKiBWZWhpY2xlIGhlbHBlciBjbGFzcyB0aGF0IGNhc3RzIHJheXMgZnJvbSB0aGUgd2hlZWwgcG9zaXRpb25zIHRvd2FyZHMgdGhlIGdyb3VuZCBhbmQgYXBwbGllcyBmb3JjZXMuCiAgICogQGNsYXNzIFJheWNhc3RWZWhpY2xlCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQogICAqIEBwYXJhbSB7Qm9keX0gW29wdGlvbnMuY2hhc3Npc0JvZHldIFRoZSBjYXIgY2hhc3NpcyBib2R5LgogICAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhSaWdodEF4aXNdIEF4aXMgdG8gdXNlIGZvciByaWdodC4geD0wLCB5PTEsIHo9MgogICAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhMZWZ0QXhpc10KICAgKiBAcGFyYW0ge2ludGVnZXJ9IFtvcHRpb25zLmluZGV4VXBBeGlzXQogICAqLwoKICBjbGFzcyBSYXljYXN0VmVoaWNsZSB7CiAgICAvLyBXaWxsIGJlIHNldCB0byB0cnVlIGlmIHRoZSBjYXIgaXMgc2xpZGluZy4KICAgIC8vIEluZGV4IG9mIHRoZSByaWdodCBheGlzLCAwPXgsIDE9eSwgMj16CiAgICAvLyBJbmRleCBvZiB0aGUgZm9yd2FyZCBheGlzLCAwPXgsIDE9eSwgMj16CiAgICAvLyBJbmRleCBvZiB0aGUgdXAgYXhpcywgMD14LCAxPXksIDI9egogICAgY29uc3RydWN0b3Iob3B0aW9ucykgewogICAgICB0aGlzLmNoYXNzaXNCb2R5ID0gb3B0aW9ucy5jaGFzc2lzQm9keTsKICAgICAgdGhpcy53aGVlbEluZm9zID0gW107CiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlOwogICAgICB0aGlzLndvcmxkID0gbnVsbDsKICAgICAgdGhpcy5pbmRleFJpZ2h0QXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4UmlnaHRBeGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuaW5kZXhSaWdodEF4aXMgOiAyOwogICAgICB0aGlzLmluZGV4Rm9yd2FyZEF4aXMgPSB0eXBlb2Ygb3B0aW9ucy5pbmRleEZvcndhcmRBeGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuaW5kZXhGb3J3YXJkQXhpcyA6IDA7CiAgICAgIHRoaXMuaW5kZXhVcEF4aXMgPSB0eXBlb2Ygb3B0aW9ucy5pbmRleFVwQXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmluZGV4VXBBeGlzIDogMTsKICAgICAgdGhpcy5jb25zdHJhaW50cyA9IFtdOwoKICAgICAgdGhpcy5wcmVTdGVwQ2FsbGJhY2sgPSAoKSA9PiB7fTsKCiAgICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIEFkZCBhIHdoZWVsLiBGb3IgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9wdGlvbnMsIHNlZSBXaGVlbEluZm8uCiAgICAgKiBAbWV0aG9kIGFkZFdoZWVsCiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICAgKi8KCgogICAgYWRkV2hlZWwob3B0aW9ucyA9IHt9KSB7CiAgICAgIGNvbnN0IGluZm8gPSBuZXcgV2hlZWxJbmZvKG9wdGlvbnMpOwogICAgICBjb25zdCBpbmRleCA9IHRoaXMud2hlZWxJbmZvcy5sZW5ndGg7CiAgICAgIHRoaXMud2hlZWxJbmZvcy5wdXNoKGluZm8pOwogICAgICByZXR1cm4gaW5kZXg7CiAgICB9CiAgICAvKioKICAgICAqIFNldCB0aGUgc3RlZXJpbmcgdmFsdWUgb2YgYSB3aGVlbC4KICAgICAqIEBtZXRob2Qgc2V0U3RlZXJpbmdWYWx1ZQogICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXgKICAgICAqLwoKCiAgICBzZXRTdGVlcmluZ1ZhbHVlKHZhbHVlLCB3aGVlbEluZGV4KSB7CiAgICAgIGNvbnN0IHdoZWVsID0gdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdOwogICAgICB3aGVlbC5zdGVlcmluZyA9IHZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIHdoZWVsIGZvcmNlIHRvIGFwcGx5IG9uIG9uZSBvZiB0aGUgd2hlZWxzIGVhY2ggdGltZSBzdGVwCiAgICAgKiBAbWV0aG9kIGFwcGx5RW5naW5lRm9yY2UKICAgICAqIEBwYXJhbSAge251bWJlcn0gdmFsdWUKICAgICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXgKICAgICAqLwoKCiAgICBhcHBseUVuZ2luZUZvcmNlKHZhbHVlLCB3aGVlbEluZGV4KSB7CiAgICAgIHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XS5lbmdpbmVGb3JjZSA9IHZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIGJyYWtpbmcgZm9yY2Ugb2YgYSB3aGVlbAogICAgICogQG1ldGhvZCBzZXRCcmFrZQogICAgICogQHBhcmFtIHtudW1iZXJ9IGJyYWtlCiAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXgKICAgICAqLwoKCiAgICBzZXRCcmFrZShicmFrZSwgd2hlZWxJbmRleCkgewogICAgICB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0uYnJha2UgPSBicmFrZTsKICAgIH0KICAgIC8qKgogICAgICogQWRkIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgdG8gdGhlIHdvcmxkLgogICAgICogQG1ldGhvZCBhZGRUb1dvcmxkCiAgICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZAogICAgICovCgoKICAgIGFkZFRvV29ybGQod29ybGQpIHsKICAgICAgdGhpcy5jb25zdHJhaW50czsKICAgICAgd29ybGQuYWRkQm9keSh0aGlzLmNoYXNzaXNCb2R5KTsKICAgICAgY29uc3QgdGhhdCA9IHRoaXM7CgogICAgICB0aGlzLnByZVN0ZXBDYWxsYmFjayA9ICgpID0+IHsKICAgICAgICB0aGF0LnVwZGF0ZVZlaGljbGUod29ybGQuZHQpOwogICAgICB9OwoKICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTsKICAgICAgdGhpcy53b3JsZCA9IHdvcmxkOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgb25lIG9mIHRoZSB3aGVlbCBheGxlcywgd29ybGQtb3JpZW50ZWQuCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1ldGhvZCBnZXRWZWhpY2xlQXhpc1dvcmxkCiAgICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBheGlzSW5kZXgKICAgICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdAogICAgICovCgoKICAgIGdldFZlaGljbGVBeGlzV29ybGQoYXhpc0luZGV4LCByZXN1bHQpIHsKICAgICAgcmVzdWx0LnNldChheGlzSW5kZXggPT09IDAgPyAxIDogMCwgYXhpc0luZGV4ID09PSAxID8gMSA6IDAsIGF4aXNJbmRleCA9PT0gMiA/IDEgOiAwKTsKICAgICAgdGhpcy5jaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUocmVzdWx0LCByZXN1bHQpOwogICAgfQoKICAgIHVwZGF0ZVZlaGljbGUodGltZVN0ZXApIHsKICAgICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvczsKICAgICAgY29uc3QgbnVtV2hlZWxzID0gd2hlZWxJbmZvcy5sZW5ndGg7CiAgICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtKGkpOwogICAgICB9CgogICAgICB0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIgPSAzLjYgKiBjaGFzc2lzQm9keS52ZWxvY2l0eS5sZW5ndGgoKTsKICAgICAgY29uc3QgZm9yd2FyZFdvcmxkID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5nZXRWZWhpY2xlQXhpc1dvcmxkKHRoaXMuaW5kZXhGb3J3YXJkQXhpcywgZm9yd2FyZFdvcmxkKTsKCiAgICAgIGlmIChmb3J3YXJkV29ybGQuZG90KGNoYXNzaXNCb2R5LnZlbG9jaXR5KSA8IDApIHsKICAgICAgICB0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIgKj0gLTE7CiAgICAgIH0gLy8gc2ltdWxhdGUgc3VzcGVuc2lvbgoKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgICB0aGlzLmNhc3RSYXkod2hlZWxJbmZvc1tpXSk7CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlU3VzcGVuc2lvbih0aW1lU3RlcCk7CiAgICAgIGNvbnN0IGltcHVsc2UgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCByZWxwb3MgPSBuZXcgVmVjMygpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICAgIC8vYXBwbHkgc3VzcGVuc2lvbiBmb3JjZQogICAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTsKICAgICAgICBsZXQgc3VzcGVuc2lvbkZvcmNlID0gd2hlZWwuc3VzcGVuc2lvbkZvcmNlOwoKICAgICAgICBpZiAoc3VzcGVuc2lvbkZvcmNlID4gd2hlZWwubWF4U3VzcGVuc2lvbkZvcmNlKSB7CiAgICAgICAgICBzdXNwZW5zaW9uRm9yY2UgPSB3aGVlbC5tYXhTdXNwZW5zaW9uRm9yY2U7CiAgICAgICAgfQoKICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLnNjYWxlKHN1c3BlbnNpb25Gb3JjZSAqIHRpbWVTdGVwLCBpbXB1bHNlKTsKICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1YihjaGFzc2lzQm9keS5wb3NpdGlvbiwgcmVscG9zKTsKICAgICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2UoaW1wdWxzZSwgcmVscG9zKTsKICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVGcmljdGlvbih0aW1lU3RlcCk7CiAgICAgIGNvbnN0IGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2ogPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBmd2QgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCB2ZWwgPSBuZXcgVmVjMygpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTsgLy9jb25zdCByZWxwb3MgPSBuZXcgVmVjMygpOwogICAgICAgIC8vd2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLnZzdWIoY2hhc3Npc0JvZHkucG9zaXRpb24sIHJlbHBvcyk7CgogICAgICAgIGNoYXNzaXNCb2R5LmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCwgdmVsKTsgLy8gSGFjayB0byBnZXQgdGhlIHJvdGF0aW9uIGluIHRoZSBjb3JyZWN0IGRpcmVjdGlvbgoKICAgICAgICBsZXQgbSA9IDE7CgogICAgICAgIHN3aXRjaCAodGhpcy5pbmRleFVwQXhpcykgewogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBtID0gLTE7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgaWYgKHdoZWVsLmlzSW5Db250YWN0KSB7CiAgICAgICAgICB0aGlzLmdldFZlaGljbGVBeGlzV29ybGQodGhpcy5pbmRleEZvcndhcmRBeGlzLCBmd2QpOwogICAgICAgICAgY29uc3QgcHJvaiA9IGZ3ZC5kb3Qod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZCk7CiAgICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLnNjYWxlKHByb2osIGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2opOwogICAgICAgICAgZndkLnZzdWIoaGl0Tm9ybWFsV29ybGRTY2FsZWRXaXRoUHJvaiwgZndkKTsKICAgICAgICAgIGNvbnN0IHByb2oyID0gZndkLmRvdCh2ZWwpOwogICAgICAgICAgd2hlZWwuZGVsdGFSb3RhdGlvbiA9IG0gKiBwcm9qMiAqIHRpbWVTdGVwIC8gd2hlZWwucmFkaXVzOwogICAgICAgIH0KCiAgICAgICAgaWYgKCh3aGVlbC5zbGlkaW5nIHx8ICF3aGVlbC5pc0luQ29udGFjdCkgJiYgd2hlZWwuZW5naW5lRm9yY2UgIT09IDAgJiYgd2hlZWwudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCkgewogICAgICAgICAgLy8gQXBwbHkgY3VzdG9tIHJvdGF0aW9uIHdoZW4gYWNjZWxlcmF0aW5nIGFuZCBzbGlkaW5nCiAgICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gKHdoZWVsLmVuZ2luZUZvcmNlID4gMCA/IDEgOiAtMSkgKiB3aGVlbC5jdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkICogdGltZVN0ZXA7CiAgICAgICAgfSAvLyBMb2NrIHdoZWVscwoKCiAgICAgICAgaWYgKE1hdGguYWJzKHdoZWVsLmJyYWtlKSA+IE1hdGguYWJzKHdoZWVsLmVuZ2luZUZvcmNlKSkgewogICAgICAgICAgd2hlZWwuZGVsdGFSb3RhdGlvbiA9IDA7CiAgICAgICAgfQoKICAgICAgICB3aGVlbC5yb3RhdGlvbiArPSB3aGVlbC5kZWx0YVJvdGF0aW9uOyAvLyBVc2UgdGhlIG9sZCB2YWx1ZQoKICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uICo9IDAuOTk7IC8vIGRhbXBpbmcgb2Ygcm90YXRpb24gd2hlbiBub3QgaW4gY29udGFjdAogICAgICB9CiAgICB9CgogICAgdXBkYXRlU3VzcGVuc2lvbihkZWx0YVRpbWUpIHsKICAgICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5OwogICAgICBjb25zdCBjaGFzc2lzTWFzcyA9IGNoYXNzaXNCb2R5Lm1hc3M7CiAgICAgIGNvbnN0IHdoZWVsSW5mb3MgPSB0aGlzLndoZWVsSW5mb3M7CiAgICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoOwoKICAgICAgZm9yIChsZXQgd19pdCA9IDA7IHdfaXQgPCBudW1XaGVlbHM7IHdfaXQrKykgewogICAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1t3X2l0XTsKCiAgICAgICAgaWYgKHdoZWVsLmlzSW5Db250YWN0KSB7CiAgICAgICAgICBsZXQgZm9yY2U7IC8vIFNwcmluZwoKICAgICAgICAgIGNvbnN0IHN1c3BfbGVuZ3RoID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGg7CiAgICAgICAgICBjb25zdCBjdXJyZW50X2xlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25MZW5ndGg7CiAgICAgICAgICBjb25zdCBsZW5ndGhfZGlmZiA9IHN1c3BfbGVuZ3RoIC0gY3VycmVudF9sZW5ndGg7CiAgICAgICAgICBmb3JjZSA9IHdoZWVsLnN1c3BlbnNpb25TdGlmZm5lc3MgKiBsZW5ndGhfZGlmZiAqIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbjsgLy8gRGFtcGVyCgogICAgICAgICAgY29uc3QgcHJvamVjdGVkX3JlbF92ZWwgPSB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eTsKICAgICAgICAgIGxldCBzdXNwX2RhbXBpbmc7CgogICAgICAgICAgaWYgKHByb2plY3RlZF9yZWxfdmVsIDwgMCkgewogICAgICAgICAgICBzdXNwX2RhbXBpbmcgPSB3aGVlbC5kYW1waW5nQ29tcHJlc3Npb247CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdXNwX2RhbXBpbmcgPSB3aGVlbC5kYW1waW5nUmVsYXhhdGlvbjsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3JjZSAtPSBzdXNwX2RhbXBpbmcgKiBwcm9qZWN0ZWRfcmVsX3ZlbDsKICAgICAgICAgIHdoZWVsLnN1c3BlbnNpb25Gb3JjZSA9IGZvcmNlICogY2hhc3Npc01hc3M7CgogICAgICAgICAgaWYgKHdoZWVsLnN1c3BlbnNpb25Gb3JjZSA8IDApIHsKICAgICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgZnJvbSB0aGUgd29ybGQuCiAgICAgKiBAbWV0aG9kIHJlbW92ZUZyb21Xb3JsZAogICAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQKICAgICAqLwoKCiAgICByZW1vdmVGcm9tV29ybGQod29ybGQpIHsKICAgICAgdGhpcy5jb25zdHJhaW50czsKICAgICAgd29ybGQucmVtb3ZlQm9keSh0aGlzLmNoYXNzaXNCb2R5KTsKICAgICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTsKICAgICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICB9CgogICAgY2FzdFJheSh3aGVlbCkgewogICAgICBjb25zdCByYXl2ZWN0b3IgPSBjYXN0UmF5X3JheXZlY3RvcjsKICAgICAgY29uc3QgdGFyZ2V0ID0gY2FzdFJheV90YXJnZXQ7CiAgICAgIHRoaXMudXBkYXRlV2hlZWxUcmFuc2Zvcm1Xb3JsZCh3aGVlbCk7CiAgICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTsKICAgICAgbGV0IGRlcHRoID0gLTE7CiAgICAgIGNvbnN0IHJheWxlbiA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoICsgd2hlZWwucmFkaXVzOwogICAgICB3aGVlbC5kaXJlY3Rpb25Xb3JsZC5zY2FsZShyYXlsZW4sIHJheXZlY3Rvcik7CiAgICAgIGNvbnN0IHNvdXJjZSA9IHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZDsKICAgICAgc291cmNlLnZhZGQocmF5dmVjdG9yLCB0YXJnZXQpOwogICAgICBjb25zdCByYXljYXN0UmVzdWx0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdDsKICAgICAgcmF5Y2FzdFJlc3VsdC5yZXNldCgpOyAvLyBUdXJuIG9mZiByYXkgY29sbGlzaW9uIHdpdGggdGhlIGNoYXNzaXMgdGVtcG9yYXJpbHkKCiAgICAgIGNvbnN0IG9sZFN0YXRlID0gY2hhc3Npc0JvZHkuY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIGNoYXNzaXNCb2R5LmNvbGxpc2lvblJlc3BvbnNlID0gZmFsc2U7IC8vIENhc3QgcmF5IGFnYWluc3Qgd29ybGQKCiAgICAgIHRoaXMud29ybGQucmF5VGVzdChzb3VyY2UsIHRhcmdldCwgcmF5Y2FzdFJlc3VsdCk7CiAgICAgIGNoYXNzaXNCb2R5LmNvbGxpc2lvblJlc3BvbnNlID0gb2xkU3RhdGU7CiAgICAgIGNvbnN0IG9iamVjdCA9IHJheWNhc3RSZXN1bHQuYm9keTsKICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5ncm91bmRPYmplY3QgPSAwOwoKICAgICAgaWYgKG9iamVjdCkgewogICAgICAgIGRlcHRoID0gcmF5Y2FzdFJlc3VsdC5kaXN0YW5jZTsKICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDsKICAgICAgICB3aGVlbC5pc0luQ29udGFjdCA9IHRydWU7CiAgICAgICAgY29uc3QgaGl0RGlzdGFuY2UgPSByYXljYXN0UmVzdWx0LmRpc3RhbmNlOwogICAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSBoaXREaXN0YW5jZSAtIHdoZWVsLnJhZGl1czsgLy8gY2xhbXAgb24gbWF4IHN1c3BlbnNpb24gdHJhdmVsCgogICAgICAgIGNvbnN0IG1pblN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCAtIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7CiAgICAgICAgY29uc3QgbWF4U3VzcGVuc2lvbkxlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoICsgd2hlZWwubWF4U3VzcGVuc2lvblRyYXZlbDsKCiAgICAgICAgaWYgKHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPCBtaW5TdXNwZW5zaW9uTGVuZ3RoKSB7CiAgICAgICAgICB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID0gbWluU3VzcGVuc2lvbkxlbmd0aDsKICAgICAgICB9CgogICAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID4gbWF4U3VzcGVuc2lvbkxlbmd0aCkgewogICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IG1heFN1c3BlbnNpb25MZW5ndGg7CiAgICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LnJlc2V0KCk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBkZW5vbWluYXRvciA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KHdoZWVsLmRpcmVjdGlvbldvcmxkKTsKICAgICAgICBjb25zdCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCA9IG5ldyBWZWMzKCk7CiAgICAgICAgY2hhc3Npc0JvZHkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7CiAgICAgICAgY29uc3QgcHJvalZlbCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTsKCiAgICAgICAgaWYgKGRlbm9taW5hdG9yID49IC0wLjEpIHsKICAgICAgICAgIHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMDsKICAgICAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEgLyAwLjE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IGludiA9IC0xIC8gZGVub21pbmF0b3I7CiAgICAgICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IHByb2pWZWwgKiBpbnY7CiAgICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSBpbnY7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vcHV0IHdoZWVsIGluZm8gYXMgaW4gcmVzdCBwb3NpdGlvbgogICAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCArIDAgKiB3aGVlbC5tYXhTdXNwZW5zaW9uVHJhdmVsOwogICAgICAgIHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMC4wOwogICAgICAgIHdoZWVsLmRpcmVjdGlvbldvcmxkLnNjYWxlKC0xLCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKTsKICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjA7CiAgICAgIH0KCiAgICAgIHJldHVybiBkZXB0aDsKICAgIH0KCiAgICB1cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKSB7CiAgICAgIHdoZWVsLmlzSW5Db250YWN0ID0gZmFsc2U7CiAgICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTsKICAgICAgY2hhc3Npc0JvZHkucG9pbnRUb1dvcmxkRnJhbWUod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsLCB3aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQpOwogICAgICBjaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUod2hlZWwuZGlyZWN0aW9uTG9jYWwsIHdoZWVsLmRpcmVjdGlvbldvcmxkKTsKICAgICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHdoZWVsLmF4bGVMb2NhbCwgd2hlZWwuYXhsZVdvcmxkKTsKICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlIG9uZSBvZiB0aGUgd2hlZWwgdHJhbnNmb3JtLgogICAgICogTm90ZSB3aGVuIHJlbmRlcmluZyB3aGVlbHM6IGR1cmluZyBlYWNoIHN0ZXAsIHdoZWVsIHRyYW5zZm9ybXMgYXJlIHVwZGF0ZWQgQkVGT1JFIHRoZSBjaGFzc2lzOyBpZS4gdGhlaXIgcG9zaXRpb24gYmVjb21lcyBpbnZhbGlkIGFmdGVyIHRoZSBzdGVwLiBUaHVzIHdoZW4geW91IHJlbmRlciB3aGVlbHMsIHlvdSBtdXN0IHVwZGF0ZSB3aGVlbCB0cmFuc2Zvcm1zIGJlZm9yZSByZW5kZXJpbmcgdGhlbS4gU2VlIHJheWNhc3RWZWhpY2xlIGRlbW8gZm9yIGFuIGV4YW1wbGUuCiAgICAgKiBAbWV0aG9kIHVwZGF0ZVdoZWVsVHJhbnNmb3JtCiAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXggVGhlIHdoZWVsIGluZGV4IHRvIHVwZGF0ZS4KICAgICAqLwoKCiAgICB1cGRhdGVXaGVlbFRyYW5zZm9ybSh3aGVlbEluZGV4KSB7CiAgICAgIGNvbnN0IHVwID0gdG1wVmVjNDsKICAgICAgY29uc3QgcmlnaHQgPSB0bXBWZWM1OwogICAgICBjb25zdCBmd2QgPSB0bXBWZWM2OwogICAgICBjb25zdCB3aGVlbCA9IHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XTsKICAgICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKTsKICAgICAgd2hlZWwuZGlyZWN0aW9uTG9jYWwuc2NhbGUoLTEsIHVwKTsKICAgICAgcmlnaHQuY29weSh3aGVlbC5heGxlTG9jYWwpOwogICAgICB1cC5jcm9zcyhyaWdodCwgZndkKTsKICAgICAgZndkLm5vcm1hbGl6ZSgpOwogICAgICByaWdodC5ub3JtYWxpemUoKTsgLy8gUm90YXRlIGFyb3VuZCBzdGVlcmluZyBvdmVyIHRoZSB3aGVlbEF4bGUKCiAgICAgIGNvbnN0IHN0ZWVyaW5nID0gd2hlZWwuc3RlZXJpbmc7CiAgICAgIGNvbnN0IHN0ZWVyaW5nT3JuID0gbmV3IFF1YXRlcm5pb24oKTsKICAgICAgc3RlZXJpbmdPcm4uc2V0RnJvbUF4aXNBbmdsZSh1cCwgc3RlZXJpbmcpOwogICAgICBjb25zdCByb3RhdGluZ09ybiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgICAgIHJvdGF0aW5nT3JuLnNldEZyb21BeGlzQW5nbGUocmlnaHQsIHdoZWVsLnJvdGF0aW9uKTsgLy8gV29ybGQgcm90YXRpb24gb2YgdGhlIHdoZWVsCgogICAgICBjb25zdCBxID0gd2hlZWwud29ybGRUcmFuc2Zvcm0ucXVhdGVybmlvbjsKICAgICAgdGhpcy5jaGFzc2lzQm9keS5xdWF0ZXJuaW9uLm11bHQoc3RlZXJpbmdPcm4sIHEpOwogICAgICBxLm11bHQocm90YXRpbmdPcm4sIHEpOwogICAgICBxLm5vcm1hbGl6ZSgpOyAvLyB3b3JsZCBwb3NpdGlvbiBvZiB0aGUgd2hlZWwKCiAgICAgIGNvbnN0IHAgPSB3aGVlbC53b3JsZFRyYW5zZm9ybS5wb3NpdGlvbjsKICAgICAgcC5jb3B5KHdoZWVsLmRpcmVjdGlvbldvcmxkKTsKICAgICAgcC5zY2FsZSh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoLCBwKTsKICAgICAgcC52YWRkKHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCwgcCk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgd29ybGQgdHJhbnNmb3JtIG9mIG9uZSBvZiB0aGUgd2hlZWxzCiAgICAgKiBAbWV0aG9kIGdldFdoZWVsVHJhbnNmb3JtV29ybGQKICAgICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXgKICAgICAqIEByZXR1cm4ge1RyYW5zZm9ybX0KICAgICAqLwoKCiAgICBnZXRXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsSW5kZXgpIHsKICAgICAgcmV0dXJuIHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XS53b3JsZFRyYW5zZm9ybTsKICAgIH0KCiAgICB1cGRhdGVGcmljdGlvbih0aW1lU3RlcCkgewogICAgICBjb25zdCBzdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2ogPSB1cGRhdGVGcmljdGlvbl9zdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2o7IC8vY2FsY3VsYXRlIHRoZSBpbXB1bHNlLCBzbyB0aGF0IHRoZSB3aGVlbHMgZG9uJ3QgbW92ZSBzaWRld2FyZHMKCiAgICAgIGNvbnN0IHdoZWVsSW5mb3MgPSB0aGlzLndoZWVsSW5mb3M7CiAgICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoOwogICAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7CiAgICAgIGNvbnN0IGZvcndhcmRXUyA9IHVwZGF0ZUZyaWN0aW9uX2ZvcndhcmRXUzsKICAgICAgY29uc3QgYXhsZSA9IHVwZGF0ZUZyaWN0aW9uX2F4bGU7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOwogICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTsKICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSA9IDA7CiAgICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgPSAwOwoKICAgICAgICBpZiAoIWZvcndhcmRXU1tpXSkgewogICAgICAgICAgZm9yd2FyZFdTW2ldID0gbmV3IFZlYzMoKTsKICAgICAgICB9CgogICAgICAgIGlmICghYXhsZVtpXSkgewogICAgICAgICAgYXhsZVtpXSA9IG5ldyBWZWMzKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOwogICAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTsKCiAgICAgICAgaWYgKGdyb3VuZE9iamVjdCkgewogICAgICAgICAgY29uc3QgYXhsZWkgPSBheGxlW2ldOwogICAgICAgICAgY29uc3Qgd2hlZWxUcmFucyA9IHRoaXMuZ2V0V2hlZWxUcmFuc2Zvcm1Xb3JsZChpKTsgLy8gR2V0IHdvcmxkIGF4bGUKCiAgICAgICAgICB3aGVlbFRyYW5zLnZlY3RvclRvV29ybGRGcmFtZShkaXJlY3Rpb25zW3RoaXMuaW5kZXhSaWdodEF4aXNdLCBheGxlaSk7CiAgICAgICAgICBjb25zdCBzdXJmTm9ybWFsV1MgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkOwogICAgICAgICAgY29uc3QgcHJvaiA9IGF4bGVpLmRvdChzdXJmTm9ybWFsV1MpOwogICAgICAgICAgc3VyZk5vcm1hbFdTLnNjYWxlKHByb2osIHN1cmZOb3JtYWxXU19zY2FsZWRfcHJvaik7CiAgICAgICAgICBheGxlaS52c3ViKHN1cmZOb3JtYWxXU19zY2FsZWRfcHJvaiwgYXhsZWkpOwogICAgICAgICAgYXhsZWkubm9ybWFsaXplKCk7CiAgICAgICAgICBzdXJmTm9ybWFsV1MuY3Jvc3MoYXhsZWksIGZvcndhcmRXU1tpXSk7CiAgICAgICAgICBmb3J3YXJkV1NbaV0ubm9ybWFsaXplKCk7CiAgICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWwoY2hhc3Npc0JvZHksIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgZ3JvdW5kT2JqZWN0LCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGF4bGVpKTsKICAgICAgICAgIHdoZWVsLnNpZGVJbXB1bHNlICo9IHNpZGVGcmljdGlvblN0aWZmbmVzczI7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCBzaWRlRmFjdG9yID0gMTsKICAgICAgY29uc3QgZndkRmFjdG9yID0gMC41OwogICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07CiAgICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5OwogICAgICAgIGxldCByb2xsaW5nRnJpY3Rpb24gPSAwOwogICAgICAgIHdoZWVsLnNsaXBJbmZvID0gMTsKCiAgICAgICAgaWYgKGdyb3VuZE9iamVjdCkgewogICAgICAgICAgY29uc3QgZGVmYXVsdFJvbGxpbmdGcmljdGlvbkltcHVsc2UgPSAwOwogICAgICAgICAgY29uc3QgbWF4SW1wdWxzZSA9IHdoZWVsLmJyYWtlID8gd2hlZWwuYnJha2UgOiBkZWZhdWx0Um9sbGluZ0ZyaWN0aW9uSW1wdWxzZTsgLy8gYnRXaGVlbENvbnRhY3RQb2ludCBjb250YWN0UHQoY2hhc3Npc0JvZHksZ3JvdW5kT2JqZWN0LHdoZWVsSW5mcmF5Y2FzdEluZm8uaGl0UG9pbnRXb3JsZCxmb3J3YXJkV1Nbd2hlZWxdLG1heEltcHVsc2UpOwogICAgICAgICAgLy8gcm9sbGluZ0ZyaWN0aW9uID0gY2FsY1JvbGxpbmdGcmljdGlvbihjb250YWN0UHQpOwoKICAgICAgICAgIHJvbGxpbmdGcmljdGlvbiA9IGNhbGNSb2xsaW5nRnJpY3Rpb24oY2hhc3Npc0JvZHksIGdyb3VuZE9iamVjdCwgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBmb3J3YXJkV1NbaV0sIG1heEltcHVsc2UpOwogICAgICAgICAgcm9sbGluZ0ZyaWN0aW9uICs9IHdoZWVsLmVuZ2luZUZvcmNlICogdGltZVN0ZXA7IC8vIHJvbGxpbmdGcmljdGlvbiA9IDA7CgogICAgICAgICAgY29uc3QgZmFjdG9yID0gbWF4SW1wdWxzZSAvIHJvbGxpbmdGcmljdGlvbjsKICAgICAgICAgIHdoZWVsLnNsaXBJbmZvICo9IGZhY3RvcjsKICAgICAgICB9IC8vc3dpdGNoIGJldHdlZW4gYWN0aXZlIHJvbGxpbmcgKHRocm90dGxlKSwgYnJha2luZyBhbmQgbm9uLWFjdGl2ZSByb2xsaW5nIGZyaWN0aW9uIChudGhyb3R0bGUvYnJlYWspCgoKICAgICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSA9IDA7CiAgICAgICAgd2hlZWwuc2tpZEluZm8gPSAxOwoKICAgICAgICBpZiAoZ3JvdW5kT2JqZWN0KSB7CiAgICAgICAgICB3aGVlbC5za2lkSW5mbyA9IDE7CiAgICAgICAgICBjb25zdCBtYXhpbXAgPSB3aGVlbC5zdXNwZW5zaW9uRm9yY2UgKiB0aW1lU3RlcCAqIHdoZWVsLmZyaWN0aW9uU2xpcDsKICAgICAgICAgIGNvbnN0IG1heGltcFNpZGUgPSBtYXhpbXA7CiAgICAgICAgICBjb25zdCBtYXhpbXBTcXVhcmVkID0gbWF4aW1wICogbWF4aW1wU2lkZTsKICAgICAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlID0gcm9sbGluZ0ZyaWN0aW9uOyAvL3doZWVsSW5mby5lbmdpbmVGb3JjZSogdGltZVN0ZXA7CgogICAgICAgICAgY29uc3QgeCA9IHdoZWVsLmZvcndhcmRJbXB1bHNlICogZndkRmFjdG9yIC8gd2hlZWwuZm9yd2FyZEFjY2VsZXJhdGlvbjsKICAgICAgICAgIGNvbnN0IHkgPSB3aGVlbC5zaWRlSW1wdWxzZSAqIHNpZGVGYWN0b3IgLyB3aGVlbC5zaWRlQWNjZWxlcmF0aW9uOwogICAgICAgICAgY29uc3QgaW1wdWxzZVNxdWFyZWQgPSB4ICogeCArIHkgKiB5OwogICAgICAgICAgd2hlZWwuc2xpZGluZyA9IGZhbHNlOwoKICAgICAgICAgIGlmIChpbXB1bHNlU3F1YXJlZCA+IG1heGltcFNxdWFyZWQpIHsKICAgICAgICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgd2hlZWwuc2xpZGluZyA9IHRydWU7CiAgICAgICAgICAgIGNvbnN0IGZhY3RvciA9IG1heGltcCAvIE1hdGguc3FydChpbXB1bHNlU3F1YXJlZCk7CiAgICAgICAgICAgIHdoZWVsLnNraWRJbmZvICo9IGZhY3RvcjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNsaWRpbmcpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07CgogICAgICAgICAgaWYgKHdoZWVsLnNpZGVJbXB1bHNlICE9PSAwKSB7CiAgICAgICAgICAgIGlmICh3aGVlbC5za2lkSW5mbyA8IDEpIHsKICAgICAgICAgICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSAqPSB3aGVlbC5za2lkSW5mbzsKICAgICAgICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSAqPSB3aGVlbC5za2lkSW5mbzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAvLyBhcHBseSB0aGUgaW1wdWxzZXMKCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOwogICAgICAgIGNvbnN0IHJlbF9wb3MgPSBuZXcgVmVjMygpOwogICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxfcG9zKTsgLy8gY2Fubm9ucyBhcHBseWltcHVsc2UgaXMgdXNpbmcgd29ybGQgY29vcmQgZm9yIHRoZSBwb3NpdGlvbgogICAgICAgIC8vcmVsX3Bvcy5jb3B5KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCk7CgogICAgICAgIGlmICh3aGVlbC5mb3J3YXJkSW1wdWxzZSAhPT0gMCkgewogICAgICAgICAgY29uc3QgaW1wdWxzZSA9IG5ldyBWZWMzKCk7CiAgICAgICAgICBmb3J3YXJkV1NbaV0uc2NhbGUod2hlZWwuZm9yd2FyZEltcHVsc2UsIGltcHVsc2UpOwogICAgICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKGltcHVsc2UsIHJlbF9wb3MpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHdoZWVsLnNpZGVJbXB1bHNlICE9PSAwKSB7CiAgICAgICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7CiAgICAgICAgICBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7CiAgICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1Yihncm91bmRPYmplY3QucG9zaXRpb24sIHJlbF9wb3MyKTsgLy9yZWxfcG9zMi5jb3B5KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCk7CgogICAgICAgICAgY29uc3Qgc2lkZUltcCA9IG5ldyBWZWMzKCk7CiAgICAgICAgICBheGxlW2ldLnNjYWxlKHdoZWVsLnNpZGVJbXB1bHNlLCBzaWRlSW1wKTsgLy8gU2NhbGUgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIGluIHRoZSB1cCBkaXJlY3Rpb24gd2l0aCByb2xsSW5mbHVlbmNlLgogICAgICAgICAgLy8gSWYgcm9sbEluZmx1ZW5jZSBpcyAxLCB0aGUgaW1wdWxzZSB3aWxsIGJlIGFwcGxpZWQgb24gdGhlIGhpdFBvaW50IChlYXN5IHRvIHJvbGwgb3ZlciksIGlmIGl0IGlzIHplcm8gaXQgd2lsbCBiZSBhcHBsaWVkIGluIHRoZSBzYW1lIHBsYW5lIGFzIHRoZSBjZW50ZXIgb2YgbWFzcyAobm90IGVhc3kgdG8gcm9sbCBvdmVyKS4KCiAgICAgICAgICBjaGFzc2lzQm9keS52ZWN0b3JUb0xvY2FsRnJhbWUocmVsX3BvcywgcmVsX3Bvcyk7CiAgICAgICAgICByZWxfcG9zWyd4eXonW3RoaXMuaW5kZXhVcEF4aXNdXSAqPSB3aGVlbC5yb2xsSW5mbHVlbmNlOwogICAgICAgICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHJlbF9wb3MsIHJlbF9wb3MpOwogICAgICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKHNpZGVJbXAsIHJlbF9wb3MpOyAvL2FwcGx5IGZyaWN0aW9uIGltcHVsc2Ugb24gdGhlIGdyb3VuZAoKICAgICAgICAgIHNpZGVJbXAuc2NhbGUoLTEsIHNpZGVJbXApOwogICAgICAgICAgZ3JvdW5kT2JqZWN0LmFwcGx5SW1wdWxzZShzaWRlSW1wLCByZWxfcG9zMik7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogIH0KCiAgY29uc3QgdG1wVmVjNCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdG1wVmVjNSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdG1wVmVjNiA9IG5ldyBWZWMzKCk7CiAgbmV3IFJheSgpOwogIGNvbnN0IGNhc3RSYXlfcmF5dmVjdG9yID0gbmV3IFZlYzMoKTsKICBjb25zdCBjYXN0UmF5X3RhcmdldCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgZGlyZWN0aW9ucyA9IFtuZXcgVmVjMygxLCAwLCAwKSwgbmV3IFZlYzMoMCwgMSwgMCksIG5ldyBWZWMzKDAsIDAsIDEpXTsKICBjb25zdCB1cGRhdGVGcmljdGlvbl9zdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2ogPSBuZXcgVmVjMygpOwogIGNvbnN0IHVwZGF0ZUZyaWN0aW9uX2F4bGUgPSBbXTsKICBjb25zdCB1cGRhdGVGcmljdGlvbl9mb3J3YXJkV1MgPSBbXTsKICBjb25zdCBzaWRlRnJpY3Rpb25TdGlmZm5lc3MyID0gMTsKICBjb25zdCBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDEgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwgPSBuZXcgVmVjMygpOwoKICBmdW5jdGlvbiBjYWxjUm9sbGluZ0ZyaWN0aW9uKGJvZHkwLCBib2R5MSwgZnJpY3Rpb25Qb3NXb3JsZCwgZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZCwgbWF4SW1wdWxzZSkgewogICAgbGV0IGoxID0gMDsKICAgIGNvbnN0IGNvbnRhY3RQb3NXb3JsZCA9IGZyaWN0aW9uUG9zV29ybGQ7IC8vIGNvbnN0IHJlbF9wb3MxID0gbmV3IFZlYzMoKTsKICAgIC8vIGNvbnN0IHJlbF9wb3MyID0gbmV3IFZlYzMoKTsKCiAgICBjb25zdCB2ZWwxID0gY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwxOwogICAgY29uc3QgdmVsMiA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMjsKICAgIGNvbnN0IHZlbCA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsOyAvLyBjb250YWN0UG9zV29ybGQudnN1Yihib2R5MC5wb3NpdGlvbiwgcmVsX3BvczEpOwogICAgLy8gY29udGFjdFBvc1dvcmxkLnZzdWIoYm9keTEucG9zaXRpb24sIHJlbF9wb3MyKTsKCiAgICBib2R5MC5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChjb250YWN0UG9zV29ybGQsIHZlbDEpOwogICAgYm9keTEuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoY29udGFjdFBvc1dvcmxkLCB2ZWwyKTsKICAgIHZlbDEudnN1Yih2ZWwyLCB2ZWwpOwogICAgY29uc3QgdnJlbCA9IGZyaWN0aW9uRGlyZWN0aW9uV29ybGQuZG90KHZlbCk7CiAgICBjb25zdCBkZW5vbTAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yKGJvZHkwLCBmcmljdGlvblBvc1dvcmxkLCBmcmljdGlvbkRpcmVjdGlvbldvcmxkKTsKICAgIGNvbnN0IGRlbm9tMSA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IoYm9keTEsIGZyaWN0aW9uUG9zV29ybGQsIGZyaWN0aW9uRGlyZWN0aW9uV29ybGQpOwogICAgY29uc3QgcmVsYXhhdGlvbiA9IDE7CiAgICBjb25zdCBqYWNEaWFnQUJJbnYgPSByZWxheGF0aW9uIC8gKGRlbm9tMCArIGRlbm9tMSk7IC8vIGNhbGN1bGF0ZSBqIHRoYXQgbW92ZXMgdXMgdG8gemVybyByZWxhdGl2ZSB2ZWxvY2l0eQoKICAgIGoxID0gLXZyZWwgKiBqYWNEaWFnQUJJbnY7CgogICAgaWYgKG1heEltcHVsc2UgPCBqMSkgewogICAgICBqMSA9IG1heEltcHVsc2U7CiAgICB9CgogICAgaWYgKGoxIDwgLW1heEltcHVsc2UpIHsKICAgICAgajEgPSAtbWF4SW1wdWxzZTsKICAgIH0KCiAgICByZXR1cm4gajE7CiAgfQoKICBjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3ZlYyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tID0gbmV3IFZlYzMoKTsKCiAgZnVuY3Rpb24gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcihib2R5LCBwb3MsIG5vcm1hbCkgewogICAgY29uc3QgcjAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwOwogICAgY29uc3QgYzAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwOwogICAgY29uc3QgdmVjID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl92ZWM7CiAgICBjb25zdCBtID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tOwogICAgcG9zLnZzdWIoYm9keS5wb3NpdGlvbiwgcjApOwogICAgcjAuY3Jvc3Mobm9ybWFsLCBjMCk7CiAgICBib2R5LmludkluZXJ0aWFXb3JsZC52bXVsdChjMCwgbSk7CiAgICBtLmNyb3NzKHIwLCB2ZWMpOwogICAgcmV0dXJuIGJvZHkuaW52TWFzcyArIG5vcm1hbC5kb3QodmVjKTsKICB9CgogIGNvbnN0IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwyID0gbmV3IFZlYzMoKTsKICBjb25zdCByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbCA9IG5ldyBWZWMzKCk7IC8vYmlsYXRlcmFsIGNvbnN0cmFpbnQgYmV0d2VlbiB0d28gZHluYW1pYyBvYmplY3RzCgogIGZ1bmN0aW9uIHJlc29sdmVTaW5nbGVCaWxhdGVyYWwoYm9keTEsIHBvczEsIGJvZHkyLCBwb3MyLCBub3JtYWwpIHsKICAgIGNvbnN0IG5vcm1hbExlblNxciA9IG5vcm1hbC5sZW5ndGhTcXVhcmVkKCk7CgogICAgaWYgKG5vcm1hbExlblNxciA+IDEuMSkgewogICAgICByZXR1cm4gMDsgLy8gbm8gaW1wdWxzZQogICAgfSAvLyBjb25zdCByZWxfcG9zMSA9IG5ldyBWZWMzKCk7CiAgICAvLyBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7CiAgICAvLyBwb3MxLnZzdWIoYm9keTEucG9zaXRpb24sIHJlbF9wb3MxKTsKICAgIC8vIHBvczIudnN1Yihib2R5Mi5wb3NpdGlvbiwgcmVsX3BvczIpOwoKCiAgICBjb25zdCB2ZWwxID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwxOwogICAgY29uc3QgdmVsMiA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMjsKICAgIGNvbnN0IHZlbCA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsOwogICAgYm9keTEuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQocG9zMSwgdmVsMSk7CiAgICBib2R5Mi5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChwb3MyLCB2ZWwyKTsKICAgIHZlbDEudnN1Yih2ZWwyLCB2ZWwpOwogICAgY29uc3QgcmVsX3ZlbCA9IG5vcm1hbC5kb3QodmVsKTsKICAgIGNvbnN0IGNvbnRhY3REYW1waW5nID0gMC4yOwogICAgY29uc3QgbWFzc1Rlcm0gPSAxIC8gKGJvZHkxLmludk1hc3MgKyBib2R5Mi5pbnZNYXNzKTsKICAgIGNvbnN0IGltcHVsc2UgPSAtY29udGFjdERhbXBpbmcgKiByZWxfdmVsICogbWFzc1Rlcm07CiAgICByZXR1cm4gaW1wdWxzZTsKICB9CiAgLyoqCiAgICogU3BoZXJpY2FsIHNoYXBlCiAgICogQGNsYXNzIFNwaGVyZQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIFNoYXBlCiAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cyBUaGUgcmFkaXVzIG9mIHRoZSBzcGhlcmUsIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4KICAgKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cDovL2dpdGh1Yi5jb20vc2NodGVwcGUKICAgKi8KCgogIGNsYXNzIFNwaGVyZSBleHRlbmRzIFNoYXBlIHsKICAgIGNvbnN0cnVjdG9yKHJhZGl1cykgewogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuU1BIRVJFCiAgICAgIH0pOwogICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cyAhPT0gdW5kZWZpbmVkID8gcmFkaXVzIDogMS4wOwoKICAgICAgaWYgKHRoaXMucmFkaXVzIDwgMCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNwaGVyZSByYWRpdXMgY2Fubm90IGJlIG5lZ2F0aXZlLicpOwogICAgICB9CgogICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICB9CgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgY29uc3QgSSA9IDIuMCAqIG1hc3MgKiB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzIC8gNS4wOwogICAgICB0YXJnZXQueCA9IEk7CiAgICAgIHRhcmdldC55ID0gSTsKICAgICAgdGFyZ2V0LnogPSBJOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIHZvbHVtZSgpIHsKICAgICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiBNYXRoLnBvdyh0aGlzLnJhZGl1cywgMykgLyAzLjA7CiAgICB9CgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSB0aGlzLnJhZGl1czsKICAgIH0KCiAgICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgICBjb25zdCByID0gdGhpcy5yYWRpdXM7CiAgICAgIGNvbnN0IGF4ZXMgPSBbJ3gnLCAneScsICd6J107CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBheCA9IGF4ZXNbaV07CiAgICAgICAgbWluW2F4XSA9IHBvc1theF0gLSByOwogICAgICAgIG1heFtheF0gPSBwb3NbYXhdICsgcjsKICAgICAgfQogICAgfQoKICB9CiAgLyoqCiAgICogQGNsYXNzIEN5bGluZGVyCiAgICogQGNvbnN0cnVjdG9yCiAgICogQGV4dGVuZHMgQ29udmV4UG9seWhlZHJvbgogICAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUKICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzVG9wCiAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c0JvdHRvbQogICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQKICAgKiBAcGFyYW0ge051bWJlcn0gbnVtU2VnbWVudHMgVGhlIG51bWJlciBvZiBzZWdtZW50cyB0byBidWlsZCB0aGUgY3lsaW5kZXIgb3V0IG9mCiAgICovCgogIGNsYXNzIEN5bGluZGVyIGV4dGVuZHMgQ29udmV4UG9seWhlZHJvbiB7CiAgICBjb25zdHJ1Y3RvcihyYWRpdXNUb3AgPSAxLCByYWRpdXNCb3R0b20gPSAxLCBoZWlnaHQgPSAxLCBudW1TZWdtZW50cyA9IDgpIHsKICAgICAgaWYgKHJhZGl1c1RvcCA8IDApIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjeWxpbmRlciByYWRpdXNUb3AgY2Fubm90IGJlIG5lZ2F0aXZlLicpOwogICAgICB9CgogICAgICBpZiAocmFkaXVzQm90dG9tIDwgMCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGN5bGluZGVyIHJhZGl1c0JvdHRvbSBjYW5ub3QgYmUgbmVnYXRpdmUuJyk7CiAgICAgIH0KCiAgICAgIGNvbnN0IE4gPSBudW1TZWdtZW50czsKICAgICAgY29uc3QgdmVydGljZXMgPSBbXTsKICAgICAgY29uc3QgYXhlcyA9IFtdOwogICAgICBjb25zdCBmYWNlcyA9IFtdOwogICAgICBjb25zdCBib3R0b21mYWNlID0gW107CiAgICAgIGNvbnN0IHRvcGZhY2UgPSBbXTsKICAgICAgY29uc3QgY29zID0gTWF0aC5jb3M7CiAgICAgIGNvbnN0IHNpbiA9IE1hdGguc2luOyAvLyBGaXJzdCBib3R0b20gcG9pbnQKCiAgICAgIHZlcnRpY2VzLnB1c2gobmV3IFZlYzMoLXJhZGl1c0JvdHRvbSAqIHNpbigwKSwgLWhlaWdodCAqIDAuNSwgcmFkaXVzQm90dG9tICogY29zKDApKSk7CiAgICAgIGJvdHRvbWZhY2UucHVzaCgwKTsgLy8gRmlyc3QgdG9wIHBvaW50CgogICAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNUb3AgKiBzaW4oMCksIGhlaWdodCAqIDAuNSwgcmFkaXVzVG9wICogY29zKDApKSk7CiAgICAgIHRvcGZhY2UucHVzaCgxKTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgaSsrKSB7CiAgICAgICAgY29uc3QgdGhldGEgPSAyICogTWF0aC5QSSAvIE4gKiAoaSArIDEpOwogICAgICAgIGNvbnN0IHRoZXRhTiA9IDIgKiBNYXRoLlBJIC8gTiAqIChpICsgMC41KTsKCiAgICAgICAgaWYgKGkgPCBOIC0gMSkgewogICAgICAgICAgLy8gQm90dG9tCiAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNCb3R0b20gKiBzaW4odGhldGEpLCAtaGVpZ2h0ICogMC41LCByYWRpdXNCb3R0b20gKiBjb3ModGhldGEpKSk7CiAgICAgICAgICBib3R0b21mYWNlLnB1c2goMiAqIGkgKyAyKTsgLy8gVG9wCgogICAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzVG9wICogc2luKHRoZXRhKSwgaGVpZ2h0ICogMC41LCByYWRpdXNUb3AgKiBjb3ModGhldGEpKSk7CiAgICAgICAgICB0b3BmYWNlLnB1c2goMiAqIGkgKyAzKTsgLy8gRmFjZQoKICAgICAgICAgIGZhY2VzLnB1c2goWzIgKiBpLCAyICogaSArIDEsIDIgKiBpICsgMywgMiAqIGkgKyAyXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZhY2VzLnB1c2goWzIgKiBpLCAyICogaSArIDEsIDEsIDBdKTsgLy8gQ29ubmVjdAogICAgICAgIH0gLy8gQXhpczogd2UgY2FuIGN1dCBvZmYgaGFsZiBvZiB0aGVtIGlmIHdlIGhhdmUgZXZlbiBudW1iZXIgb2Ygc2VnbWVudHMKCgogICAgICAgIGlmIChOICUgMiA9PT0gMSB8fCBpIDwgTiAvIDIpIHsKICAgICAgICAgIGF4ZXMucHVzaChuZXcgVmVjMygtc2luKHRoZXRhTiksIDAsIGNvcyh0aGV0YU4pKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmYWNlcy5wdXNoKGJvdHRvbWZhY2UpOwogICAgICBheGVzLnB1c2gobmV3IFZlYzMoMCwgMSwgMCkpOyAvLyBSZW9yZGVyIHRvcCBmYWNlCgogICAgICBjb25zdCB0ZW1wID0gW107CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvcGZhY2UubGVuZ3RoOyBpKyspIHsKICAgICAgICB0ZW1wLnB1c2godG9wZmFjZVt0b3BmYWNlLmxlbmd0aCAtIGkgLSAxXSk7CiAgICAgIH0KCiAgICAgIGZhY2VzLnB1c2godGVtcCk7CiAgICAgIHN1cGVyKHsKICAgICAgICB2ZXJ0aWNlcywKICAgICAgICBmYWNlcywKICAgICAgICBheGVzCiAgICAgIH0pOwogICAgICB0aGlzLnR5cGUgPSBTaGFwZS50eXBlcy5DWUxJTkRFUjsKICAgICAgdGhpcy5yYWRpdXNUb3AgPSByYWRpdXNUb3A7CiAgICAgIHRoaXMucmFkaXVzQm90dG9tID0gcmFkaXVzQm90dG9tOwogICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKICAgICAgdGhpcy5udW1TZWdtZW50cyA9IG51bVNlZ21lbnRzOwogICAgfQoKICB9CiAgLyoqCiAgICogUGFydGljbGUgc2hhcGUuCiAgICogQGNsYXNzIFBhcnRpY2xlCiAgICogQGNvbnN0cnVjdG9yCiAgICogQGF1dGhvciBzY2h0ZXBwZQogICAqIEBleHRlbmRzIFNoYXBlCiAgICovCgoKICBjbGFzcyBQYXJ0aWNsZSBleHRlbmRzIFNoYXBlIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuUEFSVElDTEUKICAgICAgfSk7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3MKICAgICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldAogICAgICogQHJldHVybiB7VmVjM30KICAgICAqLwoKCiAgICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICB0YXJnZXQuc2V0KDAsIDAsIDApOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIHZvbHVtZSgpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSAwOwogICAgfQoKICAgIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICAgIC8vIEdldCBlYWNoIGF4aXMgbWF4CiAgICAgIG1pbi5jb3B5KHBvcyk7CiAgICAgIG1heC5jb3B5KHBvcyk7CiAgICB9CgogIH0KICAvKioKICAgKiBBIHBsYW5lLCBmYWNpbmcgaW4gdGhlIFogZGlyZWN0aW9uLiBUaGUgcGxhbmUgaGFzIGl0cyBzdXJmYWNlIGF0IHo9MCBhbmQgZXZlcnl0aGluZyBiZWxvdyB6PTAgaXMgYXNzdW1lZCB0byBiZSBzb2xpZCBwbGFuZS4gVG8gbWFrZSB0aGUgcGxhbmUgZmFjZSBpbiBzb21lIG90aGVyIGRpcmVjdGlvbiB0aGFuIHosIHlvdSBtdXN0IHB1dCBpdCBpbnNpZGUgYSBCb2R5IGFuZCByb3RhdGUgdGhhdCBib2R5LiBTZWUgdGhlIGRlbW9zLgogICAqIEBjbGFzcyBQbGFuZQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIFNoYXBlCiAgICogQGF1dGhvciBzY2h0ZXBwZQogICAqLwoKCiAgY2xhc3MgUGxhbmUgZXh0ZW5kcyBTaGFwZSB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoewogICAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlBMQU5FCiAgICAgIH0pOyAvLyBXb3JsZCBvcmllbnRlZCBub3JtYWwKCiAgICAgIHRoaXMud29ybGROb3JtYWwgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLndvcmxkTm9ybWFsTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTsKICAgIH0KCiAgICBjb21wdXRlV29ybGROb3JtYWwocXVhdCkgewogICAgICBjb25zdCBuID0gdGhpcy53b3JsZE5vcm1hbDsKICAgICAgbi5zZXQoMCwgMCwgMSk7CiAgICAgIHF1YXQudm11bHQobiwgbik7CiAgICAgIHRoaXMud29ybGROb3JtYWxOZWVkc1VwZGF0ZSA9IGZhbHNlOwogICAgfQoKICAgIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CgogICAgdm9sdW1lKCkgewogICAgICByZXR1cm4gKC8vIFRoZSBwbGFuZSBpcyBpbmZpbml0ZS4uLgogICAgICAgIE51bWJlci5NQVhfVkFMVUUKICAgICAgKTsKICAgIH0KCiAgICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgICAvLyBUaGUgcGxhbmUgQUFCQiBpcyBpbmZpbml0ZSwgZXhjZXB0IGlmIHRoZSBub3JtYWwgaXMgcG9pbnRpbmcgYWxvbmcgYW55IGF4aXMKICAgICAgdGVtcE5vcm1hbC5zZXQoMCwgMCwgMSk7IC8vIERlZmF1bHQgcGxhbmUgbm9ybWFsIGlzIHoKCiAgICAgIHF1YXQudm11bHQodGVtcE5vcm1hbCwgdGVtcE5vcm1hbCk7CiAgICAgIGNvbnN0IG1heFZhbCA9IE51bWJlci5NQVhfVkFMVUU7CiAgICAgIG1pbi5zZXQoLW1heFZhbCwgLW1heFZhbCwgLW1heFZhbCk7CiAgICAgIG1heC5zZXQobWF4VmFsLCBtYXhWYWwsIG1heFZhbCk7CgogICAgICBpZiAodGVtcE5vcm1hbC54ID09PSAxKSB7CiAgICAgICAgbWF4LnggPSBwb3MueDsKICAgICAgfSBlbHNlIGlmICh0ZW1wTm9ybWFsLnggPT09IC0xKSB7CiAgICAgICAgbWluLnggPSBwb3MueDsKICAgICAgfQoKICAgICAgaWYgKHRlbXBOb3JtYWwueSA9PT0gMSkgewogICAgICAgIG1heC55ID0gcG9zLnk7CiAgICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC55ID09PSAtMSkgewogICAgICAgIG1pbi55ID0gcG9zLnk7CiAgICAgIH0KCiAgICAgIGlmICh0ZW1wTm9ybWFsLnogPT09IDEpIHsKICAgICAgICBtYXgueiA9IHBvcy56OwogICAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueiA9PT0gLTEpIHsKICAgICAgICBtaW4ueiA9IHBvcy56OwogICAgICB9CiAgICB9CgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBOdW1iZXIuTUFYX1ZBTFVFOwogICAgfQoKICB9CgogIGNvbnN0IHRlbXBOb3JtYWwgPSBuZXcgVmVjMygpOwogIC8qKgogICAqIEhlaWdodGZpZWxkIHNoYXBlIGNsYXNzLiBIZWlnaHQgZGF0YSBpcyBnaXZlbiBhcyBhbiBhcnJheS4gVGhlc2UgZGF0YSBwb2ludHMgYXJlIHNwcmVhZCBvdXQgZXZlbmx5IHdpdGggYSBnaXZlbiBkaXN0YW5jZS4KICAgKiBAY2xhc3MgSGVpZ2h0ZmllbGQKICAgKiBAZXh0ZW5kcyBTaGFwZQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgQW4gYXJyYXkgb2YgWSB2YWx1ZXMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gY29uc3RydWN0IHRoZSB0ZXJyYWluLgogICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pblZhbHVlXSBNaW5pbXVtIHZhbHVlIG9mIHRoZSBkYXRhIHBvaW50cyBpbiB0aGUgZGF0YSBhcnJheS4gV2lsbCBiZSBjb21wdXRlZCBhdXRvbWF0aWNhbGx5IGlmIG5vdCBnaXZlbi4KICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4VmFsdWVdIE1heGltdW0gdmFsdWUuCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmVsZW1lbnRTaXplPTAuMV0gV29ybGQgc3BhY2luZyBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGRpcmVjdGlvbi4KICAgKiBAdG9kbyBTaG91bGQgYmUgcG9zc2libGUgdG8gdXNlIGFsb25nIGFsbCBheGVzLCBub3QganVzdCB5CiAgICogQHRvZG8gc2hvdWxkIGJlIHBvc3NpYmxlIHRvIHNjYWxlIGFsb25nIGFsbCBheGVzCiAgICogQHRvZG8gUmVmYWN0b3IgZWxlbWVudFNpemUgdG8gZWxlbWVudFNpemVYIGFuZCBlbGVtZW50U2l6ZVkKICAgKgogICAqIEBleGFtcGxlCiAgICogICAgIC8vIEdlbmVyYXRlIHNvbWUgaGVpZ2h0IGRhdGEgKHktdmFsdWVzKS4KICAgKiAgICAgY29uc3QgZGF0YSA9IFtdOwogICAqICAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTAwMDsgaSsrKXsKICAgKiAgICAgICAgIGNvbnN0IHkgPSAwLjUgKiBNYXRoLmNvcygwLjIgKiBpKTsKICAgKiAgICAgICAgIGRhdGEucHVzaCh5KTsKICAgKiAgICAgfQogICAqCiAgICogICAgIC8vIENyZWF0ZSB0aGUgaGVpZ2h0ZmllbGQgc2hhcGUKICAgKiAgICAgY29uc3QgaGVpZ2h0ZmllbGRTaGFwZSA9IG5ldyBIZWlnaHRmaWVsZChkYXRhLCB7CiAgICogICAgICAgICBlbGVtZW50U2l6ZTogMSAvLyBEaXN0YW5jZSBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGFuZCBZIGRpcmVjdGlvbnMKICAgKiAgICAgfSk7CiAgICogICAgIGNvbnN0IGhlaWdodGZpZWxkQm9keSA9IG5ldyBCb2R5KCk7CiAgICogICAgIGhlaWdodGZpZWxkQm9keS5hZGRTaGFwZShoZWlnaHRmaWVsZFNoYXBlKTsKICAgKiAgICAgd29ybGQuYWRkQm9keShoZWlnaHRmaWVsZEJvZHkpOwogICAqLwoKICBjbGFzcyBIZWlnaHRmaWVsZCBleHRlbmRzIFNoYXBlIHsKICAgIC8vIEFuIGFycmF5IG9mIG51bWJlcnMsIG9yIGhlaWdodCB2YWx1ZXMsIHRoYXQgYXJlIHNwcmVhZCBvdXQgYWxvbmcgdGhlIHggYXhpcy4KICAgIC8vIE1heCB2YWx1ZSBvZiB0aGUgZGF0YS4KICAgIC8vIE1heCB2YWx1ZSBvZiB0aGUgZGF0YS4KICAgIC8vIFRoZSB3aWR0aCBvZiBlYWNoIGVsZW1lbnQuIFRvIGRvOiBlbGVtZW50U2l6ZVggYW5kIFkKICAgIGNvbnN0cnVjdG9yKGRhdGEsIG9wdGlvbnMgPSB7fSkgewogICAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICAgIG1heFZhbHVlOiBudWxsLAogICAgICAgIG1pblZhbHVlOiBudWxsLAogICAgICAgIGVsZW1lbnRTaXplOiAxCiAgICAgIH0pOwogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuSEVJR0hURklFTEQKICAgICAgfSk7CiAgICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICAgIHRoaXMubWF4VmFsdWUgPSBvcHRpb25zLm1heFZhbHVlOwogICAgICB0aGlzLm1pblZhbHVlID0gb3B0aW9ucy5taW5WYWx1ZTsKICAgICAgdGhpcy5lbGVtZW50U2l6ZSA9IG9wdGlvbnMuZWxlbWVudFNpemU7CgogICAgICBpZiAob3B0aW9ucy5taW5WYWx1ZSA9PT0gbnVsbCkgewogICAgICAgIHRoaXMudXBkYXRlTWluVmFsdWUoKTsKICAgICAgfQoKICAgICAgaWYgKG9wdGlvbnMubWF4VmFsdWUgPT09IG51bGwpIHsKICAgICAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2FjaGVFbmFibGVkID0gdHJ1ZTsKICAgICAgdGhpcy5waWxsYXJDb252ZXggPSBuZXcgQ29udmV4UG9seWhlZHJvbigpOwogICAgICB0aGlzLnBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsgLy8gImlfal9pc1VwcGVyIiA9PiB7IGNvbnZleDogLi4uLCBvZmZzZXQ6IC4uLiB9CiAgICAgIC8vIGZvciBleGFtcGxlOgogICAgICAvLyBfY2FjaGVkUGlsbGFyc1siMF8yXzEiXQoKICAgICAgdGhpcy5fY2FjaGVkUGlsbGFycyA9IHt9OwogICAgfQogICAgLyoqCiAgICAgKiBDYWxsIHdoZW5ldmVyIHlvdSBjaGFuZ2UgdGhlIGRhdGEgYXJyYXkuCiAgICAgKiBAbWV0aG9kIHVwZGF0ZQogICAgICovCgoKICAgIHVwZGF0ZSgpIHsKICAgICAgdGhpcy5fY2FjaGVkUGlsbGFycyA9IHt9OwogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGUgdGhlIC5taW5WYWx1ZSBwcm9wZXJ0eQogICAgICogQG1ldGhvZCB1cGRhdGVNaW5WYWx1ZQogICAgICovCgoKICAgIHVwZGF0ZU1pblZhbHVlKCkgewogICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgICBsZXQgbWluVmFsdWUgPSBkYXRhWzBdWzBdOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gZGF0YVtpXS5sZW5ndGg7IGorKykgewogICAgICAgICAgY29uc3QgdiA9IGRhdGFbaV1bal07CgogICAgICAgICAgaWYgKHYgPCBtaW5WYWx1ZSkgewogICAgICAgICAgICBtaW5WYWx1ZSA9IHY7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLm1pblZhbHVlID0gbWluVmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZSB0aGUgLm1heFZhbHVlIHByb3BlcnR5CiAgICAgKiBAbWV0aG9kIHVwZGF0ZU1heFZhbHVlCiAgICAgKi8KCgogICAgdXBkYXRlTWF4VmFsdWUoKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGxldCBtYXhWYWx1ZSA9IGRhdGFbMF1bMF07CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBkYXRhW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjb25zdCB2ID0gZGF0YVtpXVtqXTsKCiAgICAgICAgICBpZiAodiA+IG1heFZhbHVlKSB7CiAgICAgICAgICAgIG1heFZhbHVlID0gdjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBoZWlnaHQgdmFsdWUgYXQgYW4gaW5kZXguIERvbid0IGZvcmdldCB0byB1cGRhdGUgbWF4VmFsdWUgYW5kIG1pblZhbHVlIGFmdGVyIHlvdSdyZSBkb25lLgogICAgICogQG1ldGhvZCBzZXRIZWlnaHRWYWx1ZUF0SW5kZXgKICAgICAqIEBwYXJhbSB7aW50ZWdlcn0geGkKICAgICAqIEBwYXJhbSB7aW50ZWdlcn0geWkKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogICAgICovCgoKICAgIHNldEhlaWdodFZhbHVlQXRJbmRleCh4aSwgeWksIHZhbHVlKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGRhdGFbeGldW3lpXSA9IHZhbHVlOyAvLyBJbnZhbGlkYXRlIGNhY2hlCgogICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBmYWxzZSk7CgogICAgICBpZiAoeGkgPiAwKSB7CiAgICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpIC0gMSwgeWksIHRydWUpOwogICAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCBmYWxzZSk7CiAgICAgIH0KCiAgICAgIGlmICh5aSA+IDApIHsKICAgICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpIC0gMSwgdHJ1ZSk7CiAgICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIGZhbHNlKTsKICAgICAgfQoKICAgICAgaWYgKHlpID4gMCAmJiB4aSA+IDApIHsKICAgICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGkgLSAxLCB5aSAtIDEsIHRydWUpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCBtYXgvbWluIGluIGEgcmVjdGFuZ2xlIGluIHRoZSBtYXRyaXggZGF0YQogICAgICogQG1ldGhvZCBnZXRSZWN0TWluTWF4CiAgICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWluWAogICAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pblkKICAgICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNYXhYCiAgICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWF4WQogICAgICogQHBhcmFtICB7YXJyYXl9IFtyZXN1bHRdIEFuIGFycmF5IHRvIHN0b3JlIHRoZSByZXN1bHRzIGluLgogICAgICogQHJldHVybiB7YXJyYXl9IFRoZSByZXN1bHQgYXJyYXksIGlmIGl0IHdhcyBwYXNzZWQgaW4uIE1pbmltdW0gd2lsbCBiZSBhdCBwb3NpdGlvbiAwIGFuZCBtYXggYXQgMS4KICAgICAqLwoKCiAgICBnZXRSZWN0TWluTWF4KGlNaW5YLCBpTWluWSwgaU1heFgsIGlNYXhZLCByZXN1bHQgPSBbXSkgewogICAgICAvLyBHZXQgbWF4IGFuZCBtaW4gb2YgdGhlIGRhdGEKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsgLy8gU2V0IGZpcnN0IHZhbHVlCgogICAgICBsZXQgbWF4ID0gdGhpcy5taW5WYWx1ZTsKCiAgICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8PSBpTWF4WDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDw9IGlNYXhZOyBqKyspIHsKICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGRhdGFbaV1bal07CgogICAgICAgICAgaWYgKGhlaWdodCA+IG1heCkgewogICAgICAgICAgICBtYXggPSBoZWlnaHQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXN1bHRbMF0gPSB0aGlzLm1pblZhbHVlOwogICAgICByZXN1bHRbMV0gPSBtYXg7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgaW5kZXggb2YgYSBsb2NhbCBwb3NpdGlvbiBvbiB0aGUgaGVpZ2h0ZmllbGQuIFRoZSBpbmRleGVzIGluZGljYXRlIHRoZSByZWN0YW5nbGVzLCBzbyBpZiB5b3VyIHRlcnJhaW4gaXMgbWFkZSBvZiBOIHggTiBoZWlnaHQgZGF0YSBwb2ludHMsIHlvdSB3aWxsIGhhdmUgcmVjdGFuZ2xlIGluZGV4ZXMgcmFuZ2luZyBmcm9tIDAgdG8gTi0xLgogICAgICogQG1ldGhvZCBnZXRJbmRleE9mUG9zaXRpb24KICAgICAqIEBwYXJhbSAge251bWJlcn0geAogICAgICogQHBhcmFtICB7bnVtYmVyfSB5CiAgICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0IFR3by1lbGVtZW50IGFycmF5CiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBjbGFtcCBJZiB0aGUgcG9zaXRpb24gc2hvdWxkIGJlIGNsYW1wZWQgdG8gdGhlIGhlaWdodGZpZWxkIGVkZ2UuCiAgICAgKiBAcmV0dXJuIHtib29sZWFufQogICAgICovCgoKICAgIGdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCByZXN1bHQsIGNsYW1wKSB7CiAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdAogICAgICBjb25zdCB3ID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgICAgbGV0IHhpID0gTWF0aC5mbG9vcih4IC8gdyk7CiAgICAgIGxldCB5aSA9IE1hdGguZmxvb3IoeSAvIHcpOwogICAgICByZXN1bHRbMF0gPSB4aTsKICAgICAgcmVzdWx0WzFdID0geWk7CgogICAgICBpZiAoY2xhbXApIHsKICAgICAgICAvLyBDbGFtcCBpbmRleCB0byBlZGdlcwogICAgICAgIGlmICh4aSA8IDApIHsKICAgICAgICAgIHhpID0gMDsKICAgICAgICB9CgogICAgICAgIGlmICh5aSA8IDApIHsKICAgICAgICAgIHlpID0gMDsKICAgICAgICB9CgogICAgICAgIGlmICh4aSA+PSBkYXRhLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIHhpID0gZGF0YS5sZW5ndGggLSAxOwogICAgICAgIH0KCiAgICAgICAgaWYgKHlpID49IGRhdGFbMF0ubGVuZ3RoIC0gMSkgewogICAgICAgICAgeWkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICAgICAgfQogICAgICB9IC8vIEJhaWwgb3V0IGlmIHdlIGFyZSBvdXQgb2YgdGhlIHRlcnJhaW4KCgogICAgICBpZiAoeGkgPCAwIHx8IHlpIDwgMCB8fCB4aSA+PSBkYXRhLmxlbmd0aCAtIDEgfHwgeWkgPj0gZGF0YVswXS5sZW5ndGggLSAxKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBnZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYykgewogICAgICBjb25zdCBpZHggPSBnZXRIZWlnaHRBdF9pZHg7CiAgICAgIHRoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIGlkeCwgZWRnZUNsYW1wKTsKICAgICAgbGV0IHhpID0gaWR4WzBdOwogICAgICBsZXQgeWkgPSBpZHhbMV07CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CgogICAgICBpZiAoZWRnZUNsYW1wKSB7CiAgICAgICAgeGkgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHhpKSk7CiAgICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgICAgY29uc3QgbG93ZXJEaXN0MiA9ICh4IC8gZWxlbWVudFNpemUgLSB4aSkgKiogMiArICh5IC8gZWxlbWVudFNpemUgLSB5aSkgKiogMjsKICAgICAgY29uc3QgdXBwZXJEaXN0MiA9ICh4IC8gZWxlbWVudFNpemUgLSAoeGkgKyAxKSkgKiogMiArICh5IC8gZWxlbWVudFNpemUgLSAoeWkgKyAxKSkgKiogMjsKICAgICAgY29uc3QgdXBwZXIgPSBsb3dlckRpc3QyID4gdXBwZXJEaXN0MjsKICAgICAgdGhpcy5nZXRUcmlhbmdsZSh4aSwgeWksIHVwcGVyLCBhLCBiLCBjKTsKICAgICAgcmV0dXJuIHVwcGVyOwogICAgfQoKICAgIGdldE5vcm1hbEF0KHgsIHksIGVkZ2VDbGFtcCwgcmVzdWx0KSB7CiAgICAgIGNvbnN0IGEgPSBnZXROb3JtYWxBdF9hOwogICAgICBjb25zdCBiID0gZ2V0Tm9ybWFsQXRfYjsKICAgICAgY29uc3QgYyA9IGdldE5vcm1hbEF0X2M7CiAgICAgIGNvbnN0IGUwID0gZ2V0Tm9ybWFsQXRfZTA7CiAgICAgIGNvbnN0IGUxID0gZ2V0Tm9ybWFsQXRfZTE7CiAgICAgIHRoaXMuZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpOwogICAgICBiLnZzdWIoYSwgZTApOwogICAgICBjLnZzdWIoYSwgZTEpOwogICAgICBlMC5jcm9zcyhlMSwgcmVzdWx0KTsKICAgICAgcmVzdWx0Lm5vcm1hbGl6ZSgpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYW4gQUFCQiBvZiBhIHNxdWFyZSBpbiB0aGUgaGVpZ2h0ZmllbGQKICAgICAqIEBwYXJhbSAge251bWJlcn0geGkKICAgICAqIEBwYXJhbSAge251bWJlcn0geWkKICAgICAqIEBwYXJhbSAge0FBQkJ9IHJlc3VsdAogICAgICovCgoKICAgIGdldEFhYmJBdEluZGV4KHhpLCB5aSwgewogICAgICBsb3dlckJvdW5kLAogICAgICB1cHBlckJvdW5kCiAgICB9KSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgICAgbG93ZXJCb3VuZC5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldKTsKICAgICAgdXBwZXJCb3VuZC5zZXQoKHhpICsgMSkgKiBlbGVtZW50U2l6ZSwgKHlpICsgMSkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpICsgMV0pOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGhlaWdodCBpbiB0aGUgaGVpZ2h0ZmllbGQgYXQgYSBnaXZlbiBwb3NpdGlvbgogICAgICogQHBhcmFtICB7bnVtYmVyfSB4CiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkKICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IGVkZ2VDbGFtcAogICAgICogQHJldHVybiB7bnVtYmVyfQogICAgICovCgoKICAgIGdldEhlaWdodEF0KHgsIHksIGVkZ2VDbGFtcCkgewogICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgICBjb25zdCBhID0gZ2V0SGVpZ2h0QXRfYTsKICAgICAgY29uc3QgYiA9IGdldEhlaWdodEF0X2I7CiAgICAgIGNvbnN0IGMgPSBnZXRIZWlnaHRBdF9jOwogICAgICBjb25zdCBpZHggPSBnZXRIZWlnaHRBdF9pZHg7CiAgICAgIHRoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIGlkeCwgZWRnZUNsYW1wKTsKICAgICAgbGV0IHhpID0gaWR4WzBdOwogICAgICBsZXQgeWkgPSBpZHhbMV07CgogICAgICBpZiAoZWRnZUNsYW1wKSB7CiAgICAgICAgeGkgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHhpKSk7CiAgICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IHVwcGVyID0gdGhpcy5nZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYyk7CiAgICAgIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBnZXRIZWlnaHRBdF93ZWlnaHRzKTsKICAgICAgY29uc3QgdyA9IGdldEhlaWdodEF0X3dlaWdodHM7CgogICAgICBpZiAodXBwZXIpIHsKICAgICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgICByZXR1cm4gZGF0YVt4aSArIDFdW3lpICsgMV0gKiB3LnggKyBkYXRhW3hpXVt5aSArIDFdICogdy55ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcuejsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgICByZXR1cm4gZGF0YVt4aV1beWldICogdy54ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcueSArIGRhdGFbeGldW3lpICsgMV0gKiB3Lno7CiAgICAgIH0KICAgIH0KCiAgICBnZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgICByZXR1cm4geGkgKyAiXyIgKyB5aSArICJfIiArIChnZXRVcHBlclRyaWFuZ2xlID8gMSA6IDApOwogICAgfQoKICAgIGdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgICByZXR1cm4gdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07CiAgICB9CgogICAgc2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlLCBjb252ZXgsIG9mZnNldCkgewogICAgICB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXSA9IHsKICAgICAgICBjb252ZXgsCiAgICAgICAgb2Zmc2V0CiAgICAgIH07CiAgICB9CgogICAgY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHsKICAgICAgZGVsZXRlIHRoaXMuX2NhY2hlZFBpbGxhcnNbdGhpcy5nZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSldOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYSB0cmlhbmdsZSBmcm9tIHRoZSBoZWlnaHRmaWVsZAogICAgICogQHBhcmFtICB7bnVtYmVyfSB4aQogICAgICogQHBhcmFtICB7bnVtYmVyfSB5aQogICAgICogQHBhcmFtICB7Ym9vbGVhbn0gdXBwZXIKICAgICAqIEBwYXJhbSAge1ZlYzN9IGEKICAgICAqIEBwYXJhbSAge1ZlYzN9IGIKICAgICAqIEBwYXJhbSAge1ZlYzN9IGMKICAgICAqLwoKCiAgICBnZXRUcmlhbmdsZSh4aSwgeWksIHVwcGVyLCBhLCBiLCBjKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKCiAgICAgIGlmICh1cHBlcikgewogICAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwogICAgICAgIGEuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aSArIDFdKTsKICAgICAgICBiLnNldCh4aSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdKTsKICAgICAgICBjLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgICBhLnNldCh4aSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aV0pOwogICAgICAgIGIuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0pOwogICAgICAgIGMuc2V0KHhpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0pOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhIHRyaWFuZ2xlIGluIHRoZSB0ZXJyYWluIGluIHRoZSBmb3JtIG9mIGEgdHJpYW5ndWxhciBjb252ZXggc2hhcGUuCiAgICAgKiBAbWV0aG9kIGdldENvbnZleFRyaWFuZ2xlUGlsbGFyCiAgICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpCiAgICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBqCiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBnZXRVcHBlclRyaWFuZ2xlCiAgICAgKi8KCgogICAgZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKSB7CiAgICAgIGxldCByZXN1bHQgPSB0aGlzLnBpbGxhckNvbnZleDsKICAgICAgbGV0IG9mZnNldFJlc3VsdCA9IHRoaXMucGlsbGFyT2Zmc2V0OwoKICAgICAgaWYgKHRoaXMuY2FjaGVFbmFibGVkKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKTsKCiAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgIHRoaXMucGlsbGFyQ29udmV4ID0gZGF0YS5jb252ZXg7CiAgICAgICAgICB0aGlzLnBpbGxhck9mZnNldCA9IGRhdGEub2Zmc2V0OwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTsKICAgICAgICBvZmZzZXRSZXN1bHQgPSBuZXcgVmVjMygpOwogICAgICAgIHRoaXMucGlsbGFyQ29udmV4ID0gcmVzdWx0OwogICAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gb2Zmc2V0UmVzdWx0OwogICAgICB9CgogICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7CiAgICAgIGNvbnN0IGZhY2VzID0gcmVzdWx0LmZhY2VzOyAvLyBSZXVzZSB2ZXJ0cyBpZiBwb3NzaWJsZQoKICAgICAgcmVzdWx0LnZlcnRpY2VzLmxlbmd0aCA9IDY7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykgewogICAgICAgIGlmICghcmVzdWx0LnZlcnRpY2VzW2ldKSB7CiAgICAgICAgICByZXN1bHQudmVydGljZXNbaV0gPSBuZXcgVmVjMygpOwogICAgICAgIH0KICAgICAgfSAvLyBSZXVzZSBmYWNlcyBpZiBwb3NzaWJsZQoKCiAgICAgIGZhY2VzLmxlbmd0aCA9IDU7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykgewogICAgICAgIGlmICghZmFjZXNbaV0pIHsKICAgICAgICAgIGZhY2VzW2ldID0gW107CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCB2ZXJ0cyA9IHJlc3VsdC52ZXJ0aWNlczsKICAgICAgY29uc3QgaCA9IChNYXRoLm1pbihkYXRhW3hpXVt5aV0sIGRhdGFbeGkgKyAxXVt5aV0sIGRhdGFbeGldW3lpICsgMV0sIGRhdGFbeGkgKyAxXVt5aSArIDFdKSAtIHRoaXMubWluVmFsdWUpIC8gMiArIHRoaXMubWluVmFsdWU7CgogICAgICBpZiAoIWdldFVwcGVyVHJpYW5nbGUpIHsKICAgICAgICAvLyBDZW50ZXIgb2YgdGhlIHRyaWFuZ2xlIHBpbGxhciAtIGFsbCBwb2x5Z29ucyBhcmUgZ2l2ZW4gcmVsYXRpdmUgdG8gdGhpcyBvbmUKICAgICAgICBvZmZzZXRSZXN1bHQuc2V0KCh4aSArIDAuMjUpICogZWxlbWVudFNpemUsIC8vIHNvcnQgb2YgY2VudGVyIG9mIGEgdHJpYW5nbGUKICAgICAgICAoeWkgKyAwLjI1KSAqIGVsZW1lbnRTaXplLCBoIC8vIHZlcnRpY2FsIGNlbnRlcgogICAgICAgICk7IC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwoKICAgICAgICB2ZXJ0c1swXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldIC0gaCk7CiAgICAgICAgdmVydHNbMV0uc2V0KDAuNzUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSAtIGgpOwogICAgICAgIHZlcnRzWzJdLnNldCgtMC4yNSAqIGVsZW1lbnRTaXplLCAwLjc1ICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0gLSBoKTsgLy8gYm90dG9tIHRyaWFuZ2xlIHZlcnRzCgogICAgICAgIHZlcnRzWzNdLnNldCgtMC4yNSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsKICAgICAgICB2ZXJ0c1s0XS5zZXQoMC43NSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsKICAgICAgICB2ZXJ0c1s1XS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsgLy8gdG9wIHRyaWFuZ2xlCgogICAgICAgIGZhY2VzWzBdWzBdID0gMDsKICAgICAgICBmYWNlc1swXVsxXSA9IDE7CiAgICAgICAgZmFjZXNbMF1bMl0gPSAyOyAvLyBib3R0b20gdHJpYW5nbGUKCiAgICAgICAgZmFjZXNbMV1bMF0gPSA1OwogICAgICAgIGZhY2VzWzFdWzFdID0gNDsKICAgICAgICBmYWNlc1sxXVsyXSA9IDM7IC8vIC14IGZhY2luZyBxdWFkCgogICAgICAgIGZhY2VzWzJdWzBdID0gMDsKICAgICAgICBmYWNlc1syXVsxXSA9IDI7CiAgICAgICAgZmFjZXNbMl1bMl0gPSA1OwogICAgICAgIGZhY2VzWzJdWzNdID0gMzsgLy8gLXkgZmFjaW5nIHF1YWQKCiAgICAgICAgZmFjZXNbM11bMF0gPSAxOwogICAgICAgIGZhY2VzWzNdWzFdID0gMDsKICAgICAgICBmYWNlc1szXVsyXSA9IDM7CiAgICAgICAgZmFjZXNbM11bM10gPSA0OyAvLyAreHkgZmFjaW5nIHF1YWQKCiAgICAgICAgZmFjZXNbNF1bMF0gPSA0OwogICAgICAgIGZhY2VzWzRdWzFdID0gNTsKICAgICAgICBmYWNlc1s0XVsyXSA9IDI7CiAgICAgICAgZmFjZXNbNF1bM10gPSAxOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIENlbnRlciBvZiB0aGUgdHJpYW5nbGUgcGlsbGFyIC0gYWxsIHBvbHlnb25zIGFyZSBnaXZlbiByZWxhdGl2ZSB0byB0aGlzIG9uZQogICAgICAgIG9mZnNldFJlc3VsdC5zZXQoKHhpICsgMC43NSkgKiBlbGVtZW50U2l6ZSwgLy8gc29ydCBvZiBjZW50ZXIgb2YgYSB0cmlhbmdsZQogICAgICAgICh5aSArIDAuNzUpICogZWxlbWVudFNpemUsIGggLy8gdmVydGljYWwgY2VudGVyCiAgICAgICAgKTsgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCgogICAgICAgIHZlcnRzWzBdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpICsgMV0gLSBoKTsKICAgICAgICB2ZXJ0c1sxXS5zZXQoLTAuNzUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdIC0gaCk7CiAgICAgICAgdmVydHNbMl0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuNzUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSAtIGgpOyAvLyBib3R0b20gdHJpYW5nbGUgdmVydHMKCiAgICAgICAgdmVydHNbM10uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsKICAgICAgICB2ZXJ0c1s0XS5zZXQoLTAuNzUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsKICAgICAgICB2ZXJ0c1s1XS5zZXQoMC4yNSAqIGVsZW1lbnRTaXplLCAtMC43NSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsgLy8gVG9wIHRyaWFuZ2xlCgogICAgICAgIGZhY2VzWzBdWzBdID0gMDsKICAgICAgICBmYWNlc1swXVsxXSA9IDE7CiAgICAgICAgZmFjZXNbMF1bMl0gPSAyOyAvLyBib3R0b20gdHJpYW5nbGUKCiAgICAgICAgZmFjZXNbMV1bMF0gPSA1OwogICAgICAgIGZhY2VzWzFdWzFdID0gNDsKICAgICAgICBmYWNlc1sxXVsyXSA9IDM7IC8vICt4IGZhY2luZyBxdWFkCgogICAgICAgIGZhY2VzWzJdWzBdID0gMjsKICAgICAgICBmYWNlc1syXVsxXSA9IDU7CiAgICAgICAgZmFjZXNbMl1bMl0gPSAzOwogICAgICAgIGZhY2VzWzJdWzNdID0gMDsgLy8gK3kgZmFjaW5nIHF1YWQKCiAgICAgICAgZmFjZXNbM11bMF0gPSAzOwogICAgICAgIGZhY2VzWzNdWzFdID0gNDsKICAgICAgICBmYWNlc1szXVsyXSA9IDE7CiAgICAgICAgZmFjZXNbM11bM10gPSAwOyAvLyAteHkgZmFjaW5nIHF1YWQKCiAgICAgICAgZmFjZXNbNF1bMF0gPSAxOwogICAgICAgIGZhY2VzWzRdWzFdID0gNDsKICAgICAgICBmYWNlc1s0XVsyXSA9IDU7CiAgICAgICAgZmFjZXNbNF1bM10gPSAyOwogICAgICB9CgogICAgICByZXN1bHQuY29tcHV0ZU5vcm1hbHMoKTsKICAgICAgcmVzdWx0LmNvbXB1dGVFZGdlcygpOwogICAgICByZXN1bHQudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICAgICAgdGhpcy5zZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUsIHJlc3VsdCwgb2Zmc2V0UmVzdWx0KTsKICAgIH0KCiAgICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICB0YXJnZXQuc2V0KDAsIDAsIDApOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIHZvbHVtZSgpIHsKICAgICAgcmV0dXJuICgvLyBUaGUgdGVycmFpbiBpcyBpbmZpbml0ZQogICAgICAgIE51bWJlci5NQVhfVkFMVUUKICAgICAgKTsKICAgIH0KCiAgICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgICAvLyBUT0RPOiBkbyBpdCBwcm9wZXJseQogICAgICBtaW4uc2V0KC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUpOwogICAgICBtYXguc2V0KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpOwogICAgfQoKICAgIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgICAvLyBVc2UgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgbWluL21heCB2YWx1ZXMKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgICAgY29uc3QgcyA9IHRoaXMuZWxlbWVudFNpemU7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBuZXcgVmVjMyhkYXRhLmxlbmd0aCAqIHMsIGRhdGFbMF0ubGVuZ3RoICogcywgTWF0aC5tYXgoTWF0aC5hYnModGhpcy5tYXhWYWx1ZSksIE1hdGguYWJzKHRoaXMubWluVmFsdWUpKSkubGVuZ3RoKCk7CiAgICB9CiAgICAvKioKICAgICAqIFNldHMgdGhlIGhlaWdodCB2YWx1ZXMgZnJvbSBhbiBpbWFnZS4gQ3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIGluIGJyb3dzZXIuCiAgICAgKiBAbWV0aG9kIHNldEhlaWdodHNGcm9tSW1hZ2UKICAgICAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHNjYWxlCiAgICAgKi8KCgogICAgc2V0SGVpZ2h0c0Zyb21JbWFnZShpbWFnZSwgc2NhbGUpIHsKICAgICAgY29uc3QgewogICAgICAgIHgsCiAgICAgICAgeiwKICAgICAgICB5CiAgICAgIH0gPSBzY2FsZTsKICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIGNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoOwogICAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0OwogICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTsKICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7CiAgICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMuZGF0YTsKICAgICAgbWF0cml4Lmxlbmd0aCA9IDA7CiAgICAgIHRoaXMuZWxlbWVudFNpemUgPSBNYXRoLmFicyh4KSAvIGltYWdlRGF0YS53aWR0aDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmhlaWdodDsgaSsrKSB7CiAgICAgICAgY29uc3Qgcm93ID0gW107CgogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW1hZ2VEYXRhLndpZHRoOyBqKyspIHsKICAgICAgICAgIGNvbnN0IGEgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDRdOwogICAgICAgICAgY29uc3QgYiA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNCArIDFdOwogICAgICAgICAgY29uc3QgYyA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNCArIDJdOwogICAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGEgKyBiICsgYykgLyA0IC8gMjU1ICogejsKCiAgICAgICAgICBpZiAoeCA8IDApIHsKICAgICAgICAgICAgcm93LnB1c2goaGVpZ2h0KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJvdy51bnNoaWZ0KGhlaWdodCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoeSA8IDApIHsKICAgICAgICAgIG1hdHJpeC51bnNoaWZ0KHJvdyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1hdHJpeC5wdXNoKHJvdyk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7CiAgICAgIHRoaXMudXBkYXRlTWluVmFsdWUoKTsKICAgICAgdGhpcy51cGRhdGUoKTsKICAgIH0KCiAgfQoKICBjb25zdCBnZXRIZWlnaHRBdF9pZHggPSBbXTsKICBjb25zdCBnZXRIZWlnaHRBdF93ZWlnaHRzID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXRIZWlnaHRBdF9hID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXRIZWlnaHRBdF9iID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXRIZWlnaHRBdF9jID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9hID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9iID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9jID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9lMCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgZ2V0Tm9ybWFsQXRfZTEgPSBuZXcgVmVjMygpOyAvLyBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JhcnljZW50cmljX2Nvb3JkaW5hdGVfc3lzdGVtCgogIGZ1bmN0aW9uIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBheCwgYXksIGJ4LCBieSwgY3gsIGN5LCByZXN1bHQpIHsKICAgIHJlc3VsdC54ID0gKChieSAtIGN5KSAqICh4IC0gY3gpICsgKGN4IC0gYngpICogKHkgLSBjeSkpIC8gKChieSAtIGN5KSAqIChheCAtIGN4KSArIChjeCAtIGJ4KSAqIChheSAtIGN5KSk7CiAgICByZXN1bHQueSA9ICgoY3kgLSBheSkgKiAoeCAtIGN4KSArIChheCAtIGN4KSAqICh5IC0gY3kpKSAvICgoYnkgLSBjeSkgKiAoYXggLSBjeCkgKyAoY3ggLSBieCkgKiAoYXkgLSBjeSkpOwogICAgcmVzdWx0LnogPSAxIC0gcmVzdWx0LnggLSByZXN1bHQueTsKICB9CiAgLyoqCiAgICogQGNsYXNzIE9jdHJlZU5vZGUKICAgKiBAY29uc3RydWN0b3IKICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtPY3RyZWV9IFtvcHRpb25zLnJvb3RdCiAgICogQHBhcmFtIHtBQUJCfSBbb3B0aW9ucy5hYWJiXQogICAqLwoKCiAgY2xhc3MgT2N0cmVlTm9kZSB7CiAgICAvLyBUaGUgcm9vdCBub2RlCiAgICAvLyBCb3VuZGFyeSBvZiB0aGlzIG5vZGUKICAgIC8vIENvbnRhaW5lZCBkYXRhIGF0IHRoZSBjdXJyZW50IG5vZGUgbGV2ZWwKICAgIC8vIENoaWxkcmVuIHRvIHRoaXMgbm9kZQogICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICAgIHRoaXMucm9vdCA9IG9wdGlvbnMucm9vdCB8fCBudWxsOwogICAgICB0aGlzLmFhYmIgPSBvcHRpb25zLmFhYmIgPyBvcHRpb25zLmFhYmIuY2xvbmUoKSA6IG5ldyBBQUJCKCk7CiAgICAgIHRoaXMuZGF0YSA9IFtdOwogICAgICB0aGlzLmNoaWxkcmVuID0gW107CiAgICB9CgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID0gdGhpcy5kYXRhLmxlbmd0aCA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIEluc2VydCBkYXRhIGludG8gdGhpcyBub2RlCiAgICAgKiBAbWV0aG9kIGluc2VydAogICAgICogQHBhcmFtICB7QUFCQn0gYWFiYgogICAgICogQHBhcmFtICB7b2JqZWN0fSBlbGVtZW50RGF0YQogICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBzdWNjZXNzZnVsLCBvdGhlcndpc2UgZmFsc2UKICAgICAqLwoKCiAgICBpbnNlcnQoYWFiYiwgZWxlbWVudERhdGEsIGxldmVsID0gMCkgewogICAgICBjb25zdCBub2RlRGF0YSA9IHRoaXMuZGF0YTsgLy8gSWdub3JlIG9iamVjdHMgdGhhdCBkbyBub3QgYmVsb25nIGluIHRoaXMgbm9kZQoKICAgICAgaWYgKCF0aGlzLmFhYmIuY29udGFpbnMoYWFiYikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG9iamVjdCBjYW5ub3QgYmUgYWRkZWQKICAgICAgfQoKICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuOwogICAgICBjb25zdCBtYXhEZXB0aCA9IHRoaXMubWF4RGVwdGggfHwgdGhpcy5yb290Lm1heERlcHRoOwoKICAgICAgaWYgKGxldmVsIDwgbWF4RGVwdGgpIHsKICAgICAgICAvLyBTdWJkaXZpZGUgaWYgdGhlcmUgYXJlIG5vIGNoaWxkcmVuIHlldAogICAgICAgIGxldCBzdWJkaXZpZGVkID0gZmFsc2U7CgogICAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLnN1YmRpdmlkZSgpOwogICAgICAgICAgc3ViZGl2aWRlZCA9IHRydWU7CiAgICAgICAgfSAvLyBhZGQgdG8gd2hpY2hldmVyIG5vZGUgd2lsbCBhY2NlcHQgaXQKCgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHsKICAgICAgICAgIGlmIChjaGlsZHJlbltpXS5pbnNlcnQoYWFiYiwgZWxlbWVudERhdGEsIGxldmVsICsgMSkpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoc3ViZGl2aWRlZCkgewogICAgICAgICAgLy8gTm8gY2hpbGRyZW4gYWNjZXB0ZWQhIE1pZ2h0IGFzIHdlbGwganVzdCByZW1vdmUgZW0gc2luY2UgdGhleSBjb250YWluIG5vbmUKICAgICAgICAgIGNoaWxkcmVuLmxlbmd0aCA9IDA7CiAgICAgICAgfQogICAgICB9IC8vIFRvbyBkZWVwLCBvciBjaGlsZHJlbiBkaWRudCB3YW50IGl0LiBhZGQgaXQgaW4gY3VycmVudCBub2RlCgoKICAgICAgbm9kZURhdGEucHVzaChlbGVtZW50RGF0YSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBDcmVhdGUgOCBlcXVhbGx5IHNpemVkIGNoaWxkcmVuIG5vZGVzIGFuZCBwdXQgdGhlbSBpbiB0aGUgLmNoaWxkcmVuIGFycmF5LgogICAgICogQG1ldGhvZCBzdWJkaXZpZGUKICAgICAqLwoKCiAgICBzdWJkaXZpZGUoKSB7CiAgICAgIGNvbnN0IGFhYmIgPSB0aGlzLmFhYmI7CiAgICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUgPSBhYWJiLnVwcGVyQm91bmQ7CiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjsKICAgICAgY2hpbGRyZW4ucHVzaChuZXcgT2N0cmVlTm9kZSh7CiAgICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMCwgMCkKICAgICAgICB9KQogICAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDAsIDApCiAgICAgICAgfSkKICAgICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAxLCAwKQogICAgICAgIH0pCiAgICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMSwgMSkKICAgICAgICB9KQogICAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDEsIDEpCiAgICAgICAgfSkKICAgICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAwLCAxKQogICAgICAgIH0pCiAgICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMCwgMSkKICAgICAgICB9KQogICAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDEsIDApCiAgICAgICAgfSkKICAgICAgfSkpOwogICAgICB1LnZzdWIobCwgaGFsZkRpYWdvbmFsKTsKICAgICAgaGFsZkRpYWdvbmFsLnNjYWxlKDAuNSwgaGFsZkRpYWdvbmFsKTsKICAgICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdCB8fCB0aGlzOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykgewogICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07IC8vIFNldCBjdXJyZW50IG5vZGUgYXMgcm9vdAoKICAgICAgICBjaGlsZC5yb290ID0gcm9vdDsgLy8gQ29tcHV0ZSBib3VuZHMKCiAgICAgICAgY29uc3QgbG93ZXJCb3VuZCA9IGNoaWxkLmFhYmIubG93ZXJCb3VuZDsKICAgICAgICBsb3dlckJvdW5kLnggKj0gaGFsZkRpYWdvbmFsLng7CiAgICAgICAgbG93ZXJCb3VuZC55ICo9IGhhbGZEaWFnb25hbC55OwogICAgICAgIGxvd2VyQm91bmQueiAqPSBoYWxmRGlhZ29uYWwuejsKICAgICAgICBsb3dlckJvdW5kLnZhZGQobCwgbG93ZXJCb3VuZCk7IC8vIFVwcGVyIGJvdW5kIGlzIGFsd2F5cyBsb3dlciBib3VuZCArIGhhbGZEaWFnb25hbAoKICAgICAgICBsb3dlckJvdW5kLnZhZGQoaGFsZkRpYWdvbmFsLCBjaGlsZC5hYWJiLnVwcGVyQm91bmQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgd2l0aGluIGFuIEFBQkIKICAgICAqIEBtZXRob2QgYWFiYlF1ZXJ5CiAgICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHthcnJheX0gVGhlICJyZXN1bHQiIG9iamVjdAogICAgICovCgoKICAgIGFhYmJRdWVyeShhYWJiLCByZXN1bHQpIHsKICAgICAgdGhpcy5kYXRhOyAvLyBhYm9ydCBpZiB0aGUgcmFuZ2UgZG9lcyBub3QgaW50ZXJzZWN0IHRoaXMgbm9kZQogICAgICAvLyBpZiAoIXRoaXMuYWFiYi5vdmVybGFwcyhhYWJiKSl7CiAgICAgIC8vICAgICByZXR1cm4gcmVzdWx0OwogICAgICAvLyB9CiAgICAgIC8vIEFkZCBvYmplY3RzIGF0IHRoaXMgbGV2ZWwKICAgICAgLy8gQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocmVzdWx0LCBub2RlRGF0YSk7CiAgICAgIC8vIEFkZCBjaGlsZCBkYXRhCiAgICAgIC8vIEB0b2RvIHVud3JhcCByZWN1cnNpb24gaW50byBhIHF1ZXVlIC8gbG9vcCwgdGhhdCdzIGZhc3RlciBpbiBKUwoKICAgICAgdGhpcy5jaGlsZHJlbjsgLy8gZm9yIChsZXQgaSA9IDAsIE4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIC8vICAgICBjaGlsZHJlbltpXS5hYWJiUXVlcnkoYWFiYiwgcmVzdWx0KTsKICAgICAgLy8gfQoKICAgICAgY29uc3QgcXVldWUgPSBbdGhpc107CgogICAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7CiAgICAgICAgY29uc3Qgbm9kZSA9IHF1ZXVlLnBvcCgpOwoKICAgICAgICBpZiAobm9kZS5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7CiAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShyZXN1bHQsIG5vZGUuZGF0YSk7CiAgICAgICAgfQoKICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShxdWV1ZSwgbm9kZS5jaGlsZHJlbik7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgaW50ZXJzZWN0ZWQgYnkgYSByYXkuCiAgICAgKiBAbWV0aG9kIHJheVF1ZXJ5CiAgICAgKiBAcGFyYW0gIHtSYXl9IHJheQogICAgICogQHBhcmFtICB7VHJhbnNmb3JtfSB0cmVlVHJhbnNmb3JtCiAgICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHthcnJheX0gVGhlICJyZXN1bHQiIG9iamVjdAogICAgICovCgoKICAgIHJheVF1ZXJ5KHJheSwgdHJlZVRyYW5zZm9ybSwgcmVzdWx0KSB7CiAgICAgIC8vIFVzZSBhYWJiIHF1ZXJ5IGZvciBub3cuCiAgICAgIC8vIEB0b2RvIGltcGxlbWVudCByZWFsIHJheSBxdWVyeSB3aGljaCBuZWVkcyBsZXNzIGxvb2t1cHMKICAgICAgcmF5LmdldEFBQkIodG1wQUFCQiQxKTsKICAgICAgdG1wQUFCQiQxLnRvTG9jYWxGcmFtZSh0cmVlVHJhbnNmb3JtLCB0bXBBQUJCJDEpOwogICAgICB0aGlzLmFhYmJRdWVyeSh0bXBBQUJCJDEsIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgcmVtb3ZlRW1wdHlOb2RlcwogICAgICovCgoKICAgIHJlbW92ZUVtcHR5Tm9kZXMoKSB7CiAgICAgIGZvciAobGV0IGkgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW1vdmVFbXB0eU5vZGVzKCk7CgogICAgICAgIGlmICghdGhpcy5jaGlsZHJlbltpXS5jaGlsZHJlbi5sZW5ndGggJiYgIXRoaXMuY2hpbGRyZW5baV0uZGF0YS5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICB9CiAgLyoqCiAgICogQGNsYXNzIE9jdHJlZQogICAqIEBwYXJhbSB7QUFCQn0gYWFiYiBUaGUgdG90YWwgQUFCQiBvZiB0aGUgdHJlZQogICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4RGVwdGg9OF0gTWF4aW11bSBzdWJkaXZpc2lvbiBkZXB0aAogICAqIEBleHRlbmRzIE9jdHJlZU5vZGUKICAgKi8KCgogIGNsYXNzIE9jdHJlZSBleHRlbmRzIE9jdHJlZU5vZGUgewogICAgLy8gTWF4aW11bSBzdWJkaXZpc2lvbiBkZXB0aAogICAgY29uc3RydWN0b3IoYWFiYiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgIHN1cGVyKHsKICAgICAgICByb290OiBudWxsLAogICAgICAgIGFhYmIKICAgICAgfSk7CiAgICAgIHRoaXMubWF4RGVwdGggPSB0eXBlb2Ygb3B0aW9ucy5tYXhEZXB0aCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heERlcHRoIDogODsKICAgIH0KCiAgfQoKICBjb25zdCBoYWxmRGlhZ29uYWwgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRtcEFBQkIkMSA9IG5ldyBBQUJCKCk7CiAgLyoqCiAgICogQGNsYXNzIFRyaW1lc2gKICAgKiBAY29uc3RydWN0b3IKICAgKiBAcGFyYW0ge2FycmF5fSB2ZXJ0aWNlcwogICAqIEBwYXJhbSB7YXJyYXl9IGluZGljZXMKICAgKiBAZXh0ZW5kcyBTaGFwZQogICAqIEBleGFtcGxlCiAgICogICAgIC8vIEhvdyB0byBtYWtlIGEgbWVzaCB3aXRoIGEgc2luZ2xlIHRyaWFuZ2xlCiAgICogICAgIGNvbnN0IHZlcnRpY2VzID0gWwogICAqICAgICAgICAgMCwgMCwgMCwgLy8gdmVydGV4IDAKICAgKiAgICAgICAgIDEsIDAsIDAsIC8vIHZlcnRleCAxCiAgICogICAgICAgICAwLCAxLCAwICAvLyB2ZXJ0ZXggMgogICAqICAgICBdOwogICAqICAgICBjb25zdCBpbmRpY2VzID0gWwogICAqICAgICAgICAgMCwgMSwgMiAgLy8gdHJpYW5nbGUgMAogICAqICAgICBdOwogICAqICAgICBjb25zdCB0cmltZXNoU2hhcGUgPSBuZXcgVHJpbWVzaCh2ZXJ0aWNlcywgaW5kaWNlcyk7CiAgICovCgogIGNsYXNzIFRyaW1lc2ggZXh0ZW5kcyBTaGFwZSB7CiAgICAvLyBBcnJheSBvZiBpbnRlZ2VycywgaW5kaWNhdGluZyB3aGljaCB2ZXJ0aWNlcyBlYWNoIHRyaWFuZ2xlIGNvbnNpc3RzIG9mLiBUaGUgbGVuZ3RoIG9mIHRoaXMgYXJyYXkgaXMgdGh1cyAzIHRpbWVzIHRoZSBudW1iZXIgb2YgdHJpYW5nbGVzLgogICAgLy8gVGhlIG5vcm1hbHMgZGF0YS4KICAgIC8vIFRoZSBsb2NhbCBBQUJCIG9mIHRoZSBtZXNoLgogICAgLy8gUmVmZXJlbmNlcyB0byB2ZXJ0ZXggcGFpcnMsIG1ha2luZyB1cCBhbGwgdW5pcXVlIGVkZ2VzIGluIHRoZSB0cmltZXNoLgogICAgLy8gTG9jYWwgc2NhbGluZyBvZiB0aGUgbWVzaC4gVXNlIC5zZXRTY2FsZSgpIHRvIHNldCBpdC4KICAgIC8vIFRoZSBpbmRleGVkIHRyaWFuZ2xlcy4gVXNlIC51cGRhdGVUcmVlKCkgdG8gdXBkYXRlIGl0LgogICAgY29uc3RydWN0b3IodmVydGljZXMsIGluZGljZXMpIHsKICAgICAgc3VwZXIoewogICAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlRSSU1FU0gKICAgICAgfSk7CiAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzKTsKICAgICAgdGhpcy5pbmRpY2VzID0gbmV3IEludDE2QXJyYXkoaW5kaWNlcyk7CiAgICAgIHRoaXMubm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoaW5kaWNlcy5sZW5ndGgpOwogICAgICB0aGlzLmFhYmIgPSBuZXcgQUFCQigpOwogICAgICB0aGlzLmVkZ2VzID0gbnVsbDsKICAgICAgdGhpcy5zY2FsZSA9IG5ldyBWZWMzKDEsIDEsIDEpOwogICAgICB0aGlzLnRyZWUgPSBuZXcgT2N0cmVlKCk7CiAgICAgIHRoaXMudXBkYXRlRWRnZXMoKTsKICAgICAgdGhpcy51cGRhdGVOb3JtYWxzKCk7CiAgICAgIHRoaXMudXBkYXRlQUFCQigpOwogICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICAgIHRoaXMudXBkYXRlVHJlZSgpOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIHVwZGF0ZVRyZWUKICAgICAqLwoKCiAgICB1cGRhdGVUcmVlKCkgewogICAgICBjb25zdCB0cmVlID0gdGhpcy50cmVlOwogICAgICB0cmVlLnJlc2V0KCk7CiAgICAgIHRyZWUuYWFiYi5jb3B5KHRoaXMuYWFiYik7CiAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTsgLy8gVGhlIGxvY2FsIG1lc2ggQUFCQiBpcyBzY2FsZWQsIGJ1dCB0aGUgb2N0cmVlIEFBQkIgc2hvdWxkIGJlIHVuc2NhbGVkCgogICAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC54ICo9IDEgLyBzY2FsZS54OwogICAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC55ICo9IDEgLyBzY2FsZS55OwogICAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OwogICAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC54ICo9IDEgLyBzY2FsZS54OwogICAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC55ICo9IDEgLyBzY2FsZS55OwogICAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OyAvLyBJbnNlcnQgYWxsIHRyaWFuZ2xlcwoKICAgICAgY29uc3QgdHJpYW5nbGVBQUJCID0gbmV3IEFBQkIoKTsKICAgICAgY29uc3QgYSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGIgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBjID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgcG9pbnRzID0gW2EsIGIsIGNdOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgICAgLy90aGlzLmdldFRyaWFuZ2xlVmVydGljZXMoaSwgYSwgYiwgYyk7CiAgICAgICAgLy8gR2V0IHVuc2NhbGVkIHRyaWFuZ2xlIHZlcnRzCiAgICAgICAgY29uc3QgaTMgPSBpICogMzsKCiAgICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzXSwgYSk7CgogICAgICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDFdLCBiKTsKCiAgICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMl0sIGMpOwoKICAgICAgICB0cmlhbmdsZUFBQkIuc2V0RnJvbVBvaW50cyhwb2ludHMpOwogICAgICAgIHRyZWUuaW5zZXJ0KHRyaWFuZ2xlQUFCQiwgaSk7CiAgICAgIH0KCiAgICAgIHRyZWUucmVtb3ZlRW1wdHlOb2RlcygpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdHJpYW5nbGVzIGluIGEgbG9jYWwgQUFCQiBmcm9tIHRoZSB0cmltZXNoLgogICAgICogQG1ldGhvZCBnZXRUcmlhbmdsZXNJbkFBQkIKICAgICAqIEBwYXJhbSAge0FBQkJ9IGFhYmIKICAgICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgb2YgaW50ZWdlcnMsIHJlZmVyZW5jaW5nIHRoZSBxdWVyaWVkIHRyaWFuZ2xlcy4KICAgICAqLwoKCiAgICBnZXRUcmlhbmdsZXNJbkFBQkIoYWFiYiwgcmVzdWx0KSB7CiAgICAgIHVuc2NhbGVkQUFCQi5jb3B5KGFhYmIpOyAvLyBTY2FsZSBpdCB0byBsb2NhbAoKICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOwogICAgICBjb25zdCBpc3ggPSBzY2FsZS54OwogICAgICBjb25zdCBpc3kgPSBzY2FsZS55OwogICAgICBjb25zdCBpc3ogPSBzY2FsZS56OwogICAgICBjb25zdCBsID0gdW5zY2FsZWRBQUJCLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUgPSB1bnNjYWxlZEFBQkIudXBwZXJCb3VuZDsKICAgICAgbC54IC89IGlzeDsKICAgICAgbC55IC89IGlzeTsKICAgICAgbC56IC89IGlzejsKICAgICAgdS54IC89IGlzeDsKICAgICAgdS55IC89IGlzeTsKICAgICAgdS56IC89IGlzejsKICAgICAgcmV0dXJuIHRoaXMudHJlZS5hYWJiUXVlcnkodW5zY2FsZWRBQUJCLCByZXN1bHQpOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIHNldFNjYWxlCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHNjYWxlCiAgICAgKi8KCgogICAgc2V0U2NhbGUoc2NhbGUpIHsKICAgICAgY29uc3Qgd2FzVW5pZm9ybSA9IHRoaXMuc2NhbGUueCA9PT0gdGhpcy5zY2FsZS55ICYmIHRoaXMuc2NhbGUueSA9PT0gdGhpcy5zY2FsZS56OwogICAgICBjb25zdCBpc1VuaWZvcm0gPSBzY2FsZS54ID09PSBzY2FsZS55ICYmIHNjYWxlLnkgPT09IHNjYWxlLno7CgogICAgICBpZiAoISh3YXNVbmlmb3JtICYmIGlzVW5pZm9ybSkpIHsKICAgICAgICAvLyBOb24tdW5pZm9ybSBzY2FsaW5nLiBOZWVkIHRvIHVwZGF0ZSBub3JtYWxzLgogICAgICAgIHRoaXMudXBkYXRlTm9ybWFscygpOwogICAgICB9CgogICAgICB0aGlzLnNjYWxlLmNvcHkoc2NhbGUpOwogICAgICB0aGlzLnVwZGF0ZUFBQkIoKTsKICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCBzYXZlIGluIHRoZSAubm9ybWFscyBhcnJheS4KICAgICAqIEBtZXRob2QgdXBkYXRlTm9ybWFscwogICAgICovCgoKICAgIHVwZGF0ZU5vcm1hbHMoKSB7CiAgICAgIGNvbnN0IG4gPSBjb21wdXRlTm9ybWFsc19uOyAvLyBHZW5lcmF0ZSBub3JtYWxzCgogICAgICBjb25zdCBub3JtYWxzID0gdGhpcy5ub3JtYWxzOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgICAgY29uc3QgaTMgPSBpICogMzsKICAgICAgICBjb25zdCBhID0gdGhpcy5pbmRpY2VzW2kzXTsKICAgICAgICBjb25zdCBiID0gdGhpcy5pbmRpY2VzW2kzICsgMV07CiAgICAgICAgY29uc3QgYyA9IHRoaXMuaW5kaWNlc1tpMyArIDJdOwogICAgICAgIHRoaXMuZ2V0VmVydGV4KGEsIHZhKTsKICAgICAgICB0aGlzLmdldFZlcnRleChiLCB2Yik7CiAgICAgICAgdGhpcy5nZXRWZXJ0ZXgoYywgdmMpOwogICAgICAgIFRyaW1lc2guY29tcHV0ZU5vcm1hbCh2YiwgdmEsIHZjLCBuKTsKICAgICAgICBub3JtYWxzW2kzXSA9IG4ueDsKICAgICAgICBub3JtYWxzW2kzICsgMV0gPSBuLnk7CiAgICAgICAgbm9ybWFsc1tpMyArIDJdID0gbi56OwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZSB0aGUgLmVkZ2VzIHByb3BlcnR5CiAgICAgKiBAbWV0aG9kIHVwZGF0ZUVkZ2VzCiAgICAgKi8KCgogICAgdXBkYXRlRWRnZXMoKSB7CiAgICAgIGNvbnN0IGVkZ2VzID0ge307CgogICAgICBjb25zdCBhZGQgPSAoYSwgYikgPT4gewogICAgICAgIGNvbnN0IGtleSA9IGEgPCBiID8gYSArICJfIiArIGIgOiBiICsgIl8iICsgYTsKICAgICAgICBlZGdlc1trZXldID0gdHJ1ZTsKICAgICAgfTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICAgICAgY29uc3QgYSA9IHRoaXMuaW5kaWNlc1tpM107CiAgICAgICAgY29uc3QgYiA9IHRoaXMuaW5kaWNlc1tpMyArIDFdOwogICAgICAgIGNvbnN0IGMgPSB0aGlzLmluZGljZXNbaTMgKyAyXTsKICAgICAgICBhZGQoYSwgYik7CiAgICAgICAgYWRkKGIsIGMpOwogICAgICAgIGFkZChjLCBhKTsKICAgICAgfQoKICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGVkZ2VzKTsKICAgICAgdGhpcy5lZGdlcyA9IG5ldyBJbnQxNkFycmF5KGtleXMubGVuZ3RoICogMik7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBpbmRpY2VzID0ga2V5c1tpXS5zcGxpdCgnXycpOwogICAgICAgIHRoaXMuZWRnZXNbMiAqIGldID0gcGFyc2VJbnQoaW5kaWNlc1swXSwgMTApOwogICAgICAgIHRoaXMuZWRnZXNbMiAqIGkgKyAxXSA9IHBhcnNlSW50KGluZGljZXNbMV0sIDEwKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYW4gZWRnZSB2ZXJ0ZXgKICAgICAqIEBtZXRob2QgZ2V0RWRnZVZlcnRleAogICAgICogQHBhcmFtICB7bnVtYmVyfSBlZGdlSW5kZXgKICAgICAqIEBwYXJhbSAge251bWJlcn0gZmlyc3RPclNlY29uZCAwIG9yIDEsIGRlcGVuZGluZyBvbiB3aGljaCBvbmUgb2YgdGhlIHZlcnRpY2VzIHlvdSBuZWVkLgogICAgICogQHBhcmFtICB7VmVjM30gdmVydGV4U3RvcmUgV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdAogICAgICovCgoKICAgIGdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCBmaXJzdE9yU2Vjb25kLCB2ZXJ0ZXhTdG9yZSkgewogICAgICBjb25zdCB2ZXJ0ZXhJbmRleCA9IHRoaXMuZWRnZXNbZWRnZUluZGV4ICogMiArIChmaXJzdE9yU2Vjb25kID8gMSA6IDApXTsKICAgICAgdGhpcy5nZXRWZXJ0ZXgodmVydGV4SW5kZXgsIHZlcnRleFN0b3JlKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGEgdmVjdG9yIGFsb25nIGFuIGVkZ2UuCiAgICAgKiBAbWV0aG9kIGdldEVkZ2VWZWN0b3IKICAgICAqIEBwYXJhbSAge251bWJlcn0gZWRnZUluZGV4CiAgICAgKiBAcGFyYW0gIHtWZWMzfSB2ZWN0b3JTdG9yZQogICAgICovCgoKICAgIGdldEVkZ2VWZWN0b3IoZWRnZUluZGV4LCB2ZWN0b3JTdG9yZSkgewogICAgICBjb25zdCB2YSA9IGdldEVkZ2VWZWN0b3JfdmE7CiAgICAgIGNvbnN0IHZiID0gZ2V0RWRnZVZlY3Rvcl92YjsKICAgICAgdGhpcy5nZXRFZGdlVmVydGV4KGVkZ2VJbmRleCwgMCwgdmEpOwogICAgICB0aGlzLmdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCAxLCB2Yik7CiAgICAgIHZiLnZzdWIodmEsIHZlY3RvclN0b3JlKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGZhY2Ugbm9ybWFsIGdpdmVuIDMgdmVydGljZXMKICAgICAqIEBzdGF0aWMKICAgICAqIEBtZXRob2QgY29tcHV0ZU5vcm1hbAogICAgICogQHBhcmFtIHtWZWMzfSB2YQogICAgICogQHBhcmFtIHtWZWMzfSB2YgogICAgICogQHBhcmFtIHtWZWMzfSB2YwogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQKICAgICAqLwoKCiAgICBzdGF0aWMgY29tcHV0ZU5vcm1hbCh2YSwgdmIsIHZjLCB0YXJnZXQpIHsKICAgICAgdmIudnN1Yih2YSwgYWIpOwogICAgICB2Yy52c3ViKHZiLCBjYik7CiAgICAgIGNiLmNyb3NzKGFiLCB0YXJnZXQpOwoKICAgICAgaWYgKCF0YXJnZXQuaXNaZXJvKCkpIHsKICAgICAgICB0YXJnZXQubm9ybWFsaXplKCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogR2V0IHZlcnRleCBpLgogICAgICogQG1ldGhvZCBnZXRWZXJ0ZXgKICAgICAqIEBwYXJhbSAge251bWJlcn0gaQogICAgICogQHBhcmFtICB7VmVjM30gb3V0CiAgICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgIm91dCIgdmVjdG9yIG9iamVjdAogICAgICovCgoKICAgIGdldFZlcnRleChpLCBvdXQpIHsKICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOwoKICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgoaSwgb3V0KTsKCiAgICAgIG91dC54ICo9IHNjYWxlLng7CiAgICAgIG91dC55ICo9IHNjYWxlLnk7CiAgICAgIG91dC56ICo9IHNjYWxlLno7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgICAvKioKICAgICAqIEdldCByYXcgdmVydGV4IGkKICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIF9nZXRVbnNjYWxlZFZlcnRleAogICAgICogQHBhcmFtICB7bnVtYmVyfSBpCiAgICAgKiBAcGFyYW0gIHtWZWMzfSBvdXQKICAgICAqIEByZXR1cm4ge1ZlYzN9IFRoZSAib3V0IiB2ZWN0b3Igb2JqZWN0CiAgICAgKi8KCgogICAgX2dldFVuc2NhbGVkVmVydGV4KGksIG91dCkgewogICAgICBjb25zdCBpMyA9IGkgKiAzOwogICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICAgIHJldHVybiBvdXQuc2V0KHZlcnRpY2VzW2kzXSwgdmVydGljZXNbaTMgKyAxXSwgdmVydGljZXNbaTMgKyAyXSk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhIHZlcnRleCBmcm9tIHRoZSB0cmltZXNoLHRyYW5zZm9ybWVkIGJ5IHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgcXVhdGVybmlvbi4KICAgICAqIEBtZXRob2QgZ2V0V29ybGRWZXJ0ZXgKICAgICAqIEBwYXJhbSAge251bWJlcn0gaQogICAgICogQHBhcmFtICB7VmVjM30gcG9zCiAgICAgKiBAcGFyYW0gIHtRdWF0ZXJuaW9ufSBxdWF0CiAgICAgKiBAcGFyYW0gIHtWZWMzfSBvdXQKICAgICAqIEByZXR1cm4ge1ZlYzN9IFRoZSAib3V0IiB2ZWN0b3Igb2JqZWN0CiAgICAgKi8KCgogICAgZ2V0V29ybGRWZXJ0ZXgoaSwgcG9zLCBxdWF0LCBvdXQpIHsKICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgb3V0KTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvcywgcXVhdCwgb3V0LCBvdXQpOwogICAgICByZXR1cm4gb3V0OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHRocmVlIHZlcnRpY2VzIGZvciB0cmlhbmdsZSBpLgogICAgICogQG1ldGhvZCBnZXRUcmlhbmdsZVZlcnRpY2VzCiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGkKICAgICAqIEBwYXJhbSAge1ZlYzN9IGEKICAgICAqIEBwYXJhbSAge1ZlYzN9IGIKICAgICAqIEBwYXJhbSAge1ZlYzN9IGMKICAgICAqLwoKCiAgICBnZXRUcmlhbmdsZVZlcnRpY2VzKGksIGEsIGIsIGMpIHsKICAgICAgY29uc3QgaTMgPSBpICogMzsKICAgICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzXSwgYSk7CiAgICAgIHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDFdLCBiKTsKICAgICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMl0sIGMpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBub3JtYWwgb2YgdHJpYW5nbGUgaS4KICAgICAqIEBtZXRob2QgZ2V0Tm9ybWFsCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGkKICAgICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldAogICAgICogQHJldHVybiB7VmVjM30gVGhlICJ0YXJnZXQiIHZlY3RvciBvYmplY3QKICAgICAqLwoKCiAgICBnZXROb3JtYWwoaSwgdGFyZ2V0KSB7CiAgICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICAgIHJldHVybiB0YXJnZXQuc2V0KHRoaXMubm9ybWFsc1tpM10sIHRoaXMubm9ybWFsc1tpMyArIDFdLCB0aGlzLm5vcm1hbHNbaTMgKyAyXSk7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3MKICAgICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldAogICAgICogQHJldHVybiB7VmVjM30gVGhlICJ0YXJnZXQiIHZlY3RvciBvYmplY3QKICAgICAqLwoKCiAgICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7CiAgICAgIC8vIEFwcHJveGltYXRlIHdpdGggYm94IGluZXJ0aWEKICAgICAgLy8gRXhhY3QgaW5lcnRpYSBjYWxjdWxhdGlvbiBpcyBvdmVya2lsbCwgYnV0IHNlZSBodHRwOi8vZ2VvbWV0cmljdG9vbHMuY29tL0RvY3VtZW50YXRpb24vUG9seWhlZHJhbE1hc3NQcm9wZXJ0aWVzLnBkZiBmb3IgdGhlIGNvcnJlY3Qgd2F5IHRvIGRvIGl0CiAgICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQihjbGlfYWFiYik7CiAgICAgIGNvbnN0IHggPSBjbGlfYWFiYi51cHBlckJvdW5kLnggLSBjbGlfYWFiYi5sb3dlckJvdW5kLng7CiAgICAgIGNvbnN0IHkgPSBjbGlfYWFiYi51cHBlckJvdW5kLnkgLSBjbGlfYWFiYi5sb3dlckJvdW5kLnk7CiAgICAgIGNvbnN0IHogPSBjbGlfYWFiYi51cHBlckJvdW5kLnogLSBjbGlfYWFiYi5sb3dlckJvdW5kLno7CiAgICAgIHJldHVybiB0YXJnZXQuc2V0KDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeiAqIDIgKiB6KSwgMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHggKiAyICogeCArIDIgKiB6ICogMiAqIHopLCAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHggKiAyICogeCkpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBsb2NhbCBBQUJCIGZvciB0aGUgdHJpbWVzaAogICAgICogQG1ldGhvZCBjb21wdXRlTG9jYWxBQUJCCiAgICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICAgKi8KCgogICAgY29tcHV0ZUxvY2FsQUFCQihhYWJiKSB7CiAgICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUgPSBhYWJiLnVwcGVyQm91bmQ7CiAgICAgIGNvbnN0IG4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsKICAgICAgdGhpcy52ZXJ0aWNlczsKICAgICAgY29uc3QgdiA9IGNvbXB1dGVMb2NhbEFBQkJfd29ybGRWZXJ0OwogICAgICB0aGlzLmdldFZlcnRleCgwLCB2KTsKICAgICAgbC5jb3B5KHYpOwogICAgICB1LmNvcHkodik7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbjsgaSsrKSB7CiAgICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7CgogICAgICAgIGlmICh2LnggPCBsLngpIHsKICAgICAgICAgIGwueCA9IHYueDsKICAgICAgICB9IGVsc2UgaWYgKHYueCA+IHUueCkgewogICAgICAgICAgdS54ID0gdi54OwogICAgICAgIH0KCiAgICAgICAgaWYgKHYueSA8IGwueSkgewogICAgICAgICAgbC55ID0gdi55OwogICAgICAgIH0gZWxzZSBpZiAodi55ID4gdS55KSB7CiAgICAgICAgICB1LnkgPSB2Lnk7CiAgICAgICAgfQoKICAgICAgICBpZiAodi56IDwgbC56KSB7CiAgICAgICAgICBsLnogPSB2Lno7CiAgICAgICAgfSBlbHNlIGlmICh2LnogPiB1LnopIHsKICAgICAgICAgIHUueiA9IHYuejsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlIHRoZSAuYWFiYiBwcm9wZXJ0eQogICAgICogQG1ldGhvZCB1cGRhdGVBQUJCCiAgICAgKi8KCgogICAgdXBkYXRlQUFCQigpIHsKICAgICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKHRoaXMuYWFiYik7CiAgICB9CiAgICAvKioKICAgICAqIFdpbGwgdXBkYXRlIHRoZSAuYm91bmRpbmdTcGhlcmVSYWRpdXMgcHJvcGVydHkKICAgICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMKICAgICAqLwoKCiAgICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgICAgLy8gQXNzdW1lIHBvaW50cyBhcmUgZGlzdHJpYnV0ZWQgd2l0aCBsb2NhbCAoMCwwLDApIGFzIGNlbnRlcgogICAgICBsZXQgbWF4MiA9IDA7CiAgICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlczsKICAgICAgY29uc3QgdiA9IG5ldyBWZWMzKCk7CgogICAgICBmb3IgKGxldCBpID0gMCwgTiA9IHZlcnRpY2VzLmxlbmd0aCAvIDM7IGkgIT09IE47IGkrKykgewogICAgICAgIHRoaXMuZ2V0VmVydGV4KGksIHYpOwogICAgICAgIGNvbnN0IG5vcm0yID0gdi5sZW5ndGhTcXVhcmVkKCk7CgogICAgICAgIGlmIChub3JtMiA+IG1heDIpIHsKICAgICAgICAgIG1heDIgPSBub3JtMjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBNYXRoLnNxcnQobWF4Mik7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgY2FsY3VsYXRlV29ybGRBQUJCCiAgICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBwb3MKICAgICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gIHF1YXQKICAgICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1pbgogICAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWF4CiAgICAgKi8KCgogICAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgICAgLyoKICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aCAvIDMsCiAgICAgICAgICAgICAgdmVydHMgPSB0aGlzLnZlcnRpY2VzOwogICAgICAgICAgY29uc3QgbWlueCxtaW55LG1pbnosbWF4eCxtYXh5LG1heHo7CiAgICAgICAgICAgY29uc3QgdiA9IHRlbXBXb3JsZFZlcnRleDsKICAgICAgICAgIGZvcihsZXQgaT0wOyBpPG47IGkrKyl7CiAgICAgICAgICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7CiAgICAgICAgICAgICAgcXVhdC52bXVsdCh2LCB2KTsKICAgICAgICAgICAgICBwb3MudmFkZCh2LCB2KTsKICAgICAgICAgICAgICBpZiAodi54IDwgbWlueCB8fCBtaW54PT09dW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgICAgbWlueCA9IHYueDsKICAgICAgICAgICAgICB9IGVsc2UgaWYodi54ID4gbWF4eCB8fCBtYXh4PT09dW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgICAgbWF4eCA9IHYueDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIGlmICh2LnkgPCBtaW55IHx8IG1pbnk9PT11bmRlZmluZWQpewogICAgICAgICAgICAgICAgICBtaW55ID0gdi55OwogICAgICAgICAgICAgIH0gZWxzZSBpZih2LnkgPiBtYXh5IHx8IG1heHk9PT11bmRlZmluZWQpewogICAgICAgICAgICAgICAgICBtYXh5ID0gdi55OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgaWYgKHYueiA8IG1pbnogfHwgbWluej09PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgIG1pbnogPSB2Lno7CiAgICAgICAgICAgICAgfSBlbHNlIGlmKHYueiA+IG1heHogfHwgbWF4ej09PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgIG1heHogPSB2Lno7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgbWluLnNldChtaW54LG1pbnksbWlueik7CiAgICAgICAgICBtYXguc2V0KG1heHgsbWF4eSxtYXh6KTsKICAgICAgICAgICovCiAgICAgIC8vIEZhc3RlciBhcHByb3hpbWF0aW9uIHVzaW5nIGxvY2FsIEFBQkIKICAgICAgY29uc3QgZnJhbWUgPSBjYWxjdWxhdGVXb3JsZEFBQkJfZnJhbWU7CiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiOwogICAgICBmcmFtZS5wb3NpdGlvbiA9IHBvczsKICAgICAgZnJhbWUucXVhdGVybmlvbiA9IHF1YXQ7CiAgICAgIHRoaXMuYWFiYi50b1dvcmxkRnJhbWUoZnJhbWUsIHJlc3VsdCk7CiAgICAgIG1pbi5jb3B5KHJlc3VsdC5sb3dlckJvdW5kKTsKICAgICAgbWF4LmNvcHkocmVzdWx0LnVwcGVyQm91bmQpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYXBwcm94aW1hdGUgdm9sdW1lCiAgICAgKiBAbWV0aG9kIHZvbHVtZQogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICovCgoKICAgIHZvbHVtZSgpIHsKICAgICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzIC8gMy4wOwogICAgfQogICAgLyoqCiAgICAgKiBDcmVhdGUgYSBUcmltZXNoIGluc3RhbmNlLCBzaGFwZWQgYXMgYSB0b3J1cy4KICAgICAqIEBzdGF0aWMKICAgICAqIEBtZXRob2QgY3JlYXRlVG9ydXMKICAgICAqIEBwYXJhbSAge251bWJlcn0gW3JhZGl1cz0xXQogICAgICogQHBhcmFtICB7bnVtYmVyfSBbdHViZT0wLjVdCiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtyYWRpYWxTZWdtZW50cz04XQogICAgICogQHBhcmFtICB7bnVtYmVyfSBbdHVidWxhclNlZ21lbnRzPTZdCiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFthcmM9Ni4yODMxODUzMDcxNzk1ODZdCiAgICAgKiBAcmV0dXJuIHtUcmltZXNofSBBIHRvcnVzCiAgICAgKi8KCgogICAgc3RhdGljIGNyZWF0ZVRvcnVzKHJhZGl1cyA9IDEsIHR1YmUgPSAwLjUsIHJhZGlhbFNlZ21lbnRzID0gOCwgdHVidWxhclNlZ21lbnRzID0gNiwgYXJjID0gTWF0aC5QSSAqIDIpIHsKICAgICAgY29uc3QgdmVydGljZXMgPSBbXTsKICAgICAgY29uc3QgaW5kaWNlcyA9IFtdOwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogPD0gcmFkaWFsU2VnbWVudHM7IGorKykgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHR1YnVsYXJTZWdtZW50czsgaSsrKSB7CiAgICAgICAgICBjb25zdCB1ID0gaSAvIHR1YnVsYXJTZWdtZW50cyAqIGFyYzsKICAgICAgICAgIGNvbnN0IHYgPSBqIC8gcmFkaWFsU2VnbWVudHMgKiBNYXRoLlBJICogMjsKICAgICAgICAgIGNvbnN0IHggPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYpKSAqIE1hdGguY29zKHUpOwogICAgICAgICAgY29uc3QgeSA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModikpICogTWF0aC5zaW4odSk7CiAgICAgICAgICBjb25zdCB6ID0gdHViZSAqIE1hdGguc2luKHYpOwogICAgICAgICAgdmVydGljZXMucHVzaCh4LCB5LCB6KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAobGV0IGogPSAxOyBqIDw9IHJhZGlhbFNlZ21lbnRzOyBqKyspIHsKICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0dWJ1bGFyU2VnbWVudHM7IGkrKykgewogICAgICAgICAgY29uc3QgYSA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIGogKyBpIC0gMTsKICAgICAgICAgIGNvbnN0IGIgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiAoaiAtIDEpICsgaSAtIDE7CiAgICAgICAgICBjb25zdCBjID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogKGogLSAxKSArIGk7CiAgICAgICAgICBjb25zdCBkID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogaiArIGk7CiAgICAgICAgICBpbmRpY2VzLnB1c2goYSwgYiwgZCk7CiAgICAgICAgICBpbmRpY2VzLnB1c2goYiwgYywgZCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbmV3IFRyaW1lc2godmVydGljZXMsIGluZGljZXMpOwogICAgfQoKICB9CgogIGNvbnN0IGNvbXB1dGVOb3JtYWxzX24gPSBuZXcgVmVjMygpOwogIGNvbnN0IHVuc2NhbGVkQUFCQiA9IG5ldyBBQUJCKCk7CiAgY29uc3QgZ2V0RWRnZVZlY3Rvcl92YSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgZ2V0RWRnZVZlY3Rvcl92YiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgY2IgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFiID0gbmV3IFZlYzMoKTsKICBjb25zdCB2YSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdmIgPSBuZXcgVmVjMygpOwogIGNvbnN0IHZjID0gbmV3IFZlYzMoKTsKICBjb25zdCBjbGlfYWFiYiA9IG5ldyBBQUJCKCk7CiAgY29uc3QgY29tcHV0ZUxvY2FsQUFCQl93b3JsZFZlcnQgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZSA9IG5ldyBUcmFuc2Zvcm0oKTsKICBjb25zdCBjYWxjdWxhdGVXb3JsZEFBQkJfYWFiYiA9IG5ldyBBQUJCKCk7CiAgLyoqCiAgICogQ29uc3RyYWludCBlcXVhdGlvbiBzb2x2ZXIgYmFzZSBjbGFzcy4KICAgKiBAY2xhc3MgU29sdmVyCiAgICogQGNvbnN0cnVjdG9yCiAgICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQogICAqLwoKICBjbGFzcyBTb2x2ZXIgewogICAgLy8gQWxsIGVxdWF0aW9ucyB0byBiZSBzb2x2ZWQKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aGlzLmVxdWF0aW9ucyA9IFtdOwogICAgfQogICAgLyoqCiAgICAgKiBTaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3NlcyEKICAgICAqIEBtZXRob2Qgc29sdmUKICAgICAqIEBwYXJhbSAge051bWJlcn0gZHQKICAgICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZAogICAgICogQHJldHVybiB7TnVtYmVyfSBudW1iZXIgb2YgaXRlcmF0aW9ucyBwZXJmb3JtZWQKICAgICAqLwoKCiAgICBzb2x2ZShkdCwgd29ybGQpIHsKICAgICAgcmV0dXJuICgvLyBTaG91bGQgcmV0dXJuIHRoZSBudW1iZXIgb2YgaXRlcmF0aW9ucyBkb25lIQogICAgICAgIDAKICAgICAgKTsKICAgIH0KICAgIC8qKgogICAgICogQWRkIGFuIGVxdWF0aW9uCiAgICAgKiBAbWV0aG9kIGFkZEVxdWF0aW9uCiAgICAgKiBAcGFyYW0ge0VxdWF0aW9ufSBlcQogICAgICovCgoKICAgIGFkZEVxdWF0aW9uKGVxKSB7CiAgICAgIGlmIChlcS5lbmFibGVkKSB7CiAgICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChlcSk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGFuIGVxdWF0aW9uCiAgICAgKiBAbWV0aG9kIHJlbW92ZUVxdWF0aW9uCiAgICAgKiBAcGFyYW0ge0VxdWF0aW9ufSBlcQogICAgICovCgoKICAgIHJlbW92ZUVxdWF0aW9uKGVxKSB7CiAgICAgIGNvbnN0IGVxcyA9IHRoaXMuZXF1YXRpb25zOwogICAgICBjb25zdCBpID0gZXFzLmluZGV4T2YoZXEpOwoKICAgICAgaWYgKGkgIT09IC0xKSB7CiAgICAgICAgZXFzLnNwbGljZShpLCAxKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBBZGQgYWxsIGVxdWF0aW9ucwogICAgICogQG1ldGhvZCByZW1vdmVBbGxFcXVhdGlvbnMKICAgICAqLwoKCiAgICByZW1vdmVBbGxFcXVhdGlvbnMoKSB7CiAgICAgIHRoaXMuZXF1YXRpb25zLmxlbmd0aCA9IDA7CiAgICB9CgogIH0KICAvKioKICAgKiBDb25zdHJhaW50IGVxdWF0aW9uIEdhdXNzLVNlaWRlbCBzb2x2ZXIuCiAgICogQGNsYXNzIEdTU29sdmVyCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHRvZG8gVGhlIHNwb29rIHBhcmFtZXRlcnMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgZWFjaCBjb25zdHJhaW50LCBub3QgZ2xvYmFsbHkuCiAgICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQogICAqIEBzZWUgaHR0cHM6Ly93d3c4LmNzLnVtdS5zZS9rdXJzZXIvNURWMDU4L1ZUMDkvbGVjdHVyZXMvc3Bvb2tub3Rlcy5wZGYKICAgKiBAZXh0ZW5kcyBTb2x2ZXIKICAgKi8KCgogIGNsYXNzIEdTU29sdmVyIGV4dGVuZHMgU29sdmVyIHsKICAgIC8vIFRoZSBudW1iZXIgb2Ygc29sdmVyIGl0ZXJhdGlvbnMgZGV0ZXJtaW5lcyBxdWFsaXR5IG9mIHRoZSBjb25zdHJhaW50cyBpbiB0aGUgd29ybGQuIFRoZSBtb3JlIGl0ZXJhdGlvbnMsIHRoZSBtb3JlIGNvcnJlY3Qgc2ltdWxhdGlvbi4gTW9yZSBpdGVyYXRpb25zIG5lZWQgbW9yZSBjb21wdXRhdGlvbnMgdGhvdWdoLiBJZiB5b3UgaGF2ZSBhIGxhcmdlIGdyYXZpdHkgZm9yY2UgaW4geW91ciB3b3JsZCwgeW91IHdpbGwgbmVlZCBtb3JlIGl0ZXJhdGlvbnMuCiAgICAvLyBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLgogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMuaXRlcmF0aW9ucyA9IDEwOwogICAgICB0aGlzLnRvbGVyYW5jZSA9IDFlLTc7CiAgICB9CiAgICAvKioKICAgICAqIFNvbHZlCiAgICAgKiBAbWV0aG9kIHNvbHZlCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGR0CiAgICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQKICAgICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgcGVyZm9ybWVkCiAgICAgKi8KCgogICAgc29sdmUoZHQsIHdvcmxkKSB7CiAgICAgIGxldCBpdGVyID0gMDsKICAgICAgY29uc3QgbWF4SXRlciA9IHRoaXMuaXRlcmF0aW9uczsKICAgICAgY29uc3QgdG9sU3F1YXJlZCA9IHRoaXMudG9sZXJhbmNlICogdGhpcy50b2xlcmFuY2U7CiAgICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zOwogICAgICBjb25zdCBOZXEgPSBlcXVhdGlvbnMubGVuZ3RoOwogICAgICBjb25zdCBib2RpZXMgPSB3b3JsZC5ib2RpZXM7CiAgICAgIGNvbnN0IE5ib2RpZXMgPSBib2RpZXMubGVuZ3RoOwogICAgICBjb25zdCBoID0gZHQ7CiAgICAgIGxldCBCOwogICAgICBsZXQgaW52QzsKICAgICAgbGV0IGRlbHRhbGFtYmRhOwogICAgICBsZXQgZGVsdGFsYW1iZGFUb3Q7CiAgICAgIGxldCBHV2xhbWJkYTsKICAgICAgbGV0IGxhbWJkYWo7IC8vIFVwZGF0ZSBzb2x2ZSBtYXNzCgogICAgICBpZiAoTmVxICE9PSAwKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykgewogICAgICAgICAgYm9kaWVzW2ldLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKTsKICAgICAgICB9CiAgICAgIH0gLy8gVGhpbmdzIHRoYXQgZG9lcyBub3QgY2hhbmdlIGR1cmluZyBpdGVyYXRpb24gY2FuIGJlIGNvbXB1dGVkIG9uY2UKCgogICAgICBjb25zdCBpbnZDcyA9IEdTU29sdmVyX3NvbHZlX2ludkNzOwogICAgICBjb25zdCBCcyA9IEdTU29sdmVyX3NvbHZlX0JzOwogICAgICBjb25zdCBsYW1iZGEgPSBHU1NvbHZlcl9zb2x2ZV9sYW1iZGE7CiAgICAgIGludkNzLmxlbmd0aCA9IE5lcTsKICAgICAgQnMubGVuZ3RoID0gTmVxOwogICAgICBsYW1iZGEubGVuZ3RoID0gTmVxOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcTsgaSsrKSB7CiAgICAgICAgY29uc3QgYyA9IGVxdWF0aW9uc1tpXTsKICAgICAgICBsYW1iZGFbaV0gPSAwLjA7CiAgICAgICAgQnNbaV0gPSBjLmNvbXB1dGVCKGgpOwogICAgICAgIGludkNzW2ldID0gMS4wIC8gYy5jb21wdXRlQygpOwogICAgICB9CgogICAgICBpZiAoTmVxICE9PSAwKSB7CiAgICAgICAgLy8gUmVzZXQgdmxhbWJkYQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHsKICAgICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgICAgICBjb25zdCB2bGFtYmRhID0gYi52bGFtYmRhOwogICAgICAgICAgY29uc3Qgd2xhbWJkYSA9IGIud2xhbWJkYTsKICAgICAgICAgIHZsYW1iZGEuc2V0KDAsIDAsIDApOwogICAgICAgICAgd2xhbWJkYS5zZXQoMCwgMCwgMCk7CiAgICAgICAgfSAvLyBJdGVyYXRlIG92ZXIgZXF1YXRpb25zCgoKICAgICAgICBmb3IgKGl0ZXIgPSAwOyBpdGVyICE9PSBtYXhJdGVyOyBpdGVyKyspIHsKICAgICAgICAgIC8vIEFjY3VtdWxhdGUgdGhlIHRvdGFsIGVycm9yIGZvciBlYWNoIGl0ZXJhdGlvbi4KICAgICAgICAgIGRlbHRhbGFtYmRhVG90ID0gMC4wOwoKICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBOZXE7IGorKykgewogICAgICAgICAgICBjb25zdCBjID0gZXF1YXRpb25zW2pdOyAvLyBDb21wdXRlIGl0ZXJhdGlvbgoKICAgICAgICAgICAgQiA9IEJzW2pdOwogICAgICAgICAgICBpbnZDID0gaW52Q3Nbal07CiAgICAgICAgICAgIGxhbWJkYWogPSBsYW1iZGFbal07CiAgICAgICAgICAgIEdXbGFtYmRhID0gYy5jb21wdXRlR1dsYW1iZGEoKTsKICAgICAgICAgICAgZGVsdGFsYW1iZGEgPSBpbnZDICogKEIgLSBHV2xhbWJkYSAtIGMuZXBzICogbGFtYmRhaik7IC8vIENsYW1wIGlmIHdlIGFyZSBub3Qgd2l0aGluIHRoZSBtaW4vbWF4IGludGVydmFsCgogICAgICAgICAgICBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhIDwgYy5taW5Gb3JjZSkgewogICAgICAgICAgICAgIGRlbHRhbGFtYmRhID0gYy5taW5Gb3JjZSAtIGxhbWJkYWo7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhID4gYy5tYXhGb3JjZSkgewogICAgICAgICAgICAgIGRlbHRhbGFtYmRhID0gYy5tYXhGb3JjZSAtIGxhbWJkYWo7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxhbWJkYVtqXSArPSBkZWx0YWxhbWJkYTsKICAgICAgICAgICAgZGVsdGFsYW1iZGFUb3QgKz0gZGVsdGFsYW1iZGEgPiAwLjAgPyBkZWx0YWxhbWJkYSA6IC1kZWx0YWxhbWJkYTsgLy8gYWJzKGRlbHRhbGFtYmRhKQoKICAgICAgICAgICAgYy5hZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpOwogICAgICAgICAgfSAvLyBJZiB0aGUgdG90YWwgZXJyb3IgaXMgc21hbGwgZW5vdWdoIC0gc3RvcCBpdGVyYXRlCgoKICAgICAgICAgIGlmIChkZWx0YWxhbWJkYVRvdCAqIGRlbHRhbGFtYmRhVG90IDwgdG9sU3F1YXJlZCkgewogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9IC8vIEFkZCByZXN1bHQgdG8gdmVsb2NpdHkKCgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHsKICAgICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgICAgICBjb25zdCB2ID0gYi52ZWxvY2l0eTsKICAgICAgICAgIGNvbnN0IHcgPSBiLmFuZ3VsYXJWZWxvY2l0eTsKICAgICAgICAgIGIudmxhbWJkYS52bXVsKGIubGluZWFyRmFjdG9yLCBiLnZsYW1iZGEpOwogICAgICAgICAgdi52YWRkKGIudmxhbWJkYSwgdik7CiAgICAgICAgICBiLndsYW1iZGEudm11bChiLmFuZ3VsYXJGYWN0b3IsIGIud2xhbWJkYSk7CiAgICAgICAgICB3LnZhZGQoYi53bGFtYmRhLCB3KTsKICAgICAgICB9IC8vIFNldCB0aGUgLm11bHRpcGxpZXIgcHJvcGVydHkgb2YgZWFjaCBlcXVhdGlvbgoKCiAgICAgICAgbGV0IGwgPSBlcXVhdGlvbnMubGVuZ3RoOwogICAgICAgIGNvbnN0IGludkR0ID0gMSAvIGg7CgogICAgICAgIHdoaWxlIChsLS0pIHsKICAgICAgICAgIGVxdWF0aW9uc1tsXS5tdWx0aXBsaWVyID0gbGFtYmRhW2xdICogaW52RHQ7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaXRlcjsKICAgIH0KCiAgfQoKICBjb25zdCBHU1NvbHZlcl9zb2x2ZV9sYW1iZGEgPSBbXTsgLy8gSnVzdCB0ZW1wb3JhcnkgbnVtYmVyIGhvbGRlcnMgdGhhdCB3ZSB3YW50IHRvIHJldXNlIGVhY2ggc29sdmUuCgogIGNvbnN0IEdTU29sdmVyX3NvbHZlX2ludkNzID0gW107CiAgY29uc3QgR1NTb2x2ZXJfc29sdmVfQnMgPSBbXTsKICAvKioKICAgKiBGb3IgcG9vbGluZyBvYmplY3RzIHRoYXQgY2FuIGJlIHJldXNlZC4KICAgKiBAY2xhc3MgUG9vbAogICAqIEBjb25zdHJ1Y3RvcgogICAqLwoKCiAgY2xhc3MgUG9vbCB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5vYmplY3RzID0gW107CiAgICAgIHRoaXMudHlwZSA9IE9iamVjdDsKICAgIH0KICAgIC8qKgogICAgICogUmVsZWFzZSBhbiBvYmplY3QgYWZ0ZXIgdXNlCiAgICAgKiBAbWV0aG9kIHJlbGVhc2UKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmoKICAgICAqLwoKCiAgICByZWxlYXNlKC4uLmFyZ3MpIHsKICAgICAgY29uc3QgTmFyZ3MgPSBhcmdzLmxlbmd0aDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYXJnczsgaSsrKSB7CiAgICAgICAgdGhpcy5vYmplY3RzLnB1c2goYXJnc1tpXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYW4gb2JqZWN0CiAgICAgKiBAbWV0aG9kIGdldAogICAgICogQHJldHVybiB7bWl4ZWR9CiAgICAgKi8KCgogICAgZ2V0KCkgewogICAgICBpZiAodGhpcy5vYmplY3RzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdE9iamVjdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLm9iamVjdHMucG9wKCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQ29uc3RydWN0IGFuIG9iamVjdC4gU2hvdWxkIGJlIGltcGxlbWVudGVkIGluIGVhY2ggc3ViY2xhc3MuCiAgICAgKiBAbWV0aG9kIGNvbnN0cnVjdE9iamVjdAogICAgICogQHJldHVybiB7bWl4ZWR9CiAgICAgKi8KCgogICAgY29uc3RydWN0T2JqZWN0KCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnN0cnVjdE9iamVjdCgpIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIFBvb2wgc3ViY2xhc3MgeWV0IScpOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIHJlc2l6ZQogICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUKICAgICAqIEByZXR1cm4ge1Bvb2x9IFNlbGYsIGZvciBjaGFpbmluZwogICAgICovCgoKICAgIHJlc2l6ZShzaXplKSB7CiAgICAgIGNvbnN0IG9iamVjdHMgPSB0aGlzLm9iamVjdHM7CgogICAgICB3aGlsZSAob2JqZWN0cy5sZW5ndGggPiBzaXplKSB7CiAgICAgICAgb2JqZWN0cy5wb3AoKTsKICAgICAgfQoKICAgICAgd2hpbGUgKG9iamVjdHMubGVuZ3RoIDwgc2l6ZSkgewogICAgICAgIG9iamVjdHMucHVzaCh0aGlzLmNvbnN0cnVjdE9iamVjdCgpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogIH0KICAvKioKICAgKiBAY2xhc3MgVmVjM1Bvb2wKICAgKiBAY29uc3RydWN0b3IKICAgKiBAZXh0ZW5kcyBQb29sCiAgICovCgoKICBjbGFzcyBWZWMzUG9vbCBleHRlbmRzIFBvb2wgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMudHlwZSA9IFZlYzM7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN0cnVjdCBhIHZlY3RvcgogICAgICogQG1ldGhvZCBjb25zdHJ1Y3RPYmplY3QKICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgY29uc3RydWN0T2JqZWN0KCkgewogICAgICByZXR1cm4gbmV3IFZlYzMoKTsKICAgIH0KCiAgfSAvLyBOYW1pbmcgcnVsZTogYmFzZWQgb2YgdGhlIG9yZGVyIGluIFNIQVBFX1RZUEVTLAogIC8vIHRoZSBmaXJzdCBwYXJ0IG9mIHRoZSBtZXRob2QgaXMgZm9ybWVkIGJ5IHRoZQogIC8vIHNoYXBlIHR5cGUgdGhhdCBjb21lcyBiZWZvcmUsIGluIHRoZSBzZWNvbmQgcGFydAogIC8vIHRoZXJlIGlzIHRoZSBzaGFwZSB0eXBlIHRoYXQgY29tZXMgYWZ0ZXIgaW4gdGhlIFNIQVBFX1RZUEVTIGxpc3QKCgogIGNvbnN0IENPTExJU0lPTl9UWVBFUyA9IHsKICAgIHNwaGVyZVNwaGVyZTogU2hhcGUudHlwZXMuU1BIRVJFLAogICAgc3BoZXJlUGxhbmU6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLlBMQU5FLAogICAgYm94Qm94OiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5CT1gsCiAgICBzcGhlcmVCb3g6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLkJPWCwKICAgIHBsYW5lQm94OiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLkJPWCwKICAgIGNvbnZleENvbnZleDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICAgIHNwaGVyZUNvbnZleDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICAgIHBsYW5lQ29udmV4OiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgICBib3hDb252ZXg6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgICBzcGhlcmVIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsCiAgICBib3hIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsCiAgICBjb252ZXhIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELAogICAgc3BoZXJlUGFydGljbGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuU1BIRVJFLAogICAgcGxhbmVQYXJ0aWNsZTogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5QQVJUSUNMRSwKICAgIGJveFBhcnRpY2xlOiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5QQVJUSUNMRSwKICAgIGNvbnZleFBhcnRpY2xlOiBTaGFwZS50eXBlcy5QQVJUSUNMRSB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgICBjeWxpbmRlckN5bGluZGVyOiBTaGFwZS50eXBlcy5DWUxJTkRFUiwKICAgIHNwaGVyZUN5bGluZGVyOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5DWUxJTkRFUiwKICAgIHBsYW5lQ3lsaW5kZXI6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuQ1lMSU5ERVIsCiAgICBib3hDeWxpbmRlcjogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuQ1lMSU5ERVIsCiAgICBjb252ZXhDeWxpbmRlcjogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkNZTElOREVSLAogICAgaGVpZ2h0ZmllbGRDeWxpbmRlcjogU2hhcGUudHlwZXMuSEVJR0hURklFTEQgfCBTaGFwZS50eXBlcy5DWUxJTkRFUiwKICAgIHBhcnRpY2xlQ3lsaW5kZXI6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuQ1lMSU5ERVIsCiAgICBzcGhlcmVUcmltZXNoOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5UUklNRVNILAogICAgcGxhbmVUcmltZXNoOiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLlRSSU1FU0gKICB9OwogIC8qKgogICAqIEhlbHBlciBjbGFzcyBmb3IgdGhlIFdvcmxkLiBHZW5lcmF0ZXMgQ29udGFjdEVxdWF0aW9ucy4KICAgKiBAY2xhc3MgTmFycm93cGhhc2UKICAgKiBAY29uc3RydWN0b3IKICAgKiBAdG9kbyBTcGhlcmUtQ29udmV4UG9seWhlZHJvbiBjb250YWN0cwogICAqIEB0b2RvIENvbnRhY3QgcmVkdWN0aW9uCiAgICogQHRvZG8gc2hvdWxkIG1vdmUgbWV0aG9kcyB0byBwcm90b3R5cGUKICAgKi8KCiAgY2xhc3MgTmFycm93cGhhc2UgewogICAgLy8gSW50ZXJuYWwgc3RvcmFnZSBvZiBwb29sZWQgY29udGFjdCBwb2ludHMuCiAgICAvLyBQb29sZWQgdmVjdG9ycy4KICAgIGNvbnN0cnVjdG9yKHdvcmxkKSB7CiAgICAgIHRoaXMuY29udGFjdFBvaW50UG9vbCA9IFtdOwogICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sID0gW107CiAgICAgIHRoaXMucmVzdWx0ID0gW107CiAgICAgIHRoaXMuZnJpY3Rpb25SZXN1bHQgPSBbXTsKICAgICAgdGhpcy52M3Bvb2wgPSBuZXcgVmVjM1Bvb2woKTsKICAgICAgdGhpcy53b3JsZCA9IHdvcmxkOwogICAgICB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWwgPSB3b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOwogICAgICB0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uID0gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIE1ha2UgYSBjb250YWN0IG9iamVjdCwgYnkgdXNpbmcgdGhlIGludGVybmFsIHBvb2wgb3IgY3JlYXRpbmcgYSBuZXcgb25lLgogICAgICogQG1ldGhvZCBjcmVhdGVDb250YWN0RXF1YXRpb24KICAgICAqIEBwYXJhbSB7Qm9keX0gYmkKICAgICAqIEBwYXJhbSB7Qm9keX0gYmoKICAgICAqIEBwYXJhbSB7U2hhcGV9IHNpCiAgICAgKiBAcGFyYW0ge1NoYXBlfSBzagogICAgICogQHBhcmFtIHtTaGFwZX0gb3ZlcnJpZGVTaGFwZUEKICAgICAqIEBwYXJhbSB7U2hhcGV9IG92ZXJyaWRlU2hhcGVCCiAgICAgKiBAcmV0dXJuIHtDb250YWN0RXF1YXRpb259CiAgICAgKi8KCgogICAgY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCBvdmVycmlkZVNoYXBlQSwgb3ZlcnJpZGVTaGFwZUIpIHsKICAgICAgbGV0IGM7CgogICAgICBpZiAodGhpcy5jb250YWN0UG9pbnRQb29sLmxlbmd0aCkgewogICAgICAgIGMgPSB0aGlzLmNvbnRhY3RQb2ludFBvb2wucG9wKCk7CiAgICAgICAgYy5iaSA9IGJpOwogICAgICAgIGMuYmogPSBiajsKICAgICAgfSBlbHNlIHsKICAgICAgICBjID0gbmV3IENvbnRhY3RFcXVhdGlvbihiaSwgYmopOwogICAgICB9CgogICAgICBjLmVuYWJsZWQgPSBiaS5jb2xsaXNpb25SZXNwb25zZSAmJiBiai5jb2xsaXNpb25SZXNwb25zZSAmJiBzaS5jb2xsaXNpb25SZXNwb25zZSAmJiBzai5jb2xsaXNpb25SZXNwb25zZTsKICAgICAgY29uc3QgY20gPSB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWw7CiAgICAgIGMucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjsKICAgICAgYy5zZXRTcG9va1BhcmFtcyhjbS5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MsIGNtLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sIHRoaXMud29ybGQuZHQpOwogICAgICBjb25zdCBtYXRBID0gc2kubWF0ZXJpYWwgfHwgYmkubWF0ZXJpYWw7CiAgICAgIGNvbnN0IG1hdEIgPSBzai5tYXRlcmlhbCB8fCBiai5tYXRlcmlhbDsKCiAgICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5yZXN0aXR1dGlvbiA+PSAwICYmIG1hdEIucmVzdGl0dXRpb24gPj0gMCkgewogICAgICAgIGMucmVzdGl0dXRpb24gPSBtYXRBLnJlc3RpdHV0aW9uICogbWF0Qi5yZXN0aXR1dGlvbjsKICAgICAgfQoKICAgICAgYy5zaSA9IG92ZXJyaWRlU2hhcGVBIHx8IHNpOwogICAgICBjLnNqID0gb3ZlcnJpZGVTaGFwZUIgfHwgc2o7CiAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QoY29udGFjdEVxdWF0aW9uLCBvdXRBcnJheSkgewogICAgICBjb25zdCBib2R5QSA9IGNvbnRhY3RFcXVhdGlvbi5iaTsKICAgICAgY29uc3QgYm9keUIgPSBjb250YWN0RXF1YXRpb24uYmo7CiAgICAgIGNvbnN0IHNoYXBlQSA9IGNvbnRhY3RFcXVhdGlvbi5zaTsKICAgICAgY29uc3Qgc2hhcGVCID0gY29udGFjdEVxdWF0aW9uLnNqOwogICAgICBjb25zdCB3b3JsZCA9IHRoaXMud29ybGQ7CiAgICAgIGNvbnN0IGNtID0gdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsOyAvLyBJZiBmcmljdGlvbiBvciByZXN0aXR1dGlvbiB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgbWF0ZXJpYWwsIHVzZSB0aGVtCgogICAgICBsZXQgZnJpY3Rpb24gPSBjbS5mcmljdGlvbjsKICAgICAgY29uc3QgbWF0QSA9IHNoYXBlQS5tYXRlcmlhbCB8fCBib2R5QS5tYXRlcmlhbDsKICAgICAgY29uc3QgbWF0QiA9IHNoYXBlQi5tYXRlcmlhbCB8fCBib2R5Qi5tYXRlcmlhbDsKCiAgICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5mcmljdGlvbiA+PSAwICYmIG1hdEIuZnJpY3Rpb24gPj0gMCkgewogICAgICAgIGZyaWN0aW9uID0gbWF0QS5mcmljdGlvbiAqIG1hdEIuZnJpY3Rpb247CiAgICAgIH0KCiAgICAgIGlmIChmcmljdGlvbiA+IDApIHsKICAgICAgICAvLyBDcmVhdGUgMiB0YW5nZW50IGVxdWF0aW9ucwogICAgICAgIGNvbnN0IG11ZyA9IGZyaWN0aW9uICogd29ybGQuZ3Jhdml0eS5sZW5ndGgoKTsKICAgICAgICBsZXQgcmVkdWNlZE1hc3MgPSBib2R5QS5pbnZNYXNzICsgYm9keUIuaW52TWFzczsKCiAgICAgICAgaWYgKHJlZHVjZWRNYXNzID4gMCkgewogICAgICAgICAgcmVkdWNlZE1hc3MgPSAxIC8gcmVkdWNlZE1hc3M7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBwb29sID0gdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbDsKICAgICAgICBjb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbXVnICogcmVkdWNlZE1hc3MpOwogICAgICAgIGNvbnN0IGMyID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYm9keUEsIGJvZHlCLCBtdWcgKiByZWR1Y2VkTWFzcyk7CiAgICAgICAgYzEuYmkgPSBjMi5iaSA9IGJvZHlBOwogICAgICAgIGMxLmJqID0gYzIuYmogPSBib2R5QjsKICAgICAgICBjMS5taW5Gb3JjZSA9IGMyLm1pbkZvcmNlID0gLW11ZyAqIHJlZHVjZWRNYXNzOwogICAgICAgIGMxLm1heEZvcmNlID0gYzIubWF4Rm9yY2UgPSBtdWcgKiByZWR1Y2VkTWFzczsgLy8gQ29weSBvdmVyIHRoZSByZWxhdGl2ZSB2ZWN0b3JzCgogICAgICAgIGMxLnJpLmNvcHkoY29udGFjdEVxdWF0aW9uLnJpKTsKICAgICAgICBjMS5yai5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaik7CiAgICAgICAgYzIucmkuY29weShjb250YWN0RXF1YXRpb24ucmkpOwogICAgICAgIGMyLnJqLmNvcHkoY29udGFjdEVxdWF0aW9uLnJqKTsgLy8gQ29uc3RydWN0IHRhbmdlbnRzCgogICAgICAgIGNvbnRhY3RFcXVhdGlvbi5uaS50YW5nZW50cyhjMS50LCBjMi50KTsgLy8gU2V0IHNwb29rIHBhcmFtcwoKICAgICAgICBjMS5zZXRTcG9va1BhcmFtcyhjbS5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzLCBjbS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiwgd29ybGQuZHQpOwogICAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7CiAgICAgICAgYzEuZW5hYmxlZCA9IGMyLmVuYWJsZWQgPSBjb250YWN0RXF1YXRpb24uZW5hYmxlZDsKICAgICAgICBvdXRBcnJheS5wdXNoKGMxLCBjMik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gLy8gVGFrZSB0aGUgYXZlcmFnZSBOIGxhdGVzdCBjb250YWN0IHBvaW50IG9uIHRoZSBwbGFuZS4KCgogICAgY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cykgewogICAgICAvLyBUaGUgbGFzdCBjb250YWN0RXF1YXRpb24KICAgICAgbGV0IGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxXTsgLy8gQ3JlYXRlIHRoZSByZXN1bHQ6IHR3byAiYXZlcmFnZSIgZnJpY3Rpb24gZXF1YXRpb25zCgogICAgICBpZiAoIXRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjLCB0aGlzLmZyaWN0aW9uUmVzdWx0KSB8fCBudW1Db250YWN0cyA9PT0gMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgZjEgPSB0aGlzLmZyaWN0aW9uUmVzdWx0W3RoaXMuZnJpY3Rpb25SZXN1bHQubGVuZ3RoIC0gMl07CiAgICAgIGNvbnN0IGYyID0gdGhpcy5mcmljdGlvblJlc3VsdFt0aGlzLmZyaWN0aW9uUmVzdWx0Lmxlbmd0aCAtIDFdOwogICAgICBhdmVyYWdlTm9ybWFsLnNldFplcm8oKTsKICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEEuc2V0WmVybygpOwogICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi5zZXRaZXJvKCk7CiAgICAgIGNvbnN0IGJvZHlBID0gYy5iaTsKICAgICAgYy5iajsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBudW1Db250YWN0czsgaSsrKSB7CiAgICAgICAgYyA9IHRoaXMucmVzdWx0W3RoaXMucmVzdWx0Lmxlbmd0aCAtIDEgLSBpXTsKCiAgICAgICAgaWYgKGMuYmkgIT09IGJvZHlBKSB7CiAgICAgICAgICBhdmVyYWdlTm9ybWFsLnZhZGQoYy5uaSwgYXZlcmFnZU5vcm1hbCk7CiAgICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50QS52YWRkKGMucmksIGF2ZXJhZ2VDb250YWN0UG9pbnRBKTsKICAgICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnZhZGQoYy5yaiwgYXZlcmFnZUNvbnRhY3RQb2ludEIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhdmVyYWdlTm9ybWFsLnZzdWIoYy5uaSwgYXZlcmFnZU5vcm1hbCk7CiAgICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50QS52YWRkKGMucmosIGF2ZXJhZ2VDb250YWN0UG9pbnRBKTsKICAgICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnZhZGQoYy5yaSwgYXZlcmFnZUNvbnRhY3RQb2ludEIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3QgaW52TnVtQ29udGFjdHMgPSAxIC8gbnVtQ29udGFjdHM7CiAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaSk7CiAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaik7CiAgICAgIGYyLnJpLmNvcHkoZjEucmkpOyAvLyBTaG91bGQgYmUgdGhlIHNhbWUKCiAgICAgIGYyLnJqLmNvcHkoZjEucmopOwogICAgICBhdmVyYWdlTm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICBhdmVyYWdlTm9ybWFsLnRhbmdlbnRzKGYxLnQsIGYyLnQpOyAvLyByZXR1cm4gZXE7CiAgICB9CiAgICAvKioKICAgICAqIEdlbmVyYXRlIGFsbCBjb250YWN0cyBiZXR3ZWVuIGEgbGlzdCBvZiBib2R5IHBhaXJzCiAgICAgKiBAbWV0aG9kIGdldENvbnRhY3RzCiAgICAgKiBAcGFyYW0ge2FycmF5fSBwMSBBcnJheSBvZiBib2R5IGluZGljZXMKICAgICAqIEBwYXJhbSB7YXJyYXl9IHAyIEFycmF5IG9mIGJvZHkgaW5kaWNlcwogICAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQKICAgICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBcnJheSB0byBzdG9yZSBnZW5lcmF0ZWQgY29udGFjdHMKICAgICAqIEBwYXJhbSB7YXJyYXl9IG9sZGNvbnRhY3RzIE9wdGlvbmFsLiBBcnJheSBvZiByZXVzYWJsZSBjb250YWN0IG9iamVjdHMKICAgICAqLwoKCiAgICBnZXRDb250YWN0cyhwMSwgcDIsIHdvcmxkLCByZXN1bHQsIG9sZGNvbnRhY3RzLCBmcmljdGlvblJlc3VsdCwgZnJpY3Rpb25Qb29sKSB7CiAgICAgIC8vIFNhdmUgb2xkIGNvbnRhY3Qgb2JqZWN0cwogICAgICB0aGlzLmNvbnRhY3RQb2ludFBvb2wgPSBvbGRjb250YWN0czsKICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbCA9IGZyaWN0aW9uUG9vbDsKICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7CiAgICAgIHRoaXMuZnJpY3Rpb25SZXN1bHQgPSBmcmljdGlvblJlc3VsdDsKICAgICAgY29uc3QgcWkgPSB0bXBRdWF0MTsKICAgICAgY29uc3QgcWogPSB0bXBRdWF0MjsKICAgICAgY29uc3QgeGkgPSB0bXBWZWMxJDI7CiAgICAgIGNvbnN0IHhqID0gdG1wVmVjMiQyOwoKICAgICAgZm9yIChsZXQgayA9IDAsIE4gPSBwMS5sZW5ndGg7IGsgIT09IE47IGsrKykgewogICAgICAgIC8vIEdldCBjdXJyZW50IGNvbGxpc2lvbiBib2RpZXMKICAgICAgICBjb25zdCBiaSA9IHAxW2tdOwogICAgICAgIGNvbnN0IGJqID0gcDJba107IC8vIEdldCBjb250YWN0IG1hdGVyaWFsCgogICAgICAgIGxldCBib2R5Q29udGFjdE1hdGVyaWFsID0gbnVsbDsKCiAgICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7CiAgICAgICAgICBib2R5Q29udGFjdE1hdGVyaWFsID0gd29ybGQuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgbnVsbDsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGp1c3RUZXN0ID0gYmkudHlwZSAmIEJvZHkuS0lORU1BVElDICYmIGJqLnR5cGUgJiBCb2R5LlNUQVRJQyB8fCBiaS50eXBlICYgQm9keS5TVEFUSUMgJiYgYmoudHlwZSAmIEJvZHkuS0lORU1BVElDIHx8IGJpLnR5cGUgJiBCb2R5LktJTkVNQVRJQyAmJiBiai50eXBlICYgQm9keS5LSU5FTUFUSUM7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmkuc2hhcGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBiaS5xdWF0ZXJuaW9uLm11bHQoYmkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTsKICAgICAgICAgIGJpLnF1YXRlcm5pb24udm11bHQoYmkuc2hhcGVPZmZzZXRzW2ldLCB4aSk7CiAgICAgICAgICB4aS52YWRkKGJpLnBvc2l0aW9uLCB4aSk7CiAgICAgICAgICBjb25zdCBzaSA9IGJpLnNoYXBlc1tpXTsKCiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJqLnNoYXBlcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAvLyBDb21wdXRlIHdvcmxkIHRyYW5zZm9ybSBvZiBzaGFwZXMKICAgICAgICAgICAgYmoucXVhdGVybmlvbi5tdWx0KGJqLnNoYXBlT3JpZW50YXRpb25zW2pdLCBxaik7CiAgICAgICAgICAgIGJqLnF1YXRlcm5pb24udm11bHQoYmouc2hhcGVPZmZzZXRzW2pdLCB4aik7CiAgICAgICAgICAgIHhqLnZhZGQoYmoucG9zaXRpb24sIHhqKTsKICAgICAgICAgICAgY29uc3Qgc2ogPSBiai5zaGFwZXNbal07CgogICAgICAgICAgICBpZiAoIShzaS5jb2xsaXNpb25GaWx0ZXJNYXNrICYgc2ouY29sbGlzaW9uRmlsdGVyR3JvdXAgJiYgc2ouY29sbGlzaW9uRmlsdGVyTWFzayAmIHNpLmNvbGxpc2lvbkZpbHRlckdyb3VwKSkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0gLy8gR2V0IGNvbGxpc2lvbiBtYXRlcmlhbAoKCiAgICAgICAgICAgIGxldCBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IG51bGw7CgogICAgICAgICAgICBpZiAoc2kubWF0ZXJpYWwgJiYgc2oubWF0ZXJpYWwpIHsKICAgICAgICAgICAgICBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmdldENvbnRhY3RNYXRlcmlhbChzaS5tYXRlcmlhbCwgc2oubWF0ZXJpYWwpIHx8IG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbCA9IHNoYXBlQ29udGFjdE1hdGVyaWFsIHx8IGJvZHlDb250YWN0TWF0ZXJpYWwgfHwgd29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDsgLy8gR2V0IGNvbnRhY3RzCgogICAgICAgICAgICBjb25zdCByZXNvbHZlckluZGV4ID0gc2kudHlwZSB8IHNqLnR5cGU7CiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVyID0gdGhpc1tyZXNvbHZlckluZGV4XTsKCiAgICAgICAgICAgIGlmIChyZXNvbHZlcikgewogICAgICAgICAgICAgIGxldCByZXR2YWwgPSBmYWxzZTsgLy8gVE8gRE86IGludmVzdGlnYXRlIHdoeSBzcGhlcmVQYXJ0aWNsZSBhbmQgY29udmV4UGFydGljbGUKICAgICAgICAgICAgICAvLyByZXNvbHZlcnMgZXhwZWN0IHNpIGFuZCBzaiBzaGFwZXMgdG8gYmUgaW4gcmV2ZXJzZSBvcmRlcgogICAgICAgICAgICAgIC8vIChpLmUuIGxhcmdlciBpbnRlZ2VyIHZhbHVlIHR5cGUgZmlyc3QgaW5zdGVhZCBvZiBzbWFsbGVyIGZpcnN0KQoKICAgICAgICAgICAgICBpZiAoc2kudHlwZSA8IHNqLnR5cGUpIHsKICAgICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dmFsID0gcmVzb2x2ZXIuY2FsbCh0aGlzLCBzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHNpLCBzaiwganVzdFRlc3QpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHJldHZhbCAmJiBqdXN0VGVzdCkgewogICAgICAgICAgICAgICAgLy8gUmVnaXN0ZXIgb3ZlcmxhcAogICAgICAgICAgICAgICAgd29ybGQuc2hhcGVPdmVybGFwS2VlcGVyLnNldChzaS5pZCwgc2ouaWQpOwogICAgICAgICAgICAgICAgd29ybGQuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgc3BoZXJlU3BoZXJlKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgIHJldHVybiB4aS5kaXN0YW5jZVNxdWFyZWQoeGopIDwgKHNpLnJhZGl1cyArIHNqLnJhZGl1cykgKiogMjsKICAgICAgfSAvLyBXZSB3aWxsIGhhdmUgb25seSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2UKCgogICAgICBjb25zdCBjb250YWN0RXEgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOyAvLyBDb250YWN0IG5vcm1hbAoKICAgICAgeGoudnN1Yih4aSwgY29udGFjdEVxLm5pKTsKICAgICAgY29udGFjdEVxLm5pLm5vcm1hbGl6ZSgpOyAvLyBDb250YWN0IHBvaW50IGxvY2F0aW9ucwoKICAgICAgY29udGFjdEVxLnJpLmNvcHkoY29udGFjdEVxLm5pKTsKICAgICAgY29udGFjdEVxLnJqLmNvcHkoY29udGFjdEVxLm5pKTsKICAgICAgY29udGFjdEVxLnJpLnNjYWxlKHNpLnJhZGl1cywgY29udGFjdEVxLnJpKTsKICAgICAgY29udGFjdEVxLnJqLnNjYWxlKC1zai5yYWRpdXMsIGNvbnRhY3RFcS5yaik7CiAgICAgIGNvbnRhY3RFcS5yaS52YWRkKHhpLCBjb250YWN0RXEucmkpOwogICAgICBjb250YWN0RXEucmkudnN1YihiaS5wb3NpdGlvbiwgY29udGFjdEVxLnJpKTsKICAgICAgY29udGFjdEVxLnJqLnZhZGQoeGosIGNvbnRhY3RFcS5yaik7CiAgICAgIGNvbnRhY3RFcS5yai52c3ViKGJqLnBvc2l0aW9uLCBjb250YWN0RXEucmopOwogICAgICB0aGlzLnJlc3VsdC5wdXNoKGNvbnRhY3RFcSk7CiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjb250YWN0RXEsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgfQoKICAgIHNwaGVyZVBsYW5lKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIC8vIFdlIHdpbGwgaGF2ZSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2UKICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsCgogICAgICByLm5pLnNldCgwLCAwLCAxKTsKICAgICAgcWoudm11bHQoci5uaSwgci5uaSk7CiAgICAgIHIubmkubmVnYXRlKHIubmkpOyAvLyBib2R5IGkgaXMgdGhlIHNwaGVyZSwgZmxpcCBub3JtYWwKCiAgICAgIHIubmkubm9ybWFsaXplKCk7IC8vIE5lZWRlZD8KICAgICAgLy8gVmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byBjb250YWN0IHBvaW50CgogICAgICByLm5pLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7IC8vIFByb2plY3QgZG93biBzcGhlcmUgb24gcGxhbmUKCiAgICAgIHhpLnZzdWIoeGosIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSk7CiAgICAgIHIubmkuc2NhbGUoci5uaS5kb3QocG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlKSwgcGxhbmVfdG9fc3BoZXJlX29ydGhvKTsKICAgICAgcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlLnZzdWIocGxhbmVfdG9fc3BoZXJlX29ydGhvLCByLnJqKTsgLy8gVGhlIHNwaGVyZSBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gcGxhbmUKCiAgICAgIGlmICgtcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlLmRvdChyLm5pKSA8PSBzaS5yYWRpdXMpIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gLy8gTWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgYm9keQoKCiAgICAgICAgY29uc3QgcmkgPSByLnJpOwogICAgICAgIGNvbnN0IHJqID0gci5yajsKICAgICAgICByaS52YWRkKHhpLCByaSk7CiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0KICAgIH0KCiAgICBib3hCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7CiAgICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsOwogICAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2ouY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgICB9CgogICAgc3BoZXJlQm94KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGNvbnN0IHYzcG9vbCA9IHRoaXMudjNwb29sOyAvLyB3ZSByZWZlciB0byB0aGUgYm94IGFzIGJvZHkgagoKICAgICAgY29uc3Qgc2lkZXMgPSBzcGhlcmVCb3hfc2lkZXM7CiAgICAgIHhpLnZzdWIoeGosIGJveF90b19zcGhlcmUpOwogICAgICBzai5nZXRTaWRlTm9ybWFscyhzaWRlcywgcWopOwogICAgICBjb25zdCBSID0gc2kucmFkaXVzOwogICAgICBsZXQgZm91bmQgPSBmYWxzZTsgLy8gU3RvcmUgdGhlIHJlc3VsdGluZyBzaWRlIHBlbmV0cmF0aW9uIGluZm8KCiAgICAgIGNvbnN0IHNpZGVfbnMgPSBzcGhlcmVCb3hfc2lkZV9uczsKICAgICAgY29uc3Qgc2lkZV9uczEgPSBzcGhlcmVCb3hfc2lkZV9uczE7CiAgICAgIGNvbnN0IHNpZGVfbnMyID0gc3BoZXJlQm94X3NpZGVfbnMyOwogICAgICBsZXQgc2lkZV9oID0gbnVsbDsKICAgICAgbGV0IHNpZGVfcGVuZXRyYXRpb25zID0gMDsKICAgICAgbGV0IHNpZGVfZG90MSA9IDA7CiAgICAgIGxldCBzaWRlX2RvdDIgPSAwOwogICAgICBsZXQgc2lkZV9kaXN0YW5jZSA9IG51bGw7CgogICAgICBmb3IgKGxldCBpZHggPSAwLCBuc2lkZXMgPSBzaWRlcy5sZW5ndGg7IGlkeCAhPT0gbnNpZGVzICYmIGZvdW5kID09PSBmYWxzZTsgaWR4KyspIHsKICAgICAgICAvLyBHZXQgdGhlIHBsYW5lIHNpZGUgbm9ybWFsIChucykKICAgICAgICBjb25zdCBucyA9IHNwaGVyZUJveF9uczsKICAgICAgICBucy5jb3B5KHNpZGVzW2lkeF0pOwogICAgICAgIGNvbnN0IGggPSBucy5sZW5ndGgoKTsKICAgICAgICBucy5ub3JtYWxpemUoKTsgLy8gVGhlIG5vcm1hbC9kaXN0YW5jZSBkb3QgcHJvZHVjdCB0ZWxscyB3aGljaCBzaWRlIG9mIHRoZSBwbGFuZSB3ZSBhcmUKCiAgICAgICAgY29uc3QgZG90ID0gYm94X3RvX3NwaGVyZS5kb3QobnMpOwoKICAgICAgICBpZiAoZG90IDwgaCArIFIgJiYgZG90ID4gMCkgewogICAgICAgICAgLy8gSW50ZXJzZWN0cyBwbGFuZS4gTm93IGNoZWNrIHRoZSBvdGhlciB0d28gZGltZW5zaW9ucwogICAgICAgICAgY29uc3QgbnMxID0gc3BoZXJlQm94X25zMTsKICAgICAgICAgIGNvbnN0IG5zMiA9IHNwaGVyZUJveF9uczI7CiAgICAgICAgICBuczEuY29weShzaWRlc1soaWR4ICsgMSkgJSAzXSk7CiAgICAgICAgICBuczIuY29weShzaWRlc1soaWR4ICsgMikgJSAzXSk7CiAgICAgICAgICBjb25zdCBoMSA9IG5zMS5sZW5ndGgoKTsKICAgICAgICAgIGNvbnN0IGgyID0gbnMyLmxlbmd0aCgpOwogICAgICAgICAgbnMxLm5vcm1hbGl6ZSgpOwogICAgICAgICAgbnMyLm5vcm1hbGl6ZSgpOwogICAgICAgICAgY29uc3QgZG90MSA9IGJveF90b19zcGhlcmUuZG90KG5zMSk7CiAgICAgICAgICBjb25zdCBkb3QyID0gYm94X3RvX3NwaGVyZS5kb3QobnMyKTsKCiAgICAgICAgICBpZiAoZG90MSA8IGgxICYmIGRvdDEgPiAtaDEgJiYgZG90MiA8IGgyICYmIGRvdDIgPiAtaDIpIHsKICAgICAgICAgICAgY29uc3QgZGlzdCA9IE1hdGguYWJzKGRvdCAtIGggLSBSKTsKCiAgICAgICAgICAgIGlmIChzaWRlX2Rpc3RhbmNlID09PSBudWxsIHx8IGRpc3QgPCBzaWRlX2Rpc3RhbmNlKSB7CiAgICAgICAgICAgICAgc2lkZV9kaXN0YW5jZSA9IGRpc3Q7CiAgICAgICAgICAgICAgc2lkZV9kb3QxID0gZG90MTsKICAgICAgICAgICAgICBzaWRlX2RvdDIgPSBkb3QyOwogICAgICAgICAgICAgIHNpZGVfaCA9IGg7CiAgICAgICAgICAgICAgc2lkZV9ucy5jb3B5KG5zKTsKICAgICAgICAgICAgICBzaWRlX25zMS5jb3B5KG5zMSk7CiAgICAgICAgICAgICAgc2lkZV9uczIuY29weShuczIpOwogICAgICAgICAgICAgIHNpZGVfcGVuZXRyYXRpb25zKys7CgogICAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoc2lkZV9wZW5ldHJhdGlvbnMpIHsKICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgc2lkZV9ucy5zY2FsZSgtUiwgci5yaSk7IC8vIFNwaGVyZSByCgogICAgICAgIHIubmkuY29weShzaWRlX25zKTsKICAgICAgICByLm5pLm5lZ2F0ZShyLm5pKTsgLy8gTm9ybWFsIHNob3VsZCBiZSBvdXQgb2Ygc3BoZXJlCgogICAgICAgIHNpZGVfbnMuc2NhbGUoc2lkZV9oLCBzaWRlX25zKTsKICAgICAgICBzaWRlX25zMS5zY2FsZShzaWRlX2RvdDEsIHNpZGVfbnMxKTsKICAgICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczEsIHNpZGVfbnMpOwogICAgICAgIHNpZGVfbnMyLnNjYWxlKHNpZGVfZG90Miwgc2lkZV9uczIpOwogICAgICAgIHNpZGVfbnMudmFkZChzaWRlX25zMiwgci5yaik7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsKICAgICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0gLy8gQ2hlY2sgY29ybmVycwoKCiAgICAgIGxldCByaiA9IHYzcG9vbC5nZXQoKTsKICAgICAgY29uc3Qgc3BoZXJlX3RvX2Nvcm5lciA9IHNwaGVyZUJveF9zcGhlcmVfdG9fY29ybmVyOwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IDIgJiYgIWZvdW5kOyBqKyspIHsKICAgICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gMiAmJiAhZm91bmQ7IGsrKykgewogICAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgIT09IDIgJiYgIWZvdW5kOyBsKyspIHsKICAgICAgICAgICAgcmouc2V0KDAsIDAsIDApOwoKICAgICAgICAgICAgaWYgKGopIHsKICAgICAgICAgICAgICByai52YWRkKHNpZGVzWzBdLCByaik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmoudnN1YihzaWRlc1swXSwgcmopOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoaykgewogICAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMV0sIHJqKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByai52c3ViKHNpZGVzWzFdLCByaik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChsKSB7CiAgICAgICAgICAgICAgcmoudmFkZChzaWRlc1syXSwgcmopOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMl0sIHJqKTsKICAgICAgICAgICAgfSAvLyBXb3JsZCBwb3NpdGlvbiBvZiBjb3JuZXIKCgogICAgICAgICAgICB4ai52YWRkKHJqLCBzcGhlcmVfdG9fY29ybmVyKTsKICAgICAgICAgICAgc3BoZXJlX3RvX2Nvcm5lci52c3ViKHhpLCBzcGhlcmVfdG9fY29ybmVyKTsKCiAgICAgICAgICAgIGlmIChzcGhlcmVfdG9fY29ybmVyLmxlbmd0aFNxdWFyZWQoKSA8IFIgKiBSKSB7CiAgICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgICAgICByLnJpLmNvcHkoc3BoZXJlX3RvX2Nvcm5lcik7CiAgICAgICAgICAgICAgci5yaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgICByLm5pLmNvcHkoci5yaSk7CiAgICAgICAgICAgICAgci5yaS5zY2FsZShSLCByLnJpKTsKICAgICAgICAgICAgICByLnJqLmNvcHkocmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgICAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOwogICAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB2M3Bvb2wucmVsZWFzZShyaik7CiAgICAgIHJqID0gbnVsbDsgLy8gQ2hlY2sgZWRnZXMKCiAgICAgIGNvbnN0IGVkZ2VUYW5nZW50ID0gdjNwb29sLmdldCgpOwogICAgICBjb25zdCBlZGdlQ2VudGVyID0gdjNwb29sLmdldCgpOwogICAgICBjb25zdCByID0gdjNwb29sLmdldCgpOyAvLyByID0gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIGNlbnRlcgoKICAgICAgY29uc3Qgb3J0aG9nb25hbCA9IHYzcG9vbC5nZXQoKTsKICAgICAgY29uc3QgZGlzdCA9IHYzcG9vbC5nZXQoKTsKICAgICAgY29uc3QgTnNpZGVzID0gc2lkZXMubGVuZ3RoOwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IE5zaWRlcyAmJiAhZm91bmQ7IGorKykgewogICAgICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSBOc2lkZXMgJiYgIWZvdW5kOyBrKyspIHsKICAgICAgICAgIGlmIChqICUgMyAhPT0gayAlIDMpIHsKICAgICAgICAgICAgLy8gR2V0IGVkZ2UgdGFuZ2VudAogICAgICAgICAgICBzaWRlc1trXS5jcm9zcyhzaWRlc1tqXSwgZWRnZVRhbmdlbnQpOwogICAgICAgICAgICBlZGdlVGFuZ2VudC5ub3JtYWxpemUoKTsKICAgICAgICAgICAgc2lkZXNbal0udmFkZChzaWRlc1trXSwgZWRnZUNlbnRlcik7CiAgICAgICAgICAgIHIuY29weSh4aSk7CiAgICAgICAgICAgIHIudnN1YihlZGdlQ2VudGVyLCByKTsKICAgICAgICAgICAgci52c3ViKHhqLCByKTsKICAgICAgICAgICAgY29uc3Qgb3J0aG9ub3JtID0gci5kb3QoZWRnZVRhbmdlbnQpOyAvLyBkaXN0YW5jZSBmcm9tIGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXIgaW4gdGhlIHRhbmdlbnQgZGlyZWN0aW9uCgogICAgICAgICAgICBlZGdlVGFuZ2VudC5zY2FsZShvcnRob25vcm0sIG9ydGhvZ29uYWwpOyAvLyBWZWN0b3IgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyIGluIHRoZSB0YW5nZW50IGRpcmVjdGlvbgogICAgICAgICAgICAvLyBGaW5kIHRoZSB0aGlyZCBzaWRlIG9ydGhvZ29uYWwgdG8gdGhpcyBvbmUKCiAgICAgICAgICAgIGxldCBsID0gMDsKCiAgICAgICAgICAgIHdoaWxlIChsID09PSBqICUgMyB8fCBsID09PSBrICUgMykgewogICAgICAgICAgICAgIGwrKzsKICAgICAgICAgICAgfSAvLyB2ZWMgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgcHJvamVjdGVkIHRvIHRoZSBwbGFuZSBvcnRob2dvbmFsIHRvIHRoZSBlZGdlIHRhbmdlbnQKCgogICAgICAgICAgICBkaXN0LmNvcHkoeGkpOwogICAgICAgICAgICBkaXN0LnZzdWIob3J0aG9nb25hbCwgZGlzdCk7CiAgICAgICAgICAgIGRpc3QudnN1YihlZGdlQ2VudGVyLCBkaXN0KTsKICAgICAgICAgICAgZGlzdC52c3ViKHhqLCBkaXN0KTsgLy8gRGlzdGFuY2VzIGluIHRhbmdlbnQgZGlyZWN0aW9uIGFuZCBkaXN0YW5jZSBpbiB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byBpdAoKICAgICAgICAgICAgY29uc3QgdGRpc3QgPSBNYXRoLmFicyhvcnRob25vcm0pOwogICAgICAgICAgICBjb25zdCBuZGlzdCA9IGRpc3QubGVuZ3RoKCk7CgogICAgICAgICAgICBpZiAodGRpc3QgPCBzaWRlc1tsXS5sZW5ndGgoKSAmJiBuZGlzdCA8IFIpIHsKICAgICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgICAgICAgZWRnZUNlbnRlci52YWRkKG9ydGhvZ29uYWwsIHJlcy5yaik7IC8vIGJveCByagoKICAgICAgICAgICAgICByZXMucmouY29weShyZXMucmopOwogICAgICAgICAgICAgIGRpc3QubmVnYXRlKHJlcy5uaSk7CiAgICAgICAgICAgICAgcmVzLm5pLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICAgIHJlcy5yaS5jb3B5KHJlcy5yaik7CiAgICAgICAgICAgICAgcmVzLnJpLnZhZGQoeGosIHJlcy5yaSk7CiAgICAgICAgICAgICAgcmVzLnJpLnZzdWIoeGksIHJlcy5yaSk7CiAgICAgICAgICAgICAgcmVzLnJpLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICAgIHJlcy5yaS5zY2FsZShSLCByZXMucmkpOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICAgICAgICByZXMucmkudmFkZCh4aSwgcmVzLnJpKTsKICAgICAgICAgICAgICByZXMucmkudnN1YihiaS5wb3NpdGlvbiwgcmVzLnJpKTsKICAgICAgICAgICAgICByZXMucmoudmFkZCh4aiwgcmVzLnJqKTsKICAgICAgICAgICAgICByZXMucmoudnN1Yihiai5wb3NpdGlvbiwgcmVzLnJqKTsKICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHJlcyk7CiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHJlcywgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHYzcG9vbC5yZWxlYXNlKGVkZ2VUYW5nZW50LCBlZGdlQ2VudGVyLCByLCBvcnRob2dvbmFsLCBkaXN0KTsKICAgIH0KCiAgICBwbGFuZUJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzai5tYXRlcmlhbDsKICAgICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2ouY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5pZCA9IHNqLmlkOwogICAgICByZXR1cm4gdGhpcy5wbGFuZUNvbnZleChzaSwgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICAgIH0KCiAgICBjb252ZXhDb252ZXgoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QsIGZhY2VMaXN0QSwgZmFjZUxpc3RCKSB7CiAgICAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpczsKCiAgICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChzaS5maW5kU2VwYXJhdGluZ0F4aXMoc2osIHhpLCBxaSwgeGosIHFqLCBzZXBBeGlzLCBmYWNlTGlzdEEsIGZhY2VMaXN0QikpIHsKICAgICAgICBjb25zdCByZXMgPSBbXTsKICAgICAgICBjb25zdCBxID0gY29udmV4Q29udmV4X3E7CiAgICAgICAgc2kuY2xpcEFnYWluc3RIdWxsKHhpLCBxaSwgc2osIHhqLCBxaiwgc2VwQXhpcywgLTEwMCwgMTAwLCByZXMpOwogICAgICAgIGxldCBudW1Db250YWN0cyA9IDA7CgogICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgIGNvbnN0IHJpID0gci5yaTsKICAgICAgICAgIGNvbnN0IHJqID0gci5yajsKICAgICAgICAgIHNlcEF4aXMubmVnYXRlKHIubmkpOwogICAgICAgICAgcmVzW2pdLm5vcm1hbC5uZWdhdGUocSk7CiAgICAgICAgICBxLnNjYWxlKHJlc1tqXS5kZXB0aCwgcSk7CiAgICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7CiAgICAgICAgICByai5jb3B5KHJlc1tqXS5wb2ludCk7IC8vIENvbnRhY3QgcG9pbnRzIGFyZSBpbiB3b3JsZCBjb29yZGluYXRlcy4gVHJhbnNmb3JtIGJhY2sgdG8gcmVsYXRpdmUKCiAgICAgICAgICByaS52c3ViKHhpLCByaSk7CiAgICAgICAgICByai52c3ViKHhqLCByaik7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICAgICAgcmkudmFkZCh4aSwgcmkpOwogICAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgICAgICAgcmoudmFkZCh4aiwgcmopOwogICAgICAgICAgcmoudnN1Yihiai5wb3NpdGlvbiwgcmopOwogICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgIG51bUNvbnRhY3RzKys7CgogICAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKSB7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uICYmIG51bUNvbnRhY3RzKSB7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtQ29udGFjdHMpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHNwaGVyZUNvbnZleChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDsKICAgICAgeGkudnN1Yih4aiwgY29udmV4X3RvX3NwaGVyZSk7CiAgICAgIGNvbnN0IG5vcm1hbHMgPSBzai5mYWNlTm9ybWFsczsKICAgICAgY29uc3QgZmFjZXMgPSBzai5mYWNlczsKICAgICAgY29uc3QgdmVydHMgPSBzai52ZXJ0aWNlczsKICAgICAgY29uc3QgUiA9IHNpLnJhZGl1czsgLy8gICAgIHJldHVybjsKICAgICAgLy8gfQoKICAgICAgbGV0IGZvdW5kID0gZmFsc2U7IC8vIENoZWNrIGNvcm5lcnMKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB2ZXJ0cy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsgLy8gV29ybGQgcG9zaXRpb24gb2YgY29ybmVyCgogICAgICAgIGNvbnN0IHdvcmxkQ29ybmVyID0gc3BoZXJlQ29udmV4X3dvcmxkQ29ybmVyOwogICAgICAgIHFqLnZtdWx0KHYsIHdvcmxkQ29ybmVyKTsKICAgICAgICB4ai52YWRkKHdvcmxkQ29ybmVyLCB3b3JsZENvcm5lcik7CiAgICAgICAgY29uc3Qgc3BoZXJlX3RvX2Nvcm5lciA9IHNwaGVyZUNvbnZleF9zcGhlcmVUb0Nvcm5lcjsKICAgICAgICB3b3JsZENvcm5lci52c3ViKHhpLCBzcGhlcmVfdG9fY29ybmVyKTsKCiAgICAgICAgaWYgKHNwaGVyZV90b19jb3JuZXIubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHsKICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgIHIucmkuY29weShzcGhlcmVfdG9fY29ybmVyKTsKICAgICAgICAgIHIucmkubm9ybWFsaXplKCk7CiAgICAgICAgICByLm5pLmNvcHkoci5yaSk7CiAgICAgICAgICByLnJpLnNjYWxlKFIsIHIucmkpOwogICAgICAgICAgd29ybGRDb3JuZXIudnN1Yih4aiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOwogICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0gLy8gQ2hlY2sgc2lkZSAocGxhbmUpIGludGVyc2VjdGlvbnMKCgogICAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXMgJiYgZm91bmQgPT09IGZhbHNlOyBpKyspIHsKICAgICAgICBjb25zdCBub3JtYWwgPSBub3JtYWxzW2ldOwogICAgICAgIGNvbnN0IGZhY2UgPSBmYWNlc1tpXTsgLy8gR2V0IHdvcmxkLXRyYW5zZm9ybWVkIG5vcm1hbCBvZiB0aGUgZmFjZQoKICAgICAgICBjb25zdCB3b3JsZE5vcm1hbCA9IHNwaGVyZUNvbnZleF93b3JsZE5vcm1hbDsKICAgICAgICBxai52bXVsdChub3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gR2V0IGEgd29ybGQgdmVydGV4IGZyb20gdGhlIGZhY2UKCiAgICAgICAgY29uc3Qgd29ybGRQb2ludCA9IHNwaGVyZUNvbnZleF93b3JsZFBvaW50OwogICAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2VbMF1dLCB3b3JsZFBvaW50KTsKICAgICAgICB3b3JsZFBvaW50LnZhZGQoeGosIHdvcmxkUG9pbnQpOyAvLyBHZXQgYSBwb2ludCBvbiB0aGUgc3BoZXJlLCBjbG9zZXN0IHRvIHRoZSBmYWNlIG5vcm1hbAoKICAgICAgICBjb25zdCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUgPSBzcGhlcmVDb252ZXhfd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lOwogICAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpOwogICAgICAgIHhpLnZhZGQod29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpOyAvLyBWZWN0b3IgZnJvbSBhIGZhY2UgcG9pbnQgdG8gdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHNwaGVyZQoKICAgICAgICBjb25zdCBwZW5ldHJhdGlvblZlYyA9IHNwaGVyZUNvbnZleF9wZW5ldHJhdGlvblZlYzsKICAgICAgICB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUudnN1Yih3b3JsZFBvaW50LCBwZW5ldHJhdGlvblZlYyk7IC8vIFRoZSBwZW5ldHJhdGlvbi4gTmVnYXRpdmUgdmFsdWUgbWVhbnMgb3ZlcmxhcC4KCiAgICAgICAgY29uc3QgcGVuZXRyYXRpb24gPSBwZW5ldHJhdGlvblZlYy5kb3Qod29ybGROb3JtYWwpOwogICAgICAgIGNvbnN0IHdvcmxkUG9pbnRUb1NwaGVyZSA9IHNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQ7CiAgICAgICAgeGkudnN1Yih3b3JsZFBvaW50LCB3b3JsZFBvaW50VG9TcGhlcmUpOwoKICAgICAgICBpZiAocGVuZXRyYXRpb24gPCAwICYmIHdvcmxkUG9pbnRUb1NwaGVyZS5kb3Qod29ybGROb3JtYWwpID4gMCkgewogICAgICAgICAgLy8gSW50ZXJzZWN0cyBwbGFuZS4gTm93IGNoZWNrIGlmIHRoZSBzcGhlcmUgaXMgaW5zaWRlIHRoZSBmYWNlIHBvbHlnb24KICAgICAgICAgIGNvbnN0IGZhY2VWZXJ0cyA9IFtdOyAvLyBGYWNlIHZlcnRpY2VzLCBpbiB3b3JsZCBjb29yZHMKCiAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTnZlcnRzID0gZmFjZS5sZW5ndGg7IGogIT09IE52ZXJ0czsgaisrKSB7CiAgICAgICAgICAgIGNvbnN0IHdvcmxkVmVydGV4ID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlW2pdXSwgd29ybGRWZXJ0ZXgpOwogICAgICAgICAgICB4ai52YWRkKHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7CiAgICAgICAgICAgIGZhY2VWZXJ0cy5wdXNoKHdvcmxkVmVydGV4KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocG9pbnRJblBvbHlnb24oZmFjZVZlcnRzLCB3b3JsZE5vcm1hbCwgeGkpKSB7CiAgICAgICAgICAgIC8vIElzIHRoZSBzcGhlcmUgY2VudGVyIGluIHRoZSBmYWNlIHBvbHlnb24/CiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgci5yaSk7IC8vIENvbnRhY3Qgb2Zmc2V0LCBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gY29udGFjdAoKICAgICAgICAgICAgd29ybGROb3JtYWwubmVnYXRlKHIubmkpOyAvLyBOb3JtYWwgcG9pbnRpbmcgb3V0IG9mIHNwaGVyZQoKICAgICAgICAgICAgY29uc3QgcGVuZXRyYXRpb25WZWMyID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtcGVuZXRyYXRpb24sIHBlbmV0cmF0aW9uVmVjMik7CiAgICAgICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCBwZW5ldHJhdGlvblNwaGVyZVBvaW50KTsgLy94aS52c3ViKHhqKS52YWRkKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpLnZhZGQocGVuZXRyYXRpb25WZWMyICwgci5yaik7CgogICAgICAgICAgICB4aS52c3ViKHhqLCByLnJqKTsKICAgICAgICAgICAgci5yai52YWRkKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQsIHIucmopOwogICAgICAgICAgICByLnJqLnZhZGQocGVuZXRyYXRpb25WZWMyLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UocGVuZXRyYXRpb25WZWMyKTsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UocGVuZXRyYXRpb25TcGhlcmVQb2ludCk7CiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsgLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlcwoKICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShmYWNlVmVydHNbal0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm47IC8vIFdlIG9ubHkgZXhwZWN0ICpvbmUqIGZhY2UgY29udGFjdAogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gRWRnZT8KICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGZhY2UubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAvLyBHZXQgdHdvIHdvcmxkIHRyYW5zZm9ybWVkIHZlcnRpY2VzCiAgICAgICAgICAgICAgY29uc3QgdjEgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgICAgY29uc3QgdjIgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVsoaiArIDEpICUgZmFjZS5sZW5ndGhdXSwgdjEpOwogICAgICAgICAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2VbKGogKyAyKSAlIGZhY2UubGVuZ3RoXV0sIHYyKTsKICAgICAgICAgICAgICB4ai52YWRkKHYxLCB2MSk7CiAgICAgICAgICAgICAgeGoudmFkZCh2MiwgdjIpOyAvLyBDb25zdHJ1Y3QgZWRnZSB2ZWN0b3IKCiAgICAgICAgICAgICAgY29uc3QgZWRnZSA9IHNwaGVyZUNvbnZleF9lZGdlOwogICAgICAgICAgICAgIHYyLnZzdWIodjEsIGVkZ2UpOyAvLyBDb25zdHJ1Y3QgdGhlIHNhbWUgdmVjdG9yLCBidXQgbm9ybWFsaXplZAoKICAgICAgICAgICAgICBjb25zdCBlZGdlVW5pdCA9IHNwaGVyZUNvbnZleF9lZGdlVW5pdDsKICAgICAgICAgICAgICBlZGdlLnVuaXQoZWRnZVVuaXQpOyAvLyBwIGlzIHhpIHByb2plY3RlZCBvbnRvIHRoZSBlZGdlCgogICAgICAgICAgICAgIGNvbnN0IHAgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgICAgY29uc3QgdjFfdG9feGkgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgICAgeGkudnN1Yih2MSwgdjFfdG9feGkpOwogICAgICAgICAgICAgIGNvbnN0IGRvdCA9IHYxX3RvX3hpLmRvdChlZGdlVW5pdCk7CiAgICAgICAgICAgICAgZWRnZVVuaXQuc2NhbGUoZG90LCBwKTsKICAgICAgICAgICAgICBwLnZhZGQodjEsIHApOyAvLyBDb21wdXRlIGEgdmVjdG9yIGZyb20gcCB0byB0aGUgY2VudGVyIG9mIHRoZSBzcGhlcmUKCiAgICAgICAgICAgICAgY29uc3QgeGlfdG9fcCA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgICAgICBwLnZzdWIoeGksIHhpX3RvX3ApOyAvLyBDb2xsaXNpb24gaWYgdGhlIGVkZ2Utc3BoZXJlIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiB0aGUgcmFkaXVzCiAgICAgICAgICAgICAgLy8gQU5EIGlmIHAgaXMgaW4gYmV0d2VlbiB2MSBhbmQgdjIKCiAgICAgICAgICAgICAgaWYgKGRvdCA+IDAgJiYgZG90ICogZG90IDwgZWRnZS5sZW5ndGhTcXVhcmVkKCkgJiYgeGlfdG9fcC5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikgewogICAgICAgICAgICAgICAgLy8gQ29sbGlzaW9uIGlmIHRoZSBlZGdlLXNwaGVyZSBkaXN0YW5jZSBpcyBsZXNzIHRoYW4gdGhlIHJhZGl1cwogICAgICAgICAgICAgICAgLy8gRWRnZSBjb250YWN0IQogICAgICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgICAgICAgcC52c3ViKHhqLCByLnJqKTsKICAgICAgICAgICAgICAgIHAudnN1Yih4aSwgci5uaSk7CiAgICAgICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICAgICAgci5uaS5zY2FsZShSLCByLnJpKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgICAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOyAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzCgogICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHsKICAgICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MSk7CiAgICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2Mik7CiAgICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTsKICAgICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHhpX3RvX3ApOwogICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjFfdG9feGkpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjEpOwogICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYyKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh4aV90b19wKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MV90b194aSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlcwoKCiAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykgewogICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShmYWNlVmVydHNbal0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHBsYW5lQ29udmV4KHBsYW5lU2hhcGUsIGNvbnZleFNoYXBlLCBwbGFuZVBvc2l0aW9uLCBjb252ZXhQb3NpdGlvbiwgcGxhbmVRdWF0LCBjb252ZXhRdWF0LCBwbGFuZUJvZHksIGNvbnZleEJvZHksIHNpLCBzaiwganVzdFRlc3QpIHsKICAgICAgLy8gU2ltcGx5IHJldHVybiB0aGUgcG9pbnRzIGJlaGluZCB0aGUgcGxhbmUuCiAgICAgIGNvbnN0IHdvcmxkVmVydGV4ID0gcGxhbmVDb252ZXhfdjsKICAgICAgY29uc3Qgd29ybGROb3JtYWwgPSBwbGFuZUNvbnZleF9ub3JtYWw7CiAgICAgIHdvcmxkTm9ybWFsLnNldCgwLCAwLCAxKTsKICAgICAgcGxhbmVRdWF0LnZtdWx0KHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7IC8vIFR1cm4gbm9ybWFsIGFjY29yZGluZyB0byBwbGFuZSBvcmllbnRhdGlvbgoKICAgICAgbGV0IG51bUNvbnRhY3RzID0gMDsKICAgICAgY29uc3QgcmVscG9zID0gcGxhbmVDb252ZXhfcmVscG9zOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGNvbnZleFNoYXBlLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy8gR2V0IHdvcmxkIGNvbnZleCB2ZXJ0ZXgKICAgICAgICB3b3JsZFZlcnRleC5jb3B5KGNvbnZleFNoYXBlLnZlcnRpY2VzW2ldKTsKICAgICAgICBjb252ZXhRdWF0LnZtdWx0KHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7CiAgICAgICAgY29udmV4UG9zaXRpb24udmFkZCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpOwogICAgICAgIHdvcmxkVmVydGV4LnZzdWIocGxhbmVQb3NpdGlvbiwgcmVscG9zKTsKICAgICAgICBjb25zdCBkb3QgPSB3b3JsZE5vcm1hbC5kb3QocmVscG9zKTsKCiAgICAgICAgaWYgKGRvdCA8PSAwLjApIHsKICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocGxhbmVCb2R5LCBjb252ZXhCb2R5LCBwbGFuZVNoYXBlLCBjb252ZXhTaGFwZSwgc2ksIHNqKTsgLy8gR2V0IHZlcnRleCBwb3NpdGlvbiBwcm9qZWN0ZWQgb24gcGxhbmUKCiAgICAgICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwbGFuZUNvbnZleF9wcm9qZWN0ZWQ7CiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSh3b3JsZE5vcm1hbC5kb3QocmVscG9zKSwgcHJvamVjdGVkKTsKICAgICAgICAgIHdvcmxkVmVydGV4LnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOwogICAgICAgICAgcHJvamVjdGVkLnZzdWIocGxhbmVQb3NpdGlvbiwgci5yaSk7IC8vIEZyb20gcGxhbmUgdG8gdmVydGV4IHByb2plY3RlZCBvbiBwbGFuZQoKICAgICAgICAgIHIubmkuY29weSh3b3JsZE5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWwgb3V0IGZyb20gcGxhbmUKICAgICAgICAgIC8vIHJqIGlzIG5vdyBqdXN0IHRoZSB2ZWN0b3IgZnJvbSB0aGUgY29udmV4IGNlbnRlciB0byB0aGUgdmVydGV4CgogICAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihjb252ZXhQb3NpdGlvbiwgci5yaik7IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHkKCiAgICAgICAgICByLnJpLnZhZGQocGxhbmVQb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICByLnJpLnZzdWIocGxhbmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgIHIucmoudmFkZChjb252ZXhQb3NpdGlvbiwgci5yaik7CiAgICAgICAgICByLnJqLnZzdWIoY29udmV4Qm9keS5wb3NpdGlvbiwgci5yaik7CiAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgbnVtQ29udGFjdHMrKzsKCiAgICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pIHsKICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtQ29udGFjdHMpOwogICAgICB9CiAgICB9CgogICAgYm94Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsOwogICAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgICAgcmV0dXJuIHRoaXMuY29udmV4Q29udmV4KHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogICAgfQoKICAgIHNwaGVyZUhlaWdodGZpZWxkKHNwaGVyZVNoYXBlLCBoZlNoYXBlLCBzcGhlcmVQb3MsIGhmUG9zLCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGNvbnN0IGRhdGEgPSBoZlNoYXBlLmRhdGE7CiAgICAgIGNvbnN0IHJhZGl1cyA9IHNwaGVyZVNoYXBlLnJhZGl1czsKICAgICAgY29uc3QgdyA9IGhmU2hhcGUuZWxlbWVudFNpemU7CiAgICAgIGNvbnN0IHdvcmxkUGlsbGFyT2Zmc2V0ID0gc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMjsgLy8gR2V0IHNwaGVyZSBwb3NpdGlvbiB0byBoZWlnaHRmaWVsZCBsb2NhbCEKCiAgICAgIGNvbnN0IGxvY2FsU3BoZXJlUG9zID0gc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIHNwaGVyZVBvcywgbG9jYWxTcGhlcmVQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3QKCiAgICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsU3BoZXJlUG9zLnggLSByYWRpdXMpIC8gdykgLSAxOwogICAgICBsZXQgaU1heFggPSBNYXRoLmNlaWwoKGxvY2FsU3BoZXJlUG9zLnggKyByYWRpdXMpIC8gdykgKyAxOwogICAgICBsZXQgaU1pblkgPSBNYXRoLmZsb29yKChsb2NhbFNwaGVyZVBvcy55IC0gcmFkaXVzKSAvIHcpIC0gMTsKICAgICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbFNwaGVyZVBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpbgoKICAgICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIENsYW1wIGluZGV4IHRvIGVkZ2VzCgoKICAgICAgaWYgKGlNaW5YIDwgMCkgewogICAgICAgIGlNaW5YID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNYXhYIDwgMCkgewogICAgICAgIGlNYXhYID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNaW5ZIDwgMCkgewogICAgICAgIGlNaW5ZID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNYXhZIDwgMCkgewogICAgICAgIGlNYXhZID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7CiAgICAgICAgaU1pblggPSBkYXRhLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGlmIChpTWF4WCA+PSBkYXRhLmxlbmd0aCkgewogICAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxOwogICAgICB9CgogICAgICBpZiAoaU1heFkgPj0gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgICBpTWF4WSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgICAgaU1pblkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGNvbnN0IG1pbk1heCA9IFtdOwogICAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7CiAgICAgIGNvbnN0IG1pbiA9IG1pbk1heFswXTsKICAgICAgY29uc3QgbWF4ID0gbWluTWF4WzFdOyAvLyBCYWlsIG91dCBpZiB3ZSBjYW4ndCB0b3VjaCB0aGUgYm91bmRpbmcgaGVpZ2h0IGJveAoKICAgICAgaWYgKGxvY2FsU3BoZXJlUG9zLnogLSByYWRpdXMgPiBtYXggfHwgbG9jYWxTcGhlcmVQb3MueiArIHJhZGl1cyA8IG1pbikgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7CgogICAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDwgaU1heFk7IGorKykgewogICAgICAgICAgY29uc3QgbnVtQ29udGFjdHNCZWZvcmUgPSByZXN1bHQubGVuZ3RoOwogICAgICAgICAgbGV0IGludGVyc2VjdGluZyA9IGZhbHNlOyAvLyBMb3dlciB0cmlhbmdsZQoKICAgICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgZmFsc2UpOwogICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgICAgaWYgKHNwaGVyZVBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc3BoZXJlU2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5zcGhlcmVDb252ZXgoc3BoZXJlU2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBzcGhlcmVQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgc3BoZXJlU2hhcGUsIGhmU2hhcGUsIGp1c3RUZXN0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZQoKCiAgICAgICAgICBoZlNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpOwogICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgICAgaWYgKHNwaGVyZVBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc3BoZXJlU2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5zcGhlcmVDb252ZXgoc3BoZXJlU2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBzcGhlcmVQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgc3BoZXJlU2hhcGUsIGhmU2hhcGUsIGp1c3RUZXN0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnN0IG51bUNvbnRhY3RzID0gcmVzdWx0Lmxlbmd0aCAtIG51bUNvbnRhY3RzQmVmb3JlOwoKICAgICAgICAgIGlmIChudW1Db250YWN0cyA+IDIpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgLyoKICAgICAgICAgICAgLy8gU2tpcCBhbGwgYnV0IDEKICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBudW1Db250YWN0cyAtIDE7IGsrKykgewogICAgICAgICAgICAgICAgcmVzdWx0LnBvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAqLwoKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBib3hIZWlnaHRmaWVsZChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDsKICAgICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIHJldHVybiB0aGlzLmNvbnZleEhlaWdodGZpZWxkKHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogICAgfQoKICAgIGNvbnZleEhlaWdodGZpZWxkKGNvbnZleFNoYXBlLCBoZlNoYXBlLCBjb252ZXhQb3MsIGhmUG9zLCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGNvbnN0IGRhdGEgPSBoZlNoYXBlLmRhdGE7CiAgICAgIGNvbnN0IHcgPSBoZlNoYXBlLmVsZW1lbnRTaXplOwogICAgICBjb25zdCByYWRpdXMgPSBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1czsKICAgICAgY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBjb252ZXhIZWlnaHRmaWVsZF90bXAyOwogICAgICBjb25zdCBmYWNlTGlzdCA9IGNvbnZleEhlaWdodGZpZWxkX2ZhY2VMaXN0OyAvLyBHZXQgc3BoZXJlIHBvc2l0aW9uIHRvIGhlaWdodGZpZWxkIGxvY2FsIQoKICAgICAgY29uc3QgbG9jYWxDb252ZXhQb3MgPSBjb252ZXhIZWlnaHRmaWVsZF90bXAxOwogICAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUoaGZQb3MsIGhmUXVhdCwgY29udmV4UG9zLCBsb2NhbENvbnZleFBvcyk7IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdAoKICAgICAgbGV0IGlNaW5YID0gTWF0aC5mbG9vcigobG9jYWxDb252ZXhQb3MueCAtIHJhZGl1cykgLyB3KSAtIDE7CiAgICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxDb252ZXhQb3MueCArIHJhZGl1cykgLyB3KSArIDE7CiAgICAgIGxldCBpTWluWSA9IE1hdGguZmxvb3IoKGxvY2FsQ29udmV4UG9zLnkgLSByYWRpdXMpIC8gdykgLSAxOwogICAgICBsZXQgaU1heFkgPSBNYXRoLmNlaWwoKGxvY2FsQ29udmV4UG9zLnkgKyByYWRpdXMpIC8gdykgKyAxOyAvLyBCYWlsIG91dCBpZiB3ZSBhcmUgb3V0IG9mIHRoZSB0ZXJyYWluCgogICAgICBpZiAoaU1heFggPCAwIHx8IGlNYXhZIDwgMCB8fCBpTWluWCA+IGRhdGEubGVuZ3RoIHx8IGlNaW5ZID4gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gQ2xhbXAgaW5kZXggdG8gZWRnZXMKCgogICAgICBpZiAoaU1pblggPCAwKSB7CiAgICAgICAgaU1pblggPSAwOwogICAgICB9CgogICAgICBpZiAoaU1heFggPCAwKSB7CiAgICAgICAgaU1heFggPSAwOwogICAgICB9CgogICAgICBpZiAoaU1pblkgPCAwKSB7CiAgICAgICAgaU1pblkgPSAwOwogICAgICB9CgogICAgICBpZiAoaU1heFkgPCAwKSB7CiAgICAgICAgaU1heFkgPSAwOwogICAgICB9CgogICAgICBpZiAoaU1pblggPj0gZGF0YS5sZW5ndGgpIHsKICAgICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgaWYgKGlNYXhYID49IGRhdGEubGVuZ3RoKSB7CiAgICAgICAgaU1heFggPSBkYXRhLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkgewogICAgICAgIGlNYXhZID0gZGF0YVswXS5sZW5ndGggLSAxOwogICAgICB9CgogICAgICBpZiAoaU1pblkgPj0gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgY29uc3QgbWluTWF4ID0gW107CiAgICAgIGhmU2hhcGUuZ2V0UmVjdE1pbk1heChpTWluWCwgaU1pblksIGlNYXhYLCBpTWF4WSwgbWluTWF4KTsKICAgICAgY29uc3QgbWluID0gbWluTWF4WzBdOwogICAgICBjb25zdCBtYXggPSBtaW5NYXhbMV07IC8vIEJhaWwgb3V0IGlmIHdlJ3JlIGNhbnQgdG91Y2ggdGhlIGJvdW5kaW5nIGhlaWdodCBib3gKCiAgICAgIGlmIChsb2NhbENvbnZleFBvcy56IC0gcmFkaXVzID4gbWF4IHx8IGxvY2FsQ29udmV4UG9zLnogKyByYWRpdXMgPCBtaW4pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHsKICAgICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPCBpTWF4WTsgaisrKSB7CiAgICAgICAgICBsZXQgaW50ZXJzZWN0aW5nID0gZmFsc2U7IC8vIExvd2VyIHRyaWFuZ2xlCgogICAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7CiAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgICBpZiAoY29udmV4UG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLmNvbnZleENvbnZleChjb252ZXhTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIGNvbnZleFBvcywgd29ybGRQaWxsYXJPZmZzZXQsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCBudWxsLCBudWxsLCBqdXN0VGVzdCwgZmFjZUxpc3QsIG51bGwpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9IC8vIFVwcGVyIHRyaWFuZ2xlCgoKICAgICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7CiAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgICBpZiAoY29udmV4UG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLmNvbnZleENvbnZleChjb252ZXhTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIGNvbnZleFBvcywgd29ybGRQaWxsYXJPZmZzZXQsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCBudWxsLCBudWxsLCBqdXN0VGVzdCwgZmFjZUxpc3QsIG51bGwpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgc3BoZXJlUGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgLy8gVGhlIG5vcm1hbCBpcyB0aGUgdW5pdCB2ZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIHBhcnRpY2xlIGNlbnRlcgogICAgICBjb25zdCBub3JtYWwgPSBwYXJ0aWNsZVNwaGVyZV9ub3JtYWw7CiAgICAgIG5vcm1hbC5zZXQoMCwgMCwgMSk7CiAgICAgIHhpLnZzdWIoeGosIG5vcm1hbCk7CiAgICAgIGNvbnN0IGxlbmd0aFNxdWFyZWQgPSBub3JtYWwubGVuZ3RoU3F1YXJlZCgpOwoKICAgICAgaWYgKGxlbmd0aFNxdWFyZWQgPD0gc2oucmFkaXVzICogc2oucmFkaXVzKSB7CiAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgICByLnJqLmNvcHkobm9ybWFsKTsKICAgICAgICByLnJqLnNjYWxlKHNqLnJhZGl1cywgci5yaik7CiAgICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsCgogICAgICAgIHIubmkubmVnYXRlKHIubmkpOwogICAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGUKCiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0KICAgIH0KCiAgICBwbGFuZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGNvbnN0IG5vcm1hbCA9IHBhcnRpY2xlUGxhbmVfbm9ybWFsOwogICAgICBub3JtYWwuc2V0KDAsIDAsIDEpOwogICAgICBiai5xdWF0ZXJuaW9uLnZtdWx0KG5vcm1hbCwgbm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lIG9yaWVudGF0aW9uCgogICAgICBjb25zdCByZWxwb3MgPSBwYXJ0aWNsZVBsYW5lX3JlbHBvczsKICAgICAgeGkudnN1Yihiai5wb3NpdGlvbiwgcmVscG9zKTsKICAgICAgY29uc3QgZG90ID0gbm9ybWFsLmRvdChyZWxwb3MpOwoKICAgICAgaWYgKGRvdCA8PSAwLjApIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWwKCiAgICAgICAgci5uaS5uZWdhdGUoci5uaSk7CiAgICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZQogICAgICAgIC8vIEdldCBwYXJ0aWNsZSBwb3NpdGlvbiBwcm9qZWN0ZWQgb24gcGxhbmUKCiAgICAgICAgY29uc3QgcHJvamVjdGVkID0gcGFydGljbGVQbGFuZV9wcm9qZWN0ZWQ7CiAgICAgICAgbm9ybWFsLnNjYWxlKG5vcm1hbC5kb3QoeGkpLCBwcm9qZWN0ZWQpOwogICAgICAgIHhpLnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOyAvL3Byb2plY3RlZC52YWRkKGJqLnBvc2l0aW9uLHByb2plY3RlZCk7CiAgICAgICAgLy8gcmogaXMgbm93IHRoZSBwcm9qZWN0ZWQgd29ybGQgcG9zaXRpb24gbWludXMgcGxhbmUgcG9zaXRpb24KCiAgICAgICAgci5yai5jb3B5KHByb2plY3RlZCk7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0KICAgIH0KCiAgICBib3hQYXJ0aWNsZShzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDsKICAgICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIHJldHVybiB0aGlzLmNvbnZleFBhcnRpY2xlKHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogICAgfQoKICAgIGNvbnZleFBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGxldCBwZW5ldHJhdGVkRmFjZUluZGV4ID0gLTE7CiAgICAgIGNvbnN0IHBlbmV0cmF0ZWRGYWNlTm9ybWFsID0gY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWw7CiAgICAgIGNvbnN0IHdvcmxkUGVuZXRyYXRpb25WZWMgPSBjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjOwogICAgICBsZXQgbWluUGVuZXRyYXRpb24gPSBudWxsOwogICAgICBjb25zdCBsb2NhbCA9IGNvbnZleFBhcnRpY2xlX2xvY2FsOwogICAgICBsb2NhbC5jb3B5KHhpKTsKICAgICAgbG9jYWwudnN1Yih4aiwgbG9jYWwpOyAvLyBDb252ZXJ0IHBvc2l0aW9uIHRvIHJlbGF0aXZlIHRoZSBjb252ZXggb3JpZ2luCgogICAgICBxai5jb25qdWdhdGUoY3FqKTsKICAgICAgY3FqLnZtdWx0KGxvY2FsLCBsb2NhbCk7CgogICAgICBpZiAoc2oucG9pbnRJc0luc2lkZShsb2NhbCkpIHsKICAgICAgICBpZiAoc2oud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlKSB7CiAgICAgICAgICBzai5jb21wdXRlV29ybGRWZXJ0aWNlcyh4aiwgcWopOwogICAgICAgIH0KCiAgICAgICAgaWYgKHNqLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSkgewogICAgICAgICAgc2ouY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHMocWopOwogICAgICAgIH0gLy8gRm9yIGVhY2ggd29ybGQgcG9seWdvbiBpbiB0aGUgcG9seWhlZHJhCgoKICAgICAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gc2ouZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXM7IGkrKykgewogICAgICAgICAgLy8gQ29uc3RydWN0IHdvcmxkIGZhY2UgdmVydGljZXMKICAgICAgICAgIGNvbnN0IHZlcnRzID0gW3NqLndvcmxkVmVydGljZXNbc2ouZmFjZXNbaV1bMF1dXTsKICAgICAgICAgIGNvbnN0IG5vcm1hbCA9IHNqLndvcmxkRmFjZU5vcm1hbHNbaV07IC8vIENoZWNrIGhvdyBtdWNoIHRoZSBwYXJ0aWNsZSBwZW5ldHJhdGVzIHRoZSBwb2x5Z29uIHBsYW5lLgoKICAgICAgICAgIHhpLnZzdWIodmVydHNbMF0sIGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUpOwogICAgICAgICAgY29uc3QgcGVuZXRyYXRpb24gPSAtbm9ybWFsLmRvdChjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlKTsKCiAgICAgICAgICBpZiAobWluUGVuZXRyYXRpb24gPT09IG51bGwgfHwgTWF0aC5hYnMocGVuZXRyYXRpb24pIDwgTWF0aC5hYnMobWluUGVuZXRyYXRpb24pKSB7CiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBtaW5QZW5ldHJhdGlvbiA9IHBlbmV0cmF0aW9uOwogICAgICAgICAgICBwZW5ldHJhdGVkRmFjZUluZGV4ID0gaTsKICAgICAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwuY29weShub3JtYWwpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHBlbmV0cmF0ZWRGYWNlSW5kZXggIT09IC0xKSB7CiAgICAgICAgICAvLyBTZXR1cCBjb250YWN0CiAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLnNjYWxlKG1pblBlbmV0cmF0aW9uLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTsgLy8gcmogaXMgdGhlIHBhcnRpY2xlIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgZmFjZQoKICAgICAgICAgIHdvcmxkUGVuZXRyYXRpb25WZWMudmFkZCh4aSwgd29ybGRQZW5ldHJhdGlvblZlYyk7CiAgICAgICAgICB3b3JsZFBlbmV0cmF0aW9uVmVjLnZzdWIoeGosIHdvcmxkUGVuZXRyYXRpb25WZWMpOwogICAgICAgICAgci5yai5jb3B5KHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvL2NvbnN0IHByb2plY3RlZFRvRmFjZSA9IHhpLnZzdWIoeGopLnZhZGQod29ybGRQZW5ldHJhdGlvblZlYyk7CiAgICAgICAgICAvL3Byb2plY3RlZFRvRmFjZS5jb3B5KHIucmopOwogICAgICAgICAgLy9xai52bXVsdChyLnJqLHIucmopOwoKICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLm5lZ2F0ZShyLm5pKTsgLy8gQ29udGFjdCBub3JtYWwKCiAgICAgICAgICByLnJpLnNldCgwLCAwLCAwKTsgLy8gQ2VudGVyIG9mIHBhcnRpY2xlCgogICAgICAgICAgY29uc3QgcmkgPSByLnJpOwogICAgICAgICAgY29uc3QgcmogPSByLnJqOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICAgIHJpLnZhZGQoeGksIHJpKTsKICAgICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTsKICAgICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTsKICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUud2FybignUG9pbnQgZm91bmQgaW5zaWRlIGNvbnZleCwgYnV0IGRpZCBub3QgZmluZCBwZW5ldHJhdGluZyBmYWNlIScpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGhlaWdodGZpZWxkQ3lsaW5kZXIoaGZTaGFwZSwgY29udmV4U2hhcGUsIGhmUG9zLCBjb252ZXhQb3MsIGhmUXVhdCwgY29udmV4UXVhdCwgaGZCb2R5LCBjb252ZXhCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udmV4SGVpZ2h0ZmllbGQoY29udmV4U2hhcGUsIGhmU2hhcGUsIGNvbnZleFBvcywgaGZQb3MsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpOwogICAgfQoKICAgIHBhcnRpY2xlQ3lsaW5kZXIoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udmV4UGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpOwogICAgfQoKICAgIHNwaGVyZVRyaW1lc2goc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgc3BoZXJlUG9zLCB0cmltZXNoUG9zLCBzcGhlcmVRdWF0LCB0cmltZXNoUXVhdCwgc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBjb25zdCBlZGdlVmVydGV4QSA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEE7CiAgICAgIGNvbnN0IGVkZ2VWZXJ0ZXhCID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QjsKICAgICAgY29uc3QgZWRnZVZlY3RvciA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvcjsKICAgICAgY29uc3QgZWRnZVZlY3RvclVuaXQgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0OwogICAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3M7CiAgICAgIGNvbnN0IHRtcCA9IHNwaGVyZVRyaW1lc2hfdG1wOwogICAgICBjb25zdCBsb2NhbFNwaGVyZUFBQkIgPSBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlQUFCQjsKICAgICAgY29uc3QgdjIgPSBzcGhlcmVUcmltZXNoX3YyOwogICAgICBjb25zdCByZWxwb3MgPSBzcGhlcmVUcmltZXNoX3JlbHBvczsKICAgICAgY29uc3QgdHJpYW5nbGVzID0gc3BoZXJlVHJpbWVzaF90cmlhbmdsZXM7IC8vIENvbnZlcnQgc3BoZXJlIHBvc2l0aW9uIHRvIGxvY2FsIGluIHRoZSB0cmltZXNoCgogICAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHNwaGVyZVBvcywgbG9jYWxTcGhlcmVQb3MpOyAvLyBHZXQgdGhlIGFhYmIgb2YgdGhlIHNwaGVyZSBsb2NhbGx5IGluIHRoZSB0cmltZXNoCgogICAgICBjb25zdCBzcGhlcmVSYWRpdXMgPSBzcGhlcmVTaGFwZS5yYWRpdXM7CiAgICAgIGxvY2FsU3BoZXJlQUFCQi5sb3dlckJvdW5kLnNldChsb2NhbFNwaGVyZVBvcy54IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy55IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy56IC0gc3BoZXJlUmFkaXVzKTsKICAgICAgbG9jYWxTcGhlcmVBQUJCLnVwcGVyQm91bmQuc2V0KGxvY2FsU3BoZXJlUG9zLnggKyBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnkgKyBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnogKyBzcGhlcmVSYWRpdXMpOwogICAgICB0cmltZXNoU2hhcGUuZ2V0VHJpYW5nbGVzSW5BQUJCKGxvY2FsU3BoZXJlQUFCQiwgdHJpYW5nbGVzKTsgLy9mb3IgKGxldCBpID0gMDsgaSA8IHRyaW1lc2hTaGFwZS5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgdHJpYW5nbGVzLnB1c2goaSk7IC8vIEFsbAogICAgICAvLyBWZXJ0aWNlcwoKICAgICAgY29uc3QgdiA9IHNwaGVyZVRyaW1lc2hfdjsKICAgICAgY29uc3QgcmFkaXVzU3F1YXJlZCA9IHNwaGVyZVNoYXBlLnJhZGl1cyAqIHNwaGVyZVNoYXBlLnJhZGl1czsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgodHJpbWVzaFNoYXBlLmluZGljZXNbdHJpYW5nbGVzW2ldICogMyArIGpdLCB2KTsgLy8gQ2hlY2sgdmVydGV4IG92ZXJsYXAgaW4gc3BoZXJlCgogICAgICAgICAgdi52c3ViKGxvY2FsU3BoZXJlUG9zLCByZWxwb3MpOwoKICAgICAgICAgIGlmIChyZWxwb3MubGVuZ3RoU3F1YXJlZCgpIDw9IHJhZGl1c1NxdWFyZWQpIHsKICAgICAgICAgICAgLy8gU2FmZSB1cAogICAgICAgICAgICB2Mi5jb3B5KHYpOwogICAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTsKICAgICAgICAgICAgdi52c3ViKHNwaGVyZVBvcywgcmVscG9zKTsKCiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7CiAgICAgICAgICAgIHIubmkuY29weShyZWxwb3MpOwogICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyByaSBpcyB0aGUgdmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byB0aGUgc3BoZXJlIHN1cmZhY2UKCiAgICAgICAgICAgIHIucmkuY29weShyLm5pKTsKICAgICAgICAgICAgci5yaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpOwogICAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTsKICAgICAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgICByLnJqLmNvcHkodik7CiAgICAgICAgICAgIHIucmoudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7IC8vIFN0b3JlIHJlc3VsdAoKICAgICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAvLyBDaGVjayBhbGwgZWRnZXMKCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyBqXSwgZWRnZVZlcnRleEEpOwogICAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleCh0cmltZXNoU2hhcGUuaW5kaWNlc1t0cmlhbmdsZXNbaV0gKiAzICsgKGogKyAxKSAlIDNdLCBlZGdlVmVydGV4Qik7CiAgICAgICAgICBlZGdlVmVydGV4Qi52c3ViKGVkZ2VWZXJ0ZXhBLCBlZGdlVmVjdG9yKTsgLy8gUHJvamVjdCBzcGhlcmUgcG9zaXRpb24gdG8gdGhlIGVkZ2UKCiAgICAgICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKGVkZ2VWZXJ0ZXhCLCB0bXApOwogICAgICAgICAgY29uc3QgcG9zaXRpb25BbG9uZ0VkZ2VCID0gdG1wLmRvdChlZGdlVmVjdG9yKTsKICAgICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEEsIHRtcCk7CiAgICAgICAgICBsZXQgcG9zaXRpb25BbG9uZ0VkZ2VBID0gdG1wLmRvdChlZGdlVmVjdG9yKTsKCiAgICAgICAgICBpZiAocG9zaXRpb25BbG9uZ0VkZ2VBID4gMCAmJiBwb3NpdGlvbkFsb25nRWRnZUIgPCAwKSB7CiAgICAgICAgICAgIC8vIE5vdyBjaGVjayB0aGUgb3J0aG9nb25hbCBkaXN0YW5jZSBmcm9tIGVkZ2UgdG8gc3BoZXJlIGNlbnRlcgogICAgICAgICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKGVkZ2VWZXJ0ZXhBLCB0bXApOwogICAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5jb3B5KGVkZ2VWZWN0b3IpOwogICAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5ub3JtYWxpemUoKTsKICAgICAgICAgICAgcG9zaXRpb25BbG9uZ0VkZ2VBID0gdG1wLmRvdChlZGdlVmVjdG9yVW5pdCk7CiAgICAgICAgICAgIGVkZ2VWZWN0b3JVbml0LnNjYWxlKHBvc2l0aW9uQWxvbmdFZGdlQSwgdG1wKTsKICAgICAgICAgICAgdG1wLnZhZGQoZWRnZVZlcnRleEEsIHRtcCk7IC8vIHRtcCBpcyBub3cgdGhlIHNwaGVyZSBjZW50ZXIgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBlZGdlLCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIHRyaW1lc2ggZnJhbWUKCiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSB0bXAuZGlzdGFuY2VUbyhsb2NhbFNwaGVyZVBvcyk7CgogICAgICAgICAgICBpZiAoZGlzdCA8IHNwaGVyZVNoYXBlLnJhZGl1cykgewogICAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTsKICAgICAgICAgICAgICB0bXAudnN1Yihsb2NhbFNwaGVyZVBvcywgci5uaSk7CiAgICAgICAgICAgICAgci5uaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgICByLm5pLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7CiAgICAgICAgICAgICAgci5yaS52YWRkKHNwaGVyZVBvcywgci5yaSk7CiAgICAgICAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdG1wLCB0bXApOwogICAgICAgICAgICAgIHRtcC52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsKICAgICAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLm5pLCByLm5pKTsKICAgICAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLnJpLCByLnJpKTsKICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAvLyBUcmlhbmdsZSBmYWNlcwoKCiAgICAgIGNvbnN0IHZhID0gc3BoZXJlVHJpbWVzaF92YTsKICAgICAgY29uc3QgdmIgPSBzcGhlcmVUcmltZXNoX3ZiOwogICAgICBjb25zdCB2YyA9IHNwaGVyZVRyaW1lc2hfdmM7CiAgICAgIGNvbnN0IG5vcm1hbCA9IHNwaGVyZVRyaW1lc2hfbm9ybWFsOwoKICAgICAgZm9yIChsZXQgaSA9IDAsIE4gPSB0cmlhbmdsZXMubGVuZ3RoOyBpICE9PSBOOyBpKyspIHsKICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VHJpYW5nbGVWZXJ0aWNlcyh0cmlhbmdsZXNbaV0sIHZhLCB2YiwgdmMpOwogICAgICAgIHRyaW1lc2hTaGFwZS5nZXROb3JtYWwodHJpYW5nbGVzW2ldLCBub3JtYWwpOwogICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIodmEsIHRtcCk7CiAgICAgICAgbGV0IGRpc3QgPSB0bXAuZG90KG5vcm1hbCk7CiAgICAgICAgbm9ybWFsLnNjYWxlKGRpc3QsIHRtcCk7CiAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1Yih0bXAsIHRtcCk7IC8vIHRtcCBpcyBub3cgdGhlIHNwaGVyZSBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gdGhlIHRyaWFuZ2xlIHBsYW5lCgogICAgICAgIGRpc3QgPSB0bXAuZGlzdGFuY2VUbyhsb2NhbFNwaGVyZVBvcyk7CgogICAgICAgIGlmIChSYXkucG9pbnRJblRyaWFuZ2xlKHRtcCwgdmEsIHZiLCB2YykgJiYgZGlzdCA8IHNwaGVyZVNoYXBlLnJhZGl1cykgewogICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGxldCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTsKICAgICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTsKICAgICAgICAgIHIubmkubm9ybWFsaXplKCk7CiAgICAgICAgICByLm5pLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7CiAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTsKICAgICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdG1wLCB0bXApOwogICAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopOwogICAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5uaSwgci5uaSk7CiAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLnJpLCByLnJpKTsKICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0cmlhbmdsZXMubGVuZ3RoID0gMDsKICAgIH0KCiAgICBwbGFuZVRyaW1lc2gocGxhbmVTaGFwZSwgdHJpbWVzaFNoYXBlLCBwbGFuZVBvcywgdHJpbWVzaFBvcywgcGxhbmVRdWF0LCB0cmltZXNoUXVhdCwgcGxhbmVCb2R5LCB0cmltZXNoQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIC8vIE1ha2UgY29udGFjdHMhCiAgICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBub3JtYWwgPSBwbGFuZVRyaW1lc2hfbm9ybWFsOwogICAgICBub3JtYWwuc2V0KDAsIDAsIDEpOwogICAgICBwbGFuZVF1YXQudm11bHQobm9ybWFsLCBub3JtYWwpOyAvLyBUdXJuIG5vcm1hbCBhY2NvcmRpbmcgdG8gcGxhbmUKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpbWVzaFNoYXBlLnZlcnRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgICAgIC8vIEdldCB3b3JsZCB2ZXJ0ZXggZnJvbSB0cmltZXNoCiAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleChpLCB2KTsgLy8gU2FmZSB1cAoKICAgICAgICBjb25zdCB2MiA9IG5ldyBWZWMzKCk7CiAgICAgICAgdjIuY29weSh2KTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTsgLy8gQ2hlY2sgcGxhbmUgc2lkZQoKICAgICAgICBjb25zdCByZWxwb3MgPSBwbGFuZVRyaW1lc2hfcmVscG9zOwogICAgICAgIHYudnN1YihwbGFuZVBvcywgcmVscG9zKTsKICAgICAgICBjb25zdCBkb3QgPSBub3JtYWwuZG90KHJlbHBvcyk7CgogICAgICAgIGlmIChkb3QgPD0gMC4wKSB7CiAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgdHJpbWVzaEJvZHksIHBsYW5lU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opOwogICAgICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWwKICAgICAgICAgIC8vIEdldCB2ZXJ0ZXggcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lCgogICAgICAgICAgY29uc3QgcHJvamVjdGVkID0gcGxhbmVUcmltZXNoX3Byb2plY3RlZDsKICAgICAgICAgIG5vcm1hbC5zY2FsZShyZWxwb3MuZG90KG5vcm1hbCksIHByb2plY3RlZCk7CiAgICAgICAgICB2LnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOyAvLyByaSBpcyB0aGUgcHJvamVjdGVkIHdvcmxkIHBvc2l0aW9uIG1pbnVzIHBsYW5lIHBvc2l0aW9uCgogICAgICAgICAgci5yaS5jb3B5KHByb2plY3RlZCk7CiAgICAgICAgICByLnJpLnZzdWIocGxhbmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgIHIucmouY29weSh2KTsKICAgICAgICAgIHIucmoudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7IC8vIFN0b3JlIHJlc3VsdAoKICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IC8vIGNvbnZleFRyaW1lc2goCiAgICAvLyAgIHNpOiBDb252ZXhQb2x5aGVkcm9uLCBzajogVHJpbWVzaCwgeGk6IFZlYzMsIHhqOiBWZWMzLCBxaTogUXVhdGVybmlvbiwgcWo6IFF1YXRlcm5pb24sCiAgICAvLyAgIGJpOiBCb2R5LCBiajogQm9keSwgcnNpPzogU2hhcGUgfCBudWxsLCByc2o/OiBTaGFwZSB8IG51bGwsCiAgICAvLyAgIGZhY2VMaXN0QT86IG51bWJlcltdIHwgbnVsbCwgZmFjZUxpc3RCPzogbnVtYmVyW10gfCBudWxsLAogICAgLy8gKSB7CiAgICAvLyAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpczsKICAgIC8vICAgaWYoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKXsKICAgIC8vICAgICAgIHJldHVybjsKICAgIC8vICAgfQogICAgLy8gICAvLyBDb25zdHJ1Y3QgYSB0ZW1wIGh1bGwgZm9yIGVhY2ggdHJpYW5nbGUKICAgIC8vICAgY29uc3QgaHVsbEIgPSBuZXcgQ29udmV4UG9seWhlZHJvbigpOwogICAgLy8gICBodWxsQi5mYWNlcyA9IFtbMCwxLDJdXTsKICAgIC8vICAgY29uc3QgdmEgPSBuZXcgVmVjMygpOwogICAgLy8gICBjb25zdCB2YiA9IG5ldyBWZWMzKCk7CiAgICAvLyAgIGNvbnN0IHZjID0gbmV3IFZlYzMoKTsKICAgIC8vICAgaHVsbEIudmVydGljZXMgPSBbCiAgICAvLyAgICAgICB2YSwKICAgIC8vICAgICAgIHZiLAogICAgLy8gICAgICAgdmMKICAgIC8vICAgXTsKICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzai5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgLy8gICAgICAgY29uc3QgdHJpYW5nbGVOb3JtYWwgPSBuZXcgVmVjMygpOwogICAgLy8gICAgICAgc2ouZ2V0Tm9ybWFsKGksIHRyaWFuZ2xlTm9ybWFsKTsKICAgIC8vICAgICAgIGh1bGxCLmZhY2VOb3JtYWxzID0gW3RyaWFuZ2xlTm9ybWFsXTsKICAgIC8vICAgICAgIHNqLmdldFRyaWFuZ2xlVmVydGljZXMoaSwgdmEsIHZiLCB2Yyk7CiAgICAvLyAgICAgICBsZXQgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopOwogICAgLy8gICAgICAgaWYoIWQpewogICAgLy8gICAgICAgICAgIHRyaWFuZ2xlTm9ybWFsLnNjYWxlKC0xLCB0cmlhbmdsZU5vcm1hbCk7CiAgICAvLyAgICAgICAgICAgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopOwogICAgLy8gICAgICAgICAgIGlmKCFkKXsKICAgIC8vICAgICAgICAgICAgICAgY29udGludWU7CiAgICAvLyAgICAgICAgICAgfQogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgY29uc3QgcmVzOiBDb252ZXhQb2x5aGVkcm9uQ29udGFjdFBvaW50W10gPSBbXTsKICAgIC8vICAgICAgIGNvbnN0IHEgPSBjb252ZXhDb252ZXhfcTsKICAgIC8vICAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSxxaSxodWxsQix4aixxaix0cmlhbmdsZU5vcm1hbCwtMTAwLDEwMCxyZXMpOwogICAgLy8gICAgICAgZm9yKGxldCBqID0gMDsgaiAhPT0gcmVzLmxlbmd0aDsgaisrKXsKICAgIC8vICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksYmosc2ksc2oscnNpLHJzaiksCiAgICAvLyAgICAgICAgICAgICAgIHJpID0gci5yaSwKICAgIC8vICAgICAgICAgICAgICAgcmogPSByLnJqOwogICAgLy8gICAgICAgICAgIHIubmkuY29weSh0cmlhbmdsZU5vcm1hbCk7CiAgICAvLyAgICAgICAgICAgci5uaS5uZWdhdGUoci5uaSk7CiAgICAvLyAgICAgICAgICAgcmVzW2pdLm5vcm1hbC5uZWdhdGUocSk7CiAgICAvLyAgICAgICAgICAgcS5tdWx0KHJlc1tqXS5kZXB0aCwgcSk7CiAgICAvLyAgICAgICAgICAgcmVzW2pdLnBvaW50LnZhZGQocSwgcmkpOwogICAgLy8gICAgICAgICAgIHJqLmNvcHkocmVzW2pdLnBvaW50KTsKICAgIC8vICAgICAgICAgICAvLyBDb250YWN0IHBvaW50cyBhcmUgaW4gd29ybGQgY29vcmRpbmF0ZXMuIFRyYW5zZm9ybSBiYWNrIHRvIHJlbGF0aXZlCiAgICAvLyAgICAgICAgICAgcmkudnN1Yih4aSxyaSk7CiAgICAvLyAgICAgICAgICAgcmoudnN1Yih4aixyaik7CiAgICAvLyAgICAgICAgICAgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXMKICAgIC8vICAgICAgICAgICByaS52YWRkKHhpLCByaSk7CiAgICAvLyAgICAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgLy8gICAgICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgIC8vICAgICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgICAvLyAgICAgICAgICAgcmVzdWx0LnB1c2gocik7CiAgICAvLyAgICAgICB9CiAgICAvLyAgIH0KICAgIC8vIH0KCgogIH0KCiAgY29uc3QgYXZlcmFnZU5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXZlcmFnZUNvbnRhY3RQb2ludEEgPSBuZXcgVmVjMygpOwogIGNvbnN0IGF2ZXJhZ2VDb250YWN0UG9pbnRCID0gbmV3IFZlYzMoKTsKICBjb25zdCB0bXBWZWMxJDIgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRtcFZlYzIkMiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdG1wUXVhdDEgPSBuZXcgUXVhdGVybmlvbigpOwogIGNvbnN0IHRtcFF1YXQyID0gbmV3IFF1YXRlcm5pb24oKTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveEJveF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94Qm94OwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94Q29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hDb252ZXg7CiAgTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94UGFydGljbGU7CiAgTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVTcGhlcmVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVNwaGVyZTsKICBjb25zdCBwbGFuZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBwbGFuZVRyaW1lc2hfcmVscG9zID0gbmV3IFZlYzMoKTsKICBjb25zdCBwbGFuZVRyaW1lc2hfcHJvamVjdGVkID0gbmV3IFZlYzMoKTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lVHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVUcmltZXNoOwogIGNvbnN0IHNwaGVyZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX3JlbHBvcyA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF92ID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX3YyID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhBID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhCID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3IgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvclVuaXQgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3MgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZVRyaW1lc2hfdG1wID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX3ZhID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX3ZiID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX3ZjID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlQUFCQiA9IG5ldyBBQUJCKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF90cmlhbmdsZXMgPSBbXTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVRyaW1lc2g7CiAgY29uc3QgcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlID0gbmV3IFZlYzMoKTsKICBjb25zdCBwbGFuZV90b19zcGhlcmVfb3J0aG8gPSBuZXcgVmVjMygpOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlUGxhbmVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVBsYW5lOyAvLyBTZWUgaHR0cDovL2J1bGxldHBoeXNpY3MuY29tL0J1bGxldC9CdWxsZXRGdWxsL1NwaGVyZVRyaWFuZ2xlRGV0ZWN0b3JfOGNwcF9zb3VyY2UuaHRtbAoKICBjb25zdCBwb2ludEluUG9seWdvbl9lZGdlID0gbmV3IFZlYzMoKTsKICBjb25zdCBwb2ludEluUG9seWdvbl9lZGdlX3hfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBwb2ludEluUG9seWdvbl92dHAgPSBuZXcgVmVjMygpOwoKICBmdW5jdGlvbiBwb2ludEluUG9seWdvbih2ZXJ0cywgbm9ybWFsLCBwKSB7CiAgICBsZXQgcG9zaXRpdmVSZXN1bHQgPSBudWxsOwogICAgY29uc3QgTiA9IHZlcnRzLmxlbmd0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsgLy8gR2V0IGVkZ2UgdG8gdGhlIG5leHQgdmVydGV4CgogICAgICBjb25zdCBlZGdlID0gcG9pbnRJblBvbHlnb25fZWRnZTsKICAgICAgdmVydHNbKGkgKyAxKSAlIE5dLnZzdWIodiwgZWRnZSk7IC8vIEdldCBjcm9zcyBwcm9kdWN0IGJldHdlZW4gcG9seWdvbiBub3JtYWwgYW5kIHRoZSBlZGdlCgogICAgICBjb25zdCBlZGdlX3hfbm9ybWFsID0gcG9pbnRJblBvbHlnb25fZWRnZV94X25vcm1hbDsgLy9jb25zdCBlZGdlX3hfbm9ybWFsID0gbmV3IFZlYzMoKTsKCiAgICAgIGVkZ2UuY3Jvc3Mobm9ybWFsLCBlZGdlX3hfbm9ybWFsKTsgLy8gR2V0IHZlY3RvciBiZXR3ZWVuIHBvaW50IGFuZCBjdXJyZW50IHZlcnRleAoKICAgICAgY29uc3QgdmVydGV4X3RvX3AgPSBwb2ludEluUG9seWdvbl92dHA7CiAgICAgIHAudnN1Yih2LCB2ZXJ0ZXhfdG9fcCk7IC8vIFRoaXMgZG90IHByb2R1Y3QgZGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIHRoZSBlZGdlIHRoZSBwb2ludCBpcwoKICAgICAgY29uc3QgciA9IGVkZ2VfeF9ub3JtYWwuZG90KHZlcnRleF90b19wKTsgLy8gSWYgYWxsIHN1Y2ggZG90IHByb2R1Y3RzIGhhdmUgc2FtZSBzaWduLCB3ZSBhcmUgaW5zaWRlIHRoZSBwb2x5Z29uLgoKICAgICAgaWYgKHBvc2l0aXZlUmVzdWx0ID09PSBudWxsIHx8IHIgPiAwICYmIHBvc2l0aXZlUmVzdWx0ID09PSB0cnVlIHx8IHIgPD0gMCAmJiBwb3NpdGl2ZVJlc3VsdCA9PT0gZmFsc2UpIHsKICAgICAgICBpZiAocG9zaXRpdmVSZXN1bHQgPT09IG51bGwpIHsKICAgICAgICAgIHBvc2l0aXZlUmVzdWx0ID0gciA+IDA7CiAgICAgICAgfQoKICAgICAgICBjb250aW51ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEVuY291bnRlcmVkIHNvbWUgb3RoZXIgc2lnbi4gRXhpdC4KICAgICAgfQogICAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uCgoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgY29uc3QgYm94X3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQm94X25zID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfbnMxID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfbnMyID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfc2lkZXMgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07CiAgY29uc3Qgc3BoZXJlQm94X3NwaGVyZV90b19jb3JuZXIgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUJveF9zaWRlX25zID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfc2lkZV9uczEgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUJveF9zaWRlX25zMiA9IG5ldyBWZWMzKCk7CiAgTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUJveDsKICBjb25zdCBjb252ZXhfdG9fc3BoZXJlID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVDb252ZXhfZWRnZSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2VVbml0ID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXIgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUNvbnZleF93b3JsZENvcm5lciA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVDb252ZXhfd29ybGRQb2ludCA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVDb252ZXhfc3BoZXJlVG9Xb3JsZFBvaW50ID0gbmV3IFZlYzMoKTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUNvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlQ29udmV4OwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQm94OwogIGNvbnN0IHBsYW5lQ29udmV4X3YgPSBuZXcgVmVjMygpOwogIGNvbnN0IHBsYW5lQ29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcGxhbmVDb252ZXhfcmVscG9zID0gbmV3IFZlYzMoKTsKICBjb25zdCBwbGFuZUNvbnZleF9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQ29udmV4OwogIGNvbnN0IGNvbnZleENvbnZleF9zZXBBeGlzID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb252ZXhDb252ZXhfcSA9IG5ldyBWZWMzKCk7CiAgTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleENvbnZleDsgLy8gTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhUcmltZXNoXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhUcmltZXNoCgogIGNvbnN0IHBhcnRpY2xlUGxhbmVfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBwYXJ0aWNsZVBsYW5lX3JlbHBvcyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcGFydGljbGVQbGFuZV9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVQYXJ0aWNsZTsKICBjb25zdCBwYXJ0aWNsZVNwaGVyZV9ub3JtYWwgPSBuZXcgVmVjMygpOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlUGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVBhcnRpY2xlOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY3lsaW5kZXJDeWxpbmRlcl0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4Q29udmV4OwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlQ3lsaW5kZXJdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUNvbnZleDsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lQ3lsaW5kZXJdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQ29udmV4OwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94Q3lsaW5kZXJdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveENvbnZleDsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleEN5bGluZGVyXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhDb252ZXg7CiAgTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5oZWlnaHRmaWVsZEN5bGluZGVyXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5oZWlnaHRmaWVsZEN5bGluZGVyOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGFydGljbGVDeWxpbmRlcl0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGFydGljbGVDeWxpbmRlcjsgLy8gV0lQCgogIGNvbnN0IGNxaiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgY29uc3QgY29udmV4UGFydGljbGVfbG9jYWwgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNvbnZleFBhcnRpY2xlX3BlbmV0cmF0ZWRGYWNlTm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleFBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhQYXJ0aWNsZTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveEhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hIZWlnaHRmaWVsZDsKICBjb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAyID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb252ZXhIZWlnaHRmaWVsZF9mYWNlTGlzdCA9IFswXTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleEhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhIZWlnaHRmaWVsZDsKICBjb25zdCBzcGhlcmVIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVIZWlnaHRmaWVsZF90bXAyID0gbmV3IFZlYzMoKTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVIZWlnaHRmaWVsZDsKICAvKioKICAgKiBAY2xhc3MgT3ZlcmxhcEtlZXBlcgogICAqIEBjb25zdHJ1Y3RvcgogICAqLwoKICBjbGFzcyBPdmVybGFwS2VlcGVyIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aGlzLmN1cnJlbnQgPSBbXTsKICAgICAgdGhpcy5wcmV2aW91cyA9IFtdOwogICAgfQoKICAgIGdldEtleShpLCBqKSB7CiAgICAgIGlmIChqIDwgaSkgewogICAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICAgIGogPSBpOwogICAgICAgIGkgPSB0ZW1wOwogICAgICB9CgogICAgICByZXR1cm4gaSA8PCAxNiB8IGo7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2Qgc2V0CiAgICAgKiBAcGFyYW0ge051bWJlcn0gaQogICAgICogQHBhcmFtIHtOdW1iZXJ9IGoKICAgICAqLwoKCiAgICBzZXQoaSwgaikgewogICAgICAvLyBJbnNlcnRpb24gc29ydC4gVGhpcyB3YXkgdGhlIGRpZmYgd2lsbCBoYXZlIGxpbmVhciBjb21wbGV4aXR5LgogICAgICBjb25zdCBrZXkgPSB0aGlzLmdldEtleShpLCBqKTsKICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMuY3VycmVudDsKICAgICAgbGV0IGluZGV4ID0gMDsKCiAgICAgIHdoaWxlIChrZXkgPiBjdXJyZW50W2luZGV4XSkgewogICAgICAgIGluZGV4Kys7CiAgICAgIH0KCiAgICAgIGlmIChrZXkgPT09IGN1cnJlbnRbaW5kZXhdKSB7CiAgICAgICAgcmV0dXJuOyAvLyBQYWlyIHdhcyBhbHJlYWR5IGFkZGVkCiAgICAgIH0KCiAgICAgIGZvciAobGV0IGogPSBjdXJyZW50Lmxlbmd0aCAtIDE7IGogPj0gaW5kZXg7IGotLSkgewogICAgICAgIGN1cnJlbnRbaiArIDFdID0gY3VycmVudFtqXTsKICAgICAgfQoKICAgICAgY3VycmVudFtpbmRleF0gPSBrZXk7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgdGljawogICAgICovCgoKICAgIHRpY2soKSB7CiAgICAgIGNvbnN0IHRtcCA9IHRoaXMuY3VycmVudDsKICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wcmV2aW91czsKICAgICAgdGhpcy5wcmV2aW91cyA9IHRtcDsKICAgICAgdGhpcy5jdXJyZW50Lmxlbmd0aCA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgZ2V0RGlmZgogICAgICogQHBhcmFtICB7YXJyYXl9IGFkZGl0aW9ucwogICAgICogQHBhcmFtICB7YXJyYXl9IHJlbW92YWxzCiAgICAgKi8KCgogICAgZ2V0RGlmZihhZGRpdGlvbnMsIHJlbW92YWxzKSB7CiAgICAgIGNvbnN0IGEgPSB0aGlzLmN1cnJlbnQ7CiAgICAgIGNvbnN0IGIgPSB0aGlzLnByZXZpb3VzOwogICAgICBjb25zdCBhbCA9IGEubGVuZ3RoOwogICAgICBjb25zdCBibCA9IGIubGVuZ3RoOwogICAgICBsZXQgaiA9IDA7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsOyBpKyspIHsKICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgICAgICBjb25zdCBrZXlBID0gYVtpXTsKCiAgICAgICAgd2hpbGUgKGtleUEgPiBiW2pdKSB7CiAgICAgICAgICBqKys7CiAgICAgICAgfQoKICAgICAgICBmb3VuZCA9IGtleUEgPT09IGJbal07CgogICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgIHVucGFja0FuZFB1c2goYWRkaXRpb25zLCBrZXlBKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGogPSAwOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibDsgaSsrKSB7CiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgY29uc3Qga2V5QiA9IGJbaV07CgogICAgICAgIHdoaWxlIChrZXlCID4gYVtqXSkgewogICAgICAgICAgaisrOwogICAgICAgIH0KCiAgICAgICAgZm91bmQgPSBhW2pdID09PSBrZXlCOwoKICAgICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgICB1bnBhY2tBbmRQdXNoKHJlbW92YWxzLCBrZXlCKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgfQoKICBmdW5jdGlvbiB1bnBhY2tBbmRQdXNoKGFycmF5LCBrZXkpIHsKICAgIGFycmF5LnB1c2goKGtleSAmIDB4ZmZmZjAwMDApID4+IDE2LCBrZXkgJiAweDAwMDBmZmZmKTsKICB9CiAgLyoqCiAgICogQGNsYXNzIFR1cGxlRGljdGlvbmFyeQogICAqIEBjb25zdHJ1Y3RvcgogICAqLwoKCiAgY2xhc3MgVHVwbGVEaWN0aW9uYXJ5IHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aGlzLmRhdGEgPSB7CiAgICAgICAga2V5czogW10KICAgICAgfTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBnZXQKICAgICAqIEBwYXJhbSAge051bWJlcn0gaQogICAgICogQHBhcmFtICB7TnVtYmVyfSBqCiAgICAgKiBAcmV0dXJuIHtPYmplY3R9CiAgICAgKi8KCgogICAgZ2V0KGksIGopIHsKICAgICAgaWYgKGkgPiBqKSB7CiAgICAgICAgLy8gc3dhcAogICAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICAgIGogPSBpOwogICAgICAgIGkgPSB0ZW1wOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5kYXRhW2kgKyAiLSIgKyBqXTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBzZXQKICAgICAqIEBwYXJhbSAge051bWJlcn0gaQogICAgICogQHBhcmFtICB7TnVtYmVyfSBqCiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUKICAgICAqLwoKCiAgICBzZXQoaSwgaiwgdmFsdWUpIHsKICAgICAgaWYgKGkgPiBqKSB7CiAgICAgICAgY29uc3QgdGVtcCA9IGo7CiAgICAgICAgaiA9IGk7CiAgICAgICAgaSA9IHRlbXA7CiAgICAgIH0KCiAgICAgIGNvbnN0IGtleSA9IGkgKyAiLSIgKyBqOyAvLyBDaGVjayBpZiBrZXkgYWxyZWFkeSBleGlzdHMKCiAgICAgIGlmICghdGhpcy5nZXQoaSwgaikpIHsKICAgICAgICB0aGlzLmRhdGEua2V5cy5wdXNoKGtleSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZGF0YVtrZXldID0gdmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgcmVzZXQKICAgICAqLwoKCiAgICByZXNldCgpIHsKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgICAgY29uc3Qga2V5cyA9IGRhdGEua2V5czsKCiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCA+IDApIHsKICAgICAgICBjb25zdCBrZXkgPSBrZXlzLnBvcCgpOwogICAgICAgIGRlbGV0ZSBkYXRhW2tleV07CiAgICAgIH0KICAgIH0KCiAgfQogIC8qKgogICAqIFRoZSBwaHlzaWNzIHdvcmxkCiAgICogQGNsYXNzIFdvcmxkCiAgICogQGNvbnN0cnVjdG9yCiAgICogQGV4dGVuZHMgRXZlbnRUYXJnZXQKICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5ncmF2aXR5XQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYWxsb3dTbGVlcF0KICAgKiBAcGFyYW0ge0Jyb2FkcGhhc2V9IFtvcHRpb25zLmJyb2FkcGhhc2VdCiAgICogQHBhcmFtIHtTb2x2ZXJ9IFtvcHRpb25zLnNvbHZlcl0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0XQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcF0KICAgKi8KCgogIGNsYXNzIFdvcmxkIGV4dGVuZHMgRXZlbnRUYXJnZXQgewogICAgLy8gQ3VycmVudGx5IC8gbGFzdCB1c2VkIHRpbWVzdGVwLiBJcyBzZXQgdG8gLTEgaWYgbm90IGF2YWlsYWJsZS4gVGhpcyB2YWx1ZSBpcyB1cGRhdGVkIGJlZm9yZSBlYWNoIGludGVybmFsIHN0ZXAsIHdoaWNoIG1lYW5zIHRoYXQgaXQgaXMgImZyZXNoIiBpbnNpZGUgZXZlbnQgY2FsbGJhY2tzLgogICAgLy8gTWFrZXMgYm9kaWVzIGdvIHRvIHNsZWVwIHdoZW4gdGhleSd2ZSBiZWVuIGluYWN0aXZlLgogICAgLy8gQWxsIHRoZSBjdXJyZW50IGNvbnRhY3RzIChpbnN0YW5jZXMgb2YgQ29udGFjdEVxdWF0aW9uKSBpbiB0aGUgd29ybGQuCiAgICAvLyBIb3cgb2Z0ZW4gdG8gbm9ybWFsaXplIHF1YXRlcm5pb25zLiBTZXQgdG8gMCBmb3IgZXZlcnkgc3RlcCwgMSBmb3IgZXZlcnkgc2Vjb25kIGV0Yy4uIEEgbGFyZ2VyIHZhbHVlIGluY3JlYXNlcyBwZXJmb3JtYW5jZS4gSWYgYm9kaWVzIHRlbmQgdG8gZXhwbG9kZSwgc2V0IHRvIGEgc21hbGxlciB2YWx1ZSAoemVybyB0byBiZSBzdXJlIG5vdGhpbmcgY2FuIGdvIHdyb25nKS4KICAgIC8vIFNldCB0byB0cnVlIHRvIHVzZSBmYXN0IHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbi4gSXQgaXMgb2Z0ZW4gZW5vdWdoIGFjY3VyYXRlIHRvIHVzZS4gSWYgYm9kaWVzIHRlbmQgdG8gZXhwbG9kZSwgc2V0IHRvIGZhbHNlLgogICAgLy8gVGhlIHdhbGwtY2xvY2sgdGltZSBzaW5jZSBzaW11bGF0aW9uIHN0YXJ0LgogICAgLy8gTnVtYmVyIG9mIHRpbWVzdGVwcyB0YWtlbiBzaW5jZSBzdGFydC4KICAgIC8vIERlZmF1bHQgYW5kIGxhc3QgdGltZXN0ZXAgc2l6ZXMuCiAgICAvLyBUaGUgYnJvYWRwaGFzZSBhbGdvcml0aG0gdG8gdXNlLiBEZWZhdWx0IGlzIE5haXZlQnJvYWRwaGFzZS4KICAgIC8vIEFsbCBib2RpZXMgaW4gdGhpcyB3b3JsZAogICAgLy8gVHJ1ZSBpZiBhbnkgYm9kaWVzIGFyZSBub3Qgc2xlZXBpbmcsIGZhbHNlIGlmIGV2ZXJ5IGJvZHkgaXMgc2xlZXBpbmcuCiAgICAvLyBUaGUgc29sdmVyIGFsZ29yaXRobSB0byB1c2UuIERlZmF1bHQgaXMgR1NTb2x2ZXIuCiAgICAvLyBDb2xsaXNpb25NYXRyaXggZnJvbSB0aGUgcHJldmlvdXMgc3RlcC4KICAgIC8vIEFsbCBhZGRlZCBtYXRlcmlhbHMuCiAgICAvLyBVc2VkIHRvIGxvb2sgdXAgYSBDb250YWN0TWF0ZXJpYWwgZ2l2ZW4gdHdvIGluc3RhbmNlcyBvZiBNYXRlcmlhbC4KICAgIC8vIFRoaXMgY29udGFjdCBtYXRlcmlhbCBpcyB1c2VkIGlmIG5vIHN1aXRhYmxlIGNvbnRhY3RtYXRlcmlhbCBpcyBmb3VuZCBmb3IgYSBjb250YWN0LgogICAgLy8gVGltZSBhY2N1bXVsYXRvciBmb3IgaW50ZXJwb2xhdGlvbi4gU2VlIGh0dHA6Ly9nYWZmZXJvbmdhbWVzLmNvbS9nYW1lLXBoeXNpY3MvZml4LXlvdXItdGltZXN0ZXAvCiAgICAvLyBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgd29ybGQuCiAgICAvLyBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIHdvcmxkLgogICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMuZHQgPSAtMTsKICAgICAgdGhpcy5hbGxvd1NsZWVwID0gISFvcHRpb25zLmFsbG93U2xlZXA7CiAgICAgIHRoaXMuY29udGFjdHMgPSBbXTsKICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucyA9IFtdOwogICAgICB0aGlzLnF1YXROb3JtYWxpemVTa2lwID0gb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcCA6IDA7CiAgICAgIHRoaXMucXVhdE5vcm1hbGl6ZUZhc3QgPSBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0IDogZmFsc2U7CiAgICAgIHRoaXMudGltZSA9IDAuMDsKICAgICAgdGhpcy5zdGVwbnVtYmVyID0gMDsKICAgICAgdGhpcy5kZWZhdWx0X2R0ID0gMSAvIDYwOwogICAgICB0aGlzLm5leHRJZCA9IDA7CiAgICAgIHRoaXMuZ3Jhdml0eSA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy5ncmF2aXR5KSB7CiAgICAgICAgdGhpcy5ncmF2aXR5LmNvcHkob3B0aW9ucy5ncmF2aXR5KTsKICAgICAgfQoKICAgICAgdGhpcy5icm9hZHBoYXNlID0gb3B0aW9ucy5icm9hZHBoYXNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmJyb2FkcGhhc2UgOiBuZXcgTmFpdmVCcm9hZHBoYXNlKCk7CiAgICAgIHRoaXMuYm9kaWVzID0gW107CiAgICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gZmFsc2U7CiAgICAgIHRoaXMuc29sdmVyID0gb3B0aW9ucy5zb2x2ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc29sdmVyIDogbmV3IEdTU29sdmVyKCk7CiAgICAgIHRoaXMuY29uc3RyYWludHMgPSBbXTsKICAgICAgdGhpcy5uYXJyb3dwaGFzZSA9IG5ldyBOYXJyb3dwaGFzZSh0aGlzKTsKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXggPSBuZXcgQXJyYXlDb2xsaXNpb25NYXRyaXgoKTsKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cyA9IG5ldyBBcnJheUNvbGxpc2lvbk1hdHJpeCgpOwogICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyID0gbmV3IE92ZXJsYXBLZWVwZXIoKTsKICAgICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIgPSBuZXcgT3ZlcmxhcEtlZXBlcigpOwogICAgICB0aGlzLm1hdGVyaWFscyA9IFtdOwogICAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMgPSBbXTsKICAgICAgdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZSA9IG5ldyBUdXBsZURpY3Rpb25hcnkoKTsKICAgICAgdGhpcy5kZWZhdWx0TWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoJ2RlZmF1bHQnKTsKICAgICAgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsID0gbmV3IENvbnRhY3RNYXRlcmlhbCh0aGlzLmRlZmF1bHRNYXRlcmlhbCwgdGhpcy5kZWZhdWx0TWF0ZXJpYWwsIHsKICAgICAgICBmcmljdGlvbjogMC4zLAogICAgICAgIHJlc3RpdHV0aW9uOiAwLjAKICAgICAgfSk7CiAgICAgIHRoaXMuZG9Qcm9maWxpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5wcm9maWxlID0gewogICAgICAgIHNvbHZlOiAwLAogICAgICAgIG1ha2VDb250YWN0Q29uc3RyYWludHM6IDAsCiAgICAgICAgYnJvYWRwaGFzZTogMCwKICAgICAgICBpbnRlZ3JhdGU6IDAsCiAgICAgICAgbmFycm93cGhhc2U6IDAKICAgICAgfTsKICAgICAgdGhpcy5hY2N1bXVsYXRvciA9IDA7CiAgICAgIHRoaXMuc3Vic3lzdGVtcyA9IFtdOwogICAgICB0aGlzLmFkZEJvZHlFdmVudCA9IHsKICAgICAgICB0eXBlOiAnYWRkQm9keScsCiAgICAgICAgYm9keTogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlbW92ZUJvZHlFdmVudCA9IHsKICAgICAgICB0eXBlOiAncmVtb3ZlQm9keScsCiAgICAgICAgYm9keTogbnVsbAogICAgICB9OwogICAgICB0aGlzLmlkVG9Cb2R5TWFwID0ge307CiAgICAgIHRoaXMuYnJvYWRwaGFzZS5zZXRXb3JsZCh0aGlzKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBjb250YWN0IG1hdGVyaWFsIGJldHdlZW4gbWF0ZXJpYWxzIG0xIGFuZCBtMgogICAgICogQG1ldGhvZCBnZXRDb250YWN0TWF0ZXJpYWwKICAgICAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xCiAgICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtMgogICAgICogQHJldHVybiB7Q29udGFjdE1hdGVyaWFsfSBUaGUgY29udGFjdCBtYXRlcmlhbCBpZiBpdCB3YXMgZm91bmQuCiAgICAgKi8KCgogICAgZ2V0Q29udGFjdE1hdGVyaWFsKG0xLCBtMikgewogICAgICByZXR1cm4gdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZS5nZXQobTEuaWQsIG0yLmlkKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IG51bWJlciBvZiBvYmplY3RzIGluIHRoZSB3b3JsZC4KICAgICAqIEBtZXRob2QgbnVtT2JqZWN0cwogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwoKCiAgICBudW1PYmplY3RzKCkgewogICAgICByZXR1cm4gdGhpcy5ib2RpZXMubGVuZ3RoOwogICAgfQogICAgLyoqCiAgICAgKiBTdG9yZSBvbGQgY29sbGlzaW9uIHN0YXRlIGluZm8KICAgICAqIEBtZXRob2QgY29sbGlzaW9uTWF0cml4VGljawogICAgICovCgoKICAgIGNvbGxpc2lvbk1hdHJpeFRpY2soKSB7CiAgICAgIGNvbnN0IHRlbXAgPSB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzOwogICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzID0gdGhpcy5jb2xsaXNpb25NYXRyaXg7CiAgICAgIHRoaXMuY29sbGlzaW9uTWF0cml4ID0gdGVtcDsKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXgucmVzZXQoKTsKICAgICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci50aWNrKCk7CiAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLnRpY2soKTsKICAgIH0KICAgIC8qKgogICAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgc2ltdWxhdGlvbi4KICAgICAqIEBtZXRob2QgYWRkQ29uc3RyYWludAogICAgICogQHBhcmFtIHtDb25zdHJhaW50fSBjCiAgICAgKi8KCgogICAgYWRkQ29uc3RyYWludChjKSB7CiAgICAgIHRoaXMuY29uc3RyYWludHMucHVzaChjKTsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlcyBhIGNvbnN0cmFpbnQKICAgICAqIEBtZXRob2QgcmVtb3ZlQ29uc3RyYWludAogICAgICogQHBhcmFtIHtDb25zdHJhaW50fSBjCiAgICAgKi8KCgogICAgcmVtb3ZlQ29uc3RyYWludChjKSB7CiAgICAgIGNvbnN0IGlkeCA9IHRoaXMuY29uc3RyYWludHMuaW5kZXhPZihjKTsKCiAgICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgdGhpcy5jb25zdHJhaW50cy5zcGxpY2UoaWR4LCAxKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSYXljYXN0IHRlc3QKICAgICAqIEBtZXRob2QgcmF5VGVzdAogICAgICogQHBhcmFtIHtWZWMzfSBmcm9tCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRvCiAgICAgKiBAcGFyYW0ge1JheWNhc3RSZXN1bHR9IHJlc3VsdAogICAgICogQGRlcHJlY2F0ZWQgVXNlIC5yYXljYXN0QWxsLCAucmF5Y2FzdENsb3Nlc3Qgb3IgLnJheWNhc3RBbnkgaW5zdGVhZC4KICAgICAqLwoKCiAgICByYXlUZXN0KGZyb20sIHRvLCByZXN1bHQpIHsKICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJheWNhc3RSZXN1bHQpIHsKICAgICAgICAvLyBEbyByYXljYXN0Q2xvc2VzdAogICAgICAgIHRoaXMucmF5Y2FzdENsb3Nlc3QoZnJvbSwgdG8sIHsKICAgICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWUKICAgICAgICB9LCByZXN1bHQpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIERvIHJheWNhc3RBbGwKICAgICAgICB0aGlzLnJheWNhc3RBbGwoZnJvbSwgdG8sIHsKICAgICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWUKICAgICAgICB9LCByZXN1bHQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFJheSBjYXN0IGFnYWluc3QgYWxsIGJvZGllcy4gVGhlIHByb3ZpZGVkIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2ggaGl0IHdpdGggYSBSYXljYXN0UmVzdWx0IGFzIHNpbmdsZSBhcmd1bWVudC4KICAgICAqIEBtZXRob2QgcmF5Y2FzdEFsbAogICAgICogQHBhcmFtICB7VmVjM30gZnJvbQogICAgICogQHBhcmFtICB7VmVjM30gdG8KICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucwogICAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXQogICAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV0KICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLnNraXBCYWNrZmFjZXM9ZmFsc2VdCiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdCiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sKICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC4KICAgICAqLwoKCiAgICByYXljYXN0QWxsKGZyb20sIHRvLCBvcHRpb25zID0ge30sIGNhbGxiYWNrKSB7CiAgICAgIG9wdGlvbnMubW9kZSA9IFJheS5BTEw7CiAgICAgIG9wdGlvbnMuZnJvbSA9IGZyb207CiAgICAgIG9wdGlvbnMudG8gPSB0bzsKICAgICAgb3B0aW9ucy5jYWxsYmFjayA9IGNhbGxiYWNrOwogICAgICByZXR1cm4gdG1wUmF5JDEuaW50ZXJzZWN0V29ybGQodGhpcywgb3B0aW9ucyk7CiAgICB9CiAgICAvKioKICAgICAqIFJheSBjYXN0LCBhbmQgc3RvcCBhdCB0aGUgZmlyc3QgcmVzdWx0LiBOb3RlIHRoYXQgdGhlIG9yZGVyIGlzIHJhbmRvbSAtIGJ1dCB0aGUgbWV0aG9kIGlzIGZhc3QuCiAgICAgKiBAbWV0aG9kIHJheWNhc3RBbnkKICAgICAqIEBwYXJhbSAge1ZlYzN9IGZyb20KICAgICAqIEBwYXJhbSAge1ZlYzN9IHRvCiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMKICAgICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0KICAgICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9LTFdCiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5za2lwQmFja2ZhY2VzPWZhbHNlXQogICAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXQogICAgICogQHBhcmFtICB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFueSBib2R5IHdhcyBoaXQuCiAgICAgKi8KCgogICAgcmF5Y2FzdEFueShmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCByZXN1bHQpIHsKICAgICAgb3B0aW9ucy5tb2RlID0gUmF5LkFOWTsKICAgICAgb3B0aW9ucy5mcm9tID0gZnJvbTsKICAgICAgb3B0aW9ucy50byA9IHRvOwogICAgICBvcHRpb25zLnJlc3VsdCA9IHJlc3VsdDsKICAgICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpOwogICAgfQogICAgLyoqCiAgICAgKiBSYXkgY2FzdCwgYW5kIHJldHVybiBpbmZvcm1hdGlvbiBvZiB0aGUgY2xvc2VzdCBoaXQuCiAgICAgKiBAbWV0aG9kIHJheWNhc3RDbG9zZXN0CiAgICAgKiBAcGFyYW0gIHtWZWMzfSBmcm9tCiAgICAgKiBAcGFyYW0gIHtWZWMzfSB0bwogICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zCiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdCiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPS0xXQogICAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV0KICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV0KICAgICAqIEBwYXJhbSAge1JheWNhc3RSZXN1bHR9IHJlc3VsdAogICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0LgogICAgICovCgoKICAgIHJheWNhc3RDbG9zZXN0KGZyb20sIHRvLCBvcHRpb25zID0ge30sIHJlc3VsdCkgewogICAgICBvcHRpb25zLm1vZGUgPSBSYXkuQ0xPU0VTVDsKICAgICAgb3B0aW9ucy5mcm9tID0gZnJvbTsKICAgICAgb3B0aW9ucy50byA9IHRvOwogICAgICBvcHRpb25zLnJlc3VsdCA9IHJlc3VsdDsKICAgICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpOwogICAgfQogICAgLyoqCiAgICAgKiBBZGQgYSByaWdpZCBib2R5IHRvIHRoZSBzaW11bGF0aW9uLgogICAgICogQG1ldGhvZCBhZGQKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keQogICAgICogQHRvZG8gSWYgdGhlIHNpbXVsYXRpb24gaGFzIG5vdCB5ZXQgc3RhcnRlZCwgd2h5IHJlY3JldGUgYW5kIGNvcHkgYXJyYXlzIGZvciBlYWNoIGJvZHk/IEFjY3VtdWxhdGUgaW4gZHluYW1pYyBhcnJheXMgaW4gdGhpcyBjYXNlLgogICAgICogQHRvZG8gQWRkaW5nIGFuIGFycmF5IG9mIGJvZGllcyBzaG91bGQgYmUgcG9zc2libGUuIFRoaXMgd291bGQgc2F2ZSBzb21lIGxvb3BzIHRvbwogICAgICovCgoKICAgIGFkZEJvZHkoYm9keSkgewogICAgICBpZiAodGhpcy5ib2RpZXMuaW5jbHVkZXMoYm9keSkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGJvZHkuaW5kZXggPSB0aGlzLmJvZGllcy5sZW5ndGg7CiAgICAgIHRoaXMuYm9kaWVzLnB1c2goYm9keSk7CiAgICAgIGJvZHkud29ybGQgPSB0aGlzOwogICAgICBib2R5LmluaXRQb3NpdGlvbi5jb3B5KGJvZHkucG9zaXRpb24pOwogICAgICBib2R5LmluaXRWZWxvY2l0eS5jb3B5KGJvZHkudmVsb2NpdHkpOwogICAgICBib2R5LnRpbWVMYXN0U2xlZXB5ID0gdGhpcy50aW1lOwoKICAgICAgaWYgKGJvZHkgaW5zdGFuY2VvZiBCb2R5KSB7CiAgICAgICAgYm9keS5pbml0QW5ndWxhclZlbG9jaXR5LmNvcHkoYm9keS5hbmd1bGFyVmVsb2NpdHkpOwogICAgICAgIGJvZHkuaW5pdFF1YXRlcm5pb24uY29weShib2R5LnF1YXRlcm5pb24pOwogICAgICB9CgogICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXROdW1PYmplY3RzKHRoaXMuYm9kaWVzLmxlbmd0aCk7CiAgICAgIHRoaXMuYWRkQm9keUV2ZW50LmJvZHkgPSBib2R5OwogICAgICB0aGlzLmlkVG9Cb2R5TWFwW2JvZHkuaWRdID0gYm9keTsKICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHRoaXMuYWRkQm9keUV2ZW50KTsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGEgcmlnaWQgYm9keSBmcm9tIHRoZSBzaW11bGF0aW9uLgogICAgICogQG1ldGhvZCByZW1vdmUKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keQogICAgICovCgoKICAgIHJlbW92ZUJvZHkoYm9keSkgewogICAgICBib2R5LndvcmxkID0gbnVsbDsKICAgICAgY29uc3QgbiA9IHRoaXMuYm9kaWVzLmxlbmd0aCAtIDE7CiAgICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzOwogICAgICBjb25zdCBpZHggPSBib2RpZXMuaW5kZXhPZihib2R5KTsKCiAgICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgYm9kaWVzLnNwbGljZShpZHgsIDEpOyAvLyBUb2RvOiBzaG91bGQgdXNlIGEgZ2FyYmFnZSBmcmVlIG1ldGhvZAogICAgICAgIC8vIFJlY29tcHV0ZSBpbmRleAoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBib2RpZXNbaV0uaW5kZXggPSBpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0TnVtT2JqZWN0cyhuKTsKICAgICAgICB0aGlzLnJlbW92ZUJvZHlFdmVudC5ib2R5ID0gYm9keTsKICAgICAgICBkZWxldGUgdGhpcy5pZFRvQm9keU1hcFtib2R5LmlkXTsKICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy5yZW1vdmVCb2R5RXZlbnQpOwogICAgICB9CiAgICB9CgogICAgZ2V0Qm9keUJ5SWQoaWQpIHsKICAgICAgcmV0dXJuIHRoaXMuaWRUb0JvZHlNYXBbaWRdOwogICAgfSAvLyBUT0RPIE1ha2UgYSBmYXN0ZXIgbWFwCgoKICAgIGdldFNoYXBlQnlJZChpZCkgewogICAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllczsKCiAgICAgIGZvciAobGV0IGkgPSAwLCBibCA9IGJvZGllcy5sZW5ndGg7IGkgPCBibDsgaSsrKSB7CiAgICAgICAgY29uc3Qgc2hhcGVzID0gYm9kaWVzW2ldLnNoYXBlczsKCiAgICAgICAgZm9yIChsZXQgaiA9IDAsIHNsID0gc2hhcGVzLmxlbmd0aDsgaiA8IHNsOyBqKyspIHsKICAgICAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2pdOwoKICAgICAgICAgIGlmIChzaGFwZS5pZCA9PT0gaWQpIHsKICAgICAgICAgICAgcmV0dXJuIHNoYXBlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBBZGRzIGEgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkLgogICAgICogQG1ldGhvZCBhZGRNYXRlcmlhbAogICAgICogQHBhcmFtIHtNYXRlcmlhbH0gbQogICAgICogQHRvZG8gTmVjZXNzYXJ5PwogICAgICovCgoKICAgIGFkZE1hdGVyaWFsKG0pIHsKICAgICAgdGhpcy5tYXRlcmlhbHMucHVzaChtKTsKICAgIH0KICAgIC8qKgogICAgICogQWRkcyBhIGNvbnRhY3QgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkCiAgICAgKiBAbWV0aG9kIGFkZENvbnRhY3RNYXRlcmlhbAogICAgICogQHBhcmFtIHtDb250YWN0TWF0ZXJpYWx9IGNtYXQKICAgICAqLwoKCiAgICBhZGRDb250YWN0TWF0ZXJpYWwoY21hdCkgewogICAgICAvLyBBZGQgY29udGFjdCBtYXRlcmlhbAogICAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMucHVzaChjbWF0KTsgLy8gQWRkIGN1cnJlbnQgY29udGFjdCBtYXRlcmlhbCB0byB0aGUgbWF0ZXJpYWwgdGFibGUKCiAgICAgIHRoaXMuY29udGFjdE1hdGVyaWFsVGFibGUuc2V0KGNtYXQubWF0ZXJpYWxzWzBdLmlkLCBjbWF0Lm1hdGVyaWFsc1sxXS5pZCwgY21hdCk7CiAgICB9CiAgICAvKioKICAgICAqIFN0ZXAgdGhlIHBoeXNpY3Mgd29ybGQgZm9yd2FyZCBpbiB0aW1lLgogICAgICoKICAgICAqIFRoZXJlIGFyZSB0d28gbW9kZXMuIFRoZSBzaW1wbGUgbW9kZSBpcyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uLiBJbiB0aGlzIGNhc2UgeW91IG9ubHkgdXNlIHRoZSBmaXJzdCBhcmd1bWVudC4gVGhlIHNlY29uZCBjYXNlIHVzZXMgaW50ZXJwb2xhdGlvbi4gSW4gdGhhdCB5b3UgYWxzbyBwcm92aWRlIHRoZSB0aW1lIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCB1c2VkLCBhcyB3ZWxsIGFzIHRoZSBtYXhpbXVtIGZpeGVkIHRpbWVzdGVwcyB0byB0YWtlLgogICAgICoKICAgICAqIEBtZXRob2Qgc3RlcAogICAgICogQHBhcmFtIHtOdW1iZXJ9IGR0ICAgICAgICAgICAgICAgICAgICAgICBUaGUgZml4ZWQgdGltZSBzdGVwIHNpemUgdG8gdXNlLgogICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lU2luY2VMYXN0Q2FsbGVkXSAgICBUaGUgdGltZSBlbGFwc2VkIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCBjYWxsZWQuCiAgICAgKiBAcGFyYW0ge051bWJlcn0gW21heFN1YlN0ZXBzPTEwXSAgICAgICAgIE1heGltdW0gbnVtYmVyIG9mIGZpeGVkIHN0ZXBzIHRvIHRha2UgcGVyIGZ1bmN0aW9uIGNhbGwuCiAgICAgKgogICAgICogQGV4YW1wbGUKICAgICAqICAgICAvLyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uCiAgICAgKiAgICAgd29ybGQuc3RlcCgxLzYwKTsKICAgICAqCiAgICAgKiBAc2VlIGh0dHA6Ly9idWxsZXRwaHlzaWNzLm9yZy9tZWRpYXdpa2ktMS41LjgvaW5kZXgucGhwL1N0ZXBwaW5nX1RoZV9Xb3JsZAogICAgICovCgoKICAgIHN0ZXAoZHQsIHRpbWVTaW5jZUxhc3RDYWxsZWQsIG1heFN1YlN0ZXBzID0gMTApIHsKICAgICAgaWYgKHRpbWVTaW5jZUxhc3RDYWxsZWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIC8vIEZpeGVkLCBzaW1wbGUgc3RlcHBpbmcKICAgICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7IC8vIEluY3JlbWVudCB0aW1lCgogICAgICAgIHRoaXMudGltZSArPSBkdDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFjY3VtdWxhdG9yICs9IHRpbWVTaW5jZUxhc3RDYWxsZWQ7CiAgICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZSQxLm5vdygpOwogICAgICAgIGxldCBzdWJzdGVwcyA9IDA7CgogICAgICAgIHdoaWxlICh0aGlzLmFjY3VtdWxhdG9yID49IGR0ICYmIHN1YnN0ZXBzIDwgbWF4U3ViU3RlcHMpIHsKICAgICAgICAgIC8vIERvIGZpeGVkIHN0ZXBzIHRvIGNhdGNoIHVwCiAgICAgICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7CiAgICAgICAgICB0aGlzLmFjY3VtdWxhdG9yIC09IGR0OwogICAgICAgICAgc3Vic3RlcHMrKzsKCiAgICAgICAgICBpZiAocGVyZm9ybWFuY2UkMS5ub3coKSAtIHQwID4gZHQgKiAxMDAwKSB7CiAgICAgICAgICAgIC8vIFRoZSBmcmFtZXJhdGUgaXMgbm90IGludGVyYWN0aXZlIGFueW1vcmUuCiAgICAgICAgICAgIC8vIFdlIGFyZSBiZWxvdyB0aGUgdGFyZ2V0IGZyYW1lcmF0ZS4KICAgICAgICAgICAgLy8gQmV0dGVyIGJhaWwgb3V0LgogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9IC8vIFJlbW92ZSB0aGUgZXhjZXNzIGFjY3VtdWxhdG9yLCBzaW5jZSB3ZSBtYXkgbm90CiAgICAgICAgLy8gaGF2ZSBoYWQgZW5vdWdoIHN1YnN0ZXBzIGF2YWlsYWJsZSB0byBjYXRjaCB1cAoKCiAgICAgICAgdGhpcy5hY2N1bXVsYXRvciA9IHRoaXMuYWNjdW11bGF0b3IgJSBkdDsKICAgICAgICBjb25zdCB0ID0gdGhpcy5hY2N1bXVsYXRvciAvIGR0OwoKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gdGhpcy5ib2RpZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGNvbnN0IGIgPSB0aGlzLmJvZGllc1tqXTsKICAgICAgICAgIGIucHJldmlvdXNQb3NpdGlvbi5sZXJwKGIucG9zaXRpb24sIHQsIGIuaW50ZXJwb2xhdGVkUG9zaXRpb24pOwogICAgICAgICAgYi5wcmV2aW91c1F1YXRlcm5pb24uc2xlcnAoYi5xdWF0ZXJuaW9uLCB0LCBiLmludGVycG9sYXRlZFF1YXRlcm5pb24pOwogICAgICAgICAgYi5wcmV2aW91c1F1YXRlcm5pb24ubm9ybWFsaXplKCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnRpbWUgKz0gdGltZVNpbmNlTGFzdENhbGxlZDsKICAgICAgfQogICAgfQoKICAgIGludGVybmFsU3RlcChkdCkgewogICAgICB0aGlzLmR0ID0gZHQ7CiAgICAgIGNvbnN0IGNvbnRhY3RzID0gdGhpcy5jb250YWN0czsKICAgICAgY29uc3QgcDEgPSBXb3JsZF9zdGVwX3AxOwogICAgICBjb25zdCBwMiA9IFdvcmxkX3N0ZXBfcDI7CiAgICAgIGNvbnN0IE4gPSB0aGlzLm51bU9iamVjdHMoKTsKICAgICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7CiAgICAgIGNvbnN0IHNvbHZlciA9IHRoaXMuc29sdmVyOwogICAgICBjb25zdCBncmF2aXR5ID0gdGhpcy5ncmF2aXR5OwogICAgICBjb25zdCBkb1Byb2ZpbGluZyA9IHRoaXMuZG9Qcm9maWxpbmc7CiAgICAgIGNvbnN0IHByb2ZpbGUgPSB0aGlzLnByb2ZpbGU7CiAgICAgIGNvbnN0IERZTkFNSUMgPSBCb2R5LkRZTkFNSUM7CiAgICAgIGxldCBwcm9maWxpbmdTdGFydCA9IC1JbmZpbml0eTsKICAgICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzOwogICAgICBjb25zdCBmcmljdGlvbkVxdWF0aW9uUG9vbCA9IFdvcmxkX3N0ZXBfZnJpY3Rpb25FcXVhdGlvblBvb2w7CiAgICAgIGdyYXZpdHkubGVuZ3RoKCk7CiAgICAgIGNvbnN0IGd4ID0gZ3Jhdml0eS54OwogICAgICBjb25zdCBneSA9IGdyYXZpdHkueTsKICAgICAgY29uc3QgZ3ogPSBncmF2aXR5Lno7CiAgICAgIGxldCBpID0gMDsKCiAgICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2UkMS5ub3coKTsKICAgICAgfSAvLyBBZGQgZ3Jhdml0eSB0byBhbGwgb2JqZWN0cwoKCiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwoKICAgICAgICBpZiAoYmkudHlwZSA9PT0gRFlOQU1JQykgewogICAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYyBib2RpZXMKICAgICAgICAgIGNvbnN0IGYgPSBiaS5mb3JjZTsKICAgICAgICAgIGNvbnN0IG0gPSBiaS5tYXNzOwogICAgICAgICAgZi54ICs9IG0gKiBneDsKICAgICAgICAgIGYueSArPSBtICogZ3k7CiAgICAgICAgICBmLnogKz0gbSAqIGd6OwogICAgICAgIH0KICAgICAgfSAvLyBVcGRhdGUgc3Vic3lzdGVtcwoKCiAgICAgIGZvciAobGV0IGkgPSAwLCBOc3Vic3lzdGVtcyA9IHRoaXMuc3Vic3lzdGVtcy5sZW5ndGg7IGkgIT09IE5zdWJzeXN0ZW1zOyBpKyspIHsKICAgICAgICB0aGlzLnN1YnN5c3RlbXNbaV0udXBkYXRlKCk7CiAgICAgIH0gLy8gQ29sbGlzaW9uIGRldGVjdGlvbgoKCiAgICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2UkMS5ub3coKTsKICAgICAgfQoKICAgICAgcDEubGVuZ3RoID0gMDsgLy8gQ2xlYW4gdXAgcGFpciBhcnJheXMgZnJvbSBsYXN0IHN0ZXAKCiAgICAgIHAyLmxlbmd0aCA9IDA7CiAgICAgIHRoaXMuYnJvYWRwaGFzZS5jb2xsaXNpb25QYWlycyh0aGlzLCBwMSwgcDIpOwoKICAgICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgICAgcHJvZmlsZS5icm9hZHBoYXNlID0gcGVyZm9ybWFuY2UkMS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgICB9IC8vIFJlbW92ZSBjb25zdHJhaW5lZCBwYWlycyB3aXRoIGNvbGxpZGVDb25uZWN0ZWQgPT0gZmFsc2UKCgogICAgICBsZXQgTmNvbnN0cmFpbnRzID0gY29uc3RyYWludHMubGVuZ3RoOwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTmNvbnN0cmFpbnRzOyBpKyspIHsKICAgICAgICBjb25zdCBjID0gY29uc3RyYWludHNbaV07CgogICAgICAgIGlmICghYy5jb2xsaWRlQ29ubmVjdGVkKSB7CiAgICAgICAgICBmb3IgKGxldCBqID0gcDEubGVuZ3RoIC0gMTsgaiA+PSAwOyBqIC09IDEpIHsKICAgICAgICAgICAgaWYgKGMuYm9keUEgPT09IHAxW2pdICYmIGMuYm9keUIgPT09IHAyW2pdIHx8IGMuYm9keUIgPT09IHAxW2pdICYmIGMuYm9keUEgPT09IHAyW2pdKSB7CiAgICAgICAgICAgICAgcDEuc3BsaWNlKGosIDEpOwogICAgICAgICAgICAgIHAyLnNwbGljZShqLCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXhUaWNrKCk7IC8vIEdlbmVyYXRlIGNvbnRhY3RzCgogICAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlJDEubm93KCk7CiAgICAgIH0KCiAgICAgIGNvbnN0IG9sZGNvbnRhY3RzID0gV29ybGRfc3RlcF9vbGRDb250YWN0czsKICAgICAgY29uc3QgTm9sZENvbnRhY3RzID0gY29udGFjdHMubGVuZ3RoOwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZENvbnRhY3RzOyBpKyspIHsKICAgICAgICBvbGRjb250YWN0cy5wdXNoKGNvbnRhY3RzW2ldKTsKICAgICAgfQoKICAgICAgY29udGFjdHMubGVuZ3RoID0gMDsgLy8gVHJhbnNmZXIgRnJpY3Rpb25FcXVhdGlvbiBmcm9tIGN1cnJlbnQgbGlzdCB0byB0aGUgcG9vbCBmb3IgcmV1c2UKCiAgICAgIGNvbnN0IE5vbGRGcmljdGlvbkVxdWF0aW9ucyA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoOwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZEZyaWN0aW9uRXF1YXRpb25zOyBpKyspIHsKICAgICAgICBmcmljdGlvbkVxdWF0aW9uUG9vbC5wdXNoKHRoaXMuZnJpY3Rpb25FcXVhdGlvbnNbaV0pOwogICAgICB9CgogICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aCA9IDA7CiAgICAgIHRoaXMubmFycm93cGhhc2UuZ2V0Q29udGFjdHMocDEsIHAyLCB0aGlzLCBjb250YWN0cywgb2xkY29udGFjdHMsIC8vIFRvIGJlIHJldXNlZAogICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLCBmcmljdGlvbkVxdWF0aW9uUG9vbCk7CgogICAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgICBwcm9maWxlLm5hcnJvd3BoYXNlID0gcGVyZm9ybWFuY2UkMS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgICB9IC8vIExvb3Agb3ZlciBhbGwgY29sbGlzaW9ucwoKCiAgICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2UkMS5ub3coKTsKICAgICAgfSAvLyBBZGQgYWxsIGZyaWN0aW9uIGVxcwoKCiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKHRoaXMuZnJpY3Rpb25FcXVhdGlvbnNbaV0pOwogICAgICB9CgogICAgICBjb25zdCBuY29udGFjdHMgPSBjb250YWN0cy5sZW5ndGg7CgogICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gbmNvbnRhY3RzOyBrKyspIHsKICAgICAgICAvLyBDdXJyZW50IGNvbnRhY3QKICAgICAgICBjb25zdCBjID0gY29udGFjdHNba107IC8vIEdldCBjdXJyZW50IGNvbGxpc2lvbiBpbmRlY2VzCgogICAgICAgIGNvbnN0IGJpID0gYy5iaTsKICAgICAgICBjb25zdCBiaiA9IGMuYmo7CiAgICAgICAgY29uc3Qgc2kgPSBjLnNpOwogICAgICAgIGNvbnN0IHNqID0gYy5zajsgLy8gR2V0IGNvbGxpc2lvbiBwcm9wZXJ0aWVzCgogICAgICAgIGxldCBjbTsKCiAgICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7CiAgICAgICAgICBjbSA9IHRoaXMuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjbSA9IHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDsKICAgICAgICB9IC8vIGMuZW5hYmxlZCA9IGJpLmNvbGxpc2lvblJlc3BvbnNlICYmIGJqLmNvbGxpc2lvblJlc3BvbnNlICYmIHNpLmNvbGxpc2lvblJlc3BvbnNlICYmIHNqLmNvbGxpc2lvblJlc3BvbnNlOwoKCiAgICAgICAgY20uZnJpY3Rpb247IC8vIGMucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjsKICAgICAgICAvLyBJZiBmcmljdGlvbiBvciByZXN0aXR1dGlvbiB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgbWF0ZXJpYWwsIHVzZSB0aGVtCgogICAgICAgIGlmIChiaS5tYXRlcmlhbCAmJiBiai5tYXRlcmlhbCkgewogICAgICAgICAgaWYgKGJpLm1hdGVyaWFsLmZyaWN0aW9uID49IDAgJiYgYmoubWF0ZXJpYWwuZnJpY3Rpb24gPj0gMCkgewogICAgICAgICAgICBiaS5tYXRlcmlhbC5mcmljdGlvbiAqIGJqLm1hdGVyaWFsLmZyaWN0aW9uOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChiaS5tYXRlcmlhbC5yZXN0aXR1dGlvbiA+PSAwICYmIGJqLm1hdGVyaWFsLnJlc3RpdHV0aW9uID49IDApIHsKICAgICAgICAgICAgYy5yZXN0aXR1dGlvbiA9IGJpLm1hdGVyaWFsLnJlc3RpdHV0aW9uICogYmoubWF0ZXJpYWwucmVzdGl0dXRpb247CiAgICAgICAgICB9CiAgICAgICAgfSAvLyBjLnNldFNwb29rUGFyYW1zKAogICAgICAgIC8vICAgICAgICAgICBjbS5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MsCiAgICAgICAgLy8gICAgICAgICAgIGNtLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sCiAgICAgICAgLy8gICAgICAgICAgIGR0CiAgICAgICAgLy8gICAgICAgKTsKCgogICAgICAgIHNvbHZlci5hZGRFcXVhdGlvbihjKTsgLy8gLy8gQWRkIGZyaWN0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb24KICAgICAgICAvLyBpZihtdSA+IDApewogICAgICAgIC8vIAkvLyBDcmVhdGUgMiB0YW5nZW50IGVxdWF0aW9ucwogICAgICAgIC8vIAljb25zdCBtdWcgPSBtdSAqIGdub3JtOwogICAgICAgIC8vIAljb25zdCByZWR1Y2VkTWFzcyA9IChiaS5pbnZNYXNzICsgYmouaW52TWFzcyk7CiAgICAgICAgLy8gCWlmKHJlZHVjZWRNYXNzID4gMCl7CiAgICAgICAgLy8gCQlyZWR1Y2VkTWFzcyA9IDEvcmVkdWNlZE1hc3M7CiAgICAgICAgLy8gCX0KICAgICAgICAvLyAJY29uc3QgcG9vbCA9IGZyaWN0aW9uRXF1YXRpb25Qb29sOwogICAgICAgIC8vIAljb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJpLGJqLG11ZypyZWR1Y2VkTWFzcyk7CiAgICAgICAgLy8gCWNvbnN0IGMyID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYmksYmosbXVnKnJlZHVjZWRNYXNzKTsKICAgICAgICAvLyAJdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKGMxLCBjMik7CiAgICAgICAgLy8gCWMxLmJpID0gYzIuYmkgPSBiaTsKICAgICAgICAvLyAJYzEuYmogPSBjMi5iaiA9IGJqOwogICAgICAgIC8vIAljMS5taW5Gb3JjZSA9IGMyLm1pbkZvcmNlID0gLW11ZypyZWR1Y2VkTWFzczsKICAgICAgICAvLyAJYzEubWF4Rm9yY2UgPSBjMi5tYXhGb3JjZSA9IG11ZypyZWR1Y2VkTWFzczsKICAgICAgICAvLyAJLy8gQ29weSBvdmVyIHRoZSByZWxhdGl2ZSB2ZWN0b3JzCiAgICAgICAgLy8gCWMxLnJpLmNvcHkoYy5yaSk7CiAgICAgICAgLy8gCWMxLnJqLmNvcHkoYy5yaik7CiAgICAgICAgLy8gCWMyLnJpLmNvcHkoYy5yaSk7CiAgICAgICAgLy8gCWMyLnJqLmNvcHkoYy5yaik7CiAgICAgICAgLy8gCS8vIENvbnN0cnVjdCB0YW5nZW50cwogICAgICAgIC8vIAljLm5pLnRhbmdlbnRzKGMxLnQsIGMyLnQpOwogICAgICAgIC8vICAgICAgICAgICAvLyBTZXQgc3Bvb2sgcGFyYW1zCiAgICAgICAgLy8gICAgICAgICAgIGMxLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCBkdCk7CiAgICAgICAgLy8gICAgICAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCBkdCk7CiAgICAgICAgLy8gICAgICAgICAgIGMxLmVuYWJsZWQgPSBjMi5lbmFibGVkID0gYy5lbmFibGVkOwogICAgICAgIC8vIAkvLyBBZGQgZXF1YXRpb25zIHRvIHNvbHZlcgogICAgICAgIC8vIAlzb2x2ZXIuYWRkRXF1YXRpb24oYzEpOwogICAgICAgIC8vIAlzb2x2ZXIuYWRkRXF1YXRpb24oYzIpOwogICAgICAgIC8vIH0KCiAgICAgICAgaWYgKGJpLmFsbG93U2xlZXAgJiYgYmkudHlwZSA9PT0gQm9keS5EWU5BTUlDICYmIGJpLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgJiYgYmouc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBiai50eXBlICE9PSBCb2R5LlNUQVRJQykgewogICAgICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkQiA9IGJqLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIGJqLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7CiAgICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZEIgPSBiai5zbGVlcFNwZWVkTGltaXQgKiogMjsKCiAgICAgICAgICBpZiAoc3BlZWRTcXVhcmVkQiA+PSBzcGVlZExpbWl0U3F1YXJlZEIgKiAyKSB7CiAgICAgICAgICAgIGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGJqLmFsbG93U2xlZXAgJiYgYmoudHlwZSA9PT0gQm9keS5EWU5BTUlDICYmIGJqLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgJiYgYmkuc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBiaS50eXBlICE9PSBCb2R5LlNUQVRJQykgewogICAgICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkQSA9IGJpLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIGJpLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7CiAgICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZEEgPSBiaS5zbGVlcFNwZWVkTGltaXQgKiogMjsKCiAgICAgICAgICBpZiAoc3BlZWRTcXVhcmVkQSA+PSBzcGVlZExpbWl0U3F1YXJlZEEgKiAyKSB7CiAgICAgICAgICAgIGJqLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gLy8gTm93IHdlIGtub3cgdGhhdCBpIGFuZCBqIGFyZSBpbiBjb250YWN0LiBTZXQgY29sbGlzaW9uIG1hdHJpeCBzdGF0ZQoKCiAgICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0KGJpLCBiaiwgdHJ1ZSk7CgogICAgICAgIGlmICghdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cy5nZXQoYmksIGJqKSkgewogICAgICAgICAgLy8gRmlyc3QgY29udGFjdCEKICAgICAgICAgIC8vIFdlIHJldXNlIHRoZSBjb2xsaWRlRXZlbnQgb2JqZWN0LCBvdGhlcndpc2Ugd2Ugd2lsbCBlbmQgdXAgY3JlYXRpbmcgbmV3IG9iamVjdHMgZm9yIGVhY2ggbmV3IGNvbnRhY3QsIGV2ZW4gaWYgdGhlcmUncyBubyBldmVudCBsaXN0ZW5lciBhdHRhY2hlZC4KICAgICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmJvZHkgPSBiajsKICAgICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmNvbnRhY3QgPSBjOwogICAgICAgICAgYmkuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCk7CiAgICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5ib2R5ID0gYmk7CiAgICAgICAgICBiai5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7CiAgICAgICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIuc2V0KHNpLmlkLCBzai5pZCk7CiAgICAgIH0KCiAgICAgIHRoaXMuZW1pdENvbnRhY3RFdmVudHMoKTsKCiAgICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICAgIHByb2ZpbGUubWFrZUNvbnRhY3RDb25zdHJhaW50cyA9IHBlcmZvcm1hbmNlJDEubm93KCkgLSBwcm9maWxpbmdTdGFydDsKICAgICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlJDEubm93KCk7CiAgICAgIH0gLy8gV2FrZSB1cCBib2RpZXMKCgogICAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgICAgaWYgKGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UpIHsKICAgICAgICAgIGJpLndha2VVcCgpOwogICAgICAgICAgYmkud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSAvLyBBZGQgdXNlci1hZGRlZCBjb25zdHJhaW50cwoKCiAgICAgIE5jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzLmxlbmd0aDsKCiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE5jb25zdHJhaW50czsgaSsrKSB7CiAgICAgICAgY29uc3QgYyA9IGNvbnN0cmFpbnRzW2ldOwogICAgICAgIGMudXBkYXRlKCk7CgogICAgICAgIGZvciAobGV0IGogPSAwLCBOZXEgPSBjLmVxdWF0aW9ucy5sZW5ndGg7IGogIT09IE5lcTsgaisrKSB7CiAgICAgICAgICBjb25zdCBlcSA9IGMuZXF1YXRpb25zW2pdOwogICAgICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKGVxKTsKICAgICAgICB9CiAgICAgIH0gLy8gU29sdmUgdGhlIGNvbnN0cmFpbmVkIHN5c3RlbQoKCiAgICAgIHNvbHZlci5zb2x2ZShkdCwgdGhpcyk7CgogICAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgICBwcm9maWxlLnNvbHZlID0gcGVyZm9ybWFuY2UkMS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgICB9IC8vIFJlbW92ZSBhbGwgY29udGFjdHMgZnJvbSBzb2x2ZXIKCgogICAgICBzb2x2ZXIucmVtb3ZlQWxsRXF1YXRpb25zKCk7IC8vIEFwcGx5IGRhbXBpbmcsIHNlZSBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYnVsbGV0L2lzc3Vlcy9kZXRhaWw/aWQ9NzQgZm9yIGRldGFpbHMKCiAgICAgIGNvbnN0IHBvdyA9IE1hdGgucG93OwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICAgIGlmIChiaS50eXBlICYgRFlOQU1JQykgewogICAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYyBib2RpZXMKICAgICAgICAgIGNvbnN0IGxkID0gcG93KDEuMCAtIGJpLmxpbmVhckRhbXBpbmcsIGR0KTsKICAgICAgICAgIGNvbnN0IHYgPSBiaS52ZWxvY2l0eTsKICAgICAgICAgIHYuc2NhbGUobGQsIHYpOwogICAgICAgICAgY29uc3QgYXYgPSBiaS5hbmd1bGFyVmVsb2NpdHk7CgogICAgICAgICAgaWYgKGF2KSB7CiAgICAgICAgICAgIGNvbnN0IGFkID0gcG93KDEuMCAtIGJpLmFuZ3VsYXJEYW1waW5nLCBkdCk7CiAgICAgICAgICAgIGF2LnNjYWxlKGFkLCBhdik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9wcmVTdGVwRXZlbnQpOyAvLyBJbnZva2UgcHJlLXN0ZXAgY2FsbGJhY2tzCgogICAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgICAgaWYgKGJpLnByZVN0ZXApIHsKICAgICAgICAgIGJpLnByZVN0ZXAuY2FsbChiaSk7CiAgICAgICAgfQogICAgICB9IC8vIExlYXAgZnJvZwogICAgICAvLyB2bmV3ID0gdiArIGgqZi9tCiAgICAgIC8vIHhuZXcgPSB4ICsgaCp2bmV3CgoKICAgICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZSQxLm5vdygpOwogICAgICB9CgogICAgICBjb25zdCBzdGVwbnVtYmVyID0gdGhpcy5zdGVwbnVtYmVyOwogICAgICBjb25zdCBxdWF0Tm9ybWFsaXplID0gc3RlcG51bWJlciAlICh0aGlzLnF1YXROb3JtYWxpemVTa2lwICsgMSkgPT09IDA7CiAgICAgIGNvbnN0IHF1YXROb3JtYWxpemVGYXN0ID0gdGhpcy5xdWF0Tm9ybWFsaXplRmFzdDsKCiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGJvZGllc1tpXS5pbnRlZ3JhdGUoZHQsIHF1YXROb3JtYWxpemUsIHF1YXROb3JtYWxpemVGYXN0KTsKICAgICAgfQoKICAgICAgdGhpcy5jbGVhckZvcmNlcygpOwogICAgICB0aGlzLmJyb2FkcGhhc2UuZGlydHkgPSB0cnVlOwoKICAgICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgICAgcHJvZmlsZS5pbnRlZ3JhdGUgPSBwZXJmb3JtYW5jZSQxLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7CiAgICAgIH0gLy8gVXBkYXRlIHdvcmxkIHRpbWUKCgogICAgICB0aGlzLnRpbWUgKz0gZHQ7CiAgICAgIHRoaXMuc3RlcG51bWJlciArPSAxOwogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50KTsgLy8gSW52b2tlIHBvc3Qtc3RlcCBjYWxsYmFja3MKCiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwogICAgICAgIGNvbnN0IHBvc3RTdGVwID0gYmkucG9zdFN0ZXA7CgogICAgICAgIGlmIChwb3N0U3RlcCkgewogICAgICAgICAgcG9zdFN0ZXAuY2FsbChiaSk7CiAgICAgICAgfQogICAgICB9IC8vIFNsZWVwaW5nIHVwZGF0ZQoKCiAgICAgIGxldCBoYXNBY3RpdmVCb2RpZXMgPSB0cnVlOwoKICAgICAgaWYgKHRoaXMuYWxsb3dTbGVlcCkgewogICAgICAgIGhhc0FjdGl2ZUJvZGllcyA9IGZhbHNlOwoKICAgICAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwogICAgICAgICAgYmkuc2xlZXBUaWNrKHRoaXMudGltZSk7CgogICAgICAgICAgaWYgKGJpLnNsZWVwU3RhdGUgIT09IEJvZHkuU0xFRVBJTkcpIHsKICAgICAgICAgICAgaGFzQWN0aXZlQm9kaWVzID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gaGFzQWN0aXZlQm9kaWVzOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIGFsbCBib2R5IGZvcmNlcyBpbiB0aGUgd29ybGQgdG8gemVyby4KICAgICAqIEBtZXRob2QgY2xlYXJGb3JjZXMKICAgICAqLwoKCiAgICBjbGVhckZvcmNlcygpIHsKICAgICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7CiAgICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgICAgYi5mb3JjZTsKICAgICAgICBiLnRvcnF1ZTsKICAgICAgICBiLmZvcmNlLnNldCgwLCAwLCAwKTsKICAgICAgICBiLnRvcnF1ZS5zZXQoMCwgMCwgMCk7CiAgICAgIH0KICAgIH0KCiAgfSAvLyBUZW1wIHN0dWZmCgoKICBuZXcgQUFCQigpOwogIGNvbnN0IHRtcFJheSQxID0gbmV3IFJheSgpOyAvLyBwZXJmb3JtYW5jZS5ub3coKSBmYWxsYmFjayBvbiBEYXRlLm5vdygpCgogIGNvbnN0IHBlcmZvcm1hbmNlJDEgPSBnbG9iYWxUaGlzLnBlcmZvcm1hbmNlIHx8IHt9OwoKICBpZiAoIXBlcmZvcm1hbmNlJDEubm93KSB7CiAgICBsZXQgbm93T2Zmc2V0ID0gRGF0ZS5ub3coKTsKCiAgICBpZiAocGVyZm9ybWFuY2UkMS50aW1pbmcgJiYgcGVyZm9ybWFuY2UkMS50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSB7CiAgICAgIG5vd09mZnNldCA9IHBlcmZvcm1hbmNlJDEudGltaW5nLm5hdmlnYXRpb25TdGFydDsKICAgIH0KCiAgICBwZXJmb3JtYW5jZSQxLm5vdyA9ICgpID0+IERhdGUubm93KCkgLSBub3dPZmZzZXQ7CiAgfSAvLyBSZXVzYWJsZSBldmVudCBvYmplY3RzIHRvIHNhdmUgbWVtb3J5LgoKCiAgY29uc3QgV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50ID0gewogICAgdHlwZTogJ3Bvc3RTdGVwJwogIH07IC8vIERpc3BhdGNoZWQgYmVmb3JlIHRoZSB3b3JsZCBzdGVwcyBmb3J3YXJkIGluIHRpbWUuCgogIGNvbnN0IFdvcmxkX3N0ZXBfcHJlU3RlcEV2ZW50ID0gewogICAgdHlwZTogJ3ByZVN0ZXAnCiAgfTsKICBjb25zdCBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCA9IHsKICAgIHR5cGU6IEJvZHkuQ09MTElERV9FVkVOVF9OQU1FLAogICAgYm9keTogbnVsbCwKICAgIGNvbnRhY3Q6IG51bGwKICB9OyAvLyBQb29scyBmb3IgdW51c2VkIG9iamVjdHMKCiAgY29uc3QgV29ybGRfc3RlcF9vbGRDb250YWN0cyA9IFtdOwogIGNvbnN0IFdvcmxkX3N0ZXBfZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBbXTsgLy8gUmV1c2FibGUgYXJyYXlzIGZvciBjb2xsaXNpb24gcGFpcnMKCiAgY29uc3QgV29ybGRfc3RlcF9wMSA9IFtdOwogIGNvbnN0IFdvcmxkX3N0ZXBfcDIgPSBbXTsKCiAgV29ybGQucHJvdG90eXBlLmVtaXRDb250YWN0RXZlbnRzID0gKCgpID0+IHsKICAgIGNvbnN0IGFkZGl0aW9ucyA9IFtdOwogICAgY29uc3QgcmVtb3ZhbHMgPSBbXTsKICAgIGNvbnN0IGJlZ2luQ29udGFjdEV2ZW50ID0gewogICAgICB0eXBlOiAnYmVnaW5Db250YWN0JywKICAgICAgYm9keUE6IG51bGwsCiAgICAgIGJvZHlCOiBudWxsCiAgICB9OwogICAgY29uc3QgZW5kQ29udGFjdEV2ZW50ID0gewogICAgICB0eXBlOiAnZW5kQ29udGFjdCcsCiAgICAgIGJvZHlBOiBudWxsLAogICAgICBib2R5QjogbnVsbAogICAgfTsKICAgIGNvbnN0IGJlZ2luU2hhcGVDb250YWN0RXZlbnQgPSB7CiAgICAgIHR5cGU6ICdiZWdpblNoYXBlQ29udGFjdCcsCiAgICAgIGJvZHlBOiBudWxsLAogICAgICBib2R5QjogbnVsbCwKICAgICAgc2hhcGVBOiBudWxsLAogICAgICBzaGFwZUI6IG51bGwKICAgIH07CiAgICBjb25zdCBlbmRTaGFwZUNvbnRhY3RFdmVudCA9IHsKICAgICAgdHlwZTogJ2VuZFNoYXBlQ29udGFjdCcsCiAgICAgIGJvZHlBOiBudWxsLAogICAgICBib2R5QjogbnVsbCwKICAgICAgc2hhcGVBOiBudWxsLAogICAgICBzaGFwZUI6IG51bGwKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBjb25zdCBoYXNCZWdpbkNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2JlZ2luQ29udGFjdCcpOwogICAgICBjb25zdCBoYXNFbmRDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdlbmRDb250YWN0Jyk7CgogICAgICBpZiAoaGFzQmVnaW5Db250YWN0IHx8IGhhc0VuZENvbnRhY3QpIHsKICAgICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLmdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscyk7CiAgICAgIH0KCiAgICAgIGlmIChoYXNCZWdpbkNvbnRhY3QpIHsKICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFkZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICAgIGJlZ2luQ29udGFjdEV2ZW50LmJvZHlBID0gdGhpcy5nZXRCb2R5QnlJZChhZGRpdGlvbnNbaV0pOwogICAgICAgICAgYmVnaW5Db250YWN0RXZlbnQuYm9keUIgPSB0aGlzLmdldEJvZHlCeUlkKGFkZGl0aW9uc1tpICsgMV0pOwogICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGJlZ2luQ29udGFjdEV2ZW50KTsKICAgICAgICB9CgogICAgICAgIGJlZ2luQ29udGFjdEV2ZW50LmJvZHlBID0gYmVnaW5Db250YWN0RXZlbnQuYm9keUIgPSBudWxsOwogICAgICB9CgogICAgICBpZiAoaGFzRW5kQ29udGFjdCkgewogICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcmVtb3ZhbHMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7CiAgICAgICAgICBlbmRDb250YWN0RXZlbnQuYm9keUEgPSB0aGlzLmdldEJvZHlCeUlkKHJlbW92YWxzW2ldKTsKICAgICAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IHRoaXMuZ2V0Qm9keUJ5SWQocmVtb3ZhbHNbaSArIDFdKTsKICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlbmRDb250YWN0RXZlbnQpOwogICAgICAgIH0KCiAgICAgICAgZW5kQ29udGFjdEV2ZW50LmJvZHlBID0gZW5kQ29udGFjdEV2ZW50LmJvZHlCID0gbnVsbDsKICAgICAgfQoKICAgICAgYWRkaXRpb25zLmxlbmd0aCA9IHJlbW92YWxzLmxlbmd0aCA9IDA7CiAgICAgIGNvbnN0IGhhc0JlZ2luU2hhcGVDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdiZWdpblNoYXBlQ29udGFjdCcpOwogICAgICBjb25zdCBoYXNFbmRTaGFwZUNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2VuZFNoYXBlQ29udGFjdCcpOwoKICAgICAgaWYgKGhhc0JlZ2luU2hhcGVDb250YWN0IHx8IGhhc0VuZFNoYXBlQ29udGFjdCkgewogICAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLmdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscyk7CiAgICAgIH0KCiAgICAgIGlmIChoYXNCZWdpblNoYXBlQ29udGFjdCkgewogICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWRkaXRpb25zLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikgewogICAgICAgICAgY29uc3Qgc2hhcGVBID0gdGhpcy5nZXRTaGFwZUJ5SWQoYWRkaXRpb25zW2ldKTsKICAgICAgICAgIGNvbnN0IHNoYXBlQiA9IHRoaXMuZ2V0U2hhcGVCeUlkKGFkZGl0aW9uc1tpICsgMV0pOwogICAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBzaGFwZUE7CiAgICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IHNoYXBlQjsKICAgICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBzaGFwZUEuYm9keTsKICAgICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBzaGFwZUIuYm9keTsKICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiZWdpblNoYXBlQ29udGFjdEV2ZW50KTsKICAgICAgICB9CgogICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmIChoYXNFbmRTaGFwZUNvbnRhY3QpIHsKICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbW92YWxzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikgewogICAgICAgICAgY29uc3Qgc2hhcGVBID0gdGhpcy5nZXRTaGFwZUJ5SWQocmVtb3ZhbHNbaV0pOwogICAgICAgICAgY29uc3Qgc2hhcGVCID0gdGhpcy5nZXRTaGFwZUJ5SWQocmVtb3ZhbHNbaSArIDFdKTsKICAgICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IHNoYXBlQTsKICAgICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IHNoYXBlQjsKICAgICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gc2hhcGVBLmJvZHk7CiAgICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IHNoYXBlQi5ib2R5OwogICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGVuZFNoYXBlQ29udGFjdEV2ZW50KTsKICAgICAgICB9CgogICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBudWxsOwogICAgICB9CiAgICB9OwogIH0pKCk7CgogIGxldCBib2RpZXMgPSB7fTsKICBjb25zdCB2ZWhpY2xlcyA9IHt9OwogIGNvbnN0IHNwcmluZ3MgPSB7fTsKICBjb25zdCBzcHJpbmdJbnN0YW5jZXMgPSB7fTsKICBjb25zdCByYXlzID0ge307CiAgY29uc3Qgd29ybGQgPSBuZXcgV29ybGQoKTsKICBjb25zdCBjb25maWcgPSB7CiAgICBzdGVwOiAxIC8gNjAKICB9OwogIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB7fTsKICBjb25zdCB0ZW1wVmVjdG9yID0gbmV3IFZlYzMoKTsKCiAgZnVuY3Rpb24gY3JlYXRlU2hhcGUodHlwZSwgYXJncykgewogICAgc3dpdGNoICh0eXBlKSB7CiAgICAgIGNhc2UgJ0JveCc6CiAgICAgICAgcmV0dXJuIG5ldyBCb3gobmV3IFZlYzMoLi4uYXJncy5tYXAodiA9PiB2IC8gMikpKTsKICAgICAgLy8gZXh0ZW50cyA9PiBoYWxmRXh0ZW50cwoKICAgICAgY2FzZSAnQ29udmV4UG9seWhlZHJvbic6CiAgICAgICAgY29uc3QgW3YsIGYsIG5dID0gYXJnczsKICAgICAgICByZXR1cm4gbmV3IENvbnZleFBvbHloZWRyb24oewogICAgICAgICAgdmVydGljZXM6IHYubWFwKChbeCwgeSwgel0pID0+IG5ldyBWZWMzKHgsIHksIHopKSwKICAgICAgICAgIG5vcm1hbHM6IG4gPyBuLm1hcCgoW3gsIHksIHpdKSA9PiBuZXcgVmVjMyh4LCB5LCB6KSkgOiBudWxsLAogICAgICAgICAgZmFjZXM6IGYKICAgICAgICB9KTsKCiAgICAgIGNhc2UgJ0N5bGluZGVyJzoKICAgICAgICByZXR1cm4gbmV3IEN5bGluZGVyKC4uLmFyZ3MpOwogICAgICAvLyBbIHJhZGl1c1RvcCwgcmFkaXVzQm90dG9tLCBoZWlnaHQsIG51bVNlZ21lbnRzIF0gPSBhcmdzCgogICAgICBjYXNlICdIZWlnaHRmaWVsZCc6CiAgICAgICAgcmV0dXJuIG5ldyBIZWlnaHRmaWVsZCguLi5hcmdzKTsKICAgICAgLy8gWyBBcnJheSBkYXRhLCBvcHRpb25zOiB7bWluVmFsdWUsIG1heFZhbHVlLCBlbGVtZW50U2l6ZX0gIF0gPSBhcmdzCgogICAgICBjYXNlICdQYXJ0aWNsZSc6CiAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZSgpOwogICAgICAvLyBubyBhcmdzCgogICAgICBjYXNlICdQbGFuZSc6CiAgICAgICAgcmV0dXJuIG5ldyBQbGFuZSgpOwogICAgICAvLyBubyBhcmdzLCBpbmZpbml0ZSB4IGFuZCB5CgogICAgICBjYXNlICdTcGhlcmUnOgogICAgICAgIHJldHVybiBuZXcgU3BoZXJlKC4uLmFyZ3MpOwogICAgICAvLyBbcmFkaXVzXSA9IGFyZ3MKCiAgICAgIGNhc2UgJ1RyaW1lc2gnOgogICAgICAgIHJldHVybiBuZXcgVHJpbWVzaCguLi5hcmdzKTsKICAgICAgLy8gW3ZlcnRpY2VzLCBpbmRpY2VzXSA9IGFyZ3MKICAgIH0KICB9CgogIGxldCBib2RpZXNOZWVkU3luY2luZyA9IGZhbHNlOwoKICBmdW5jdGlvbiBzeW5jQm9kaWVzKCkgewogICAgYm9kaWVzTmVlZFN5bmNpbmcgPSB0cnVlOwogICAgYm9kaWVzID0gd29ybGQuYm9kaWVzLnJlZHVjZSgoYWNjLCBib2R5KSA9PiAoeyAuLi5hY2MsCiAgICAgIFtib2R5LnV1aWRdOiBib2R5CiAgICB9KSwge30pOwogIH0KCiAgbGV0IGxhc3RDYWxsVGltZTsKCiAgc2VsZi5vbm1lc3NhZ2UgPSBlID0+IHsKICAgIGNvbnN0IHsKICAgICAgb3AsCiAgICAgIHV1aWQsCiAgICAgIHR5cGUsCiAgICAgIHBvc2l0aW9ucywKICAgICAgcXVhdGVybmlvbnMsCiAgICAgIHByb3BzCiAgICB9ID0gZS5kYXRhOwoKICAgIHN3aXRjaCAob3ApIHsKICAgICAgY2FzZSAnaW5pdCc6CiAgICAgICAgewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICBncmF2aXR5LAogICAgICAgICAgICB0b2xlcmFuY2UsCiAgICAgICAgICAgIHN0ZXAsCiAgICAgICAgICAgIGl0ZXJhdGlvbnMsCiAgICAgICAgICAgIGFsbG93U2xlZXAsCiAgICAgICAgICAgIGJyb2FkcGhhc2UsCiAgICAgICAgICAgIGF4aXNJbmRleCwKICAgICAgICAgICAgZGVmYXVsdENvbnRhY3RNYXRlcmlhbAogICAgICAgICAgfSA9IHByb3BzOwogICAgICAgICAgY29uc3QgYnJvYWRwaGFzZXMgPSB7CiAgICAgICAgICAgIE5haXZlQnJvYWRwaGFzZSwKICAgICAgICAgICAgU0FQQnJvYWRwaGFzZQogICAgICAgICAgfTsKICAgICAgICAgIHdvcmxkLmFsbG93U2xlZXAgPSBhbGxvd1NsZWVwOwogICAgICAgICAgd29ybGQuZ3Jhdml0eS5zZXQoZ3Jhdml0eVswXSwgZ3Jhdml0eVsxXSwgZ3Jhdml0eVsyXSk7CiAgICAgICAgICB3b3JsZC5zb2x2ZXIudG9sZXJhbmNlID0gdG9sZXJhbmNlOwogICAgICAgICAgd29ybGQuc29sdmVyLml0ZXJhdGlvbnMgPSBpdGVyYXRpb25zOwogICAgICAgICAgd29ybGQuYnJvYWRwaGFzZSA9IG5ldyAoYnJvYWRwaGFzZXNbYnJvYWRwaGFzZSArICdCcm9hZHBoYXNlJ10gfHwgTmFpdmVCcm9hZHBoYXNlKSh3b3JsZCk7CiAgICAgICAgICB3b3JsZC5icm9hZHBoYXNlLmF4aXNJbmRleCA9IGF4aXNJbmRleCAhPSBudWxsID8gYXhpc0luZGV4IDogMDsKICAgICAgICAgIE9iamVjdC5hc3NpZ24od29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCwgZGVmYXVsdENvbnRhY3RNYXRlcmlhbCk7CiAgICAgICAgICBjb25maWcuc3RlcCA9IHN0ZXA7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICdzdGVwJzoKICAgICAgICB7CiAgICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKSAvIDEwMDA7CgogICAgICAgICAgaWYgKCFsYXN0Q2FsbFRpbWUpIHsKICAgICAgICAgICAgd29ybGQuc3RlcChjb25maWcuc3RlcCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0Q2FsbCA9IG5vdyAtIGxhc3RDYWxsVGltZTsKICAgICAgICAgICAgd29ybGQuc3RlcChjb25maWcuc3RlcCwgdGltZVNpbmNlTGFzdENhbGwpOwogICAgICAgICAgfQoKICAgICAgICAgIGxhc3RDYWxsVGltZSA9IG5vdzsKICAgICAgICAgIGNvbnN0IG51bWJlck9mQm9kaWVzID0gd29ybGQuYm9kaWVzLmxlbmd0aDsKCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mQm9kaWVzOyBpKyspIHsKICAgICAgICAgICAgbGV0IGIgPSB3b3JsZC5ib2RpZXNbaV0sCiAgICAgICAgICAgICAgICBwID0gYi5wb3NpdGlvbiwKICAgICAgICAgICAgICAgIHEgPSBiLnF1YXRlcm5pb247CiAgICAgICAgICAgIHBvc2l0aW9uc1szICogaSArIDBdID0gcC54OwogICAgICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAxXSA9IHAueTsKICAgICAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMl0gPSBwLno7CiAgICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMF0gPSBxLng7CiAgICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMV0gPSBxLnk7CiAgICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMl0gPSBxLno7CiAgICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgM10gPSBxLnc7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3Qgb2JzZXJ2YXRpb25zID0gW107CgogICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBPYmplY3Qua2V5cyhzdWJzY3JpcHRpb25zKSkgewogICAgICAgICAgICBjb25zdCBbdXVpZCwgdHlwZV0gPSBzdWJzY3JpcHRpb25zW2lkXTsKICAgICAgICAgICAgbGV0IHZhbHVlID0gYm9kaWVzW3V1aWRdW3R5cGVdOwogICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBWZWMzKSB2YWx1ZSA9IHZhbHVlLnRvQXJyYXkoKTtlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFF1YXRlcm5pb24pIHsKICAgICAgICAgICAgICB2YWx1ZS50b0V1bGVyKHRlbXBWZWN0b3IpOwogICAgICAgICAgICAgIHZhbHVlID0gdGVtcFZlY3Rvci50b0FycmF5KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb2JzZXJ2YXRpb25zLnB1c2goW2lkLCB2YWx1ZV0pOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7CiAgICAgICAgICAgIG9wOiAnZnJhbWUnLAogICAgICAgICAgICBwb3NpdGlvbnMsCiAgICAgICAgICAgIHF1YXRlcm5pb25zLAogICAgICAgICAgICBvYnNlcnZhdGlvbnMsCiAgICAgICAgICAgIGFjdGl2ZTogd29ybGQuaGFzQWN0aXZlQm9kaWVzCiAgICAgICAgICB9OwoKICAgICAgICAgIGlmIChib2RpZXNOZWVkU3luY2luZykgewogICAgICAgICAgICBtZXNzYWdlLmJvZGllcyA9IHdvcmxkLmJvZGllcy5tYXAoYm9keSA9PiBib2R5LnV1aWQpOwogICAgICAgICAgICBib2RpZXNOZWVkU3luY2luZyA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UobWVzc2FnZSwgW3Bvc2l0aW9ucy5idWZmZXIsIHF1YXRlcm5pb25zLmJ1ZmZlcl0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAnYWRkQm9kaWVzJzoKICAgICAgICB7CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHV1aWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgewogICAgICAgICAgICAgIGFyZ3MgPSBbXSwKICAgICAgICAgICAgICBwb3NpdGlvbiA9IFswLCAwLCAwXSwKICAgICAgICAgICAgICByb3RhdGlvbiA9IFswLCAwLCAwXSwKICAgICAgICAgICAgICBzY2FsZSA9IFsxLCAxLCAxXSwKICAgICAgICAgICAgICB2ZWxvY2l0eSA9IFswLCAwLCAwXSwKICAgICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHkgPSBbMCwgMCwgMF0sCiAgICAgICAgICAgICAgbGluZWFyRmFjdG9yID0gWzEsIDEsIDFdLAogICAgICAgICAgICAgIGFuZ3VsYXJGYWN0b3IgPSBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgdHlwZTogYm9keVR5cGUsCiAgICAgICAgICAgICAgbWFzcywKICAgICAgICAgICAgICBtYXRlcmlhbCwKICAgICAgICAgICAgICBzaGFwZXMsCiAgICAgICAgICAgICAgb25Db2xsaWRlLAogICAgICAgICAgICAgIGNvbGxpc2lvblJlc3BvbnNlLAogICAgICAgICAgICAgIC4uLmV4dHJhCiAgICAgICAgICAgIH0gPSBwcm9wc1tpXTsKICAgICAgICAgICAgY29uc3QgYm9keSA9IG5ldyBCb2R5KHsgLi4uZXh0cmEsCiAgICAgICAgICAgICAgbWFzczogYm9keVR5cGUgPT09ICdTdGF0aWMnID8gMCA6IG1hc3MsCiAgICAgICAgICAgICAgdHlwZTogYm9keVR5cGUgPyBCb2R5W2JvZHlUeXBlLnRvVXBwZXJDYXNlKCldIDogdW5kZWZpbmVkLAogICAgICAgICAgICAgIG1hdGVyaWFsOiBtYXRlcmlhbCA/IG5ldyBNYXRlcmlhbChtYXRlcmlhbCkgOiB1bmRlZmluZWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGJvZHkudXVpZCA9IHV1aWRbaV07CgogICAgICAgICAgICBpZiAoY29sbGlzaW9uUmVzcG9uc2UgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGJvZHkuY29sbGlzaW9uUmVzcG9uc2UgPSBjb2xsaXNpb25SZXNwb25zZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdDb21wb3VuZCcpIHsKICAgICAgICAgICAgICBzaGFwZXMuZm9yRWFjaCgoewogICAgICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgICAgIGFyZ3MsCiAgICAgICAgICAgICAgICBwb3NpdGlvbiwKICAgICAgICAgICAgICAgIHJvdGF0aW9uLAogICAgICAgICAgICAgICAgbWF0ZXJpYWwsCiAgICAgICAgICAgICAgICAuLi5leHRyYQogICAgICAgICAgICAgIH0pID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHNoYXBlQm9keSA9IGJvZHkuYWRkU2hhcGUoY3JlYXRlU2hhcGUodHlwZSwgYXJncyksIHBvc2l0aW9uID8gbmV3IFZlYzMoLi4ucG9zaXRpb24pIDogdW5kZWZpbmVkLCByb3RhdGlvbiA/IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RnJvbUV1bGVyKC4uLnJvdGF0aW9uKSA6IHVuZGVmaW5lZCk7CiAgICAgICAgICAgICAgICBpZiAobWF0ZXJpYWwpIHNoYXBlQm9keS5tYXRlcmlhbCA9IG5ldyBNYXRlcmlhbChtYXRlcmlhbCk7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHNoYXBlQm9keSwgZXh0cmEpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGJvZHkuYWRkU2hhcGUoY3JlYXRlU2hhcGUodHlwZSwgYXJncykpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBib2R5LnBvc2l0aW9uLnNldChwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKTsKICAgICAgICAgICAgYm9keS5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihyb3RhdGlvblswXSwgcm90YXRpb25bMV0sIHJvdGF0aW9uWzJdKTsKICAgICAgICAgICAgYm9keS52ZWxvY2l0eS5zZXQodmVsb2NpdHlbMF0sIHZlbG9jaXR5WzFdLCB2ZWxvY2l0eVsyXSk7CiAgICAgICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5LnNldChhbmd1bGFyVmVsb2NpdHlbMF0sIGFuZ3VsYXJWZWxvY2l0eVsxXSwgYW5ndWxhclZlbG9jaXR5WzJdKTsKICAgICAgICAgICAgYm9keS5saW5lYXJGYWN0b3Iuc2V0KGxpbmVhckZhY3RvclswXSwgbGluZWFyRmFjdG9yWzFdLCBsaW5lYXJGYWN0b3JbMl0pOwogICAgICAgICAgICBib2R5LmFuZ3VsYXJGYWN0b3Iuc2V0KGFuZ3VsYXJGYWN0b3JbMF0sIGFuZ3VsYXJGYWN0b3JbMV0sIGFuZ3VsYXJGYWN0b3JbMl0pOwogICAgICAgICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpOwogICAgICAgICAgICBpZiAob25Db2xsaWRlKSBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbGxpZGUnLCAoewogICAgICAgICAgICAgIHR5cGUsCiAgICAgICAgICAgICAgYm9keSwKICAgICAgICAgICAgICB0YXJnZXQsCiAgICAgICAgICAgICAgY29udGFjdAogICAgICAgICAgICB9KSA9PiB7CiAgICAgICAgICAgICAgY29uc3QgewogICAgICAgICAgICAgICAgbmksCiAgICAgICAgICAgICAgICByaSwKICAgICAgICAgICAgICAgIHJqCiAgICAgICAgICAgICAgfSA9IGNvbnRhY3Q7CiAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICBvcDogJ2V2ZW50JywKICAgICAgICAgICAgICAgIHR5cGUsCiAgICAgICAgICAgICAgICBib2R5OiBib2R5LnV1aWQsCiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldC51dWlkLAogICAgICAgICAgICAgICAgY29udGFjdDogewogICAgICAgICAgICAgICAgICBuaTogbmkudG9BcnJheSgpLAogICAgICAgICAgICAgICAgICByaTogcmkudG9BcnJheSgpLAogICAgICAgICAgICAgICAgICByajogcmoudG9BcnJheSgpLAogICAgICAgICAgICAgICAgICBpbXBhY3RWZWxvY2l0eTogY29udGFjdC5nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsKCkKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJzOiB7CiAgICAgICAgICAgICAgICAgIGJvZHlGaWx0ZXJHcm91cDogYm9keS5jb2xsaXNpb25GaWx0ZXJHcm91cCwKICAgICAgICAgICAgICAgICAgYm9keUZpbHRlck1hc2s6IGJvZHkuY29sbGlzaW9uRmlsdGVyTWFzaywKICAgICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyR3JvdXA6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJHcm91cCwKICAgICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyTWFzazogdGFyZ2V0LmNvbGxpc2lvbkZpbHRlck1hc2sKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgc3luY0JvZGllcygpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAncmVtb3ZlQm9kaWVzJzoKICAgICAgICB7CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHV1aWQubGVuZ3RoOyBpKyspIHdvcmxkLnJlbW92ZUJvZHkoYm9kaWVzW3V1aWRbaV1dKTsKCiAgICAgICAgICBzeW5jQm9kaWVzKCk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICdzdWJzY3JpYmUnOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgaWQsCiAgICAgICAgICAgIHR5cGUKICAgICAgICAgIH0gPSBwcm9wczsKICAgICAgICAgIHN1YnNjcmlwdGlvbnNbaWRdID0gW3V1aWQsIHR5cGVdOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAndW5zdWJzY3JpYmUnOgogICAgICAgIHsKICAgICAgICAgIGRlbGV0ZSBzdWJzY3JpcHRpb25zW3Byb3BzXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3NldFBvc2l0aW9uJzoKICAgICAgICBib2RpZXNbdXVpZF0ucG9zaXRpb24uc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0UXVhdGVybmlvbic6CiAgICAgICAgYm9kaWVzW3V1aWRdLnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0VmVsb2NpdHknOgogICAgICAgIGJvZGllc1t1dWlkXS52ZWxvY2l0eS5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdzZXRBbmd1bGFyVmVsb2NpdHknOgogICAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyVmVsb2NpdHkuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0TGluZWFyRmFjdG9yJzoKICAgICAgICBib2RpZXNbdXVpZF0ubGluZWFyRmFjdG9yLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldEFuZ3VsYXJGYWN0b3InOgogICAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyRmFjdG9yLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldE1hc3MnOgogICAgICAgIC8vIGFzc3VtZSB0aGF0IGFuIHVwZGF0ZSBmcm9tIHplcm8tbWFzcyBpbXBsaWVzIGEgbmVlZCBmb3IgZHluYW1pY3Mgb24gc3RhdGljIG9iai4KICAgICAgICBpZiAocHJvcHMgIT09IDAgJiYgYm9kaWVzW3V1aWRdLnR5cGUgPT09IDApIGJvZGllc1t1dWlkXS50eXBlID0gMTsKICAgICAgICBib2RpZXNbdXVpZF0ubWFzcyA9IHByb3BzOwogICAgICAgIGJvZGllc1t1dWlkXS51cGRhdGVNYXNzUHJvcGVydGllcygpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0TGluZWFyRGFtcGluZyc6CiAgICAgICAgYm9kaWVzW3V1aWRdLmxpbmVhckRhbXBpbmcgPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldEFuZ3VsYXJEYW1waW5nJzoKICAgICAgICBib2RpZXNbdXVpZF0uYW5ndWxhckRhbXBpbmcgPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldEFsbG93U2xlZXAnOgogICAgICAgIGJvZGllc1t1dWlkXS5hbGxvd1NsZWVwID0gcHJvcHM7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdzZXRTbGVlcFNwZWVkTGltaXQnOgogICAgICAgIGJvZGllc1t1dWlkXS5zbGVlcFNwZWVkTGltaXQgPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldFNsZWVwVGltZUxpbWl0JzoKICAgICAgICBib2RpZXNbdXVpZF0uc2xlZXBUaW1lTGltaXQgPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlckdyb3VwJzoKICAgICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyR3JvdXAgPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlck1hc2snOgogICAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJNYXNrID0gcHJvcHM7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJNYXNrJzoKICAgICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyTWFzayA9IHByb3BzOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0Q29sbGlzaW9uUmVzcG9uc2UnOgogICAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25SZXNwb25zZSA9IHByb3BzOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0Rml4ZWRSb3RhdGlvbic6CiAgICAgICAgYm9kaWVzW3V1aWRdLmZpeGVkUm90YXRpb24gPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2FwcGx5Rm9yY2UnOgogICAgICAgIGJvZGllc1t1dWlkXS5hcHBseUZvcmNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2FwcGx5SW1wdWxzZSc6CiAgICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5SW1wdWxzZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdhcHBseUxvY2FsRm9yY2UnOgogICAgICAgIGJvZGllc1t1dWlkXS5hcHBseUxvY2FsRm9yY2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnYXBwbHlMb2NhbEltcHVsc2UnOgogICAgICAgIGJvZGllc1t1dWlkXS5hcHBseUxvY2FsSW1wdWxzZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdhZGRDb25zdHJhaW50JzoKICAgICAgICB7CiAgICAgICAgICBjb25zdCBbYm9keUEsIGJvZHlCLCBvcHRuc10gPSBwcm9wczsKICAgICAgICAgIGxldCB7CiAgICAgICAgICAgIHBpdm90QSwKICAgICAgICAgICAgcGl2b3RCLAogICAgICAgICAgICBheGlzQSwKICAgICAgICAgICAgYXhpc0IsCiAgICAgICAgICAgIC4uLm9wdGlvbnMKICAgICAgICAgIH0gPSBvcHRuczsgLy8gaXMgdGhlcmUgYSBiZXR0ZXIgd2F5IHRvIGVuZm9yY2UgZGVmYXVsdHM/CgogICAgICAgICAgcGl2b3RBID0gQXJyYXkuaXNBcnJheShwaXZvdEEpID8gbmV3IFZlYzMoLi4ucGl2b3RBKSA6IHVuZGVmaW5lZDsKICAgICAgICAgIHBpdm90QiA9IEFycmF5LmlzQXJyYXkocGl2b3RCKSA/IG5ldyBWZWMzKC4uLnBpdm90QikgOiB1bmRlZmluZWQ7CiAgICAgICAgICBheGlzQSA9IEFycmF5LmlzQXJyYXkoYXhpc0EpID8gbmV3IFZlYzMoLi4uYXhpc0EpIDogdW5kZWZpbmVkOwogICAgICAgICAgYXhpc0IgPSBBcnJheS5pc0FycmF5KGF4aXNCKSA/IG5ldyBWZWMzKC4uLmF4aXNCKSA6IHVuZGVmaW5lZDsKICAgICAgICAgIGxldCBjb25zdHJhaW50OwoKICAgICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICBjYXNlICdQb2ludFRvUG9pbnQnOgogICAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgUG9pbnRUb1BvaW50Q29uc3RyYWludChib2RpZXNbYm9keUFdLCBwaXZvdEEsIGJvZGllc1tib2R5Ql0sIHBpdm90Qiwgb3B0bnMubWF4Rm9yY2UpOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAnQ29uZVR3aXN0JzoKICAgICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IENvbmVUd2lzdENvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgewogICAgICAgICAgICAgICAgcGl2b3RBLAogICAgICAgICAgICAgICAgcGl2b3RCLAogICAgICAgICAgICAgICAgYXhpc0EsCiAgICAgICAgICAgICAgICBheGlzQiwKICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgJ0hpbmdlJzoKICAgICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IEhpbmdlQ29uc3RyYWludChib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCB7CiAgICAgICAgICAgICAgICBwaXZvdEEsCiAgICAgICAgICAgICAgICBwaXZvdEIsCiAgICAgICAgICAgICAgICBheGlzQSwKICAgICAgICAgICAgICAgIGF4aXNCLAogICAgICAgICAgICAgICAgLi4ub3B0aW9ucwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAnRGlzdGFuY2UnOgogICAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgRGlzdGFuY2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zLmRpc3RhbmNlLCBvcHRucy5tYXhGb3JjZSk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICdMb2NrJzoKICAgICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IExvY2tDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdHJhaW50LnV1aWQgPSB1dWlkOwogICAgICAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3JlbW92ZUNvbnN0cmFpbnQnOgogICAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoewogICAgICAgICAgdXVpZDogdGhpc0lkCiAgICAgICAgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoYyA9PiB3b3JsZC5yZW1vdmVDb25zdHJhaW50KGMpKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2VuYWJsZUNvbnN0cmFpbnQnOgogICAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoewogICAgICAgICAgdXVpZDogdGhpc0lkCiAgICAgICAgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoYyA9PiBjLmVuYWJsZSgpKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2Rpc2FibGVDb25zdHJhaW50JzoKICAgICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsKICAgICAgICAgIHV1aWQ6IHRoaXNJZAogICAgICAgIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKGMgPT4gYy5kaXNhYmxlKCkpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnZW5hYmxlQ29uc3RyYWludE1vdG9yJzoKICAgICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsKICAgICAgICAgIHV1aWQ6IHRoaXNJZAogICAgICAgIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKGMgPT4gYy5lbmFibGVNb3RvcigpKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2Rpc2FibGVDb25zdHJhaW50TW90b3InOgogICAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoewogICAgICAgICAgdXVpZDogdGhpc0lkCiAgICAgICAgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoYyA9PiBjLmRpc2FibGVNb3RvcigpKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldENvbnN0cmFpbnRNb3RvclNwZWVkJzoKICAgICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsKICAgICAgICAgIHV1aWQ6IHRoaXNJZAogICAgICAgIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKGMgPT4gYy5zZXRNb3RvclNwZWVkKHByb3BzKSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdzZXRDb25zdHJhaW50TW90b3JNYXhGb3JjZSc6CiAgICAgICAgd29ybGQuY29uc3RyYWludHMuZmlsdGVyKCh7CiAgICAgICAgICB1dWlkOiB0aGlzSWQKICAgICAgICB9KSA9PiB0aGlzSWQgPT09IHV1aWQpLm1hcChjID0+IGMuc2V0TW90b3JNYXhGb3JjZShwcm9wcykpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnYWRkU3ByaW5nJzoKICAgICAgICB7CiAgICAgICAgICBjb25zdCBbYm9keUEsIGJvZHlCLCBvcHRuc10gPSBwcm9wczsKICAgICAgICAgIGxldCB7CiAgICAgICAgICAgIHdvcmxkQW5jaG9yQSwKICAgICAgICAgICAgd29ybGRBbmNob3JCLAogICAgICAgICAgICBsb2NhbEFuY2hvckEsCiAgICAgICAgICAgIGxvY2FsQW5jaG9yQiwKICAgICAgICAgICAgcmVzdExlbmd0aCwKICAgICAgICAgICAgc3RpZmZuZXNzLAogICAgICAgICAgICBkYW1waW5nCiAgICAgICAgICB9ID0gb3B0bnM7CiAgICAgICAgICB3b3JsZEFuY2hvckEgPSBBcnJheS5pc0FycmF5KHdvcmxkQW5jaG9yQSkgPyBuZXcgVmVjMyguLi53b3JsZEFuY2hvckEpIDogdW5kZWZpbmVkOwogICAgICAgICAgd29ybGRBbmNob3JCID0gQXJyYXkuaXNBcnJheSh3b3JsZEFuY2hvckIpID8gbmV3IFZlYzMoLi4ud29ybGRBbmNob3JCKSA6IHVuZGVmaW5lZDsKICAgICAgICAgIGxvY2FsQW5jaG9yQSA9IEFycmF5LmlzQXJyYXkobG9jYWxBbmNob3JBKSA/IG5ldyBWZWMzKC4uLmxvY2FsQW5jaG9yQSkgOiB1bmRlZmluZWQ7CiAgICAgICAgICBsb2NhbEFuY2hvckIgPSBBcnJheS5pc0FycmF5KGxvY2FsQW5jaG9yQikgPyBuZXcgVmVjMyguLi5sb2NhbEFuY2hvckIpIDogdW5kZWZpbmVkOwogICAgICAgICAgbGV0IHNwcmluZyA9IG5ldyBTcHJpbmcoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgewogICAgICAgICAgICB3b3JsZEFuY2hvckEsCiAgICAgICAgICAgIHdvcmxkQW5jaG9yQiwKICAgICAgICAgICAgbG9jYWxBbmNob3JBLAogICAgICAgICAgICBsb2NhbEFuY2hvckIsCiAgICAgICAgICAgIHJlc3RMZW5ndGgsCiAgICAgICAgICAgIHN0aWZmbmVzcywKICAgICAgICAgICAgZGFtcGluZwogICAgICAgICAgfSk7CiAgICAgICAgICBzcHJpbmcudXVpZCA9IHV1aWQ7CgogICAgICAgICAgbGV0IHBvc3RTdGVwU3ByaW5nID0gZSA9PiBzcHJpbmcuYXBwbHlGb3JjZSgpOwoKICAgICAgICAgIHNwcmluZ3NbdXVpZF0gPSBwb3N0U3RlcFNwcmluZzsKICAgICAgICAgIHNwcmluZ0luc3RhbmNlc1t1dWlkXSA9IHNwcmluZzsgLy8gQ29tcHV0ZSB0aGUgZm9yY2UgYWZ0ZXIgZWFjaCBzdGVwCgogICAgICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCBzcHJpbmdzW3V1aWRdKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3NldFNwcmluZ1N0aWZmbmVzcyc6CiAgICAgICAgewogICAgICAgICAgc3ByaW5nSW5zdGFuY2VzW3V1aWRdLnN0aWZmbmVzcyA9IHByb3BzOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAnc2V0U3ByaW5nUmVzdExlbmd0aCc6CiAgICAgICAgewogICAgICAgICAgc3ByaW5nSW5zdGFuY2VzW3V1aWRdLnJlc3RMZW5ndGggPSBwcm9wczsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3NldFNwcmluZ0RhbXBpbmcnOgogICAgICAgIHsKICAgICAgICAgIHNwcmluZ0luc3RhbmNlc1t1dWlkXS5kYW1waW5nID0gcHJvcHM7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICdyZW1vdmVTcHJpbmcnOgogICAgICAgIHsKICAgICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgc3ByaW5nc1t1dWlkXSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICdhZGRSYXknOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgZnJvbSwKICAgICAgICAgICAgdG8sCiAgICAgICAgICAgIC4uLm9wdGlvbnMKICAgICAgICAgIH0gPSBwcm9wczsKICAgICAgICAgIGNvbnN0IHJheSA9IG5ldyBSYXkoZnJvbSA/IG5ldyBWZWMzKC4uLmZyb20pIDogdW5kZWZpbmVkLCB0byA/IG5ldyBWZWMzKC4uLnRvKSA6IHVuZGVmaW5lZCk7CiAgICAgICAgICBvcHRpb25zLm1vZGUgPSBSYXlbb3B0aW9ucy5tb2RlLnRvVXBwZXJDYXNlKCldOwogICAgICAgICAgb3B0aW9ucy5yZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpOwoKICAgICAgICAgIHJheXNbdXVpZF0gPSAoKSA9PiB7CiAgICAgICAgICAgIHJheS5pbnRlcnNlY3RXb3JsZCh3b3JsZCwgb3B0aW9ucyk7CiAgICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgICBib2R5LAogICAgICAgICAgICAgIHNoYXBlLAogICAgICAgICAgICAgIHJheUZyb21Xb3JsZCwKICAgICAgICAgICAgICByYXlUb1dvcmxkLAogICAgICAgICAgICAgIGhpdE5vcm1hbFdvcmxkLAogICAgICAgICAgICAgIGhpdFBvaW50V29ybGQsCiAgICAgICAgICAgICAgLi4ucmVzdAogICAgICAgICAgICB9ID0gb3B0aW9ucy5yZXN1bHQ7CiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgIG9wOiAnZXZlbnQnLAogICAgICAgICAgICAgIHR5cGU6ICdyYXloaXQnLAogICAgICAgICAgICAgIHJheTogewogICAgICAgICAgICAgICAgZnJvbSwKICAgICAgICAgICAgICAgIHRvLAogICAgICAgICAgICAgICAgZGlyZWN0aW9uOiByYXkuZGlyZWN0aW9uLnRvQXJyYXkoKSwKICAgICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlckdyb3VwOiByYXkuY29sbGlzaW9uRmlsdGVyR3JvdXAsCiAgICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJNYXNrOiByYXkuY29sbGlzaW9uRmlsdGVyTWFzaywKICAgICAgICAgICAgICAgIHV1aWQKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGJvZHk6IGJvZHkgPyBib2R5LnV1aWQgOiBudWxsLAogICAgICAgICAgICAgIHNoYXBlOiBzaGFwZSA/IHsgLi4uc2hhcGUsCiAgICAgICAgICAgICAgICBib2R5OiBib2R5LnV1aWQKICAgICAgICAgICAgICB9IDogbnVsbCwKICAgICAgICAgICAgICByYXlGcm9tV29ybGQ6IHJheUZyb21Xb3JsZC50b0FycmF5KCksCiAgICAgICAgICAgICAgcmF5VG9Xb3JsZDogcmF5VG9Xb3JsZC50b0FycmF5KCksCiAgICAgICAgICAgICAgaGl0Tm9ybWFsV29ybGQ6IGhpdE5vcm1hbFdvcmxkLnRvQXJyYXkoKSwKICAgICAgICAgICAgICBoaXRQb2ludFdvcmxkOiBoaXRQb2ludFdvcmxkLnRvQXJyYXkoKSwKICAgICAgICAgICAgICAuLi5yZXN0CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfTsKCiAgICAgICAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgcmF5c1t1dWlkXSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICdyZW1vdmVSYXknOgogICAgICAgIHsKICAgICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCByYXlzW3V1aWRdKTsKICAgICAgICAgIGRlbGV0ZSByYXlzW3V1aWRdOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAnYWRkUmF5Y2FzdFZlaGljbGUnOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IFtjaGFzc2lzQm9keSwgd2hlZWxzLCB3aGVlbEluZm9zLCBpbmRleEZvcndhcmRBeGlzLCBpbmRleFJpZ2h0QXhpcywgaW5kZXhVcEF4aXNdID0gcHJvcHM7CiAgICAgICAgICBjb25zdCB2ZWhpY2xlID0gbmV3IFJheWNhc3RWZWhpY2xlKHsKICAgICAgICAgICAgY2hhc3Npc0JvZHk6IGJvZGllc1tjaGFzc2lzQm9keV0sCiAgICAgICAgICAgIGluZGV4Rm9yd2FyZEF4aXM6IGluZGV4Rm9yd2FyZEF4aXMsCiAgICAgICAgICAgIGluZGV4UmlnaHRBeGlzOiBpbmRleFJpZ2h0QXhpcywKICAgICAgICAgICAgaW5kZXhVcEF4aXM6IGluZGV4VXBBeGlzCiAgICAgICAgICB9KTsKICAgICAgICAgIHZlaGljbGUud29ybGQgPSB3b3JsZDsKCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdoZWVsSW5mb3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3Qgd2hlZWxJbmZvID0gd2hlZWxJbmZvc1tpXTsKICAgICAgICAgICAgd2hlZWxJbmZvLmRpcmVjdGlvbkxvY2FsID0gbmV3IFZlYzMoLi4ud2hlZWxJbmZvLmRpcmVjdGlvbkxvY2FsKTsKICAgICAgICAgICAgd2hlZWxJbmZvLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbCA9IG5ldyBWZWMzKC4uLndoZWVsSW5mby5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwpOwogICAgICAgICAgICB3aGVlbEluZm8uYXhsZUxvY2FsID0gbmV3IFZlYzMoLi4ud2hlZWxJbmZvLmF4bGVMb2NhbCk7CiAgICAgICAgICAgIHZlaGljbGUuYWRkV2hlZWwod2hlZWxJbmZvKTsKICAgICAgICAgICAgYm9kaWVzW3doZWVsc1tpXV07CiAgICAgICAgICB9CgogICAgICAgICAgdmVoaWNsZXNbdXVpZF0gPSB7CiAgICAgICAgICAgIHZlaGljbGU6IHZlaGljbGUsCiAgICAgICAgICAgIHdoZWVsczogd2hlZWxzLAogICAgICAgICAgICBwcmVTdGVwOiAoKSA9PiB7CiAgICAgICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS51cGRhdGVWZWhpY2xlKHdvcmxkLmR0KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcG9zdFN0ZXA6ICgpID0+IHsKICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlaGljbGVzW3V1aWRdLnZlaGljbGUud2hlZWxJbmZvcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS51cGRhdGVXaGVlbFRyYW5zZm9ybShpKTsKICAgICAgICAgICAgICAgIGNvbnN0IHQgPSB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLndoZWVsSW5mb3NbaV0ud29ybGRUcmFuc2Zvcm07CiAgICAgICAgICAgICAgICBjb25zdCB3aGVlbEJvZHkgPSBib2RpZXNbdmVoaWNsZXNbdXVpZF0ud2hlZWxzW2ldXTsKICAgICAgICAgICAgICAgIHdoZWVsQm9keS5wb3NpdGlvbi5jb3B5KHQucG9zaXRpb24pOwogICAgICAgICAgICAgICAgd2hlZWxCb2R5LnF1YXRlcm5pb24uY29weSh0LnF1YXRlcm5pb24pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB2ZWhpY2xlc1t1dWlkXS5wcmVTdGVwKTsKICAgICAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgdmVoaWNsZXNbdXVpZF0ucG9zdFN0ZXApOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAncmVtb3ZlUmF5Y2FzdFZlaGljbGUnOgogICAgICAgIHsKICAgICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB2ZWhpY2xlc1t1dWlkXS5wcmVTdGVwKTsKICAgICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgdmVoaWNsZXNbdXVpZF0ucG9zdFN0ZXApOwogICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS53b3JsZCA9IG51bGw7CiAgICAgICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlID0gbnVsbDsKICAgICAgICAgIGRlbGV0ZSB2ZWhpY2xlc1t1dWlkXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3NldFJheWNhc3RWZWhpY2xlU3RlZXJpbmdWYWx1ZSc6CiAgICAgICAgewogICAgICAgICAgY29uc3QgW3ZhbHVlLCB3aGVlbEluZGV4XSA9IHByb3BzOwogICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS5zZXRTdGVlcmluZ1ZhbHVlKHZhbHVlLCB3aGVlbEluZGV4KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ2FwcGx5UmF5Y2FzdFZlaGljbGVFbmdpbmVGb3JjZSc6CiAgICAgICAgewogICAgICAgICAgY29uc3QgW3ZhbHVlLCB3aGVlbEluZGV4XSA9IHByb3BzOwogICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS5hcHBseUVuZ2luZUZvcmNlKHZhbHVlLCB3aGVlbEluZGV4KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3NldFJheWNhc3RWZWhpY2xlQnJha2UnOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IFticmFrZSwgd2hlZWxJbmRleF0gPSBwcm9wczsKICAgICAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUuc2V0QnJha2UoYnJha2UsIHdoZWVsSW5kZXgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQogIH07Cgp9KCkpOwoK', 'data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9ub2RlX21vZHVsZXMvY2Fubm9uLWVzL2Rpc3QvY2Fubm9uLWVzLmpzIiwid29ya2VyOi8vd2ViLXdvcmtlci9zcmMvd29ya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmVjb3JkcyB3aGF0IG9iamVjdHMgYXJlIGNvbGxpZGluZyB3aXRoIGVhY2ggb3RoZXJcbiAqIEBjbGFzcyBPYmplY3RDb2xsaXNpb25NYXRyaXhcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBPYmplY3RDb2xsaXNpb25NYXRyaXgge1xuICAvLyBUaGUgbWF0cml4IHN0b3JhZ2UuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWF0cml4ID0ge307XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2QgZ2V0XG4gICAqIEBwYXJhbSAge0JvZHl9IGJpXG4gICAqIEBwYXJhbSAge0JvZHl9IGJqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgZ2V0KGJpLCBiaikge1xuICAgIGxldCB7XG4gICAgICBpZDogaVxuICAgIH0gPSBiaTtcbiAgICBsZXQge1xuICAgICAgaWQ6IGpcbiAgICB9ID0gYmo7XG5cbiAgICBpZiAoaiA+IGkpIHtcbiAgICAgIGNvbnN0IHRlbXAgPSBqO1xuICAgICAgaiA9IGk7XG4gICAgICBpID0gdGVtcDtcbiAgICB9XG5cbiAgICByZXR1cm4gaSArIFwiLVwiICsgaiBpbiB0aGlzLm1hdHJpeDtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCBzZXRcbiAgICogQHBhcmFtICB7Qm9keX0gYmlcbiAgICogQHBhcmFtICB7Qm9keX0gYmpcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZVxuICAgKi9cblxuXG4gIHNldChiaSwgYmosIHZhbHVlKSB7XG4gICAgbGV0IHtcbiAgICAgIGlkOiBpXG4gICAgfSA9IGJpO1xuICAgIGxldCB7XG4gICAgICBpZDogalxuICAgIH0gPSBiajtcblxuICAgIGlmIChqID4gaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5tYXRyaXhbaSArIFwiLVwiICsgal0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdGhpcy5tYXRyaXhbaSArIFwiLVwiICsgal07XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFbXB0eSB0aGUgbWF0cml4XG4gICAqIEBtZXRob2QgcmVzZXRcbiAgICovXG5cblxuICByZXNldCgpIHtcbiAgICB0aGlzLm1hdHJpeCA9IHt9O1xuICB9XG4gIC8qKlxuICAgKiBTZXQgbWF4IG51bWJlciBvZiBvYmplY3RzXG4gICAqIEBtZXRob2Qgc2V0TnVtT2JqZWN0c1xuICAgKiBAcGFyYW0ge051bWJlcn0gblxuICAgKi9cblxuXG4gIHNldE51bU9iamVjdHMobikge31cblxufVxuXG4vKipcbiAqIEEgM3gzIG1hdHJpeC5cbiAqIEBjbGFzcyBNYXQzXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnRzIEEgdmVjdG9yIG9mIGxlbmd0aCA5LCBjb250YWluaW5nIGFsbCBtYXRyaXggZWxlbWVudHMuIE9wdGlvbmFsLlxuICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHA6Ly9naXRodWIuY29tL3NjaHRlcHBlXG4gKi9cbmNsYXNzIE1hdDMge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50cyA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSkge1xuICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgbWF0cml4IHRvIGlkZW50aXR5XG4gICAqIEBtZXRob2QgaWRlbnRpdHlcbiAgICogQHRvZG8gU2hvdWxkIHBlcmhhcHMgYmUgcmVuYW1lZCB0byBzZXRJZGVudGl0eSgpIHRvIGJlIG1vcmUgY2xlYXIuXG4gICAqIEB0b2RvIENyZWF0ZSBhbm90aGVyIGZ1bmN0aW9uIHRoYXQgaW1tZWRpYXRlbHkgY3JlYXRlcyBhbiBpZGVudGl0eSBtYXRyaXggZWcuIGV5ZSgpXG4gICAqL1xuXG5cbiAgaWRlbnRpdHkoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7XG4gICAgZVswXSA9IDE7XG4gICAgZVsxXSA9IDA7XG4gICAgZVsyXSA9IDA7XG4gICAgZVszXSA9IDA7XG4gICAgZVs0XSA9IDE7XG4gICAgZVs1XSA9IDA7XG4gICAgZVs2XSA9IDA7XG4gICAgZVs3XSA9IDA7XG4gICAgZVs4XSA9IDE7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBhbGwgZWxlbWVudHMgdG8gemVyb1xuICAgKiBAbWV0aG9kIHNldFplcm9cbiAgICovXG5cblxuICBzZXRaZXJvKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGVbMF0gPSAwO1xuICAgIGVbMV0gPSAwO1xuICAgIGVbMl0gPSAwO1xuICAgIGVbM10gPSAwO1xuICAgIGVbNF0gPSAwO1xuICAgIGVbNV0gPSAwO1xuICAgIGVbNl0gPSAwO1xuICAgIGVbN10gPSAwO1xuICAgIGVbOF0gPSAwO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBtYXRyaXggZGlhZ29uYWwgZWxlbWVudHMgZnJvbSBhIFZlYzNcbiAgICogQG1ldGhvZCBzZXRUcmFjZVxuICAgKiBAcGFyYW0ge1ZlYzN9IHZlYzNcbiAgICovXG5cblxuICBzZXRUcmFjZSh2ZWN0b3IpIHtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBlWzBdID0gdmVjdG9yLng7XG4gICAgZVs0XSA9IHZlY3Rvci55O1xuICAgIGVbOF0gPSB2ZWN0b3IuejtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgbWF0cml4IGRpYWdvbmFsIGVsZW1lbnRzXG4gICAqIEBtZXRob2QgZ2V0VHJhY2VcbiAgICogQHJldHVybiB7VmVjM31cbiAgICovXG5cblxuICBnZXRUcmFjZSh0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7XG4gICAgdGFyZ2V0LnggPSBlWzBdO1xuICAgIHRhcmdldC55ID0gZVs0XTtcbiAgICB0YXJnZXQueiA9IGVbOF07XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcbiAgICogTWF0cml4LVZlY3RvciBtdWx0aXBsaWNhdGlvblxuICAgKiBAbWV0aG9kIHZtdWx0XG4gICAqIEBwYXJhbSB7VmVjM30gdiBUaGUgdmVjdG9yIHRvIG11bHRpcGx5IHdpdGhcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwsIHRhcmdldCB0byBzYXZlIHRoZSByZXN1bHQgaW4uXG4gICAqL1xuXG5cbiAgdm11bHQodiwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGNvbnN0IHggPSB2Lng7XG4gICAgY29uc3QgeSA9IHYueTtcbiAgICBjb25zdCB6ID0gdi56O1xuICAgIHRhcmdldC54ID0gZVswXSAqIHggKyBlWzFdICogeSArIGVbMl0gKiB6O1xuICAgIHRhcmdldC55ID0gZVszXSAqIHggKyBlWzRdICogeSArIGVbNV0gKiB6O1xuICAgIHRhcmdldC56ID0gZVs2XSAqIHggKyBlWzddICogeSArIGVbOF0gKiB6O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXG4gICAqIE1hdHJpeC1zY2FsYXIgbXVsdGlwbGljYXRpb25cbiAgICogQG1ldGhvZCBzbXVsdFxuICAgKiBAcGFyYW0ge051bWJlcn0gc1xuICAgKi9cblxuXG4gIHNtdWx0KHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZWxlbWVudHNbaV0gKj0gcztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE1hdHJpeCBtdWx0aXBsaWNhdGlvblxuICAgKiBAbWV0aG9kIG1tdWx0XG4gICAqIEBwYXJhbSB7TWF0M30gbWF0cml4IE1hdHJpeCB0byBtdWx0aXBseSB3aXRoIGZyb20gbGVmdCBzaWRlLlxuICAgKiBAcmV0dXJuIHtNYXQzfSBUaGUgcmVzdWx0LlxuICAgKi9cblxuXG4gIG1tdWx0KG1hdHJpeCwgdGFyZ2V0ID0gbmV3IE1hdDMoKSkge1xuICAgIGNvbnN0IEEgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGNvbnN0IEIgPSBtYXRyaXguZWxlbWVudHM7XG4gICAgY29uc3QgVCA9IHRhcmdldC5lbGVtZW50cztcbiAgICBjb25zdCBhMTEgPSBBWzBdLFxuICAgICAgICAgIGExMiA9IEFbMV0sXG4gICAgICAgICAgYTEzID0gQVsyXSxcbiAgICAgICAgICBhMjEgPSBBWzNdLFxuICAgICAgICAgIGEyMiA9IEFbNF0sXG4gICAgICAgICAgYTIzID0gQVs1XSxcbiAgICAgICAgICBhMzEgPSBBWzZdLFxuICAgICAgICAgIGEzMiA9IEFbN10sXG4gICAgICAgICAgYTMzID0gQVs4XTtcbiAgICBjb25zdCBiMTEgPSBCWzBdLFxuICAgICAgICAgIGIxMiA9IEJbMV0sXG4gICAgICAgICAgYjEzID0gQlsyXSxcbiAgICAgICAgICBiMjEgPSBCWzNdLFxuICAgICAgICAgIGIyMiA9IEJbNF0sXG4gICAgICAgICAgYjIzID0gQls1XSxcbiAgICAgICAgICBiMzEgPSBCWzZdLFxuICAgICAgICAgIGIzMiA9IEJbN10sXG4gICAgICAgICAgYjMzID0gQls4XTtcbiAgICBUWzBdID0gYTExICogYjExICsgYTEyICogYjIxICsgYTEzICogYjMxO1xuICAgIFRbMV0gPSBhMTEgKiBiMTIgKyBhMTIgKiBiMjIgKyBhMTMgKiBiMzI7XG4gICAgVFsyXSA9IGExMSAqIGIxMyArIGExMiAqIGIyMyArIGExMyAqIGIzMztcbiAgICBUWzNdID0gYTIxICogYjExICsgYTIyICogYjIxICsgYTIzICogYjMxO1xuICAgIFRbNF0gPSBhMjEgKiBiMTIgKyBhMjIgKiBiMjIgKyBhMjMgKiBiMzI7XG4gICAgVFs1XSA9IGEyMSAqIGIxMyArIGEyMiAqIGIyMyArIGEyMyAqIGIzMztcbiAgICBUWzZdID0gYTMxICogYjExICsgYTMyICogYjIxICsgYTMzICogYjMxO1xuICAgIFRbN10gPSBhMzEgKiBiMTIgKyBhMzIgKiBiMjIgKyBhMzMgKiBiMzI7XG4gICAgVFs4XSA9IGEzMSAqIGIxMyArIGEzMiAqIGIyMyArIGEzMyAqIGIzMztcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxuICAgKiBTY2FsZSBlYWNoIGNvbHVtbiBvZiB0aGUgbWF0cml4XG4gICAqIEBtZXRob2Qgc2NhbGVcbiAgICogQHBhcmFtIHtWZWMzfSB2XG4gICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuXG4gICAqL1xuXG5cbiAgc2NhbGUodmVjdG9yLCB0YXJnZXQgPSBuZXcgTWF0MygpKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7XG4gICAgY29uc3QgdCA9IHRhcmdldC5lbGVtZW50cztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSAzOyBpKyspIHtcbiAgICAgIHRbMyAqIGkgKyAwXSA9IHZlY3Rvci54ICogZVszICogaSArIDBdO1xuICAgICAgdFszICogaSArIDFdID0gdmVjdG9yLnkgKiBlWzMgKiBpICsgMV07XG4gICAgICB0WzMgKiBpICsgMl0gPSB2ZWN0b3IueiAqIGVbMyAqIGkgKyAyXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxuICAgKiBTb2x2ZSBBeD1iXG4gICAqIEBtZXRob2Qgc29sdmVcbiAgICogQHBhcmFtIHtWZWMzfSBiIFRoZSByaWdodCBoYW5kIHNpZGVcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCB2ZWN0b3IgdG8gc2F2ZSBpbi5cbiAgICogQHJldHVybiB7VmVjM30gVGhlIHNvbHV0aW9uIHhcbiAgICogQHRvZG8gc2hvdWxkIHJldXNlIGFycmF5c1xuICAgKi9cblxuXG4gIHNvbHZlKGIsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICAvLyBDb25zdHJ1Y3QgZXF1YXRpb25zXG4gICAgY29uc3QgbnIgPSAzOyAvLyBudW0gcm93c1xuXG4gICAgY29uc3QgbmMgPSA0OyAvLyBudW0gY29sc1xuXG4gICAgY29uc3QgZXFucyA9IFtdO1xuICAgIGxldCBpO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG5yICogbmM7IGkrKykge1xuICAgICAgZXFucy5wdXNoKDApO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgZXFuc1tpICsgbmMgKiBqXSA9IHRoaXMuZWxlbWVudHNbaSArIDMgKiBqXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlcW5zWzMgKyA0ICogMF0gPSBiLng7XG4gICAgZXFuc1szICsgNCAqIDFdID0gYi55O1xuICAgIGVxbnNbMyArIDQgKiAyXSA9IGIuejsgLy8gQ29tcHV0ZSByaWdodCB1cHBlciB0cmlhbmd1bGFyIHZlcnNpb24gb2YgdGhlIG1hdHJpeCAtIEdhdXNzIGVsaW1pbmF0aW9uXG5cbiAgICBsZXQgbiA9IDM7XG4gICAgY29uc3QgayA9IG47XG4gICAgbGV0IG5wO1xuICAgIGNvbnN0IGtwID0gNDsgLy8gbnVtIHJvd3NcblxuICAgIGxldCBwO1xuXG4gICAgZG8ge1xuICAgICAgaSA9IGsgLSBuO1xuXG4gICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSA9PT0gMCkge1xuICAgICAgICAvLyB0aGUgcGl2b3QgaXMgbnVsbCwgc3dhcCBsaW5lc1xuICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykge1xuICAgICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGpdICE9PSAwKSB7XG4gICAgICAgICAgICBucCA9IGtwO1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIC8vIGRvIGxpZ25lKCBpICkgPSBsaWduZSggaSApICsgbGlnbmUoIGsgKVxuICAgICAgICAgICAgICBwID0ga3AgLSBucDtcbiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdO1xuICAgICAgICAgICAgfSB3aGlsZSAoLS1ucCk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSAhPT0gMCkge1xuICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykge1xuICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBlcW5zW2kgKyBuYyAqIGpdIC8gZXFuc1tpICsgbmMgKiBpXTtcbiAgICAgICAgICBucCA9IGtwO1xuXG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gZG8gbGlnbmUoIGsgKSA9IGxpZ25lKCBrICkgLSBtdWx0aXBsaWVyICogbGlnbmUoIGkgKVxuICAgICAgICAgICAgcCA9IGtwIC0gbnA7XG4gICAgICAgICAgICBlcW5zW3AgKyBuYyAqIGpdID0gcCA8PSBpID8gMCA6IGVxbnNbcCArIG5jICogal0gLSBlcW5zW3AgKyBuYyAqIGldICogbXVsdGlwbGllcjtcbiAgICAgICAgICB9IHdoaWxlICgtLW5wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gd2hpbGUgKC0tbik7IC8vIEdldCB0aGUgc29sdXRpb25cblxuXG4gICAgdGFyZ2V0LnogPSBlcW5zWzIgKiBuYyArIDNdIC8gZXFuc1syICogbmMgKyAyXTtcbiAgICB0YXJnZXQueSA9IChlcW5zWzEgKiBuYyArIDNdIC0gZXFuc1sxICogbmMgKyAyXSAqIHRhcmdldC56KSAvIGVxbnNbMSAqIG5jICsgMV07XG4gICAgdGFyZ2V0LnggPSAoZXFuc1swICogbmMgKyAzXSAtIGVxbnNbMCAqIG5jICsgMl0gKiB0YXJnZXQueiAtIGVxbnNbMCAqIG5jICsgMV0gKiB0YXJnZXQueSkgLyBlcW5zWzAgKiBuYyArIDBdO1xuXG4gICAgaWYgKGlzTmFOKHRhcmdldC54KSB8fCBpc05hTih0YXJnZXQueSkgfHwgaXNOYU4odGFyZ2V0LnopIHx8IHRhcmdldC54ID09PSBJbmZpbml0eSB8fCB0YXJnZXQueSA9PT0gSW5maW5pdHkgfHwgdGFyZ2V0LnogPT09IEluZmluaXR5KSB7XG4gICAgICB0aHJvdyBcIkNvdWxkIG5vdCBzb2x2ZSBlcXVhdGlvbiEgR290IHg9W1wiICsgdGFyZ2V0LnRvU3RyaW5nKCkgKyBcIl0sIGI9W1wiICsgYi50b1N0cmluZygpICsgXCJdLCBBPVtcIiArIHRoaXMudG9TdHJpbmcoKSArIFwiXVwiO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbiBlbGVtZW50IGluIHRoZSBtYXRyaXggYnkgaW5kZXguIEluZGV4IHN0YXJ0cyBhdCAwLCBub3QgMSEhIVxuICAgKiBAbWV0aG9kIGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJvd1xuICAgKiBAcGFyYW0ge051bWJlcn0gY29sdW1uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBPcHRpb25hbC4gSWYgcHJvdmlkZWQsIHRoZSBtYXRyaXggZWxlbWVudCB3aWxsIGJlIHNldCB0byB0aGlzIHZhbHVlLlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuXG5cbiAgZShyb3csIGNvbHVtbiwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbY29sdW1uICsgMyAqIHJvd107XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNldCB2YWx1ZVxuICAgICAgdGhpcy5lbGVtZW50c1tjb2x1bW4gKyAzICogcm93XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29weSBhbm90aGVyIG1hdHJpeCBpbnRvIHRoaXMgbWF0cml4IG9iamVjdC5cbiAgICogQG1ldGhvZCBjb3B5XG4gICAqIEBwYXJhbSB7TWF0M30gc291cmNlXG4gICAqIEByZXR1cm4ge01hdDN9IHRoaXNcbiAgICovXG5cblxuICBjb3B5KG1hdHJpeCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0cml4LmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzW2ldID0gbWF0cml4LmVsZW1lbnRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXguXG4gICAqIEBtZXRob2QgdG9TdHJpbmdcbiAgICogQHJldHVybiBzdHJpbmdcbiAgICovXG5cblxuICB0b1N0cmluZygpIHtcbiAgICBsZXQgciA9ICcnO1xuICAgIGNvbnN0IHNlcCA9ICcsJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICByICs9IHRoaXMuZWxlbWVudHNbaV0gKyBzZXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgLyoqXG4gICAqIHJldmVyc2UgdGhlIG1hdHJpeFxuICAgKiBAbWV0aG9kIHJldmVyc2VcbiAgICogQHBhcmFtIHtNYXQzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCBtYXRyaXggdG8gc2F2ZSBpbi5cbiAgICogQHJldHVybiB7TWF0M30gVGhlIHNvbHV0aW9uIHhcbiAgICovXG5cblxuICByZXZlcnNlKHRhcmdldCA9IG5ldyBNYXQzKCkpIHtcbiAgICAvLyBDb25zdHJ1Y3QgZXF1YXRpb25zXG4gICAgY29uc3QgbnIgPSAzOyAvLyBudW0gcm93c1xuXG4gICAgY29uc3QgbmMgPSA2OyAvLyBudW0gY29sc1xuXG4gICAgY29uc3QgZXFucyA9IFtdO1xuICAgIGxldCBpO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG5yICogbmM7IGkrKykge1xuICAgICAgZXFucy5wdXNoKDApO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgZXFuc1tpICsgbmMgKiBqXSA9IHRoaXMuZWxlbWVudHNbaSArIDMgKiBqXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlcW5zWzMgKyA2ICogMF0gPSAxO1xuICAgIGVxbnNbMyArIDYgKiAxXSA9IDA7XG4gICAgZXFuc1szICsgNiAqIDJdID0gMDtcbiAgICBlcW5zWzQgKyA2ICogMF0gPSAwO1xuICAgIGVxbnNbNCArIDYgKiAxXSA9IDE7XG4gICAgZXFuc1s0ICsgNiAqIDJdID0gMDtcbiAgICBlcW5zWzUgKyA2ICogMF0gPSAwO1xuICAgIGVxbnNbNSArIDYgKiAxXSA9IDA7XG4gICAgZXFuc1s1ICsgNiAqIDJdID0gMTsgLy8gQ29tcHV0ZSByaWdodCB1cHBlciB0cmlhbmd1bGFyIHZlcnNpb24gb2YgdGhlIG1hdHJpeCAtIEdhdXNzIGVsaW1pbmF0aW9uXG5cbiAgICBsZXQgbiA9IDM7XG4gICAgY29uc3QgayA9IG47XG4gICAgbGV0IG5wO1xuICAgIGNvbnN0IGtwID0gbmM7IC8vIG51bSByb3dzXG5cbiAgICBsZXQgcDtcblxuICAgIGRvIHtcbiAgICAgIGkgPSBrIC0gbjtcblxuICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gPT09IDApIHtcbiAgICAgICAgLy8gdGhlIHBpdm90IGlzIG51bGwsIHN3YXAgbGluZXNcbiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICBpZiAoZXFuc1tpICsgbmMgKiBqXSAhPT0gMCkge1xuICAgICAgICAgICAgbnAgPSBrcDtcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAvLyBkbyBsaW5lKCBpICkgPSBsaW5lKCBpICkgKyBsaW5lKCBrIClcbiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7XG4gICAgICAgICAgICAgIGVxbnNbcCArIG5jICogaV0gKz0gZXFuc1twICsgbmMgKiBqXTtcbiAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHtcbiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07XG4gICAgICAgICAgbnAgPSBrcDtcblxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIGRvIGxpbmUoIGsgKSA9IGxpbmUoIGsgKSAtIG11bHRpcGxpZXIgKiBsaW5lKCBpIClcbiAgICAgICAgICAgIHAgPSBrcCAtIG5wO1xuICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IHAgPD0gaSA/IDAgOiBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgfSB3aGlsZSAoLS1ucCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IHdoaWxlICgtLW4pOyAvLyBlbGltaW5hdGUgdGhlIHVwcGVyIGxlZnQgdHJpYW5nbGUgb2YgdGhlIG1hdHJpeFxuXG5cbiAgICBpID0gMjtcblxuICAgIGRvIHtcbiAgICAgIGogPSBpIC0gMTtcblxuICAgICAgZG8ge1xuICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07XG4gICAgICAgIG5wID0gbmM7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIHAgPSBuYyAtIG5wO1xuICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7XG4gICAgICAgIH0gd2hpbGUgKC0tbnApO1xuICAgICAgfSB3aGlsZSAoai0tKTtcbiAgICB9IHdoaWxlICgtLWkpOyAvLyBvcGVyYXRpb25zIG9uIHRoZSBkaWFnb25hbFxuXG5cbiAgICBpID0gMjtcblxuICAgIGRvIHtcbiAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSAxIC8gZXFuc1tpICsgbmMgKiBpXTtcbiAgICAgIG5wID0gbmM7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgcCA9IG5jIC0gbnA7XG4gICAgICAgIGVxbnNbcCArIG5jICogaV0gPSBlcW5zW3AgKyBuYyAqIGldICogbXVsdGlwbGllcjtcbiAgICAgIH0gd2hpbGUgKC0tbnApO1xuICAgIH0gd2hpbGUgKGktLSk7XG5cbiAgICBpID0gMjtcblxuICAgIGRvIHtcbiAgICAgIGogPSAyO1xuXG4gICAgICBkbyB7XG4gICAgICAgIHAgPSBlcW5zW25yICsgaiArIG5jICogaV07XG5cbiAgICAgICAgaWYgKGlzTmFOKHApIHx8IHAgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgdGhyb3cgXCJDb3VsZCBub3QgcmV2ZXJzZSEgQT1bXCIgKyB0aGlzLnRvU3RyaW5nKCkgKyBcIl1cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldC5lKGksIGosIHApO1xuICAgICAgfSB3aGlsZSAoai0tKTtcbiAgICB9IHdoaWxlIChpLS0pO1xuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBtYXRyaXggZnJvbSBhIHF1YXRlcmlvblxuICAgKiBAbWV0aG9kIHNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb25cbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxXG4gICAqL1xuXG5cbiAgc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihxKSB7XG4gICAgY29uc3QgeCA9IHEueDtcbiAgICBjb25zdCB5ID0gcS55O1xuICAgIGNvbnN0IHogPSBxLno7XG4gICAgY29uc3QgdyA9IHEudztcbiAgICBjb25zdCB4MiA9IHggKyB4O1xuICAgIGNvbnN0IHkyID0geSArIHk7XG4gICAgY29uc3QgejIgPSB6ICsgejtcbiAgICBjb25zdCB4eCA9IHggKiB4MjtcbiAgICBjb25zdCB4eSA9IHggKiB5MjtcbiAgICBjb25zdCB4eiA9IHggKiB6MjtcbiAgICBjb25zdCB5eSA9IHkgKiB5MjtcbiAgICBjb25zdCB5eiA9IHkgKiB6MjtcbiAgICBjb25zdCB6eiA9IHogKiB6MjtcbiAgICBjb25zdCB3eCA9IHcgKiB4MjtcbiAgICBjb25zdCB3eSA9IHcgKiB5MjtcbiAgICBjb25zdCB3eiA9IHcgKiB6MjtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBlWzMgKiAwICsgMF0gPSAxIC0gKHl5ICsgenopO1xuICAgIGVbMyAqIDAgKyAxXSA9IHh5IC0gd3o7XG4gICAgZVszICogMCArIDJdID0geHogKyB3eTtcbiAgICBlWzMgKiAxICsgMF0gPSB4eSArIHd6O1xuICAgIGVbMyAqIDEgKyAxXSA9IDEgLSAoeHggKyB6eik7XG4gICAgZVszICogMSArIDJdID0geXogLSB3eDtcbiAgICBlWzMgKiAyICsgMF0gPSB4eiAtIHd5O1xuICAgIGVbMyAqIDIgKyAxXSA9IHl6ICsgd3g7XG4gICAgZVszICogMiArIDJdID0gMSAtICh4eCArIHl5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogVHJhbnNwb3NlIHRoZSBtYXRyaXhcbiAgICogQG1ldGhvZCB0cmFuc3Bvc2VcbiAgICogQHBhcmFtICB7TWF0M30gdGFyZ2V0IE9wdGlvbmFsLiBXaGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0LlxuICAgKiBAcmV0dXJuIHtNYXQzfSBUaGUgdGFyZ2V0IE1hdDMsIG9yIGEgbmV3IE1hdDMgaWYgdGFyZ2V0IHdhcyBvbWl0dGVkLlxuICAgKi9cblxuXG4gIHRyYW5zcG9zZSh0YXJnZXQgPSBuZXcgTWF0MygpKSB7XG4gICAgY29uc3QgTSA9IHRoaXMuZWxlbWVudHM7XG4gICAgY29uc3QgVCA9IHRhcmdldC5lbGVtZW50cztcbiAgICBsZXQgdG1wOyAvL1NldCBkaWFnb25hbHNcblxuICAgIFRbMF0gPSBNWzBdO1xuICAgIFRbNF0gPSBNWzRdO1xuICAgIFRbOF0gPSBNWzhdO1xuICAgIHRtcCA9IE1bMV07XG4gICAgVFsxXSA9IE1bM107XG4gICAgVFszXSA9IHRtcDtcbiAgICB0bXAgPSBNWzJdO1xuICAgIFRbMl0gPSBNWzZdO1xuICAgIFRbNl0gPSB0bXA7XG4gICAgdG1wID0gTVs1XTtcbiAgICBUWzVdID0gTVs3XTtcbiAgICBUWzddID0gdG1wO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxufVxuXG4vKipcbiAqIDMtZGltZW5zaW9uYWwgdmVjdG9yXG4gKiBAY2xhc3MgVmVjM1xuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEBwYXJhbSB7TnVtYmVyfSB6XG4gKiBAYXV0aG9yIHNjaHRlcHBlXG4gKiBAZXhhbXBsZVxuICogICAgIGNvbnN0IHYgPSBuZXcgVmVjMygxLCAyLCAzKTtcbiAqICAgICBjb25zb2xlLmxvZygneD0nICsgdi54KTsgLy8geD0xXG4gKi9cblxuY2xhc3MgVmVjMyB7XG4gIGNvbnN0cnVjdG9yKHggPSAwLjAsIHkgPSAwLjAsIHogPSAwLjApIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy56ID0gejtcbiAgfVxuICAvKipcbiAgICogVmVjdG9yIGNyb3NzIHByb2R1Y3RcbiAgICogQG1ldGhvZCBjcm9zc1xuICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IHRvIHNhdmUgaW4uXG4gICAqIEByZXR1cm4ge1ZlYzN9XG4gICAqL1xuXG5cbiAgY3Jvc3ModmVjdG9yLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgdnggPSB2ZWN0b3IueDtcbiAgICBjb25zdCB2eSA9IHZlY3Rvci55O1xuICAgIGNvbnN0IHZ6ID0gdmVjdG9yLno7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgdGFyZ2V0LnggPSB5ICogdnogLSB6ICogdnk7XG4gICAgdGFyZ2V0LnkgPSB6ICogdnggLSB4ICogdno7XG4gICAgdGFyZ2V0LnogPSB4ICogdnkgLSB5ICogdng7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSB2ZWN0b3JzJyAzIGVsZW1lbnRzXG4gICAqIEBtZXRob2Qgc2V0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB6XG4gICAqIEByZXR1cm4gVmVjM1xuICAgKi9cblxuXG4gIHNldCh4LCB5LCB6KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueiA9IHo7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBhbGwgY29tcG9uZW50cyBvZiB0aGUgdmVjdG9yIHRvIHplcm8uXG4gICAqIEBtZXRob2Qgc2V0WmVyb1xuICAgKi9cblxuXG4gIHNldFplcm8oKSB7XG4gICAgdGhpcy54ID0gdGhpcy55ID0gdGhpcy56ID0gMDtcbiAgfVxuICAvKipcbiAgICogVmVjdG9yIGFkZGl0aW9uXG4gICAqIEBtZXRob2QgdmFkZFxuICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC5cbiAgICogQHJldHVybiB7VmVjM31cbiAgICovXG5cblxuICB2YWRkKHZlY3RvciwgdGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgdGFyZ2V0LnggPSB2ZWN0b3IueCArIHRoaXMueDtcbiAgICAgIHRhcmdldC55ID0gdmVjdG9yLnkgKyB0aGlzLnk7XG4gICAgICB0YXJnZXQueiA9IHZlY3Rvci56ICsgdGhpcy56O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54ICsgdmVjdG9yLngsIHRoaXMueSArIHZlY3Rvci55LCB0aGlzLnogKyB2ZWN0b3Iueik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBWZWN0b3Igc3VidHJhY3Rpb25cbiAgICogQG1ldGhvZCB2c3ViXG4gICAqIEBwYXJhbSB7VmVjM30gdmVjdG9yXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdG8gc2F2ZSBpbi5cbiAgICogQHJldHVybiB7VmVjM31cbiAgICovXG5cblxuICB2c3ViKHZlY3RvciwgdGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgdGFyZ2V0LnggPSB0aGlzLnggLSB2ZWN0b3IueDtcbiAgICAgIHRhcmdldC55ID0gdGhpcy55IC0gdmVjdG9yLnk7XG4gICAgICB0YXJnZXQueiA9IHRoaXMueiAtIHZlY3Rvci56O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54IC0gdmVjdG9yLngsIHRoaXMueSAtIHZlY3Rvci55LCB0aGlzLnogLSB2ZWN0b3Iueik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGNyb3NzIHByb2R1Y3QgbWF0cml4IGFfY3Jvc3MgZnJvbSBhIHZlY3Rvciwgc3VjaCB0aGF0IGEgeCBiID0gYV9jcm9zcyAqIGIgPSBjXG4gICAqIEBtZXRob2QgY3Jvc3NtYXRcbiAgICogQHNlZSBodHRwOi8vd3d3OC5jcy51bXUuc2Uva3Vyc2VyL1REQkQyNC9WVDA2L2xlY3R1cmVzL0xlY3R1cmU2LnBkZlxuICAgKiBAcmV0dXJuIHtNYXQzfVxuICAgKi9cblxuXG4gIGNyb3NzbWF0KCkge1xuICAgIHJldHVybiBuZXcgTWF0MyhbMCwgLXRoaXMueiwgdGhpcy55LCB0aGlzLnosIDAsIC10aGlzLngsIC10aGlzLnksIHRoaXMueCwgMF0pO1xuICB9XG4gIC8qKlxuICAgKiBOb3JtYWxpemUgdGhlIHZlY3Rvci4gTm90ZSB0aGF0IHRoaXMgY2hhbmdlcyB0aGUgdmFsdWVzIGluIHRoZSB2ZWN0b3IuXG4gICAqIEBtZXRob2Qgbm9ybWFsaXplXG4gICAqIEByZXR1cm4ge051bWJlcn0gUmV0dXJucyB0aGUgbm9ybSBvZiB0aGUgdmVjdG9yXG4gICAqL1xuXG5cbiAgbm9ybWFsaXplKCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIGNvbnN0IG4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcblxuICAgIGlmIChuID4gMC4wKSB7XG4gICAgICBjb25zdCBpbnZOID0gMSAvIG47XG4gICAgICB0aGlzLnggKj0gaW52TjtcbiAgICAgIHRoaXMueSAqPSBpbnZOO1xuICAgICAgdGhpcy56ICo9IGludk47XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE1ha2Ugc29tZXRoaW5nIHVwXG4gICAgICB0aGlzLnggPSAwO1xuICAgICAgdGhpcy55ID0gMDtcbiAgICAgIHRoaXMueiA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIG47XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgdmVyc2lvbiBvZiB0aGlzIHZlY3RvciB0aGF0IGlzIG9mIGxlbmd0aCAxLlxuICAgKiBAbWV0aG9kIHVuaXRcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwgdGFyZ2V0IHRvIHNhdmUgaW5cbiAgICogQHJldHVybiB7VmVjM30gUmV0dXJucyB0aGUgdW5pdCB2ZWN0b3JcbiAgICovXG5cblxuICB1bml0KHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICBsZXQgbmludiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuXG4gICAgaWYgKG5pbnYgPiAwLjApIHtcbiAgICAgIG5pbnYgPSAxLjAgLyBuaW52O1xuICAgICAgdGFyZ2V0LnggPSB4ICogbmludjtcbiAgICAgIHRhcmdldC55ID0geSAqIG5pbnY7XG4gICAgICB0YXJnZXQueiA9IHogKiBuaW52O1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQueCA9IDE7XG4gICAgICB0YXJnZXQueSA9IDA7XG4gICAgICB0YXJnZXQueiA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBsZW5ndGggb2YgdGhlIHZlY3RvclxuICAgKiBAbWV0aG9kIGxlbmd0aFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuXG5cbiAgbGVuZ3RoKCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBzcXVhcmVkIGxlbmd0aCBvZiB0aGUgdmVjdG9yLlxuICAgKiBAbWV0aG9kIGxlbmd0aFNxdWFyZWRcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cblxuXG4gIGxlbmd0aFNxdWFyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG90KHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnRcbiAgICogQG1ldGhvZCBkaXN0YW5jZVRvXG4gICAqIEBwYXJhbSAge1ZlYzN9IHBcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cblxuXG4gIGRpc3RhbmNlVG8ocCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIGNvbnN0IHB4ID0gcC54O1xuICAgIGNvbnN0IHB5ID0gcC55O1xuICAgIGNvbnN0IHB6ID0gcC56O1xuICAgIHJldHVybiBNYXRoLnNxcnQoKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHNxdWFyZWQgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnRcbiAgICogQG1ldGhvZCBkaXN0YW5jZVNxdWFyZWRcbiAgICogQHBhcmFtICB7VmVjM30gcFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuXG5cbiAgZGlzdGFuY2VTcXVhcmVkKHApIHtcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICBjb25zdCBweCA9IHAueDtcbiAgICBjb25zdCBweSA9IHAueTtcbiAgICBjb25zdCBweiA9IHAuejtcbiAgICByZXR1cm4gKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopO1xuICB9XG4gIC8qKlxuICAgKiBNdWx0aXBseSBhbGwgdGhlIGNvbXBvbmVudHMgb2YgdGhlIHZlY3RvciB3aXRoIGEgc2NhbGFyLlxuICAgKiBAbWV0aG9kIHNjYWxlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uXG4gICAqIEByZXR1cm4ge1ZlYzN9XG4gICAqL1xuXG5cbiAgc2NhbGUoc2NhbGFyLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgdGFyZ2V0LnggPSBzY2FsYXIgKiB4O1xuICAgIHRhcmdldC55ID0gc2NhbGFyICogeTtcbiAgICB0YXJnZXQueiA9IHNjYWxhciAqIHo7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcbiAgICogTXVsdGlwbHkgdGhlIHZlY3RvciB3aXRoIGFuIG90aGVyIHZlY3RvciwgY29tcG9uZW50LXdpc2UuXG4gICAqIEBtZXRob2Qgdm11bHRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlY3RvclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBUaGUgdmVjdG9yIHRvIHNhdmUgdGhlIHJlc3VsdCBpbi5cbiAgICogQHJldHVybiB7VmVjM31cbiAgICovXG5cblxuICB2bXVsKHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRhcmdldC54ID0gdmVjdG9yLnggKiB0aGlzLng7XG4gICAgdGFyZ2V0LnkgPSB2ZWN0b3IueSAqIHRoaXMueTtcbiAgICB0YXJnZXQueiA9IHZlY3Rvci56ICogdGhpcy56O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXG4gICAqIFNjYWxlIGEgdmVjdG9yIGFuZCBhZGQgaXQgdG8gdGhpcyB2ZWN0b3IuIFNhdmUgdGhlIHJlc3VsdCBpbiBcInRhcmdldFwiLiAodGFyZ2V0ID0gdGhpcyArIHZlY3RvciAqIHNjYWxhcilcbiAgICogQG1ldGhvZCBhZGRTY2FsZWRWZWN0b3JcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBUaGUgdmVjdG9yIHRvIHNhdmUgdGhlIHJlc3VsdCBpbi5cbiAgICogQHJldHVybiB7VmVjM31cbiAgICovXG5cblxuICBhZGRTY2FsZWRWZWN0b3Ioc2NhbGFyLCB2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQueCA9IHRoaXMueCArIHNjYWxhciAqIHZlY3Rvci54O1xuICAgIHRhcmdldC55ID0gdGhpcy55ICsgc2NhbGFyICogdmVjdG9yLnk7XG4gICAgdGFyZ2V0LnogPSB0aGlzLnogKyBzY2FsYXIgKiB2ZWN0b3IuejtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgZG90IHByb2R1Y3RcbiAgICogQG1ldGhvZCBkb3RcbiAgICogQHBhcmFtIHtWZWMzfSB2ZWN0b3JcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cblxuXG4gIGRvdCh2ZWN0b3IpIHtcbiAgICByZXR1cm4gdGhpcy54ICogdmVjdG9yLnggKyB0aGlzLnkgKiB2ZWN0b3IueSArIHRoaXMueiAqIHZlY3Rvci56O1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIGlzWmVyb1xuICAgKiBAcmV0dXJuIGJvb2xcbiAgICovXG5cblxuICBpc1plcm8oKSB7XG4gICAgcmV0dXJuIHRoaXMueCA9PT0gMCAmJiB0aGlzLnkgPT09IDAgJiYgdGhpcy56ID09PSAwO1xuICB9XG4gIC8qKlxuICAgKiBNYWtlIHRoZSB2ZWN0b3IgcG9pbnQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi5cbiAgICogQG1ldGhvZCBuZWdhdGVcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwgdGFyZ2V0IHRvIHNhdmUgaW5cbiAgICogQHJldHVybiB7VmVjM31cbiAgICovXG5cblxuICBuZWdhdGUodGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRhcmdldC54ID0gLXRoaXMueDtcbiAgICB0YXJnZXQueSA9IC10aGlzLnk7XG4gICAgdGFyZ2V0LnogPSAtdGhpcy56O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXG4gICAqIENvbXB1dGUgdHdvIGFydGlmaWNpYWwgdGFuZ2VudHMgdG8gdGhlIHZlY3RvclxuICAgKiBAbWV0aG9kIHRhbmdlbnRzXG4gICAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluXG4gICAqIEBwYXJhbSB7VmVjM30gdDIgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBzZWNvbmQgdGFuZ2VudCBpblxuICAgKi9cblxuXG4gIHRhbmdlbnRzKHQxLCB0Mikge1xuICAgIGNvbnN0IG5vcm0gPSB0aGlzLmxlbmd0aCgpO1xuXG4gICAgaWYgKG5vcm0gPiAwLjApIHtcbiAgICAgIGNvbnN0IG4gPSBWZWMzX3RhbmdlbnRzX247XG4gICAgICBjb25zdCBpbm9ybSA9IDEgLyBub3JtO1xuICAgICAgbi5zZXQodGhpcy54ICogaW5vcm0sIHRoaXMueSAqIGlub3JtLCB0aGlzLnogKiBpbm9ybSk7XG4gICAgICBjb25zdCByYW5kVmVjID0gVmVjM190YW5nZW50c19yYW5kVmVjO1xuXG4gICAgICBpZiAoTWF0aC5hYnMobi54KSA8IDAuOSkge1xuICAgICAgICByYW5kVmVjLnNldCgxLCAwLCAwKTtcbiAgICAgICAgbi5jcm9zcyhyYW5kVmVjLCB0MSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByYW5kVmVjLnNldCgwLCAxLCAwKTtcbiAgICAgICAgbi5jcm9zcyhyYW5kVmVjLCB0MSk7XG4gICAgICB9XG5cbiAgICAgIG4uY3Jvc3ModDEsIHQyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIG5vcm1hbCBsZW5ndGggaXMgemVybywgbWFrZSBzb21ldGhpbmcgdXBcbiAgICAgIHQxLnNldCgxLCAwLCAwKTtcbiAgICAgIHQyLnNldCgwLCAxLCAwKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRvIGEgbW9yZSByZWFkYWJsZSBmb3JtYXRcbiAgICogQG1ldGhvZCB0b1N0cmluZ1xuICAgKiBAcmV0dXJuIHN0cmluZ1xuICAgKi9cblxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiLFwiICsgdGhpcy56O1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0byBhbiBhcnJheVxuICAgKiBAbWV0aG9kIHRvQXJyYXlcbiAgICogQHJldHVybiBBcnJheVxuICAgKi9cblxuXG4gIHRvQXJyYXkoKSB7XG4gICAgcmV0dXJuIFt0aGlzLngsIHRoaXMueSwgdGhpcy56XTtcbiAgfVxuICAvKipcbiAgICogQ29waWVzIHZhbHVlIG9mIHNvdXJjZSB0byB0aGlzIHZlY3Rvci5cbiAgICogQG1ldGhvZCBjb3B5XG4gICAqIEBwYXJhbSB7VmVjM30gc291cmNlXG4gICAqIEByZXR1cm4ge1ZlYzN9IHRoaXNcbiAgICovXG5cblxuICBjb3B5KHZlY3Rvcikge1xuICAgIHRoaXMueCA9IHZlY3Rvci54O1xuICAgIHRoaXMueSA9IHZlY3Rvci55O1xuICAgIHRoaXMueiA9IHZlY3Rvci56O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBEbyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlY3RvcnNcbiAgICogQG1ldGhvZCBsZXJwXG4gICAqIEBwYXJhbSB7VmVjM30gdmVjdG9yXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0IEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gMCB3aWxsIG1ha2UgdGhpcyBmdW5jdGlvbiByZXR1cm4gdSwgYW5kIDEgd2lsbCBtYWtlIGl0IHJldHVybiB2LiBOdW1iZXJzIGluIGJldHdlZW4gd2lsbCBnZW5lcmF0ZSBhIHZlY3RvciBpbiBiZXR3ZWVuIHRoZW0uXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0XG4gICAqL1xuXG5cbiAgbGVycCh2ZWN0b3IsIHQsIHRhcmdldCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIHRhcmdldC54ID0geCArICh2ZWN0b3IueCAtIHgpICogdDtcbiAgICB0YXJnZXQueSA9IHkgKyAodmVjdG9yLnkgLSB5KSAqIHQ7XG4gICAgdGFyZ2V0LnogPSB6ICsgKHZlY3Rvci56IC0geikgKiB0O1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZlY3RvciBlcXVhbHMgaXMgYWxtb3N0IGVxdWFsIHRvIGFub3RoZXIgb25lLlxuICAgKiBAbWV0aG9kIGFsbW9zdEVxdWFsc1xuICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvclxuICAgKiBAcGFyYW0ge051bWJlcn0gcHJlY2lzaW9uXG4gICAqIEByZXR1cm4gYm9vbFxuICAgKi9cblxuXG4gIGFsbW9zdEVxdWFscyh2ZWN0b3IsIHByZWNpc2lvbiA9IDFlLTYpIHtcbiAgICBpZiAoTWF0aC5hYnModGhpcy54IC0gdmVjdG9yLngpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueSAtIHZlY3Rvci55KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnogLSB2ZWN0b3IueikgPiBwcmVjaXNpb24pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2ZWN0b3IgaXMgYWxtb3N0IHplcm9cbiAgICogQG1ldGhvZCBhbG1vc3RaZXJvXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwcmVjaXNpb25cbiAgICovXG5cblxuICBhbG1vc3RaZXJvKHByZWNpc2lvbiA9IDFlLTYpIHtcbiAgICBpZiAoTWF0aC5hYnModGhpcy54KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnkpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueikgPiBwcmVjaXNpb24pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHZlY3RvciBpcyBhbnRpLXBhcmFsbGVsIHRvIGFub3RoZXIgdmVjdG9yLlxuICAgKiBAbWV0aG9kIGlzQW50aXBhcmFsbGVsVG9cbiAgICogQHBhcmFtICB7VmVjM30gIHZcbiAgICogQHBhcmFtICB7TnVtYmVyfSAgcHJlY2lzaW9uIFNldCB0byB6ZXJvIGZvciBleGFjdCBjb21wYXJpc29uc1xuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cblxuXG4gIGlzQW50aXBhcmFsbGVsVG8odmVjdG9yLCBwcmVjaXNpb24pIHtcbiAgICB0aGlzLm5lZ2F0ZShhbnRpcF9uZWcpO1xuICAgIHJldHVybiBhbnRpcF9uZWcuYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uKTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIHZlY3RvclxuICAgKiBAbWV0aG9kIGNsb25lXG4gICAqIEByZXR1cm4ge1ZlYzN9XG4gICAqL1xuXG5cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCwgdGhpcy55LCB0aGlzLnopO1xuICB9XG5cbn1cblZlYzMuWkVSTyA9IG5ldyBWZWMzKDAsIDAsIDApO1xuVmVjMy5VTklUX1ggPSBuZXcgVmVjMygxLCAwLCAwKTtcblZlYzMuVU5JVF9ZID0gbmV3IFZlYzMoMCwgMSwgMCk7XG5WZWMzLlVOSVRfWiA9IG5ldyBWZWMzKDAsIDAsIDEpO1xuLyoqXG4gKiBDb21wdXRlIHR3byBhcnRpZmljaWFsIHRhbmdlbnRzIHRvIHRoZSB2ZWN0b3JcbiAqIEBtZXRob2QgdGFuZ2VudHNcbiAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluXG4gKiBAcGFyYW0ge1ZlYzN9IHQyIFZlY3RvciBvYmplY3QgdG8gc2F2ZSB0aGUgc2Vjb25kIHRhbmdlbnQgaW5cbiAqL1xuXG5jb25zdCBWZWMzX3RhbmdlbnRzX24gPSBuZXcgVmVjMygpO1xuY29uc3QgVmVjM190YW5nZW50c19yYW5kVmVjID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFudGlwX25lZyA9IG5ldyBWZWMzKCk7XG5cbi8qKlxuICogQXhpcyBhbGlnbmVkIGJvdW5kaW5nIGJveCBjbGFzcy5cbiAqIEBjbGFzcyBBQUJCXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7VmVjM30gICBbb3B0aW9ucy51cHBlckJvdW5kXSBUaGUgdXBwZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAqIEBwYXJhbSB7VmVjM30gICBbb3B0aW9ucy5sb3dlckJvdW5kXSBUaGUgbG93ZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveFxuICovXG5jbGFzcyBBQUJCIHtcbiAgLy8gVGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3hcbiAgLy8gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3hcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5sb3dlckJvdW5kID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnVwcGVyQm91bmQgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMubG93ZXJCb3VuZCkge1xuICAgICAgdGhpcy5sb3dlckJvdW5kLmNvcHkob3B0aW9ucy5sb3dlckJvdW5kKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy51cHBlckJvdW5kKSB7XG4gICAgICB0aGlzLnVwcGVyQm91bmQuY29weShvcHRpb25zLnVwcGVyQm91bmQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBBQUJCIGJvdW5kcyBmcm9tIGEgc2V0IG9mIHBvaW50cy5cbiAgICogQG1ldGhvZCBzZXRGcm9tUG9pbnRzXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50cyBBbiBhcnJheSBvZiBWZWMzJ3MuXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zaXRpb24gT3B0aW9uYWwuXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdGVybmlvbiBPcHRpb25hbC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHNraW5TaXplIE9wdGlvbmFsLlxuICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgc2VsZiBvYmplY3RcbiAgICovXG5cblxuICBzZXRGcm9tUG9pbnRzKHBvaW50cywgcG9zaXRpb24sIHF1YXRlcm5pb24sIHNraW5TaXplKSB7XG4gICAgY29uc3QgbCA9IHRoaXMubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kO1xuICAgIGNvbnN0IHEgPSBxdWF0ZXJuaW9uOyAvLyBTZXQgdG8gdGhlIGZpcnN0IHBvaW50XG5cbiAgICBsLmNvcHkocG9pbnRzWzBdKTtcblxuICAgIGlmIChxKSB7XG4gICAgICBxLnZtdWx0KGwsIGwpO1xuICAgIH1cblxuICAgIHUuY29weShsKTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcCA9IHBvaW50c1tpXTtcblxuICAgICAgaWYgKHEpIHtcbiAgICAgICAgcS52bXVsdChwLCB0bXApO1xuICAgICAgICBwID0gdG1wO1xuICAgICAgfVxuXG4gICAgICBpZiAocC54ID4gdS54KSB7XG4gICAgICAgIHUueCA9IHAueDtcbiAgICAgIH1cblxuICAgICAgaWYgKHAueCA8IGwueCkge1xuICAgICAgICBsLnggPSBwLng7XG4gICAgICB9XG5cbiAgICAgIGlmIChwLnkgPiB1LnkpIHtcbiAgICAgICAgdS55ID0gcC55O1xuICAgICAgfVxuXG4gICAgICBpZiAocC55IDwgbC55KSB7XG4gICAgICAgIGwueSA9IHAueTtcbiAgICAgIH1cblxuICAgICAgaWYgKHAueiA+IHUueikge1xuICAgICAgICB1LnogPSBwLno7XG4gICAgICB9XG5cbiAgICAgIGlmIChwLnogPCBsLnopIHtcbiAgICAgICAgbC56ID0gcC56O1xuICAgICAgfVxuICAgIH0gLy8gQWRkIG9mZnNldFxuXG5cbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgIHBvc2l0aW9uLnZhZGQobCwgbCk7XG4gICAgICBwb3NpdGlvbi52YWRkKHUsIHUpO1xuICAgIH1cblxuICAgIGlmIChza2luU2l6ZSkge1xuICAgICAgbC54IC09IHNraW5TaXplO1xuICAgICAgbC55IC09IHNraW5TaXplO1xuICAgICAgbC56IC09IHNraW5TaXplO1xuICAgICAgdS54ICs9IHNraW5TaXplO1xuICAgICAgdS55ICs9IHNraW5TaXplO1xuICAgICAgdS56ICs9IHNraW5TaXplO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDb3B5IGJvdW5kcyBmcm9tIGFuIEFBQkIgdG8gdGhpcyBBQUJCXG4gICAqIEBtZXRob2QgY29weVxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiIFNvdXJjZSB0byBjb3B5IGZyb21cbiAgICogQHJldHVybiB7QUFCQn0gVGhlIHRoaXMgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5XG4gICAqL1xuXG5cbiAgY29weShhYWJiKSB7XG4gICAgdGhpcy5sb3dlckJvdW5kLmNvcHkoYWFiYi5sb3dlckJvdW5kKTtcbiAgICB0aGlzLnVwcGVyQm91bmQuY29weShhYWJiLnVwcGVyQm91bmQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSBhbiBBQUJCXG4gICAqIEBtZXRob2QgY2xvbmVcbiAgICovXG5cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IEFBQkIoKS5jb3B5KHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBFeHRlbmQgdGhpcyBBQUJCIHNvIHRoYXQgaXQgY292ZXJzIHRoZSBnaXZlbiBBQUJCIHRvby5cbiAgICogQG1ldGhvZCBleHRlbmRcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxuICAgKi9cblxuXG4gIGV4dGVuZChhYWJiKSB7XG4gICAgdGhpcy5sb3dlckJvdW5kLnggPSBNYXRoLm1pbih0aGlzLmxvd2VyQm91bmQueCwgYWFiYi5sb3dlckJvdW5kLngpO1xuICAgIHRoaXMudXBwZXJCb3VuZC54ID0gTWF0aC5tYXgodGhpcy51cHBlckJvdW5kLngsIGFhYmIudXBwZXJCb3VuZC54KTtcbiAgICB0aGlzLmxvd2VyQm91bmQueSA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC55LCBhYWJiLmxvd2VyQm91bmQueSk7XG4gICAgdGhpcy51cHBlckJvdW5kLnkgPSBNYXRoLm1heCh0aGlzLnVwcGVyQm91bmQueSwgYWFiYi51cHBlckJvdW5kLnkpO1xuICAgIHRoaXMubG93ZXJCb3VuZC56ID0gTWF0aC5taW4odGhpcy5sb3dlckJvdW5kLnosIGFhYmIubG93ZXJCb3VuZC56KTtcbiAgICB0aGlzLnVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC56LCBhYWJiLnVwcGVyQm91bmQueik7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBvdmVybGFwcyB0aGlzIEFBQkIuXG4gICAqIEBtZXRob2Qgb3ZlcmxhcHNcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cblxuXG4gIG92ZXJsYXBzKGFhYmIpIHtcbiAgICBjb25zdCBsMSA9IHRoaXMubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1MSA9IHRoaXMudXBwZXJCb3VuZDtcbiAgICBjb25zdCBsMiA9IGFhYmIubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1MiA9IGFhYmIudXBwZXJCb3VuZDsgLy8gICAgICBsMiAgICAgICAgdTJcbiAgICAvLyAgICAgIHwtLS0tLS0tLS18XG4gICAgLy8gfC0tLS0tLS0tfFxuICAgIC8vIGwxICAgICAgIHUxXG5cbiAgICBjb25zdCBvdmVybGFwc1ggPSBsMi54IDw9IHUxLnggJiYgdTEueCA8PSB1Mi54IHx8IGwxLnggPD0gdTIueCAmJiB1Mi54IDw9IHUxLng7XG4gICAgY29uc3Qgb3ZlcmxhcHNZID0gbDIueSA8PSB1MS55ICYmIHUxLnkgPD0gdTIueSB8fCBsMS55IDw9IHUyLnkgJiYgdTIueSA8PSB1MS55O1xuICAgIGNvbnN0IG92ZXJsYXBzWiA9IGwyLnogPD0gdTEueiAmJiB1MS56IDw9IHUyLnogfHwgbDEueiA8PSB1Mi56ICYmIHUyLnogPD0gdTEuejtcbiAgICByZXR1cm4gb3ZlcmxhcHNYICYmIG92ZXJsYXBzWSAmJiBvdmVybGFwc1o7XG4gIH0gLy8gTW9zdGx5IGZvciBkZWJ1Z2dpbmdcblxuXG4gIHZvbHVtZSgpIHtcbiAgICBjb25zdCBsID0gdGhpcy5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUgPSB0aGlzLnVwcGVyQm91bmQ7XG4gICAgcmV0dXJuICh1LnggLSBsLngpICogKHUueSAtIGwueSkgKiAodS56IC0gbC56KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBBQUJCIGlzIGZ1bGx5IGNvbnRhaW5lZCBpbiB0aGlzIEFBQkIuXG4gICAqIEBtZXRob2QgY29udGFpbnNcbiAgICogQHBhcmFtIHtBQUJCfSBhYWJiXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqL1xuXG5cbiAgY29udGFpbnMoYWFiYikge1xuICAgIGNvbnN0IGwxID0gdGhpcy5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kO1xuICAgIGNvbnN0IGwyID0gYWFiYi5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUyID0gYWFiYi51cHBlckJvdW5kOyAvLyAgICAgIGwyICAgICAgICB1MlxuICAgIC8vICAgICAgfC0tLS0tLS0tLXxcbiAgICAvLyB8LS0tLS0tLS0tLS0tLS0tfFxuICAgIC8vIGwxICAgICAgICAgICAgICB1MVxuXG4gICAgcmV0dXJuIGwxLnggPD0gbDIueCAmJiB1MS54ID49IHUyLnggJiYgbDEueSA8PSBsMi55ICYmIHUxLnkgPj0gdTIueSAmJiBsMS56IDw9IGwyLnogJiYgdTEueiA+PSB1Mi56O1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIGdldENvcm5lcnNcbiAgICogQHBhcmFtIHtWZWMzfSBhXG4gICAqIEBwYXJhbSB7VmVjM30gYlxuICAgKiBAcGFyYW0ge1ZlYzN9IGNcbiAgICogQHBhcmFtIHtWZWMzfSBkXG4gICAqIEBwYXJhbSB7VmVjM30gZVxuICAgKiBAcGFyYW0ge1ZlYzN9IGZcbiAgICogQHBhcmFtIHtWZWMzfSBnXG4gICAqIEBwYXJhbSB7VmVjM30gaFxuICAgKi9cblxuXG4gIGdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCkge1xuICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdSA9IHRoaXMudXBwZXJCb3VuZDtcbiAgICBhLmNvcHkobCk7XG4gICAgYi5zZXQodS54LCBsLnksIGwueik7XG4gICAgYy5zZXQodS54LCB1LnksIGwueik7XG4gICAgZC5zZXQobC54LCB1LnksIHUueik7XG4gICAgZS5zZXQodS54LCBsLnksIHUueik7XG4gICAgZi5zZXQobC54LCB1LnksIGwueik7XG4gICAgZy5zZXQobC54LCBsLnksIHUueik7XG4gICAgaC5jb3B5KHUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gYW5vdGhlciBmcmFtZS5cbiAgICogQG1ldGhvZCB0b0xvY2FsRnJhbWVcbiAgICogQHBhcmFtICB7VHJhbnNmb3JtfSBmcmFtZVxuICAgKiBAcGFyYW0gIHtBQUJCfSB0YXJnZXRcbiAgICogQHJldHVybiB7QUFCQn0gVGhlIFwidGFyZ2V0XCIgQUFCQiBvYmplY3QuXG4gICAqL1xuXG5cbiAgdG9Mb2NhbEZyYW1lKGZyYW1lLCB0YXJnZXQpIHtcbiAgICBjb25zdCBjb3JuZXJzID0gdHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnM7XG4gICAgY29uc3QgYSA9IGNvcm5lcnNbMF07XG4gICAgY29uc3QgYiA9IGNvcm5lcnNbMV07XG4gICAgY29uc3QgYyA9IGNvcm5lcnNbMl07XG4gICAgY29uc3QgZCA9IGNvcm5lcnNbM107XG4gICAgY29uc3QgZSA9IGNvcm5lcnNbNF07XG4gICAgY29uc3QgZiA9IGNvcm5lcnNbNV07XG4gICAgY29uc3QgZyA9IGNvcm5lcnNbNl07XG4gICAgY29uc3QgaCA9IGNvcm5lcnNbN107IC8vIEdldCBjb3JuZXJzIGluIGN1cnJlbnQgZnJhbWVcblxuICAgIHRoaXMuZ2V0Q29ybmVycyhhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKTsgLy8gVHJhbnNmb3JtIHRoZW0gdG8gbmV3IGxvY2FsIGZyYW1lXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7XG4gICAgICBjb25zdCBjb3JuZXIgPSBjb3JuZXJzW2ldO1xuICAgICAgZnJhbWUucG9pbnRUb0xvY2FsKGNvcm5lciwgY29ybmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0LnNldEZyb21Qb2ludHMoY29ybmVycyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgcmVwcmVzZW50YXRpb24gb2YgYW4gQUFCQiBpbiB0aGUgZ2xvYmFsIGZyYW1lLlxuICAgKiBAbWV0aG9kIHRvV29ybGRGcmFtZVxuICAgKiBAcGFyYW0gIHtUcmFuc2Zvcm19IGZyYW1lXG4gICAqIEBwYXJhbSAge0FBQkJ9IHRhcmdldFxuICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgXCJ0YXJnZXRcIiBBQUJCIG9iamVjdC5cbiAgICovXG5cblxuICB0b1dvcmxkRnJhbWUoZnJhbWUsIHRhcmdldCkge1xuICAgIGNvbnN0IGNvcm5lcnMgPSB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVycztcbiAgICBjb25zdCBhID0gY29ybmVyc1swXTtcbiAgICBjb25zdCBiID0gY29ybmVyc1sxXTtcbiAgICBjb25zdCBjID0gY29ybmVyc1syXTtcbiAgICBjb25zdCBkID0gY29ybmVyc1szXTtcbiAgICBjb25zdCBlID0gY29ybmVyc1s0XTtcbiAgICBjb25zdCBmID0gY29ybmVyc1s1XTtcbiAgICBjb25zdCBnID0gY29ybmVyc1s2XTtcbiAgICBjb25zdCBoID0gY29ybmVyc1s3XTsgLy8gR2V0IGNvcm5lcnMgaW4gY3VycmVudCBmcmFtZVxuXG4gICAgdGhpcy5nZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpOyAvLyBUcmFuc2Zvcm0gdGhlbSB0byBuZXcgbG9jYWwgZnJhbWVcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHtcbiAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNbaV07XG4gICAgICBmcmFtZS5wb2ludFRvV29ybGQoY29ybmVyLCBjb3JuZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQuc2V0RnJvbVBvaW50cyhjb3JuZXJzKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIEFBQkIgaXMgaGl0IGJ5IGEgcmF5LlxuICAgKiBAcGFyYW0gIHtSYXl9IHJheVxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cblxuXG4gIG92ZXJsYXBzUmF5KHJheSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRpcmVjdGlvbixcbiAgICAgIGZyb21cbiAgICB9ID0gcmF5O1xuXG4gICAgY29uc3QgZGlyRnJhY1ggPSAxIC8gZGlyZWN0aW9uLng7XG4gICAgY29uc3QgZGlyRnJhY1kgPSAxIC8gZGlyZWN0aW9uLnk7XG4gICAgY29uc3QgZGlyRnJhY1ogPSAxIC8gZGlyZWN0aW9uLno7IC8vIHRoaXMubG93ZXJCb3VuZCBpcyB0aGUgY29ybmVyIG9mIEFBQkIgd2l0aCBtaW5pbWFsIGNvb3JkaW5hdGVzIC0gbGVmdCBib3R0b20sIHJ0IGlzIG1heGltYWwgY29ybmVyXG5cbiAgICBjb25zdCB0MSA9ICh0aGlzLmxvd2VyQm91bmQueCAtIGZyb20ueCkgKiBkaXJGcmFjWDtcbiAgICBjb25zdCB0MiA9ICh0aGlzLnVwcGVyQm91bmQueCAtIGZyb20ueCkgKiBkaXJGcmFjWDtcbiAgICBjb25zdCB0MyA9ICh0aGlzLmxvd2VyQm91bmQueSAtIGZyb20ueSkgKiBkaXJGcmFjWTtcbiAgICBjb25zdCB0NCA9ICh0aGlzLnVwcGVyQm91bmQueSAtIGZyb20ueSkgKiBkaXJGcmFjWTtcbiAgICBjb25zdCB0NSA9ICh0aGlzLmxvd2VyQm91bmQueiAtIGZyb20ueikgKiBkaXJGcmFjWjtcbiAgICBjb25zdCB0NiA9ICh0aGlzLnVwcGVyQm91bmQueiAtIGZyb20ueikgKiBkaXJGcmFjWjsgLy8gY29uc3QgdG1pbiA9IE1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKHQxLCB0MiksIE1hdGgubWluKHQzLCB0NCkpKTtcbiAgICAvLyBjb25zdCB0bWF4ID0gTWF0aC5taW4oTWF0aC5taW4oTWF0aC5tYXgodDEsIHQyKSwgTWF0aC5tYXgodDMsIHQ0KSkpO1xuXG4gICAgY29uc3QgdG1pbiA9IE1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKHQxLCB0MiksIE1hdGgubWluKHQzLCB0NCkpLCBNYXRoLm1pbih0NSwgdDYpKTtcbiAgICBjb25zdCB0bWF4ID0gTWF0aC5taW4oTWF0aC5taW4oTWF0aC5tYXgodDEsIHQyKSwgTWF0aC5tYXgodDMsIHQ0KSksIE1hdGgubWF4KHQ1LCB0NikpOyAvLyBpZiB0bWF4IDwgMCwgcmF5IChsaW5lKSBpcyBpbnRlcnNlY3RpbmcgQUFCQiwgYnV0IHdob2xlIEFBQkIgaXMgYmVoaW5nIHVzXG5cbiAgICBpZiAodG1heCA8IDApIHtcbiAgICAgIC8vdCA9IHRtYXg7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBpZiB0bWluID4gdG1heCwgcmF5IGRvZXNuJ3QgaW50ZXJzZWN0IEFBQkJcblxuXG4gICAgaWYgKHRtaW4gPiB0bWF4KSB7XG4gICAgICAvL3QgPSB0bWF4O1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbn1cbmNvbnN0IHRtcCA9IG5ldyBWZWMzKCk7XG5jb25zdCB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVycyA9IFtuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpXTtcblxuLyoqXG4gKiBDb2xsaXNpb24gXCJtYXRyaXhcIi4gSXQncyBhY3R1YWxseSBhIHRyaWFuZ3VsYXItc2hhcGVkIGFycmF5IG9mIHdoZXRoZXIgdHdvIGJvZGllcyBhcmUgdG91Y2hpbmcgdGhpcyBzdGVwLCBmb3IgcmVmZXJlbmNlIG5leHQgc3RlcFxuICogQGNsYXNzIEFycmF5Q29sbGlzaW9uTWF0cml4XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgQXJyYXlDb2xsaXNpb25NYXRyaXgge1xuICAvLyBUaGUgbWF0cml4IHN0b3JhZ2UuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWF0cml4ID0gW107XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbiBlbGVtZW50XG4gICAqIEBtZXRob2QgZ2V0XG4gICAqIEBwYXJhbSAge0JvZHl9IGJpXG4gICAqIEBwYXJhbSAge0JvZHl9IGJqXG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG5cblxuICBnZXQoYmksIGJqKSB7XG4gICAgbGV0IHtcbiAgICAgIGluZGV4OiBpXG4gICAgfSA9IGJpO1xuICAgIGxldCB7XG4gICAgICBpbmRleDogalxuICAgIH0gPSBiajtcblxuICAgIGlmIChqID4gaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm1hdHJpeFsoaSAqIChpICsgMSkgPj4gMSkgKyBqIC0gMV07XG4gIH1cbiAgLyoqXG4gICAqIFNldCBhbiBlbGVtZW50XG4gICAqIEBtZXRob2Qgc2V0XG4gICAqIEBwYXJhbSB7Qm9keX0gYmlcbiAgICogQHBhcmFtIHtCb2R5fSBialxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuXG5cbiAgc2V0KGJpLCBiaiwgdmFsdWUpIHtcbiAgICBsZXQge1xuICAgICAgaW5kZXg6IGlcbiAgICB9ID0gYmk7XG4gICAgbGV0IHtcbiAgICAgIGluZGV4OiBqXG4gICAgfSA9IGJqO1xuXG4gICAgaWYgKGogPiBpKSB7XG4gICAgICBjb25zdCB0ZW1wID0gajtcbiAgICAgIGogPSBpO1xuICAgICAgaSA9IHRlbXA7XG4gICAgfVxuXG4gICAgdGhpcy5tYXRyaXhbKGkgKiAoaSArIDEpID4+IDEpICsgaiAtIDFdID0gdmFsdWUgPyAxIDogMDtcbiAgfVxuICAvKipcbiAgICogU2V0cyBhbGwgZWxlbWVudHMgdG8gemVyb1xuICAgKiBAbWV0aG9kIHJlc2V0XG4gICAqL1xuXG5cbiAgcmVzZXQoKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLm1hdHJpeC5sZW5ndGg7IGkgIT09IGw7IGkrKykge1xuICAgICAgdGhpcy5tYXRyaXhbaV0gPSAwO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgbWF4IG51bWJlciBvZiBvYmplY3RzXG4gICAqIEBtZXRob2Qgc2V0TnVtT2JqZWN0c1xuICAgKiBAcGFyYW0ge051bWJlcn0gblxuICAgKi9cblxuXG4gIHNldE51bU9iamVjdHMobikge1xuICAgIHRoaXMubWF0cml4Lmxlbmd0aCA9IG4gKiAobiAtIDEpID4+IDE7XG4gIH1cblxufVxuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIG9iamVjdHMgdGhhdCBkaXNwYXRjaGVzIGV2ZW50cy5cbiAqIEBjbGFzcyBFdmVudFRhcmdldFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIEV2ZW50VGFyZ2V0IHtcbiAgY29uc3RydWN0b3IoKSB7fVxuICAvKipcbiAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyXG4gICAqIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyXG4gICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuXG4gICAqL1xuXG5cbiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuXG4gICAgaWYgKGxpc3RlbmVyc1t0eXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsaXN0ZW5lcnNbdHlwZV0gPSBbXTtcbiAgICB9XG5cbiAgICBpZiAoIWxpc3RlbmVyc1t0eXBlXS5pbmNsdWRlcyhsaXN0ZW5lcikpIHtcbiAgICAgIGxpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gZXZlbnQgbGlzdGVuZXIgaXMgYWRkZWRcbiAgICogQG1ldGhvZCBoYXNFdmVudExpc3RlbmVyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG5cblxuICBoYXNFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuXG4gICAgaWYgKGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkICYmIGxpc3RlbmVyc1t0eXBlXS5pbmNsdWRlcyhsaXN0ZW5lcikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYW55IGV2ZW50IGxpc3RlbmVyIG9mIHRoZSBnaXZlbiB0eXBlIGlzIGFkZGVkXG4gICAqIEBtZXRob2QgaGFzQW55RXZlbnRMaXN0ZW5lclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG5cblxuICBoYXNBbnlFdmVudExpc3RlbmVyKHR5cGUpIHtcbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgcmV0dXJuIGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICogQG1ldGhvZCByZW1vdmVFdmVudExpc3RlbmVyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXJcbiAgICogQHJldHVybiB7RXZlbnRUYXJnZXR9IFRoZSBzZWxmIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS5cbiAgICovXG5cblxuICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG5cbiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzW3R5cGVdLmluZGV4T2YobGlzdGVuZXIpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgbGlzdGVuZXJzW3R5cGVdLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEVtaXQgYW4gZXZlbnQuXG4gICAqIEBtZXRob2QgZGlzcGF0Y2hFdmVudFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XG4gICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQudHlwZVxuICAgKiBAcmV0dXJuIHtFdmVudFRhcmdldH0gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5LlxuICAgKi9cblxuXG4gIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcbiAgICBjb25zdCBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJzW2V2ZW50LnR5cGVdO1xuXG4gICAgaWYgKGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZXZlbnQudGFyZ2V0ID0gdGhpcztcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsaXN0ZW5lckFycmF5W2ldLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbn1cblxuLyoqXG4gKiBBIFF1YXRlcm5pb24gZGVzY3JpYmVzIGEgcm90YXRpb24gaW4gM0Qgc3BhY2UuIFRoZSBRdWF0ZXJuaW9uIGlzIG1hdGhlbWF0aWNhbGx5IGRlZmluZWQgYXMgUSA9IHgqaSArIHkqaiArIHoqayArIHcsIHdoZXJlIChpLGosaykgYXJlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3JzLiAoeCx5LHopIGNhbiBiZSBzZWVuIGFzIGEgdmVjdG9yIHJlbGF0ZWQgdG8gdGhlIGF4aXMgb2Ygcm90YXRpb24sIHdoaWxlIHRoZSByZWFsIG11bHRpcGxpZXIsIHcsIGlzIHJlbGF0ZWQgdG8gdGhlIGFtb3VudCBvZiByb3RhdGlvbi5cbiAqIEBwYXJhbSB7TnVtYmVyfSB4IE11bHRpcGxpZXIgb2YgdGhlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3IgaS5cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IE11bHRpcGxpZXIgb2YgdGhlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3Igai5cbiAqIEBwYXJhbSB7TnVtYmVyfSB6IE11bHRpcGxpZXIgb2YgdGhlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3Igay5cbiAqIEBwYXJhbSB7TnVtYmVyfSB3IE11bHRpcGxpZXIgb2YgdGhlIHJlYWwgcGFydC5cbiAqIEBzZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9RdWF0ZXJuaW9uXG4gKi9cblxuY2xhc3MgUXVhdGVybmlvbiB7XG4gIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgeiA9IDAsIHcgPSAxKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueiA9IHo7XG4gICAgdGhpcy53ID0gdztcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgcXVhdGVybmlvbi5cbiAgICovXG5cblxuICBzZXQoeCwgeSwgeiwgdykge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnogPSB6O1xuICAgIHRoaXMudyA9IHc7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgdG8gYSByZWFkYWJsZSBmb3JtYXRcbiAgICogQHJldHVybiB7U3RyaW5nfSBcIngseSx6LHdcIlxuICAgKi9cblxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiLFwiICsgdGhpcy56ICsgXCIsXCIgKyB0aGlzLnc7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgdG8gYW4gQXJyYXlcbiAgICogQHJldHVybiB7QXJyYXl9IFt4LCB5LCB6LCB3XVxuICAgKi9cblxuXG4gIHRvQXJyYXkoKSB7XG4gICAgcmV0dXJuIFt0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLnddO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIHF1YXRlcm5pb24gY29tcG9uZW50cyBnaXZlbiBhbiBheGlzIGFuZCBhbiBhbmdsZSBpbiByYWRpYW5zLlxuICAgKi9cblxuXG4gIHNldEZyb21BeGlzQW5nbGUodmVjdG9yLCBhbmdsZSkge1xuICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSAqIDAuNSk7XG4gICAgdGhpcy54ID0gdmVjdG9yLnggKiBzO1xuICAgIHRoaXMueSA9IHZlY3Rvci55ICogcztcbiAgICB0aGlzLnogPSB2ZWN0b3IueiAqIHM7XG4gICAgdGhpcy53ID0gTWF0aC5jb3MoYW5nbGUgKiAwLjUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGUgcXVhdGVybmlvbiB0byBbIGF4aXMsIGFuZ2xlIF0gcmVwcmVzZW50YXRpb24uXG4gICAqIEBwYXJhbSB7VmVjM30gW3RhcmdldEF4aXNdIEEgdmVjdG9yIG9iamVjdCB0byByZXVzZSBmb3Igc3RvcmluZyB0aGUgYXhpcy5cbiAgICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5LCBmaXJzdCBlbGVtZW50IGlzIHRoZSBheGlzIGFuZCB0aGUgc2Vjb25kIGlzIHRoZSBhbmdsZSBpbiByYWRpYW5zLlxuICAgKi9cblxuXG4gIHRvQXhpc0FuZ2xlKHRhcmdldEF4aXMgPSBuZXcgVmVjMygpKSB7XG4gICAgdGhpcy5ub3JtYWxpemUoKTsgLy8gaWYgdz4xIGFjb3MgYW5kIHNxcnQgd2lsbCBwcm9kdWNlIGVycm9ycywgdGhpcyBjYW50IGhhcHBlbiBpZiBxdWF0ZXJuaW9uIGlzIG5vcm1hbGlzZWRcblxuICAgIGNvbnN0IGFuZ2xlID0gMiAqIE1hdGguYWNvcyh0aGlzLncpO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNxcnQoMSAtIHRoaXMudyAqIHRoaXMudyk7IC8vIGFzc3VtaW5nIHF1YXRlcm5pb24gbm9ybWFsaXNlZCB0aGVuIHcgaXMgbGVzcyB0aGFuIDEsIHNvIHRlcm0gYWx3YXlzIHBvc2l0aXZlLlxuXG4gICAgaWYgKHMgPCAwLjAwMSkge1xuICAgICAgLy8gdGVzdCB0byBhdm9pZCBkaXZpZGUgYnkgemVybywgcyBpcyBhbHdheXMgcG9zaXRpdmUgZHVlIHRvIHNxcnRcbiAgICAgIC8vIGlmIHMgY2xvc2UgdG8gemVybyB0aGVuIGRpcmVjdGlvbiBvZiBheGlzIG5vdCBpbXBvcnRhbnRcbiAgICAgIHRhcmdldEF4aXMueCA9IHRoaXMueDsgLy8gaWYgaXQgaXMgaW1wb3J0YW50IHRoYXQgYXhpcyBpcyBub3JtYWxpc2VkIHRoZW4gcmVwbGFjZSB3aXRoIHg9MTsgeT16PTA7XG5cbiAgICAgIHRhcmdldEF4aXMueSA9IHRoaXMueTtcbiAgICAgIHRhcmdldEF4aXMueiA9IHRoaXMuejtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0QXhpcy54ID0gdGhpcy54IC8gczsgLy8gbm9ybWFsaXNlIGF4aXNcblxuICAgICAgdGFyZ2V0QXhpcy55ID0gdGhpcy55IC8gcztcbiAgICAgIHRhcmdldEF4aXMueiA9IHRoaXMueiAvIHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFt0YXJnZXRBeGlzLCBhbmdsZV07XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgcXVhdGVybmlvbiB2YWx1ZSBnaXZlbiB0d28gdmVjdG9ycy4gVGhlIHJlc3VsdGluZyByb3RhdGlvbiB3aWxsIGJlIHRoZSBuZWVkZWQgcm90YXRpb24gdG8gcm90YXRlIHUgdG8gdi5cbiAgICovXG5cblxuICBzZXRGcm9tVmVjdG9ycyh1LCB2KSB7XG4gICAgaWYgKHUuaXNBbnRpcGFyYWxsZWxUbyh2KSkge1xuICAgICAgY29uc3QgdDEgPSBzZnZfdDE7XG4gICAgICBjb25zdCB0MiA9IHNmdl90MjtcbiAgICAgIHUudGFuZ2VudHModDEsIHQyKTtcbiAgICAgIHRoaXMuc2V0RnJvbUF4aXNBbmdsZSh0MSwgTWF0aC5QSSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGEgPSB1LmNyb3NzKHYpO1xuICAgICAgdGhpcy54ID0gYS54O1xuICAgICAgdGhpcy55ID0gYS55O1xuICAgICAgdGhpcy56ID0gYS56O1xuICAgICAgdGhpcy53ID0gTWF0aC5zcXJ0KHUubGVuZ3RoKCkgKiogMiAqIHYubGVuZ3RoKCkgKiogMikgKyB1LmRvdCh2KTtcbiAgICAgIHRoaXMubm9ybWFsaXplKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIE11bHRpcGx5IHRoZSBxdWF0ZXJuaW9uIHdpdGggYW4gb3RoZXIgcXVhdGVybmlvbi5cbiAgICovXG5cblxuICBtdWx0KHF1YXQsIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHtcbiAgICBjb25zdCBheCA9IHRoaXMueDtcbiAgICBjb25zdCBheSA9IHRoaXMueTtcbiAgICBjb25zdCBheiA9IHRoaXMuejtcbiAgICBjb25zdCBhdyA9IHRoaXMudztcbiAgICBjb25zdCBieCA9IHF1YXQueDtcbiAgICBjb25zdCBieSA9IHF1YXQueTtcbiAgICBjb25zdCBieiA9IHF1YXQuejtcbiAgICBjb25zdCBidyA9IHF1YXQudztcbiAgICB0YXJnZXQueCA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gICAgdGFyZ2V0LnkgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6O1xuICAgIHRhcmdldC56ID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDtcbiAgICB0YXJnZXQudyA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBpbnZlcnNlIHF1YXRlcm5pb24gcm90YXRpb24uXG4gICAqL1xuXG5cbiAgaW52ZXJzZSh0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgY29uc3QgdyA9IHRoaXMudztcbiAgICB0aGlzLmNvbmp1Z2F0ZSh0YXJnZXQpO1xuICAgIGNvbnN0IGlub3JtMiA9IDEgLyAoeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xuICAgIHRhcmdldC54ICo9IGlub3JtMjtcbiAgICB0YXJnZXQueSAqPSBpbm9ybTI7XG4gICAgdGFyZ2V0LnogKj0gaW5vcm0yO1xuICAgIHRhcmdldC53ICo9IGlub3JtMjtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHF1YXRlcm5pb24gY29uanVnYXRlXG4gICAqL1xuXG5cbiAgY29uanVnYXRlKHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHtcbiAgICB0YXJnZXQueCA9IC10aGlzLng7XG4gICAgdGFyZ2V0LnkgPSAtdGhpcy55O1xuICAgIHRhcmdldC56ID0gLXRoaXMuejtcbiAgICB0YXJnZXQudyA9IHRoaXMudztcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxuICAgKiBOb3JtYWxpemUgdGhlIHF1YXRlcm5pb24uIE5vdGUgdGhhdCB0aGlzIGNoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgcXVhdGVybmlvbi5cbiAgICogQG1ldGhvZCBub3JtYWxpemVcbiAgICovXG5cblxuICBub3JtYWxpemUoKSB7XG4gICAgbGV0IGwgPSBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICsgdGhpcy53ICogdGhpcy53KTtcblxuICAgIGlmIChsID09PSAwKSB7XG4gICAgICB0aGlzLnggPSAwO1xuICAgICAgdGhpcy55ID0gMDtcbiAgICAgIHRoaXMueiA9IDA7XG4gICAgICB0aGlzLncgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gMSAvIGw7XG4gICAgICB0aGlzLnggKj0gbDtcbiAgICAgIHRoaXMueSAqPSBsO1xuICAgICAgdGhpcy56ICo9IGw7XG4gICAgICB0aGlzLncgKj0gbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQXBwcm94aW1hdGlvbiBvZiBxdWF0ZXJuaW9uIG5vcm1hbGl6YXRpb24uIFdvcmtzIGJlc3Qgd2hlbiBxdWF0IGlzIGFscmVhZHkgYWxtb3N0LW5vcm1hbGl6ZWQuXG4gICAqIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vZmFzdC1xdWF0ZXJuaW9uLW5vcm1hbGl6YXRpb25cbiAgICogQGF1dGhvciB1bnBoYXNlZCwgaHR0cHM6Ly9naXRodWIuY29tL3VucGhhc2VkXG4gICAqL1xuXG5cbiAgbm9ybWFsaXplRmFzdCgpIHtcbiAgICBjb25zdCBmID0gKDMuMCAtICh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKyB0aGlzLncgKiB0aGlzLncpKSAvIDIuMDtcblxuICAgIGlmIChmID09PSAwKSB7XG4gICAgICB0aGlzLnggPSAwO1xuICAgICAgdGhpcy55ID0gMDtcbiAgICAgIHRoaXMueiA9IDA7XG4gICAgICB0aGlzLncgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnggKj0gZjtcbiAgICAgIHRoaXMueSAqPSBmO1xuICAgICAgdGhpcy56ICo9IGY7XG4gICAgICB0aGlzLncgKj0gZjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogTXVsdGlwbHkgdGhlIHF1YXRlcm5pb24gYnkgYSB2ZWN0b3JcbiAgICovXG5cblxuICB2bXVsdCh2LCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgeCA9IHYueDtcbiAgICBjb25zdCB5ID0gdi55O1xuICAgIGNvbnN0IHogPSB2Lno7XG4gICAgY29uc3QgcXggPSB0aGlzLng7XG4gICAgY29uc3QgcXkgPSB0aGlzLnk7XG4gICAgY29uc3QgcXogPSB0aGlzLno7XG4gICAgY29uc3QgcXcgPSB0aGlzLnc7IC8vIHEqdlxuXG4gICAgY29uc3QgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHk7XG4gICAgY29uc3QgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHo7XG4gICAgY29uc3QgaXogPSBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7XG4gICAgY29uc3QgaXcgPSAtcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6O1xuICAgIHRhcmdldC54ID0gaXggKiBxdyArIGl3ICogLXF4ICsgaXkgKiAtcXogLSBpeiAqIC1xeTtcbiAgICB0YXJnZXQueSA9IGl5ICogcXcgKyBpdyAqIC1xeSArIGl6ICogLXF4IC0gaXggKiAtcXo7XG4gICAgdGFyZ2V0LnogPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXG4gICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyBxdWF0ZXJuaW9uLlxuICAgKiBAbWV0aG9kIGNvcHlcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBzb3VyY2VcbiAgICogQHJldHVybiB7UXVhdGVybmlvbn0gdGhpc1xuICAgKi9cblxuXG4gIGNvcHkocXVhdCkge1xuICAgIHRoaXMueCA9IHF1YXQueDtcbiAgICB0aGlzLnkgPSBxdWF0Lnk7XG4gICAgdGhpcy56ID0gcXVhdC56O1xuICAgIHRoaXMudyA9IHF1YXQudztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ29udmVydCB0aGUgcXVhdGVybmlvbiB0byBldWxlciBhbmdsZSByZXByZXNlbnRhdGlvbi4gT3JkZXI6IFlaWCwgYXMgdGhpcyBwYWdlIGRlc2NyaWJlczogaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvc3RhbmRhcmRzL2luZGV4Lmh0bVxuICAgKiBAbWV0aG9kIHRvRXVsZXJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9yZGVyIFRocmVlLWNoYXJhY3RlciBzdHJpbmcsIGRlZmF1bHRzIHRvIFwiWVpYXCJcbiAgICovXG5cblxuICB0b0V1bGVyKHRhcmdldCwgb3JkZXIgPSAnWVpYJykge1xuICAgIGxldCBoZWFkaW5nO1xuICAgIGxldCBhdHRpdHVkZTtcbiAgICBsZXQgYmFuaztcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICBjb25zdCB3ID0gdGhpcy53O1xuXG4gICAgc3dpdGNoIChvcmRlcikge1xuICAgICAgY2FzZSAnWVpYJzpcbiAgICAgICAgY29uc3QgdGVzdCA9IHggKiB5ICsgeiAqIHc7XG5cbiAgICAgICAgaWYgKHRlc3QgPiAwLjQ5OSkge1xuICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IG5vcnRoIHBvbGVcbiAgICAgICAgICBoZWFkaW5nID0gMiAqIE1hdGguYXRhbjIoeCwgdyk7XG4gICAgICAgICAgYXR0aXR1ZGUgPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICBiYW5rID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXN0IDwgLTAuNDk5KSB7XG4gICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgc291dGggcG9sZVxuICAgICAgICAgIGhlYWRpbmcgPSAtMiAqIE1hdGguYXRhbjIoeCwgdyk7XG4gICAgICAgICAgYXR0aXR1ZGUgPSAtTWF0aC5QSSAvIDI7XG4gICAgICAgICAgYmFuayA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGVhZGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29uc3Qgc3F4ID0geCAqIHg7XG4gICAgICAgICAgY29uc3Qgc3F5ID0geSAqIHk7XG4gICAgICAgICAgY29uc3Qgc3F6ID0geiAqIHo7XG4gICAgICAgICAgaGVhZGluZyA9IE1hdGguYXRhbjIoMiAqIHkgKiB3IC0gMiAqIHggKiB6LCAxIC0gMiAqIHNxeSAtIDIgKiBzcXopOyAvLyBIZWFkaW5nXG5cbiAgICAgICAgICBhdHRpdHVkZSA9IE1hdGguYXNpbigyICogdGVzdCk7IC8vIGF0dGl0dWRlXG5cbiAgICAgICAgICBiYW5rID0gTWF0aC5hdGFuMigyICogeCAqIHcgLSAyICogeSAqIHosIDEgLSAyICogc3F4IC0gMiAqIHNxeik7IC8vIGJhbmtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFdWxlciBvcmRlciBcIiArIG9yZGVyICsgXCIgbm90IHN1cHBvcnRlZCB5ZXQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC55ID0gaGVhZGluZztcbiAgICB0YXJnZXQueiA9IGF0dGl0dWRlO1xuICAgIHRhcmdldC54ID0gYmFuaztcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9yZGVyIFRoZSBvcmRlciB0byBhcHBseSBhbmdsZXM6ICdYWVonIG9yICdZWFonIG9yIGFueSBvdGhlciBjb21iaW5hdGlvblxuICAgKiBAc2VlIGh0dHA6Ly93d3cubWF0aHdvcmtzLmNvbS9tYXRsYWJjZW50cmFsL2ZpbGVleGNoYW5nZS8yMDY5Ni1mdW5jdGlvbi10by1jb252ZXJ0LWJldHdlZW4tZGNtLWV1bGVyLWFuZ2xlcy1xdWF0ZXJuaW9ucy1hbmQtZXVsZXItdmVjdG9ycy9jb250ZW50L1NwaW5DYWxjLm1cbiAgICovXG5cblxuICBzZXRGcm9tRXVsZXIoeCwgeSwgeiwgb3JkZXIgPSAnWFlaJykge1xuICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoeCAvIDIpO1xuICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoeSAvIDIpO1xuICAgIGNvbnN0IGMzID0gTWF0aC5jb3MoeiAvIDIpO1xuICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oeCAvIDIpO1xuICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oeSAvIDIpO1xuICAgIGNvbnN0IHMzID0gTWF0aC5zaW4oeiAvIDIpO1xuXG4gICAgaWYgKG9yZGVyID09PSAnWFlaJykge1xuICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzO1xuICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdZWFonKSB7XG4gICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG4gICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG4gICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG4gICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG4gICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1pYWScpIHtcbiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcbiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMztcbiAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcbiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcbiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWllYJykge1xuICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzO1xuICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzO1xuICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xuICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdZWlgnKSB7XG4gICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG4gICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7XG4gICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XG4gICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG4gICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1haWScpIHtcbiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcbiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcbiAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcbiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCBjbG9uZVxuICAgKiBAcmV0dXJuIHtRdWF0ZXJuaW9ufVxuICAgKi9cblxuXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUXVhdGVybmlvbih0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLncpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0XG4gICAqXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gdG9RdWF0IHNlY29uZCBvcGVyYW5kXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50IGJldHdlZW4gdGhlIHNlbGYgcXVhdGVybmlvbiBhbmQgdG9RdWF0XG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gW3RhcmdldF0gQSBxdWF0ZXJuaW9uIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uIElmIG5vdCBwcm92aWRlZCwgYSBuZXcgb25lIHdpbGwgYmUgY3JlYXRlZC5cbiAgICogQHJldHVybnMge1F1YXRlcm5pb259IFRoZSBcInRhcmdldFwiIG9iamVjdFxuICAgKi9cblxuXG4gIHNsZXJwKHRvUXVhdCwgdCwgdGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkge1xuICAgIGNvbnN0IGF4ID0gdGhpcy54O1xuICAgIGNvbnN0IGF5ID0gdGhpcy55O1xuICAgIGNvbnN0IGF6ID0gdGhpcy56O1xuICAgIGNvbnN0IGF3ID0gdGhpcy53O1xuICAgIGxldCBieCA9IHRvUXVhdC54O1xuICAgIGxldCBieSA9IHRvUXVhdC55O1xuICAgIGxldCBieiA9IHRvUXVhdC56O1xuICAgIGxldCBidyA9IHRvUXVhdC53O1xuICAgIGxldCBvbWVnYTtcbiAgICBsZXQgY29zb207XG4gICAgbGV0IHNpbm9tO1xuICAgIGxldCBzY2FsZTA7XG4gICAgbGV0IHNjYWxlMTsgLy8gY2FsYyBjb3NpbmVcblxuICAgIGNvc29tID0gYXggKiBieCArIGF5ICogYnkgKyBheiAqIGJ6ICsgYXcgKiBidzsgLy8gYWRqdXN0IHNpZ25zIChpZiBuZWNlc3NhcnkpXG5cbiAgICBpZiAoY29zb20gPCAwLjApIHtcbiAgICAgIGNvc29tID0gLWNvc29tO1xuICAgICAgYnggPSAtYng7XG4gICAgICBieSA9IC1ieTtcbiAgICAgIGJ6ID0gLWJ6O1xuICAgICAgYncgPSAtYnc7XG4gICAgfSAvLyBjYWxjdWxhdGUgY29lZmZpY2llbnRzXG5cblxuICAgIGlmICgxLjAgLSBjb3NvbSA+IDAuMDAwMDAxKSB7XG4gICAgICAvLyBzdGFuZGFyZCBjYXNlIChzbGVycClcbiAgICAgIG9tZWdhID0gTWF0aC5hY29zKGNvc29tKTtcbiAgICAgIHNpbm9tID0gTWF0aC5zaW4ob21lZ2EpO1xuICAgICAgc2NhbGUwID0gTWF0aC5zaW4oKDEuMCAtIHQpICogb21lZ2EpIC8gc2lub207XG4gICAgICBzY2FsZTEgPSBNYXRoLnNpbih0ICogb21lZ2EpIC8gc2lub207XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFwiZnJvbVwiIGFuZCBcInRvXCIgcXVhdGVybmlvbnMgYXJlIHZlcnkgY2xvc2VcbiAgICAgIC8vICAuLi4gc28gd2UgY2FuIGRvIGEgbGluZWFyIGludGVycG9sYXRpb25cbiAgICAgIHNjYWxlMCA9IDEuMCAtIHQ7XG4gICAgICBzY2FsZTEgPSB0O1xuICAgIH0gLy8gY2FsY3VsYXRlIGZpbmFsIHZhbHVlc1xuXG5cbiAgICB0YXJnZXQueCA9IHNjYWxlMCAqIGF4ICsgc2NhbGUxICogYng7XG4gICAgdGFyZ2V0LnkgPSBzY2FsZTAgKiBheSArIHNjYWxlMSAqIGJ5O1xuICAgIHRhcmdldC56ID0gc2NhbGUwICogYXogKyBzY2FsZTEgKiBiejtcbiAgICB0YXJnZXQudyA9IHNjYWxlMCAqIGF3ICsgc2NhbGUxICogYnc7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcbiAgICogUm90YXRlIGFuIGFic29sdXRlIG9yaWVudGF0aW9uIHF1YXRlcm5pb24gZ2l2ZW4gYW4gYW5ndWxhciB2ZWxvY2l0eSBhbmQgYSB0aW1lIHN0ZXAuXG4gICAqL1xuXG5cbiAgaW50ZWdyYXRlKGFuZ3VsYXJWZWxvY2l0eSwgZHQsIGFuZ3VsYXJGYWN0b3IsIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHtcbiAgICBjb25zdCBheCA9IGFuZ3VsYXJWZWxvY2l0eS54ICogYW5ndWxhckZhY3Rvci54LFxuICAgICAgICAgIGF5ID0gYW5ndWxhclZlbG9jaXR5LnkgKiBhbmd1bGFyRmFjdG9yLnksXG4gICAgICAgICAgYXogPSBhbmd1bGFyVmVsb2NpdHkueiAqIGFuZ3VsYXJGYWN0b3IueixcbiAgICAgICAgICBieCA9IHRoaXMueCxcbiAgICAgICAgICBieSA9IHRoaXMueSxcbiAgICAgICAgICBieiA9IHRoaXMueixcbiAgICAgICAgICBidyA9IHRoaXMudztcbiAgICBjb25zdCBoYWxmX2R0ID0gZHQgKiAwLjU7XG4gICAgdGFyZ2V0LnggKz0gaGFsZl9kdCAqIChheCAqIGJ3ICsgYXkgKiBieiAtIGF6ICogYnkpO1xuICAgIHRhcmdldC55ICs9IGhhbGZfZHQgKiAoYXkgKiBidyArIGF6ICogYnggLSBheCAqIGJ6KTtcbiAgICB0YXJnZXQueiArPSBoYWxmX2R0ICogKGF6ICogYncgKyBheCAqIGJ5IC0gYXkgKiBieCk7XG4gICAgdGFyZ2V0LncgKz0gaGFsZl9kdCAqICgtYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbn1cbmNvbnN0IHNmdl90MSA9IG5ldyBWZWMzKCk7XG5jb25zdCBzZnZfdDIgPSBuZXcgVmVjMygpO1xuXG5jb25zdCBTSEFQRV9UWVBFUyA9IHtcbiAgU1BIRVJFOiAxLFxuICBQTEFORTogMixcbiAgQk9YOiA0LFxuICBDT01QT1VORDogOCxcbiAgQ09OVkVYUE9MWUhFRFJPTjogMTYsXG4gIEhFSUdIVEZJRUxEOiAzMixcbiAgUEFSVElDTEU6IDY0LFxuICBDWUxJTkRFUjogMTI4LFxuICBUUklNRVNIOiAyNTZcbn07XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3Igc2hhcGVzXG4gKiBAY2xhc3MgU2hhcGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPTFdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZT10cnVlXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1hdGVyaWFsPW51bGxdXG4gKiBAYXV0aG9yIHNjaHRlcHBlXG4gKi9cbmNsYXNzIFNoYXBlIHtcbiAgLy8gSWRlbnRpZnllciBvZiB0aGUgU2hhcGUuXG4gIC8vIFRoZSB0eXBlIG9mIHRoaXMgc2hhcGUuIE11c3QgYmUgc2V0IHRvIGFuIGludCA+IDAgYnkgc3ViY2xhc3Nlcy5cbiAgLy8gVGhlIGxvY2FsIGJvdW5kaW5nIHNwaGVyZSByYWRpdXMgb2YgdGhpcyBzaGFwZS5cbiAgLy8gV2hldGhlciB0byBwcm9kdWNlIGNvbnRhY3QgZm9yY2VzIHdoZW4gaW4gY29udGFjdCB3aXRoIG90aGVyIGJvZGllcy4gTm90ZSB0aGF0IGNvbnRhY3RzIHdpbGwgYmUgZ2VuZXJhdGVkLCBidXQgdGhleSB3aWxsIGJlIGRpc2FibGVkLlxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmlkID0gU2hhcGUuaWRDb3VudGVyKys7XG4gICAgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlIHx8IDA7XG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IDA7XG4gICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IDE7XG4gICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTtcbiAgICB0aGlzLm1hdGVyaWFsID0gb3B0aW9ucy5tYXRlcmlhbCA/IG9wdGlvbnMubWF0ZXJpYWwgOiBudWxsO1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENvbXB1dGVzIHRoZSBib3VuZGluZyBzcGhlcmUgcmFkaXVzLiBUaGUgcmVzdWx0IGlzIHN0b3JlZCBpbiB0aGUgcHJvcGVydHkgLmJvdW5kaW5nU3BoZXJlUmFkaXVzXG4gICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXNcbiAgICovXG5cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICB0aHJvdyBcImNvbXB1dGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSBcIiArIHRoaXMudHlwZTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSB2b2x1bWUgb2YgdGhpcyBzaGFwZVxuICAgKiBAbWV0aG9kIHZvbHVtZVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuXG5cbiAgdm9sdW1lKCkge1xuICAgIHRocm93IFwidm9sdW1lKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlIFwiICsgdGhpcy50eXBlO1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBpbmVydGlhIGluIHRoZSBsb2NhbCBmcmFtZSBmb3IgdGhpcyBzaGFwZS5cbiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWFcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1hc3NcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXRcbiAgICogQHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfbW9tZW50c19vZl9pbmVydGlhXG4gICAqL1xuXG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkge1xuICAgIHRocm93IFwiY2FsY3VsYXRlTG9jYWxJbmVydGlhKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlIFwiICsgdGhpcy50eXBlO1xuICB9XG5cbiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHtcbiAgICB0aHJvdyBcImNhbGN1bGF0ZVdvcmxkQUFCQigpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSBcIiArIHRoaXMudHlwZTtcbiAgfVxuXG59XG5TaGFwZS5pZENvdW50ZXIgPSAwO1xuLyoqXG4gKiBUaGUgYXZhaWxhYmxlIHNoYXBlIHR5cGVzLlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHR5cGVzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5cblNoYXBlLnR5cGVzID0gU0hBUEVfVFlQRVM7XG5cbmNsYXNzIFRyYW5zZm9ybSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbiAgICBpZiAob3B0aW9ucy5wb3NpdGlvbikge1xuICAgICAgdGhpcy5wb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnF1YXRlcm5pb24pIHtcbiAgICAgIHRoaXMucXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBnbG9iYWwgcG9pbnQgaW4gbG9jYWwgdHJhbnNmb3JtIGNvb3JkaW5hdGVzLlxuICAgKi9cblxuXG4gIHBvaW50VG9Mb2NhbCh3b3JsZFBvaW50LCByZXN1bHQpIHtcbiAgICByZXR1cm4gVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHRoaXMucG9zaXRpb24sIHRoaXMucXVhdGVybmlvbiwgd29ybGRQb2ludCwgcmVzdWx0KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgbG9jYWwgcG9pbnQgaW4gZ2xvYmFsIHRyYW5zZm9ybSBjb29yZGluYXRlcy5cbiAgICovXG5cblxuICBwb2ludFRvV29ybGQobG9jYWxQb2ludCwgcmVzdWx0KSB7XG4gICAgcmV0dXJuIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0aGlzLnBvc2l0aW9uLCB0aGlzLnF1YXRlcm5pb24sIGxvY2FsUG9pbnQsIHJlc3VsdCk7XG4gIH1cblxuICB2ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyBwb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHdvcmxkUG9pbnQudnN1Yihwb3NpdGlvbiwgcmVzdWx0KTtcbiAgICBxdWF0ZXJuaW9uLmNvbmp1Z2F0ZSh0bXBRdWF0KTtcbiAgICB0bXBRdWF0LnZtdWx0KHJlc3VsdCwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIHBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBsb2NhbFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgcXVhdGVybmlvbi52bXVsdChsb2NhbFBvaW50LCByZXN1bHQpO1xuICAgIHJlc3VsdC52YWRkKHBvc2l0aW9uLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgdmVjdG9yVG9Xb3JsZEZyYW1lKHF1YXRlcm5pb24sIGxvY2FsVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgcXVhdGVybmlvbi52bXVsdChsb2NhbFZlY3RvciwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIHZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICBxdWF0ZXJuaW9uLncgKj0gLTE7XG4gICAgcXVhdGVybmlvbi52bXVsdCh3b3JsZFZlY3RvciwgcmVzdWx0KTtcbiAgICBxdWF0ZXJuaW9uLncgKj0gLTE7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG59XG5jb25zdCB0bXBRdWF0ID0gbmV3IFF1YXRlcm5pb24oKTtcblxuLyoqXG4gKiBBIHNldCBvZiBwb2x5Z29ucyBkZXNjcmliaW5nIGEgY29udmV4IHNoYXBlLlxuICogQGNsYXNzIENvbnZleFBvbHloZWRyb25cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgU2hhcGVcbiAqIEBkZXNjcmlwdGlvbiBUaGUgc2hhcGUgTVVTVCBiZSBjb252ZXggZm9yIHRoZSBjb2RlIHRvIHdvcmsgcHJvcGVybHkuIE5vIHBvbHlnb25zIG1heSBiZSBjb3BsYW5hciAoY29udGFpbmVkXG4gKiBpbiB0aGUgc2FtZSAzRCBwbGFuZSksIGluc3RlYWQgdGhlc2Ugc2hvdWxkIGJlIG1lcmdlZCBpbnRvIG9uZSBwb2x5Z29uLlxuICpcbiAqIEBwYXJhbSB7YXJyYXl9IHBvaW50cyBBbiBhcnJheSBvZiBWZWMzJ3NcbiAqIEBwYXJhbSB7YXJyYXl9IGZhY2VzIEFycmF5IG9mIGludGVnZXIgYXJyYXlzLCBkZXNjcmliaW5nIHdoaWNoIHZlcnRpY2VzIHRoYXQgaXMgaW5jbHVkZWQgaW4gZWFjaCBmYWNlLlxuICpcbiAqIEBhdXRob3IgcWlhbyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvIChvcmlnaW5hbCBhdXRob3IsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcWlhby90aHJlZS5qcy9jb21taXQvODUwMjZmMGM3NjllNDAwMDE0OGE2N2Q0NWE5ZTliOWM1MTA4ODM2ZilcbiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGVcbiAqIEBzZWUgaHR0cDovL3d3dy5hbHRkZXZibG9nYWRheS5jb20vMjAxMS8wNS8xMy9jb250YWN0LWdlbmVyYXRpb24tYmV0d2Vlbi0zZC1jb252ZXgtbWVzaGVzL1xuICpcbiAqIEB0b2RvIE1vdmUgdGhlIGNsaXBwaW5nIGZ1bmN0aW9ucyB0byBDb250YWN0R2VuZXJhdG9yP1xuICogQHRvZG8gQXV0b21hdGljYWxseSBtZXJnZSBjb3BsYW5hciBwb2x5Z29ucyBpbiBjb25zdHJ1Y3Rvci5cbiAqL1xuY2xhc3MgQ29udmV4UG9seWhlZHJvbiBleHRlbmRzIFNoYXBlIHtcbiAgLy8gQXJyYXkgb2YgaW50ZWdlciBhcnJheXMsIGluZGljYXRpbmcgd2hpY2ggdmVydGljZXMgZWFjaCBmYWNlIGNvbnNpc3RzIG9mXG4gIC8vIElmIGdpdmVuLCB0aGVzZSBsb2NhbGx5IGRlZmluZWQsIG5vcm1hbGl6ZWQgYXhlcyBhcmUgdGhlIG9ubHkgb25lcyBiZWluZyBjaGVja2VkIHdoZW4gZG9pbmcgc2VwYXJhdGluZyBheGlzIGNoZWNrLlxuICBjb25zdHJ1Y3Rvcihwcm9wcyA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgdmVydGljZXMgPSBbXSxcbiAgICAgIGZhY2VzID0gW10sXG4gICAgICBub3JtYWxzID0gW10sXG4gICAgICBheGVzLFxuICAgICAgYm91bmRpbmdTcGhlcmVSYWRpdXNcbiAgICB9ID0gcHJvcHM7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTlxuICAgIH0pO1xuICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICB0aGlzLmZhY2VzID0gZmFjZXM7XG4gICAgdGhpcy5mYWNlTm9ybWFscyA9IG5vcm1hbHM7XG5cbiAgICBpZiAodGhpcy5mYWNlTm9ybWFscy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuY29tcHV0ZU5vcm1hbHMoKTtcbiAgICB9XG5cbiAgICBpZiAoIWJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBib3VuZGluZ1NwaGVyZVJhZGl1cztcbiAgICB9XG5cbiAgICB0aGlzLndvcmxkVmVydGljZXMgPSBbXTsgLy8gV29ybGQgdHJhbnNmb3JtZWQgdmVyc2lvbiBvZiAudmVydGljZXNcblxuICAgIHRoaXMud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHMgPSBbXTsgLy8gV29ybGQgdHJhbnNmb3JtZWQgdmVyc2lvbiBvZiAuZmFjZU5vcm1hbHNcblxuICAgIHRoaXMud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0aGlzLnVuaXF1ZUF4ZXMgPSBheGVzID8gYXhlcy5zbGljZSgpIDogbnVsbDtcbiAgICB0aGlzLnVuaXF1ZUVkZ2VzID0gW107XG4gICAgdGhpcy5jb21wdXRlRWRnZXMoKTtcbiAgfVxuICAvKipcbiAgICogQ29tcHV0ZXMgdW5pcXVlRWRnZXNcbiAgICogQG1ldGhvZCBjb21wdXRlRWRnZXNcbiAgICovXG5cblxuICBjb21wdXRlRWRnZXMoKSB7XG4gICAgY29uc3QgZmFjZXMgPSB0aGlzLmZhY2VzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBjb25zdCBlZGdlcyA9IHRoaXMudW5pcXVlRWRnZXM7XG4gICAgZWRnZXMubGVuZ3RoID0gMDtcbiAgICBjb25zdCBlZGdlID0gbmV3IFZlYzMoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBmYWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ldO1xuICAgICAgY29uc3QgbnVtVmVydGljZXMgPSBmYWNlLmxlbmd0aDtcblxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IG51bVZlcnRpY2VzOyBqKyspIHtcbiAgICAgICAgY29uc3QgayA9IChqICsgMSkgJSBudW1WZXJ0aWNlcztcbiAgICAgICAgdmVydGljZXNbZmFjZVtqXV0udnN1Yih2ZXJ0aWNlc1tmYWNlW2tdXSwgZWRnZSk7XG4gICAgICAgIGVkZ2Uubm9ybWFsaXplKCk7XG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IHAgPSAwOyBwICE9PSBlZGdlcy5sZW5ndGg7IHArKykge1xuICAgICAgICAgIGlmIChlZGdlc1twXS5hbG1vc3RFcXVhbHMoZWRnZSkgfHwgZWRnZXNbcF0uYWxtb3N0RXF1YWxzKGVkZ2UpKSB7XG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgZWRnZXMucHVzaChlZGdlLmNsb25lKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCByZXVzZSBleGlzdGluZyBWZWMzIG9iamVjdHMgaW4gdGhlIC5mYWNlTm9ybWFscyBhcnJheSBpZiB0aGV5IGV4aXN0LlxuICAgKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWxzXG4gICAqL1xuXG5cbiAgY29tcHV0ZU5vcm1hbHMoKSB7XG4gICAgdGhpcy5mYWNlTm9ybWFscy5sZW5ndGggPSB0aGlzLmZhY2VzLmxlbmd0aDsgLy8gR2VuZXJhdGUgbm9ybWFsc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBDaGVjayBzbyBhbGwgdmVydGljZXMgZXhpc3RzIGZvciB0aGlzIGZhY2VcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5mYWNlc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoIXRoaXMudmVydGljZXNbdGhpcy5mYWNlc1tpXVtqXV0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZXJ0ZXggXCIgKyB0aGlzLmZhY2VzW2ldW2pdICsgXCIgbm90IGZvdW5kIVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBuID0gdGhpcy5mYWNlTm9ybWFsc1tpXSB8fCBuZXcgVmVjMygpO1xuICAgICAgdGhpcy5nZXRGYWNlTm9ybWFsKGksIG4pO1xuICAgICAgbi5uZWdhdGUobik7XG4gICAgICB0aGlzLmZhY2VOb3JtYWxzW2ldID0gbjtcbiAgICAgIGNvbnN0IHZlcnRleCA9IHRoaXMudmVydGljZXNbdGhpcy5mYWNlc1tpXVswXV07XG5cbiAgICAgIGlmIChuLmRvdCh2ZXJ0ZXgpIDwgMCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiLmZhY2VOb3JtYWxzW1wiICsgaSArIFwiXSA9IFZlYzMoXCIgKyBuLnRvU3RyaW5nKCkgKyBcIikgbG9va3MgbGlrZSBpdCBwb2ludHMgaW50byB0aGUgc2hhcGU/IFRoZSB2ZXJ0aWNlcyBmb2xsb3cuIE1ha2Ugc3VyZSB0aGV5IGFyZSBvcmRlcmVkIENDVyBhcm91bmQgdGhlIG5vcm1hbCwgdXNpbmcgdGhlIHJpZ2h0IGhhbmQgcnVsZS5cIik7XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiLnZlcnRpY2VzW1wiICsgdGhpcy5mYWNlc1tpXVtqXSArIFwiXSA9IFZlYzMoXCIgKyB0aGlzLnZlcnRpY2VzW3RoaXMuZmFjZXNbaV1bal1dLnRvU3RyaW5nKCkgKyBcIilcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIG5vcm1hbCBvZiBhIGZhY2UgZnJvbSBpdHMgdmVydGljZXNcbiAgICogQG1ldGhvZCBnZXRGYWNlTm9ybWFsXG4gICAqIEBwYXJhbSAge051bWJlcn0gaVxuICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXRcbiAgICovXG5cblxuICBnZXRGYWNlTm9ybWFsKGksIHRhcmdldCkge1xuICAgIGNvbnN0IGYgPSB0aGlzLmZhY2VzW2ldO1xuICAgIGNvbnN0IHZhID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTtcbiAgICBjb25zdCB2YiA9IHRoaXMudmVydGljZXNbZlsxXV07XG4gICAgY29uc3QgdmMgPSB0aGlzLnZlcnRpY2VzW2ZbMl1dO1xuICAgIENvbnZleFBvbHloZWRyb24uY29tcHV0ZU5vcm1hbCh2YSwgdmIsIHZjLCB0YXJnZXQpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgZmFjZSBub3JtYWwgZ2l2ZW4gMyB2ZXJ0aWNlc1xuICAgKiBAc3RhdGljXG4gICAqIEBtZXRob2QgY29tcHV0ZU5vcm1hbFxuICAgKiBAcGFyYW0ge1ZlYzN9IHZhXG4gICAqIEBwYXJhbSB7VmVjM30gdmJcbiAgICogQHBhcmFtIHtWZWMzfSB2Y1xuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldFxuICAgKi9cblxuXG4gIHN0YXRpYyBjb21wdXRlTm9ybWFsKHZhLCB2YiwgdmMsIHRhcmdldCkge1xuICAgIGNvbnN0IGNiID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBhYiA9IG5ldyBWZWMzKCk7XG4gICAgdmIudnN1Yih2YSwgYWIpO1xuICAgIHZjLnZzdWIodmIsIGNiKTtcbiAgICBjYi5jcm9zcyhhYiwgdGFyZ2V0KTtcblxuICAgIGlmICghdGFyZ2V0LmlzWmVybygpKSB7XG4gICAgICB0YXJnZXQubm9ybWFsaXplKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIGNsaXBBZ2FpbnN0SHVsbFxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0FcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QVxuICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxCXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zQlxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCXG4gICAqIEBwYXJhbSB7VmVjM30gc2VwYXJhdGluZ05vcm1hbFxuICAgKiBAcGFyYW0ge051bWJlcn0gbWluRGlzdCBDbGFtcCBkaXN0YW5jZVxuICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdFxuICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgVGhlIGFuIGFycmF5IG9mIGNvbnRhY3QgcG9pbnQgb2JqZWN0cywgc2VlIGNsaXBGYWNlQWdhaW5zdEh1bGxcbiAgICovXG5cblxuICBjbGlwQWdhaW5zdEh1bGwocG9zQSwgcXVhdEEsIGh1bGxCLCBwb3NCLCBxdWF0Qiwgc2VwYXJhdGluZ05vcm1hbCwgbWluRGlzdCwgbWF4RGlzdCwgcmVzdWx0KSB7XG4gICAgY29uc3QgV29ybGROb3JtYWwgPSBuZXcgVmVjMygpO1xuICAgIGxldCBjbG9zZXN0RmFjZUIgPSAtMTtcbiAgICBsZXQgZG1heCA9IC1OdW1iZXIuTUFYX1ZBTFVFO1xuXG4gICAgZm9yIChsZXQgZmFjZSA9IDA7IGZhY2UgPCBodWxsQi5mYWNlcy5sZW5ndGg7IGZhY2UrKykge1xuICAgICAgV29ybGROb3JtYWwuY29weShodWxsQi5mYWNlTm9ybWFsc1tmYWNlXSk7XG4gICAgICBxdWF0Qi52bXVsdChXb3JsZE5vcm1hbCwgV29ybGROb3JtYWwpO1xuICAgICAgY29uc3QgZCA9IFdvcmxkTm9ybWFsLmRvdChzZXBhcmF0aW5nTm9ybWFsKTtcblxuICAgICAgaWYgKGQgPiBkbWF4KSB7XG4gICAgICAgIGRtYXggPSBkO1xuICAgICAgICBjbG9zZXN0RmFjZUIgPSBmYWNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHdvcmxkVmVydHNCMSA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBodWxsQi5mYWNlc1tjbG9zZXN0RmFjZUJdLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiID0gaHVsbEIudmVydGljZXNbaHVsbEIuZmFjZXNbY2xvc2VzdEZhY2VCXVtpXV07XG4gICAgICBjb25zdCB3b3JsZGIgPSBuZXcgVmVjMygpO1xuICAgICAgd29ybGRiLmNvcHkoYik7XG4gICAgICBxdWF0Qi52bXVsdCh3b3JsZGIsIHdvcmxkYik7XG4gICAgICBwb3NCLnZhZGQod29ybGRiLCB3b3JsZGIpO1xuICAgICAgd29ybGRWZXJ0c0IxLnB1c2god29ybGRiKTtcbiAgICB9XG5cbiAgICBpZiAoY2xvc2VzdEZhY2VCID49IDApIHtcbiAgICAgIHRoaXMuY2xpcEZhY2VBZ2FpbnN0SHVsbChzZXBhcmF0aW5nTm9ybWFsLCBwb3NBLCBxdWF0QSwgd29ybGRWZXJ0c0IxLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmluZCB0aGUgc2VwYXJhdGluZyBheGlzIGJldHdlZW4gdGhpcyBodWxsIGFuZCBhbm90aGVyXG4gICAqIEBtZXRob2QgZmluZFNlcGFyYXRpbmdBeGlzXG4gICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NBXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEFcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NCXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHRhcmdldCB2ZWN0b3IgdG8gc2F2ZSB0aGUgYXhpcyBpblxuICAgKiBAcmV0dXJuIHtib29sfSBSZXR1cm5zIGZhbHNlIGlmIGEgc2VwYXJhdGlvbiBpcyBmb3VuZCwgZWxzZSB0cnVlXG4gICAqL1xuXG5cbiAgZmluZFNlcGFyYXRpbmdBeGlzKGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIsIHRhcmdldCwgZmFjZUxpc3RBLCBmYWNlTGlzdEIpIHtcbiAgICBjb25zdCBmYWNlQU5vcm1hbFdTMyA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgV29ybGRub3JtYWwxID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBkZWx0YUMgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHdvcmxkRWRnZTAgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHdvcmxkRWRnZTEgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IENyb3NzID0gbmV3IFZlYzMoKTtcbiAgICBsZXQgZG1pbiA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgY29uc3QgaHVsbEEgPSB0aGlzO1xuXG4gICAgaWYgKCFodWxsQS51bmlxdWVBeGVzKSB7XG4gICAgICBjb25zdCBudW1GYWNlc0EgPSBmYWNlTGlzdEEgPyBmYWNlTGlzdEEubGVuZ3RoIDogaHVsbEEuZmFjZXMubGVuZ3RoOyAvLyBUZXN0IGZhY2Ugbm9ybWFscyBmcm9tIGh1bGxBXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRmFjZXNBOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdEEgPyBmYWNlTGlzdEFbaV0gOiBpOyAvLyBHZXQgd29ybGQgZmFjZSBub3JtYWxcblxuICAgICAgICBmYWNlQU5vcm1hbFdTMy5jb3B5KGh1bGxBLmZhY2VOb3JtYWxzW2ZpXSk7XG4gICAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MzLCBmYWNlQU5vcm1hbFdTMyk7XG4gICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhmYWNlQU5vcm1hbFdTMywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7XG5cbiAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGQgPCBkbWluKSB7XG4gICAgICAgICAgZG1pbiA9IGQ7XG4gICAgICAgICAgdGFyZ2V0LmNvcHkoZmFjZUFOb3JtYWxXUzMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBodWxsQS51bmlxdWVBeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEdldCB3b3JsZCBheGlzXG4gICAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUF4ZXNbaV0sIGZhY2VBTm9ybWFsV1MzKTtcbiAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKGZhY2VBTm9ybWFsV1MzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTtcblxuICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZCA8IGRtaW4pIHtcbiAgICAgICAgICBkbWluID0gZDtcbiAgICAgICAgICB0YXJnZXQuY29weShmYWNlQU5vcm1hbFdTMyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWh1bGxCLnVuaXF1ZUF4ZXMpIHtcbiAgICAgIC8vIFRlc3QgZmFjZSBub3JtYWxzIGZyb20gaHVsbEJcbiAgICAgIGNvbnN0IG51bUZhY2VzQiA9IGZhY2VMaXN0QiA/IGZhY2VMaXN0Qi5sZW5ndGggOiBodWxsQi5mYWNlcy5sZW5ndGg7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRmFjZXNCOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdEIgPyBmYWNlTGlzdEJbaV0gOiBpO1xuICAgICAgICBXb3JsZG5vcm1hbDEuY29weShodWxsQi5mYWNlTm9ybWFsc1tmaV0pO1xuICAgICAgICBxdWF0Qi52bXVsdChXb3JsZG5vcm1hbDEsIFdvcmxkbm9ybWFsMSk7XG4gICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhXb3JsZG5vcm1hbDEsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpO1xuXG4gICAgICAgIGlmIChkID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkIDwgZG1pbikge1xuICAgICAgICAgIGRtaW4gPSBkO1xuICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGVzdCB1bmlxdWUgYXhlcyBpbiBCXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gaHVsbEIudW5pcXVlQXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBxdWF0Qi52bXVsdChodWxsQi51bmlxdWVBeGVzW2ldLCBXb3JsZG5vcm1hbDEpO1xuICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoV29ybGRub3JtYWwxLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTtcblxuICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZCA8IGRtaW4pIHtcbiAgICAgICAgICBkbWluID0gZDtcbiAgICAgICAgICB0YXJnZXQuY29weShXb3JsZG5vcm1hbDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBUZXN0IGVkZ2VzXG5cblxuICAgIGZvciAobGV0IGUwID0gMDsgZTAgIT09IGh1bGxBLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTArKykge1xuICAgICAgLy8gR2V0IHdvcmxkIGVkZ2VcbiAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUVkZ2VzW2UwXSwgd29ybGRFZGdlMCk7XG5cbiAgICAgIGZvciAobGV0IGUxID0gMDsgZTEgIT09IGh1bGxCLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTErKykge1xuICAgICAgICAvLyBHZXQgd29ybGQgZWRnZSAyXG4gICAgICAgIHF1YXRCLnZtdWx0KGh1bGxCLnVuaXF1ZUVkZ2VzW2UxXSwgd29ybGRFZGdlMSk7XG4gICAgICAgIHdvcmxkRWRnZTAuY3Jvc3Mod29ybGRFZGdlMSwgQ3Jvc3MpO1xuXG4gICAgICAgIGlmICghQ3Jvc3MuYWxtb3N0WmVybygpKSB7XG4gICAgICAgICAgQ3Jvc3Mubm9ybWFsaXplKCk7XG4gICAgICAgICAgY29uc3QgZGlzdCA9IGh1bGxBLnRlc3RTZXBBeGlzKENyb3NzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTtcblxuICAgICAgICAgIGlmIChkaXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkaXN0IDwgZG1pbikge1xuICAgICAgICAgICAgZG1pbiA9IGRpc3Q7XG4gICAgICAgICAgICB0YXJnZXQuY29weShDcm9zcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcG9zQi52c3ViKHBvc0EsIGRlbHRhQyk7XG5cbiAgICBpZiAoZGVsdGFDLmRvdCh0YXJnZXQpID4gMC4wKSB7XG4gICAgICB0YXJnZXQubmVnYXRlKHRhcmdldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIFRlc3Qgc2VwYXJhdGluZyBheGlzIGFnYWluc3QgdHdvIGh1bGxzLiBCb3RoIGh1bGxzIGFyZSBwcm9qZWN0ZWQgb250byB0aGUgYXhpcyBhbmQgdGhlIG92ZXJsYXAgc2l6ZSBpcyByZXR1cm5lZCBpZiB0aGVyZSBpcyBvbmUuXG4gICAqIEBtZXRob2QgdGVzdFNlcEF4aXNcbiAgICogQHBhcmFtIHtWZWMzfSBheGlzXG4gICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NBXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEFcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NCXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEJcbiAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgb3ZlcmxhcCBkZXB0aCwgb3IgRkFMU0UgaWYgbm8gcGVuZXRyYXRpb24uXG4gICAqL1xuXG5cbiAgdGVzdFNlcEF4aXMoYXhpcywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qikge1xuICAgIGNvbnN0IGh1bGxBID0gdGhpcztcbiAgICBDb252ZXhQb2x5aGVkcm9uLnByb2plY3QoaHVsbEEsIGF4aXMsIHBvc0EsIHF1YXRBLCBtYXhtaW5BKTtcbiAgICBDb252ZXhQb2x5aGVkcm9uLnByb2plY3QoaHVsbEIsIGF4aXMsIHBvc0IsIHF1YXRCLCBtYXhtaW5CKTtcbiAgICBjb25zdCBtYXhBID0gbWF4bWluQVswXTtcbiAgICBjb25zdCBtaW5BID0gbWF4bWluQVsxXTtcbiAgICBjb25zdCBtYXhCID0gbWF4bWluQlswXTtcbiAgICBjb25zdCBtaW5CID0gbWF4bWluQlsxXTtcblxuICAgIGlmIChtYXhBIDwgbWluQiB8fCBtYXhCIDwgbWluQSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBTZXBhcmF0ZWRcbiAgICB9XG5cbiAgICBjb25zdCBkMCA9IG1heEEgLSBtaW5CO1xuICAgIGNvbnN0IGQxID0gbWF4QiAtIG1pbkE7XG4gICAgY29uc3QgZGVwdGggPSBkMCA8IGQxID8gZDAgOiBkMTtcbiAgICByZXR1cm4gZGVwdGg7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xuICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXRcbiAgICovXG5cblxuICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7XG4gICAgLy8gQXBwcm94aW1hdGUgd2l0aCBib3ggaW5lcnRpYVxuICAgIC8vIEV4YWN0IGluZXJ0aWEgY2FsY3VsYXRpb24gaXMgb3ZlcmtpbGwsIGJ1dCBzZWUgaHR0cDovL2dlb21ldHJpY3Rvb2xzLmNvbS9Eb2N1bWVudGF0aW9uL1BvbHloZWRyYWxNYXNzUHJvcGVydGllcy5wZGYgZm9yIHRoZSBjb3JyZWN0IHdheSB0byBkbyBpdFxuICAgIGNvbnN0IGFhYmJtYXggPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IGFhYmJtaW4gPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQihhYWJibWluLCBhYWJibWF4KTtcbiAgICBjb25zdCB4ID0gYWFiYm1heC54IC0gYWFiYm1pbi54O1xuICAgIGNvbnN0IHkgPSBhYWJibWF4LnkgLSBhYWJibWluLnk7XG4gICAgY29uc3QgeiA9IGFhYmJtYXgueiAtIGFhYmJtaW4uejtcbiAgICB0YXJnZXQueCA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeiAqIDIgKiB6KTtcbiAgICB0YXJnZXQueSA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB4ICogMiAqIHggKyAyICogeiAqIDIgKiB6KTtcbiAgICB0YXJnZXQueiA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeCAqIDIgKiB4KTtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlXG4gICAqIEBwYXJhbSAge051bWJlcn0gZmFjZV9pIEluZGV4IG9mIHRoZSBmYWNlXG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG5cblxuICBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGZhY2VfaSkge1xuICAgIGNvbnN0IGYgPSB0aGlzLmZhY2VzW2ZhY2VfaV07XG4gICAgY29uc3QgbiA9IHRoaXMuZmFjZU5vcm1hbHNbZmFjZV9pXTtcbiAgICBjb25zdCB2ID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTtcbiAgICBjb25zdCBjID0gLW4uZG90KHYpO1xuICAgIHJldHVybiBjO1xuICB9XG4gIC8qKlxuICAgKiBDbGlwIGEgZmFjZSBhZ2FpbnN0IGEgaHVsbC5cbiAgICogQG1ldGhvZCBjbGlwRmFjZUFnYWluc3RIdWxsXG4gICAqIEBwYXJhbSB7VmVjM30gc2VwYXJhdGluZ05vcm1hbFxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0FcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QVxuICAgKiBAcGFyYW0ge0FycmF5fSB3b3JsZFZlcnRzQjEgQW4gYXJyYXkgb2YgVmVjMyB3aXRoIHZlcnRpY2VzIGluIHRoZSB3b3JsZCBmcmFtZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbkRpc3QgRGlzdGFuY2UgY2xhbXBpbmdcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1heERpc3RcbiAgICogQHBhcmFtIEFycmF5IHJlc3VsdCBBcnJheSB0byBzdG9yZSByZXN1bHRpbmcgY29udGFjdCBwb2ludHMgaW4uIFdpbGwgYmUgb2JqZWN0cyB3aXRoIHByb3BlcnRpZXM6IHBvaW50LCBkZXB0aCwgbm9ybWFsLiBUaGVzZSBhcmUgcmVwcmVzZW50ZWQgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gICAqL1xuXG5cbiAgY2xpcEZhY2VBZ2FpbnN0SHVsbChzZXBhcmF0aW5nTm9ybWFsLCBwb3NBLCBxdWF0QSwgd29ybGRWZXJ0c0IxLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpIHtcbiAgICBjb25zdCBmYWNlQU5vcm1hbFdTID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBlZGdlMCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgV29ybGRFZGdlMCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3Qgd29ybGRQbGFuZUFub3JtYWwxID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwbGFuZU5vcm1hbFdTMSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3Qgd29ybGRBMSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgbG9jYWxQbGFuZU5vcm1hbCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcGxhbmVOb3JtYWxXUyA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgaHVsbEEgPSB0aGlzO1xuICAgIGNvbnN0IHdvcmxkVmVydHNCMiA9IFtdO1xuICAgIGNvbnN0IHBWdHhJbiA9IHdvcmxkVmVydHNCMTtcbiAgICBjb25zdCBwVnR4T3V0ID0gd29ybGRWZXJ0c0IyO1xuICAgIGxldCBjbG9zZXN0RmFjZUEgPSAtMTtcbiAgICBsZXQgZG1pbiA9IE51bWJlci5NQVhfVkFMVUU7IC8vIEZpbmQgdGhlIGZhY2Ugd2l0aCBub3JtYWwgY2xvc2VzdCB0byB0aGUgc2VwYXJhdGluZyBheGlzXG5cbiAgICBmb3IgKGxldCBmYWNlID0gMDsgZmFjZSA8IGh1bGxBLmZhY2VzLmxlbmd0aDsgZmFjZSsrKSB7XG4gICAgICBmYWNlQU5vcm1hbFdTLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmFjZV0pO1xuICAgICAgcXVhdEEudm11bHQoZmFjZUFOb3JtYWxXUywgZmFjZUFOb3JtYWxXUyk7XG4gICAgICBjb25zdCBkID0gZmFjZUFOb3JtYWxXUy5kb3Qoc2VwYXJhdGluZ05vcm1hbCk7XG5cbiAgICAgIGlmIChkIDwgZG1pbikge1xuICAgICAgICBkbWluID0gZDtcbiAgICAgICAgY2xvc2VzdEZhY2VBID0gZmFjZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2xvc2VzdEZhY2VBIDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gR2V0IHRoZSBmYWNlIGFuZCBjb25zdHJ1Y3QgY29ubmVjdGVkIGZhY2VzXG5cblxuICAgIGNvbnN0IHBvbHlBID0gaHVsbEEuZmFjZXNbY2xvc2VzdEZhY2VBXTtcbiAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBodWxsQS5mYWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBodWxsQS5mYWNlc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoXG4gICAgICAgIC8qIFNoYXJpbmcgYSB2ZXJ0ZXgqL1xuICAgICAgICBwb2x5QS5pbmRleE9mKGh1bGxBLmZhY2VzW2ldW2pdKSAhPT0gLTEgJiZcbiAgICAgICAgLyogTm90IHRoZSBvbmUgd2UgYXJlIGxvb2tpbmcgZm9yIGNvbm5lY3Rpb25zIGZyb20gKi9cbiAgICAgICAgaSAhPT0gY2xvc2VzdEZhY2VBICYmXG4gICAgICAgIC8qIE5vdCBhbHJlYWR5IGFkZGVkICovXG4gICAgICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzLmluZGV4T2YoaSkgPT09IC0xKSB7XG4gICAgICAgICAgcG9seUEuY29ubmVjdGVkRmFjZXMucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gQ2xpcCB0aGUgcG9seWdvbiB0byB0aGUgYmFjayBvZiB0aGUgcGxhbmVzIG9mIGFsbCBmYWNlcyBvZiBodWxsIEEsXG4gICAgLy8gdGhhdCBhcmUgYWRqYWNlbnQgdG8gdGhlIHdpdG5lc3MgZmFjZVxuXG5cbiAgICBjb25zdCBudW1WZXJ0aWNlc0EgPSBwb2x5QS5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZlcnRpY2VzQTsgaSsrKSB7XG4gICAgICBjb25zdCBhID0gaHVsbEEudmVydGljZXNbcG9seUFbaV1dO1xuICAgICAgY29uc3QgYiA9IGh1bGxBLnZlcnRpY2VzW3BvbHlBWyhpICsgMSkgJSBudW1WZXJ0aWNlc0FdXTtcbiAgICAgIGEudnN1YihiLCBlZGdlMCk7XG4gICAgICBXb3JsZEVkZ2UwLmNvcHkoZWRnZTApO1xuICAgICAgcXVhdEEudm11bHQoV29ybGRFZGdlMCwgV29ybGRFZGdlMCk7XG4gICAgICBwb3NBLnZhZGQoV29ybGRFZGdlMCwgV29ybGRFZGdlMCk7XG4gICAgICB3b3JsZFBsYW5lQW5vcm1hbDEuY29weSh0aGlzLmZhY2VOb3JtYWxzW2Nsb3Nlc3RGYWNlQV0pO1xuICAgICAgcXVhdEEudm11bHQod29ybGRQbGFuZUFub3JtYWwxLCB3b3JsZFBsYW5lQW5vcm1hbDEpO1xuICAgICAgcG9zQS52YWRkKHdvcmxkUGxhbmVBbm9ybWFsMSwgd29ybGRQbGFuZUFub3JtYWwxKTtcbiAgICAgIFdvcmxkRWRnZTAuY3Jvc3Mod29ybGRQbGFuZUFub3JtYWwxLCBwbGFuZU5vcm1hbFdTMSk7XG4gICAgICBwbGFuZU5vcm1hbFdTMS5uZWdhdGUocGxhbmVOb3JtYWxXUzEpO1xuICAgICAgd29ybGRBMS5jb3B5KGEpO1xuICAgICAgcXVhdEEudm11bHQod29ybGRBMSwgd29ybGRBMSk7XG4gICAgICBwb3NBLnZhZGQod29ybGRBMSwgd29ybGRBMSk7XG4gICAgICBjb25zdCBvdGhlckZhY2UgPSBwb2x5QS5jb25uZWN0ZWRGYWNlc1tpXTtcbiAgICAgIGxvY2FsUGxhbmVOb3JtYWwuY29weSh0aGlzLmZhY2VOb3JtYWxzW290aGVyRmFjZV0pO1xuICAgICAgY29uc3QgbG9jYWxQbGFuZUVxID0gdGhpcy5nZXRQbGFuZUNvbnN0YW50T2ZGYWNlKG90aGVyRmFjZSk7XG4gICAgICBwbGFuZU5vcm1hbFdTLmNvcHkobG9jYWxQbGFuZU5vcm1hbCk7XG4gICAgICBxdWF0QS52bXVsdChwbGFuZU5vcm1hbFdTLCBwbGFuZU5vcm1hbFdTKTtcbiAgICAgIGNvbnN0IHBsYW5lRXFXUyA9IGxvY2FsUGxhbmVFcSAtIHBsYW5lTm9ybWFsV1MuZG90KHBvc0EpOyAvLyBDbGlwIGZhY2UgYWdhaW5zdCBvdXIgY29uc3RydWN0ZWQgcGxhbmVcblxuICAgICAgdGhpcy5jbGlwRmFjZUFnYWluc3RQbGFuZShwVnR4SW4sIHBWdHhPdXQsIHBsYW5lTm9ybWFsV1MsIHBsYW5lRXFXUyk7IC8vIFRocm93IGF3YXkgYWxsIGNsaXBwZWQgcG9pbnRzLCBidXQgc2F2ZSB0aGUgcmVtYWluaW5nIHVudGlsIG5leHQgY2xpcFxuXG4gICAgICB3aGlsZSAocFZ0eEluLmxlbmd0aCkge1xuICAgICAgICBwVnR4SW4uc2hpZnQoKTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHBWdHhPdXQubGVuZ3RoKSB7XG4gICAgICAgIHBWdHhJbi5wdXNoKHBWdHhPdXQuc2hpZnQoKSk7XG4gICAgICB9XG4gICAgfSAvLyBvbmx5IGtlZXAgY29udGFjdCBwb2ludHMgdGhhdCBhcmUgYmVoaW5kIHRoZSB3aXRuZXNzIGZhY2VcblxuXG4gICAgbG9jYWxQbGFuZU5vcm1hbC5jb3B5KHRoaXMuZmFjZU5vcm1hbHNbY2xvc2VzdEZhY2VBXSk7XG4gICAgY29uc3QgbG9jYWxQbGFuZUVxID0gdGhpcy5nZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGNsb3Nlc3RGYWNlQSk7XG4gICAgcGxhbmVOb3JtYWxXUy5jb3B5KGxvY2FsUGxhbmVOb3JtYWwpO1xuICAgIHF1YXRBLnZtdWx0KHBsYW5lTm9ybWFsV1MsIHBsYW5lTm9ybWFsV1MpO1xuICAgIGNvbnN0IHBsYW5lRXFXUyA9IGxvY2FsUGxhbmVFcSAtIHBsYW5lTm9ybWFsV1MuZG90KHBvc0EpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwVnR4SW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBkZXB0aCA9IHBsYW5lTm9ybWFsV1MuZG90KHBWdHhJbltpXSkgKyBwbGFuZUVxV1M7IC8vID8/P1xuXG4gICAgICBpZiAoZGVwdGggPD0gbWluRGlzdCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNsYW1wZWQ6IGRlcHRoPVwiICsgZGVwdGggKyBcIiB0byBtaW5EaXN0PVwiICsgbWluRGlzdCk7XG4gICAgICAgIGRlcHRoID0gbWluRGlzdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGRlcHRoIDw9IG1heERpc3QpIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBwVnR4SW5baV07XG5cbiAgICAgICAgaWYgKGRlcHRoIDw9IDFlLTYpIHtcbiAgICAgICAgICBjb25zdCBwID0ge1xuICAgICAgICAgICAgcG9pbnQsXG4gICAgICAgICAgICBub3JtYWw6IHBsYW5lTm9ybWFsV1MsXG4gICAgICAgICAgICBkZXB0aFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmVzdWx0LnB1c2gocCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENsaXAgYSBmYWNlIGluIGEgaHVsbCBhZ2FpbnN0IHRoZSBiYWNrIG9mIGEgcGxhbmUuXG4gICAqIEBtZXRob2QgY2xpcEZhY2VBZ2FpbnN0UGxhbmVcbiAgICogQHBhcmFtIHtBcnJheX0gaW5WZXJ0aWNlc1xuICAgKiBAcGFyYW0ge0FycmF5fSBvdXRWZXJ0aWNlc1xuICAgKiBAcGFyYW0ge1ZlYzN9IHBsYW5lTm9ybWFsXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwbGFuZUNvbnN0YW50IFRoZSBjb25zdGFudCBpbiB0aGUgbWF0aGVtYXRpY2FsIHBsYW5lIGVxdWF0aW9uXG4gICAqL1xuXG5cbiAgY2xpcEZhY2VBZ2FpbnN0UGxhbmUoaW5WZXJ0aWNlcywgb3V0VmVydGljZXMsIHBsYW5lTm9ybWFsLCBwbGFuZUNvbnN0YW50KSB7XG4gICAgbGV0IG5fZG90X2ZpcnN0O1xuICAgIGxldCBuX2RvdF9sYXN0O1xuICAgIGNvbnN0IG51bVZlcnRzID0gaW5WZXJ0aWNlcy5sZW5ndGg7XG5cbiAgICBpZiAobnVtVmVydHMgPCAyKSB7XG4gICAgICByZXR1cm4gb3V0VmVydGljZXM7XG4gICAgfVxuXG4gICAgbGV0IGZpcnN0VmVydGV4ID0gaW5WZXJ0aWNlc1tpblZlcnRpY2VzLmxlbmd0aCAtIDFdO1xuICAgIGxldCBsYXN0VmVydGV4ID0gaW5WZXJ0aWNlc1swXTtcbiAgICBuX2RvdF9maXJzdCA9IHBsYW5lTm9ybWFsLmRvdChmaXJzdFZlcnRleCkgKyBwbGFuZUNvbnN0YW50O1xuXG4gICAgZm9yIChsZXQgdmkgPSAwOyB2aSA8IG51bVZlcnRzOyB2aSsrKSB7XG4gICAgICBsYXN0VmVydGV4ID0gaW5WZXJ0aWNlc1t2aV07XG4gICAgICBuX2RvdF9sYXN0ID0gcGxhbmVOb3JtYWwuZG90KGxhc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDtcblxuICAgICAgaWYgKG5fZG90X2ZpcnN0IDwgMCkge1xuICAgICAgICBpZiAobl9kb3RfbGFzdCA8IDApIHtcbiAgICAgICAgICAvLyBTdGFydCA8IDAsIGVuZCA8IDAsIHNvIG91dHB1dCBsYXN0VmVydGV4XG4gICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7XG4gICAgICAgICAgbmV3di5jb3B5KGxhc3RWZXJ0ZXgpO1xuICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobmV3dik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU3RhcnQgPCAwLCBlbmQgPj0gMCwgc28gb3V0cHV0IGludGVyc2VjdGlvblxuICAgICAgICAgIGNvbnN0IG5ld3YgPSBuZXcgVmVjMygpO1xuICAgICAgICAgIGZpcnN0VmVydGV4LmxlcnAobGFzdFZlcnRleCwgbl9kb3RfZmlyc3QgLyAobl9kb3RfZmlyc3QgLSBuX2RvdF9sYXN0KSwgbmV3dik7XG4gICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG5fZG90X2xhc3QgPCAwKSB7XG4gICAgICAgICAgLy8gU3RhcnQgPj0gMCwgZW5kIDwgMCBzbyBvdXRwdXQgaW50ZXJzZWN0aW9uIGFuZCBlbmRcbiAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTtcbiAgICAgICAgICBmaXJzdFZlcnRleC5sZXJwKGxhc3RWZXJ0ZXgsIG5fZG90X2ZpcnN0IC8gKG5fZG90X2ZpcnN0IC0gbl9kb3RfbGFzdCksIG5ld3YpO1xuICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobmV3dik7XG4gICAgICAgICAgb3V0VmVydGljZXMucHVzaChsYXN0VmVydGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmaXJzdFZlcnRleCA9IGxhc3RWZXJ0ZXg7XG4gICAgICBuX2RvdF9maXJzdCA9IG5fZG90X2xhc3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dFZlcnRpY2VzO1xuICB9IC8vIFVwZGF0ZXMgLndvcmxkVmVydGljZXMgYW5kIHNldHMgLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSB0byBmYWxzZS5cblxuXG4gIGNvbXB1dGVXb3JsZFZlcnRpY2VzKHBvc2l0aW9uLCBxdWF0KSB7XG4gICAgd2hpbGUgKHRoaXMud29ybGRWZXJ0aWNlcy5sZW5ndGggPCB0aGlzLnZlcnRpY2VzLmxlbmd0aCkge1xuICAgICAgdGhpcy53b3JsZFZlcnRpY2VzLnB1c2gobmV3IFZlYzMoKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IHdvcmxkVmVydHMgPSB0aGlzLndvcmxkVmVydGljZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgcXVhdC52bXVsdCh2ZXJ0c1tpXSwgd29ybGRWZXJ0c1tpXSk7XG4gICAgICBwb3NpdGlvbi52YWRkKHdvcmxkVmVydHNbaV0sIHdvcmxkVmVydHNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlID0gZmFsc2U7XG4gIH1cblxuICBjb21wdXRlTG9jYWxBQUJCKGFhYmJtaW4sIGFhYmJtYXgpIHtcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgYWFiYm1pbi5zZXQoTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSk7XG4gICAgYWFiYm1heC5zZXQoLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHYgPSB2ZXJ0aWNlc1tpXTtcblxuICAgICAgaWYgKHYueCA8IGFhYmJtaW4ueCkge1xuICAgICAgICBhYWJibWluLnggPSB2Lng7XG4gICAgICB9IGVsc2UgaWYgKHYueCA+IGFhYmJtYXgueCkge1xuICAgICAgICBhYWJibWF4LnggPSB2Lng7XG4gICAgICB9XG5cbiAgICAgIGlmICh2LnkgPCBhYWJibWluLnkpIHtcbiAgICAgICAgYWFiYm1pbi55ID0gdi55O1xuICAgICAgfSBlbHNlIGlmICh2LnkgPiBhYWJibWF4LnkpIHtcbiAgICAgICAgYWFiYm1heC55ID0gdi55O1xuICAgICAgfVxuXG4gICAgICBpZiAodi56IDwgYWFiYm1pbi56KSB7XG4gICAgICAgIGFhYmJtaW4ueiA9IHYuejtcbiAgICAgIH0gZWxzZSBpZiAodi56ID4gYWFiYm1heC56KSB7XG4gICAgICAgIGFhYmJtYXgueiA9IHYuejtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgLndvcmxkVmVydGljZXMgYW5kIHNldHMgLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSB0byBmYWxzZS5cbiAgICogQG1ldGhvZCBjb21wdXRlV29ybGRGYWNlTm9ybWFsc1xuICAgKiBAcGFyYW0gIHtRdWF0ZXJuaW9ufSBxdWF0XG4gICAqL1xuXG5cbiAgY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHMocXVhdCkge1xuICAgIGNvbnN0IE4gPSB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aDtcblxuICAgIHdoaWxlICh0aGlzLndvcmxkRmFjZU5vcm1hbHMubGVuZ3RoIDwgTikge1xuICAgICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzLnB1c2gobmV3IFZlYzMoKSk7XG4gICAgfVxuXG4gICAgY29uc3Qgbm9ybWFscyA9IHRoaXMuZmFjZU5vcm1hbHM7XG4gICAgY29uc3Qgd29ybGROb3JtYWxzID0gdGhpcy53b3JsZEZhY2VOb3JtYWxzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgcXVhdC52bXVsdChub3JtYWxzW2ldLCB3b3JsZE5vcm1hbHNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXNcbiAgICovXG5cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICAvLyBBc3N1bWUgcG9pbnRzIGFyZSBkaXN0cmlidXRlZCB3aXRoIGxvY2FsICgwLDAsMCkgYXMgY2VudGVyXG4gICAgbGV0IG1heDIgPSAwO1xuICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB2ZXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgbm9ybTIgPSB2ZXJ0c1tpXS5sZW5ndGhTcXVhcmVkKCk7XG5cbiAgICAgIGlmIChub3JtMiA+IG1heDIpIHtcbiAgICAgICAgbWF4MiA9IG5vcm0yO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBNYXRoLnNxcnQobWF4Mik7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2QgY2FsY3VsYXRlV29ybGRBQUJCXG4gICAqIEBwYXJhbSB7VmVjM30gICAgICAgIHBvc1xuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259ICBxdWF0XG4gICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1pblxuICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtYXhcbiAgICovXG5cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBsZXQgbWlueDtcbiAgICBsZXQgbWlueTtcbiAgICBsZXQgbWluejtcbiAgICBsZXQgbWF4eDtcbiAgICBsZXQgbWF4eTtcbiAgICBsZXQgbWF4ejtcbiAgICBsZXQgdGVtcFdvcmxkVmVydGV4ID0gbmV3IFZlYzMoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRlbXBXb3JsZFZlcnRleC5jb3B5KHZlcnRzW2ldKTtcbiAgICAgIHF1YXQudm11bHQodGVtcFdvcmxkVmVydGV4LCB0ZW1wV29ybGRWZXJ0ZXgpO1xuICAgICAgcG9zLnZhZGQodGVtcFdvcmxkVmVydGV4LCB0ZW1wV29ybGRWZXJ0ZXgpO1xuICAgICAgY29uc3QgdiA9IHRlbXBXb3JsZFZlcnRleDtcblxuICAgICAgaWYgKG1pbnggPT09IHVuZGVmaW5lZCB8fCB2LnggPCBtaW54KSB7XG4gICAgICAgIG1pbnggPSB2Lng7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXh4ID09PSB1bmRlZmluZWQgfHwgdi54ID4gbWF4eCkge1xuICAgICAgICBtYXh4ID0gdi54O1xuICAgICAgfVxuXG4gICAgICBpZiAobWlueSA9PT0gdW5kZWZpbmVkIHx8IHYueSA8IG1pbnkpIHtcbiAgICAgICAgbWlueSA9IHYueTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1heHkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPiBtYXh5KSB7XG4gICAgICAgIG1heHkgPSB2Lnk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtaW56ID09PSB1bmRlZmluZWQgfHwgdi56IDwgbWlueikge1xuICAgICAgICBtaW56ID0gdi56O1xuICAgICAgfVxuXG4gICAgICBpZiAobWF4eiA9PT0gdW5kZWZpbmVkIHx8IHYueiA+IG1heHopIHtcbiAgICAgICAgbWF4eiA9IHYuejtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtaW4uc2V0KG1pbngsIG1pbnksIG1pbnopO1xuICAgIG1heC5zZXQobWF4eCwgbWF4eSwgbWF4eik7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhcHByb3hpbWF0ZSBjb252ZXggdm9sdW1lXG4gICAqIEBtZXRob2Qgdm9sdW1lXG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG5cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzIC8gMy4wO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYW4gYXZlcmFnZSBvZiBhbGwgdGhlIHZlcnRpY2VzIHBvc2l0aW9uc1xuICAgKiBAbWV0aG9kIGdldEF2ZXJhZ2VQb2ludExvY2FsXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxuICAgKiBAcmV0dXJuIHtWZWMzfVxuICAgKi9cblxuXG4gIGdldEF2ZXJhZ2VQb2ludExvY2FsKHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0YXJnZXQudmFkZCh2ZXJ0c1tpXSwgdGFyZ2V0KTtcbiAgICB9XG5cbiAgICB0YXJnZXQuc2NhbGUoMSAvIHZlcnRzLmxlbmd0aCwgdGFyZ2V0KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gYWxsIGxvY2FsIHBvaW50cy4gV2lsbCBjaGFuZ2UgdGhlIC52ZXJ0aWNlc1xuICAgKiBAbWV0aG9kIHRyYW5zZm9ybUFsbFBvaW50c1xuICAgKiBAcGFyYW0gIHtWZWMzfSBvZmZzZXRcbiAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdFxuICAgKi9cblxuXG4gIHRyYW5zZm9ybUFsbFBvaW50cyhvZmZzZXQsIHF1YXQpIHtcbiAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOyAvLyBBcHBseSByb3RhdGlvblxuXG4gICAgaWYgKHF1YXQpIHtcbiAgICAgIC8vIFJvdGF0ZSB2ZXJ0aWNlc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgY29uc3QgdiA9IHZlcnRzW2ldO1xuICAgICAgICBxdWF0LnZtdWx0KHYsIHYpO1xuICAgICAgfSAvLyBSb3RhdGUgZmFjZSBub3JtYWxzXG5cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHYgPSB0aGlzLmZhY2VOb3JtYWxzW2ldO1xuICAgICAgICBxdWF0LnZtdWx0KHYsIHYpO1xuICAgICAgfVxuICAgICAgLypcbiAgICAgICAgICAgIC8vIFJvdGF0ZSBlZGdlc1xuICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy51bmlxdWVFZGdlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IHRoaXMudW5pcXVlRWRnZXNbaV07XG4gICAgICAgICAgICAgICAgcXVhdC52bXVsdCh2LHYpO1xuICAgICAgICAgICAgfSovXG5cbiAgICB9IC8vIEFwcGx5IG9mZnNldFxuXG5cbiAgICBpZiAob2Zmc2V0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICBjb25zdCB2ID0gdmVydHNbaV07XG4gICAgICAgIHYudmFkZChvZmZzZXQsIHYpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgcCBpcyBpbnNpZGUgdGhlIHBvbHloZWRyYS4gTXVzdCBiZSBpbiBsb2NhbCBjb29yZHMuXG4gICAqIFRoZSBwb2ludCBsaWVzIG91dHNpZGUgb2YgdGhlIGNvbnZleCBodWxsIG9mIHRoZSBvdGhlciBwb2ludHMgaWYgYW5kIG9ubHkgaWYgdGhlIGRpcmVjdGlvblxuICAgKiBvZiBhbGwgdGhlIHZlY3RvcnMgZnJvbSBpdCB0byB0aG9zZSBvdGhlciBwb2ludHMgYXJlIG9uIGxlc3MgdGhhbiBvbmUgaGFsZiBvZiBhIHNwaGVyZSBhcm91bmQgaXQuXG4gICAqIEBtZXRob2QgcG9pbnRJc0luc2lkZVxuICAgKiBAcGFyYW0gIHtWZWMzfSBwICAgICAgQSBwb2ludCBnaXZlbiBpbiBsb2NhbCBjb29yZGluYXRlc1xuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cblxuXG4gIHBvaW50SXNJbnNpZGUocCkge1xuICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBjb25zdCBmYWNlcyA9IHRoaXMuZmFjZXM7XG4gICAgY29uc3Qgbm9ybWFscyA9IHRoaXMuZmFjZU5vcm1hbHM7XG4gICAgY29uc3QgcG9pbnRJbnNpZGUgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuZ2V0QXZlcmFnZVBvaW50TG9jYWwocG9pbnRJbnNpZGUpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbiA9IG5vcm1hbHNbaV07XG4gICAgICBjb25zdCB2ID0gdmVydHNbZmFjZXNbaV1bMF1dOyAvLyBXZSBvbmx5IG5lZWQgb25lIHBvaW50IGluIHRoZSBmYWNlXG4gICAgICAvLyBUaGlzIGRvdCBwcm9kdWN0IGRldGVybWluZXMgd2hpY2ggc2lkZSBvZiB0aGUgZWRnZSB0aGUgcG9pbnQgaXNcblxuICAgICAgY29uc3QgdlRvUCA9IG5ldyBWZWMzKCk7XG4gICAgICBwLnZzdWIodiwgdlRvUCk7XG4gICAgICBjb25zdCByMSA9IG4uZG90KHZUb1ApO1xuICAgICAgY29uc3QgdlRvUG9pbnRJbnNpZGUgPSBuZXcgVmVjMygpO1xuICAgICAgcG9pbnRJbnNpZGUudnN1Yih2LCB2VG9Qb2ludEluc2lkZSk7XG4gICAgICBjb25zdCByMiA9IG4uZG90KHZUb1BvaW50SW5zaWRlKTtcblxuICAgICAgaWYgKHIxIDwgMCAmJiByMiA+IDAgfHwgcjEgPiAwICYmIHIyIDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEVuY291bnRlcmVkIHNvbWUgb3RoZXIgc2lnbi4gRXhpdC5cbiAgICAgIH1cbiAgICB9IC8vIElmIHdlIGdvdCBoZXJlLCBhbGwgZG90IHByb2R1Y3RzIHdlcmUgb2YgdGhlIHNhbWUgc2lnbi5cblxuXG4gICAgcmV0dXJuICAtMTtcbiAgfVxuICAvKipcbiAgICogR2V0IG1heCBhbmQgbWluIGRvdCBwcm9kdWN0IG9mIGEgY29udmV4IGh1bGwgYXQgcG9zaXRpb24gKHBvcyxxdWF0KSBwcm9qZWN0ZWQgb250byBhbiBheGlzLlxuICAgKiBSZXN1bHRzIGFyZSBzYXZlZCBpbiB0aGUgYXJyYXkgbWF4bWluLlxuICAgKiBAc3RhdGljXG4gICAqIEBtZXRob2QgcHJvamVjdFxuICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxcbiAgICogQHBhcmFtIHtWZWMzfSBheGlzXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdFxuICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgcmVzdWx0WzBdIGFuZCByZXN1bHRbMV0gd2lsbCBiZSBzZXQgdG8gbWF4aW11bSBhbmQgbWluaW11bSwgcmVzcGVjdGl2ZWx5LlxuICAgKi9cblxuXG4gIHN0YXRpYyBwcm9qZWN0KHNoYXBlLCBheGlzLCBwb3MsIHF1YXQsIHJlc3VsdCkge1xuICAgIGNvbnN0IG4gPSBzaGFwZS52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgY29uc3QgbG9jYWxBeGlzID0gcHJvamVjdF9sb2NhbEF4aXM7XG4gICAgbGV0IG1heCA9IDA7XG4gICAgbGV0IG1pbiA9IDA7XG4gICAgY29uc3QgbG9jYWxPcmlnaW4gPSBwcm9qZWN0X2xvY2FsT3JpZ2luO1xuICAgIGNvbnN0IHZzID0gc2hhcGUudmVydGljZXM7XG4gICAgbG9jYWxPcmlnaW4uc2V0WmVybygpOyAvLyBUcmFuc2Zvcm0gdGhlIGF4aXMgdG8gbG9jYWxcblxuICAgIFRyYW5zZm9ybS52ZWN0b3JUb0xvY2FsRnJhbWUocG9zLCBxdWF0LCBheGlzLCBsb2NhbEF4aXMpO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3MsIHF1YXQsIGxvY2FsT3JpZ2luLCBsb2NhbE9yaWdpbik7XG4gICAgY29uc3QgYWRkID0gbG9jYWxPcmlnaW4uZG90KGxvY2FsQXhpcyk7XG4gICAgbWluID0gbWF4ID0gdnNbMF0uZG90KGxvY2FsQXhpcyk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IG47IGkrKykge1xuICAgICAgY29uc3QgdmFsID0gdnNbaV0uZG90KGxvY2FsQXhpcyk7XG5cbiAgICAgIGlmICh2YWwgPiBtYXgpIHtcbiAgICAgICAgbWF4ID0gdmFsO1xuICAgICAgfVxuXG4gICAgICBpZiAodmFsIDwgbWluKSB7XG4gICAgICAgIG1pbiA9IHZhbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtaW4gLT0gYWRkO1xuICAgIG1heCAtPSBhZGQ7XG5cbiAgICBpZiAobWluID4gbWF4KSB7XG4gICAgICAvLyBJbmNvbnNpc3RlbnQgLSBzd2FwXG4gICAgICBjb25zdCB0ZW1wID0gbWluO1xuICAgICAgbWluID0gbWF4O1xuICAgICAgbWF4ID0gdGVtcDtcbiAgICB9IC8vIE91dHB1dFxuXG5cbiAgICByZXN1bHRbMF0gPSBtYXg7XG4gICAgcmVzdWx0WzFdID0gbWluO1xuICB9XG5cbn1cbmNvbnN0IG1heG1pbkEgPSBbXTtcbmNvbnN0IG1heG1pbkIgPSBbXTtcbmNvbnN0IHByb2plY3RfbG9jYWxBeGlzID0gbmV3IFZlYzMoKTtcbmNvbnN0IHByb2plY3RfbG9jYWxPcmlnaW4gPSBuZXcgVmVjMygpO1xuXG4vKipcbiAqIEEgM2QgYm94IHNoYXBlLlxuICogQGNsYXNzIEJveFxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1ZlYzN9IGhhbGZFeHRlbnRzXG4gKiBAYXV0aG9yIHNjaHRlcHBlXG4gKiBAZXh0ZW5kcyBTaGFwZVxuICovXG5jbGFzcyBCb3ggZXh0ZW5kcyBTaGFwZSB7XG4gIC8vIFVzZWQgYnkgdGhlIGNvbnRhY3QgZ2VuZXJhdG9yIHRvIG1ha2UgY29udGFjdHMgd2l0aCBvdGhlciBjb252ZXggcG9seWhlZHJhIGZvciBleGFtcGxlLlxuICBjb25zdHJ1Y3RvcihoYWxmRXh0ZW50cykge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLkJPWFxuICAgIH0pO1xuICAgIHRoaXMuaGFsZkV4dGVudHMgPSBoYWxmRXh0ZW50cztcbiAgICB0aGlzLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiA9IG51bGw7XG4gICAgdGhpcy51cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24oKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGxvY2FsIGNvbnZleCBwb2x5aGVkcm9uIHJlcHJlc2VudGF0aW9uIHVzZWQgZm9yIHNvbWUgY29sbGlzaW9ucy5cbiAgICogQG1ldGhvZCB1cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb25cbiAgICovXG5cblxuICB1cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24oKSB7XG4gICAgY29uc3Qgc3ggPSB0aGlzLmhhbGZFeHRlbnRzLng7XG4gICAgY29uc3Qgc3kgPSB0aGlzLmhhbGZFeHRlbnRzLnk7XG4gICAgY29uc3Qgc3ogPSB0aGlzLmhhbGZFeHRlbnRzLno7XG4gICAgY29uc3QgViA9IFZlYzM7XG4gICAgY29uc3QgdmVydGljZXMgPSBbbmV3IFYoLXN4LCAtc3ksIC1zeiksIG5ldyBWKHN4LCAtc3ksIC1zeiksIG5ldyBWKHN4LCBzeSwgLXN6KSwgbmV3IFYoLXN4LCBzeSwgLXN6KSwgbmV3IFYoLXN4LCAtc3ksIHN6KSwgbmV3IFYoc3gsIC1zeSwgc3opLCBuZXcgVihzeCwgc3ksIHN6KSwgbmV3IFYoLXN4LCBzeSwgc3opXTtcbiAgICBjb25zdCBmYWNlcyA9IFtbMywgMiwgMSwgMF0sIC8vIC16XG4gICAgWzQsIDUsIDYsIDddLCAvLyArelxuICAgIFs1LCA0LCAwLCAxXSwgLy8gLXlcbiAgICBbMiwgMywgNywgNl0sIC8vICt5XG4gICAgWzAsIDQsIDcsIDNdLCAvLyAteFxuICAgIFsxLCAyLCA2LCA1XSAvLyAreFxuICAgIF07XG4gICAgY29uc3QgYXhlcyA9IFtuZXcgVigwLCAwLCAxKSwgbmV3IFYoMCwgMSwgMCksIG5ldyBWKDEsIDAsIDApXTtcbiAgICBjb25zdCBoID0gbmV3IENvbnZleFBvbHloZWRyb24oe1xuICAgICAgdmVydGljZXMsXG4gICAgICBmYWNlcyxcbiAgICAgIGF4ZXNcbiAgICB9KTtcbiAgICB0aGlzLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiA9IGg7XG4gICAgaC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xuICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXRcbiAgICogQHJldHVybiB7VmVjM31cbiAgICovXG5cblxuICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIEJveC5jYWxjdWxhdGVJbmVydGlhKHRoaXMuaGFsZkV4dGVudHMsIG1hc3MsIHRhcmdldCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIHN0YXRpYyBjYWxjdWxhdGVJbmVydGlhKGhhbGZFeHRlbnRzLCBtYXNzLCB0YXJnZXQpIHtcbiAgICBjb25zdCBlID0gaGFsZkV4dGVudHM7XG4gICAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnogKiAyICogZS56KTtcbiAgICB0YXJnZXQueSA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiBlLnggKiAyICogZS54ICsgMiAqIGUueiAqIDIgKiBlLnopO1xuICAgIHRhcmdldC56ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIGUueSAqIDIgKiBlLnkgKyAyICogZS54ICogMiAqIGUueCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgYm94IDYgc2lkZSBub3JtYWxzXG4gICAqIEBtZXRob2QgZ2V0U2lkZU5vcm1hbHNcbiAgICogQHBhcmFtIHthcnJheX0gICAgICBzaXhUYXJnZXRWZWN0b3JzIEFuIGFycmF5IG9mIDYgdmVjdG9ycywgdG8gc3RvcmUgdGhlIHJlc3VsdGluZyBzaWRlIG5vcm1hbHMgaW4uXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdCAgICAgICAgICAgICBPcmllbnRhdGlvbiB0byBhcHBseSB0byB0aGUgbm9ybWFsIHZlY3RvcnMuIElmIG5vdCBwcm92aWRlZCwgdGhlIHZlY3RvcnMgd2lsbCBiZSBpbiByZXNwZWN0IHRvIHRoZSBsb2NhbCBmcmFtZS5cbiAgICogQHJldHVybiB7YXJyYXl9XG4gICAqL1xuXG5cbiAgZ2V0U2lkZU5vcm1hbHMoc2l4VGFyZ2V0VmVjdG9ycywgcXVhdCkge1xuICAgIGNvbnN0IHNpZGVzID0gc2l4VGFyZ2V0VmVjdG9ycztcbiAgICBjb25zdCBleCA9IHRoaXMuaGFsZkV4dGVudHM7XG4gICAgc2lkZXNbMF0uc2V0KGV4LngsIDAsIDApO1xuICAgIHNpZGVzWzFdLnNldCgwLCBleC55LCAwKTtcbiAgICBzaWRlc1syXS5zZXQoMCwgMCwgZXgueik7XG4gICAgc2lkZXNbM10uc2V0KC1leC54LCAwLCAwKTtcbiAgICBzaWRlc1s0XS5zZXQoMCwgLWV4LnksIDApO1xuICAgIHNpZGVzWzVdLnNldCgwLCAwLCAtZXgueik7XG5cbiAgICBpZiAocXVhdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gc2lkZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcXVhdC52bXVsdChzaWRlc1tpXSwgc2lkZXNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzaWRlcztcbiAgfVxuXG4gIHZvbHVtZSgpIHtcbiAgICByZXR1cm4gOC4wICogdGhpcy5oYWxmRXh0ZW50cy54ICogdGhpcy5oYWxmRXh0ZW50cy55ICogdGhpcy5oYWxmRXh0ZW50cy56O1xuICB9XG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IHRoaXMuaGFsZkV4dGVudHMubGVuZ3RoKCk7XG4gIH1cblxuICBmb3JFYWNoV29ybGRDb3JuZXIocG9zLCBxdWF0LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGUgPSB0aGlzLmhhbGZFeHRlbnRzO1xuICAgIGNvbnN0IGNvcm5lcnMgPSBbW2UueCwgZS55LCBlLnpdLCBbLWUueCwgZS55LCBlLnpdLCBbLWUueCwgLWUueSwgZS56XSwgWy1lLngsIC1lLnksIC1lLnpdLCBbZS54LCAtZS55LCAtZS56XSwgW2UueCwgZS55LCAtZS56XSwgWy1lLngsIGUueSwgLWUuel0sIFtlLngsIC1lLnksIGUuel1dO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3JuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB3b3JsZENvcm5lclRlbXBQb3Muc2V0KGNvcm5lcnNbaV1bMF0sIGNvcm5lcnNbaV1bMV0sIGNvcm5lcnNbaV1bMl0pO1xuICAgICAgcXVhdC52bXVsdCh3b3JsZENvcm5lclRlbXBQb3MsIHdvcmxkQ29ybmVyVGVtcFBvcyk7XG4gICAgICBwb3MudmFkZCh3b3JsZENvcm5lclRlbXBQb3MsIHdvcmxkQ29ybmVyVGVtcFBvcyk7XG4gICAgICBjYWxsYmFjayh3b3JsZENvcm5lclRlbXBQb3MueCwgd29ybGRDb3JuZXJUZW1wUG9zLnksIHdvcmxkQ29ybmVyVGVtcFBvcy56KTtcbiAgICB9XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmhhbGZFeHRlbnRzO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbMF0uc2V0KGUueCwgZS55LCBlLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbMV0uc2V0KC1lLngsIGUueSwgZS56KTtcbiAgICB3b3JsZENvcm5lcnNUZW1wWzJdLnNldCgtZS54LCAtZS55LCBlLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbM10uc2V0KC1lLngsIC1lLnksIC1lLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbNF0uc2V0KGUueCwgLWUueSwgLWUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFs1XS5zZXQoZS54LCBlLnksIC1lLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbNl0uc2V0KC1lLngsIGUueSwgLWUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFs3XS5zZXQoZS54LCAtZS55LCBlLnopO1xuICAgIGNvbnN0IHdjID0gd29ybGRDb3JuZXJzVGVtcFswXTtcbiAgICBxdWF0LnZtdWx0KHdjLCB3Yyk7XG4gICAgcG9zLnZhZGQod2MsIHdjKTtcbiAgICBtYXguY29weSh3Yyk7XG4gICAgbWluLmNvcHkod2MpO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCA4OyBpKyspIHtcbiAgICAgIGNvbnN0IHdjID0gd29ybGRDb3JuZXJzVGVtcFtpXTtcbiAgICAgIHF1YXQudm11bHQod2MsIHdjKTtcbiAgICAgIHBvcy52YWRkKHdjLCB3Yyk7XG4gICAgICBjb25zdCB4ID0gd2MueDtcbiAgICAgIGNvbnN0IHkgPSB3Yy55O1xuICAgICAgY29uc3QgeiA9IHdjLno7XG5cbiAgICAgIGlmICh4ID4gbWF4LngpIHtcbiAgICAgICAgbWF4LnggPSB4O1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA+IG1heC55KSB7XG4gICAgICAgIG1heC55ID0geTtcbiAgICAgIH1cblxuICAgICAgaWYgKHogPiBtYXgueikge1xuICAgICAgICBtYXgueiA9IHo7XG4gICAgICB9XG5cbiAgICAgIGlmICh4IDwgbWluLngpIHtcbiAgICAgICAgbWluLnggPSB4O1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA8IG1pbi55KSB7XG4gICAgICAgIG1pbi55ID0geTtcbiAgICAgIH1cblxuICAgICAgaWYgKHogPCBtaW4ueikge1xuICAgICAgICBtaW4ueiA9IHo7XG4gICAgICB9XG4gICAgfSAvLyBHZXQgZWFjaCBheGlzIG1heFxuICAgIC8vIG1pbi5zZXQoSW5maW5pdHksSW5maW5pdHksSW5maW5pdHkpO1xuICAgIC8vIG1heC5zZXQoLUluZmluaXR5LC1JbmZpbml0eSwtSW5maW5pdHkpO1xuICAgIC8vIHRoaXMuZm9yRWFjaFdvcmxkQ29ybmVyKHBvcyxxdWF0LGZ1bmN0aW9uKHgseSx6KXtcbiAgICAvLyAgICAgaWYoeCA+IG1heC54KXtcbiAgICAvLyAgICAgICAgIG1heC54ID0geDtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZih5ID4gbWF4Lnkpe1xuICAgIC8vICAgICAgICAgbWF4LnkgPSB5O1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmKHogPiBtYXgueil7XG4gICAgLy8gICAgICAgICBtYXgueiA9IHo7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgaWYoeCA8IG1pbi54KXtcbiAgICAvLyAgICAgICAgIG1pbi54ID0geDtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZih5IDwgbWluLnkpe1xuICAgIC8vICAgICAgICAgbWluLnkgPSB5O1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmKHogPCBtaW4ueil7XG4gICAgLy8gICAgICAgICBtaW4ueiA9IHo7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9KTtcblxuICB9XG5cbn1cbmNvbnN0IHdvcmxkQ29ybmVyVGVtcFBvcyA9IG5ldyBWZWMzKCk7XG5jb25zdCB3b3JsZENvcm5lcnNUZW1wID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldO1xuXG5jb25zdCBCT0RZX1RZUEVTID0ge1xuICBEWU5BTUlDOiAxLFxuICBTVEFUSUM6IDIsXG4gIEtJTkVNQVRJQzogNFxufTtcbmNvbnN0IEJPRFlfU0xFRVBfU1RBVEVTID0ge1xuICBBV0FLRTogMCxcbiAgU0xFRVBZOiAxLFxuICBTTEVFUElORzogMlxufTtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgYm9keSB0eXBlcy5cbiAqIEBjbGFzcyBCb2R5XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0XG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBvc2l0aW9uXVxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy52ZWxvY2l0eV1cbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYW5ndWxhclZlbG9jaXR5XVxuICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBbb3B0aW9ucy5xdWF0ZXJuaW9uXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1hc3NdXG4gKiBAcGFyYW0ge01hdGVyaWFsfSBbb3B0aW9ucy5tYXRlcmlhbF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50eXBlXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbmVhckRhbXBpbmc9MC4wMV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbmd1bGFyRGFtcGluZz0wLjAxXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd1NsZWVwPXRydWVdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBTcGVlZExpbWl0PTAuMV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zbGVlcFRpbWVMaW1pdD0xXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPTFdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZml4ZWRSb3RhdGlvbj1mYWxzZV1cbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMubGluZWFyRmFjdG9yXVxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5hbmd1bGFyRmFjdG9yXVxuICogQHBhcmFtIHtTaGFwZX0gW29wdGlvbnMuc2hhcGVdXG4gKiBAZXhhbXBsZVxuICogICAgIGNvbnN0IGJvZHkgPSBuZXcgQm9keSh7XG4gKiAgICAgICAgIG1hc3M6IDFcbiAqICAgICB9KTtcbiAqICAgICBjb25zdCBzaGFwZSA9IG5ldyBTcGhlcmUoMSk7XG4gKiAgICAgYm9keS5hZGRTaGFwZShzaGFwZSk7XG4gKiAgICAgd29ybGQuYWRkQm9keShib2R5KTtcbiAqL1xuY2xhc3MgQm9keSBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgLy8gUG9zaXRpb24gb2YgYm9keSBpbiBXb3JsZC5ib2RpZXMuIFVwZGF0ZWQgYnkgV29ybGQgYW5kIHVzZWQgaW4gQXJyYXlDb2xsaXNpb25NYXRyaXguXG4gIC8vIFJlZmVyZW5jZSB0byB0aGUgd29ybGQgdGhlIGJvZHkgaXMgbGl2aW5nIGluLlxuICAvLyBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgQkVGT1JFIHN0ZXBwaW5nIHRoZSBzeXN0ZW0uIFVzZSBpdCB0byBhcHBseSBmb3JjZXMsIGZvciBleGFtcGxlLiBJbnNpZGUgdGhlIGZ1bmN0aW9uLCBcInRoaXNcIiB3aWxsIHJlZmVyIHRvIHRoaXMgQm9keSBvYmplY3QuIERlcHJlY2F0ZWQgLSB1c2UgV29ybGQgZXZlbnRzIGluc3RlYWQuXG4gIC8vIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCBBRlRFUiBzdGVwcGluZyB0aGUgc3lzdGVtLiBJbnNpZGUgdGhlIGZ1bmN0aW9uLCBcInRoaXNcIiB3aWxsIHJlZmVyIHRvIHRoaXMgQm9keSBvYmplY3QuIERlcHJlY2F0ZWQgLSB1c2UgV29ybGQgZXZlbnRzIGluc3RlYWQuXG4gIC8vIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZCAtIGkuZS4gXCJjb2xsaWRlXCIgZXZlbnRzIHdpbGwgYmUgcmFpc2VkLCBidXQgZm9yY2VzIHdpbGwgbm90IGJlIGFsdGVyZWQuXG4gIC8vIFdvcmxkIHNwYWNlIHBvc2l0aW9uIG9mIHRoZSBib2R5LlxuICAvLyBJbnRlcnBvbGF0ZWQgcG9zaXRpb24gb2YgdGhlIGJvZHkuXG4gIC8vIEluaXRpYWwgcG9zaXRpb24gb2YgdGhlIGJvZHkuXG4gIC8vIFdvcmxkIHNwYWNlIHZlbG9jaXR5IG9mIHRoZSBib2R5LlxuICAvLyBMaW5lYXIgZm9yY2Ugb24gdGhlIGJvZHkgaW4gd29ybGQgc3BhY2UuXG4gIC8vIE9uZSBvZjogQm9keS5EWU5BTUlDLCBCb2R5LlNUQVRJQyBhbmQgQm9keS5LSU5FTUFUSUMuXG4gIC8vIElmIHRydWUsIHRoZSBib2R5IHdpbGwgYXV0b21hdGljYWxseSBmYWxsIHRvIHNsZWVwLlxuICAvLyBDdXJyZW50IHNsZWVwIHN0YXRlLlxuICAvLyBJZiB0aGUgc3BlZWQgKHRoZSBub3JtIG9mIHRoZSB2ZWxvY2l0eSkgaXMgc21hbGxlciB0aGFuIHRoaXMgdmFsdWUsIHRoZSBib2R5IGlzIGNvbnNpZGVyZWQgc2xlZXB5LlxuICAvLyBJZiB0aGUgYm9keSBoYXMgYmVlbiBzbGVlcHkgZm9yIHRoaXMgc2xlZXBUaW1lTGltaXQgc2Vjb25kcywgaXQgaXMgY29uc2lkZXJlZCBzbGVlcGluZy5cbiAgLy8gV29ybGQgc3BhY2Ugcm90YXRpb25hbCBmb3JjZSBvbiB0aGUgYm9keSwgYXJvdW5kIGNlbnRlciBvZiBtYXNzLlxuICAvLyBXb3JsZCBzcGFjZSBvcmllbnRhdGlvbiBvZiB0aGUgYm9keS5cbiAgLy8gSW50ZXJwb2xhdGVkIG9yaWVudGF0aW9uIG9mIHRoZSBib2R5LlxuICAvLyBBbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2R5LCBpbiB3b3JsZCBzcGFjZS4gVGhpbmsgb2YgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgYXMgYSB2ZWN0b3IsIHdoaWNoIHRoZSBib2R5IHJvdGF0ZXMgYXJvdW5kLiBUaGUgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yIGRldGVybWluZXMgaG93IGZhc3QgKGluIHJhZGlhbnMgcGVyIHNlY29uZCkgdGhlIGJvZHkgcm90YXRlcy5cbiAgLy8gUG9zaXRpb24gb2YgZWFjaCBTaGFwZSBpbiB0aGUgYm9keSwgZ2l2ZW4gaW4gbG9jYWwgQm9keSBzcGFjZS5cbiAgLy8gT3JpZW50YXRpb24gb2YgZWFjaCBTaGFwZSwgZ2l2ZW4gaW4gbG9jYWwgQm9keSBzcGFjZS5cbiAgLy8gU2V0IHRvIHRydWUgaWYgeW91IGRvbid0IHdhbnQgdGhlIGJvZHkgdG8gcm90YXRlLiBNYWtlIHN1cmUgdG8gcnVuIC51cGRhdGVNYXNzUHJvcGVydGllcygpIGFmdGVyIGNoYW5naW5nIHRoaXMuXG4gIC8vIFVzZSB0aGlzIHByb3BlcnR5IHRvIGxpbWl0IHRoZSBtb3Rpb24gYWxvbmcgYW55IHdvcmxkIGF4aXMuICgxLDEsMSkgd2lsbCBhbGxvdyBtb3Rpb24gYWxvbmcgYWxsIGF4ZXMgd2hpbGUgKDAsMCwwKSBhbGxvd3Mgbm9uZS5cbiAgLy8gVXNlIHRoaXMgcHJvcGVydHkgdG8gbGltaXQgdGhlIHJvdGF0aW9uYWwgbW90aW9uIGFsb25nIGFueSB3b3JsZCBheGlzLiAoMSwxLDEpIHdpbGwgYWxsb3cgcm90YXRpb24gYWxvbmcgYWxsIGF4ZXMgd2hpbGUgKDAsMCwwKSBhbGxvd3Mgbm9uZS5cbiAgLy8gV29ybGQgc3BhY2UgYm91bmRpbmcgYm94IG9mIHRoZSBib2R5IGFuZCBpdHMgc2hhcGVzLlxuICAvLyBJbmRpY2F0ZXMgaWYgdGhlIEFBQkIgbmVlZHMgdG8gYmUgdXBkYXRlZCBiZWZvcmUgdXNlLlxuICAvLyBUb3RhbCBib3VuZGluZyByYWRpdXMgb2YgdGhlIEJvZHkgaW5jbHVkaW5nIGl0cyBzaGFwZXMsIHJlbGF0aXZlIHRvIGJvZHkucG9zaXRpb24uXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pZCA9IEJvZHkuaWRDb3VudGVyKys7XG4gICAgdGhpcy5pbmRleCA9IC0xO1xuICAgIHRoaXMud29ybGQgPSBudWxsO1xuICAgIHRoaXMucHJlU3RlcCA9IG51bGw7XG4gICAgdGhpcy5wb3N0U3RlcCA9IG51bGw7XG4gICAgdGhpcy52bGFtYmRhID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPT09ICdudW1iZXInID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IDE7XG4gICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTtcbiAgICB0aGlzLmNvbGxpc2lvblJlc3BvbnNlID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgOiB0cnVlO1xuICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5pbnRlcnBvbGF0ZWRQb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5pbml0UG9zaXRpb24gPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgIHRoaXMucG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTtcbiAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pO1xuICAgICAgdGhpcy5pbnRlcnBvbGF0ZWRQb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pO1xuICAgICAgdGhpcy5pbml0UG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLnZlbG9jaXR5ID0gbmV3IFZlYzMoKTtcblxuICAgIGlmIChvcHRpb25zLnZlbG9jaXR5KSB7XG4gICAgICB0aGlzLnZlbG9jaXR5LmNvcHkob3B0aW9ucy52ZWxvY2l0eSk7XG4gICAgfVxuXG4gICAgdGhpcy5pbml0VmVsb2NpdHkgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuZm9yY2UgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IG1hc3MgPSB0eXBlb2Ygb3B0aW9ucy5tYXNzID09PSAnbnVtYmVyJyA/IG9wdGlvbnMubWFzcyA6IDA7XG4gICAgdGhpcy5tYXNzID0gbWFzcztcbiAgICB0aGlzLmludk1hc3MgPSBtYXNzID4gMCA/IDEuMCAvIG1hc3MgOiAwO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBvcHRpb25zLm1hdGVyaWFsIHx8IG51bGw7XG4gICAgdGhpcy5saW5lYXJEYW1waW5nID0gdHlwZW9mIG9wdGlvbnMubGluZWFyRGFtcGluZyA9PT0gJ251bWJlcicgPyBvcHRpb25zLmxpbmVhckRhbXBpbmcgOiAwLjAxO1xuICAgIHRoaXMudHlwZSA9IG1hc3MgPD0gMC4wID8gQm9keS5TVEFUSUMgOiBCb2R5LkRZTkFNSUM7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMudHlwZSA9PT0gdHlwZW9mIEJvZHkuU1RBVElDKSB7XG4gICAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgfVxuXG4gICAgdGhpcy5hbGxvd1NsZWVwID0gdHlwZW9mIG9wdGlvbnMuYWxsb3dTbGVlcCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFsbG93U2xlZXAgOiB0cnVlO1xuICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuQVdBS0U7XG4gICAgdGhpcy5zbGVlcFNwZWVkTGltaXQgPSB0eXBlb2Ygb3B0aW9ucy5zbGVlcFNwZWVkTGltaXQgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5zbGVlcFNwZWVkTGltaXQgOiAwLjE7XG4gICAgdGhpcy5zbGVlcFRpbWVMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwVGltZUxpbWl0ICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgOiAxO1xuICAgIHRoaXMudGltZUxhc3RTbGVlcHkgPSAwO1xuICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlO1xuICAgIHRoaXMudG9ycXVlID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgIHRoaXMuaW5pdFF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTtcbiAgICB0aGlzLmludGVycG9sYXRlZFF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xuXG4gICAgaWYgKG9wdGlvbnMucXVhdGVybmlvbikge1xuICAgICAgdGhpcy5xdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTtcbiAgICAgIHRoaXMuaW5pdFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pO1xuICAgICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pO1xuICAgICAgdGhpcy5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eSA9IG5ldyBWZWMzKCk7XG5cbiAgICBpZiAob3B0aW9ucy5hbmd1bGFyVmVsb2NpdHkpIHtcbiAgICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LmNvcHkob3B0aW9ucy5hbmd1bGFyVmVsb2NpdHkpO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdEFuZ3VsYXJWZWxvY2l0eSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5zaGFwZXMgPSBbXTtcbiAgICB0aGlzLnNoYXBlT2Zmc2V0cyA9IFtdO1xuICAgIHRoaXMuc2hhcGVPcmllbnRhdGlvbnMgPSBbXTtcbiAgICB0aGlzLmluZXJ0aWEgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuaW52SW5lcnRpYSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5pbnZJbmVydGlhV29ybGQgPSBuZXcgTWF0MygpO1xuICAgIHRoaXMuaW52TWFzc1NvbHZlID0gMDtcbiAgICB0aGlzLmludkluZXJ0aWFTb2x2ZSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZSA9IG5ldyBNYXQzKCk7XG4gICAgdGhpcy5maXhlZFJvdGF0aW9uID0gdHlwZW9mIG9wdGlvbnMuZml4ZWRSb3RhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZpeGVkUm90YXRpb24gOiBmYWxzZTtcbiAgICB0aGlzLmFuZ3VsYXJEYW1waW5nID0gdHlwZW9mIG9wdGlvbnMuYW5ndWxhckRhbXBpbmcgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmd1bGFyRGFtcGluZyA6IDAuMDE7XG4gICAgdGhpcy5saW5lYXJGYWN0b3IgPSBuZXcgVmVjMygxLCAxLCAxKTtcblxuICAgIGlmIChvcHRpb25zLmxpbmVhckZhY3Rvcikge1xuICAgICAgdGhpcy5saW5lYXJGYWN0b3IuY29weShvcHRpb25zLmxpbmVhckZhY3Rvcik7XG4gICAgfVxuXG4gICAgdGhpcy5hbmd1bGFyRmFjdG9yID0gbmV3IFZlYzMoMSwgMSwgMSk7XG5cbiAgICBpZiAob3B0aW9ucy5hbmd1bGFyRmFjdG9yKSB7XG4gICAgICB0aGlzLmFuZ3VsYXJGYWN0b3IuY29weShvcHRpb25zLmFuZ3VsYXJGYWN0b3IpO1xuICAgIH1cblxuICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7XG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMuYm91bmRpbmdSYWRpdXMgPSAwO1xuICAgIHRoaXMud2xhbWJkYSA9IG5ldyBWZWMzKCk7XG5cbiAgICBpZiAob3B0aW9ucy5zaGFwZSkge1xuICAgICAgdGhpcy5hZGRTaGFwZShvcHRpb25zLnNoYXBlKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCk7XG4gIH1cbiAgLyoqXG4gICAqIFdha2UgdGhlIGJvZHkgdXAuXG4gICAqIEBtZXRob2Qgd2FrZVVwXG4gICAqL1xuXG5cbiAgd2FrZVVwKCkge1xuICAgIGNvbnN0IHByZXZTdGF0ZSA9IHRoaXMuc2xlZXBTdGF0ZTtcbiAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LkFXQUtFO1xuICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlO1xuXG4gICAgaWYgKHByZXZTdGF0ZSA9PT0gQm9keS5TTEVFUElORykge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkud2FrZXVwRXZlbnQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRm9yY2UgYm9keSBzbGVlcFxuICAgKiBAbWV0aG9kIHNsZWVwXG4gICAqL1xuXG5cbiAgc2xlZXAoKSB7XG4gICAgdGhpcy5zbGVlcFN0YXRlID0gQm9keS5TTEVFUElORztcbiAgICB0aGlzLnZlbG9jaXR5LnNldCgwLCAwLCAwKTtcbiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5zZXQoMCwgMCwgMCk7XG4gICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBldmVyeSB0aW1lc3RlcCB0byB1cGRhdGUgaW50ZXJuYWwgc2xlZXAgdGltZXIgYW5kIGNoYW5nZSBzbGVlcCBzdGF0ZSBpZiBuZWVkZWQuXG4gICAqIEBtZXRob2Qgc2xlZXBUaWNrXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIFRoZSB3b3JsZCB0aW1lIGluIHNlY29uZHNcbiAgICovXG5cblxuICBzbGVlcFRpY2sodGltZSkge1xuICAgIGlmICh0aGlzLmFsbG93U2xlZXApIHtcbiAgICAgIGNvbnN0IHNsZWVwU3RhdGUgPSB0aGlzLnNsZWVwU3RhdGU7XG4gICAgICBjb25zdCBzcGVlZFNxdWFyZWQgPSB0aGlzLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIHRoaXMuYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTtcbiAgICAgIGNvbnN0IHNwZWVkTGltaXRTcXVhcmVkID0gdGhpcy5zbGVlcFNwZWVkTGltaXQgKiogMjtcblxuICAgICAgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuQVdBS0UgJiYgc3BlZWRTcXVhcmVkIDwgc3BlZWRMaW1pdFNxdWFyZWQpIHtcbiAgICAgICAgdGhpcy5zbGVlcFN0YXRlID0gQm9keS5TTEVFUFk7IC8vIFNsZWVweVxuXG4gICAgICAgIHRoaXMudGltZUxhc3RTbGVlcHkgPSB0aW1lO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoQm9keS5zbGVlcHlFdmVudCk7XG4gICAgICB9IGVsc2UgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBZICYmIHNwZWVkU3F1YXJlZCA+IHNwZWVkTGltaXRTcXVhcmVkKSB7XG4gICAgICAgIHRoaXMud2FrZVVwKCk7IC8vIFdha2UgdXBcbiAgICAgIH0gZWxzZSBpZiAoc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUFkgJiYgdGltZSAtIHRoaXMudGltZUxhc3RTbGVlcHkgPiB0aGlzLnNsZWVwVGltZUxpbWl0KSB7XG4gICAgICAgIHRoaXMuc2xlZXAoKTsgLy8gU2xlZXBpbmdcblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoQm9keS5zbGVlcEV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIElmIHRoZSBib2R5IGlzIHNsZWVwaW5nLCBpdCBzaG91bGQgYmUgaW1tb3ZhYmxlIC8gaGF2ZSBpbmZpbml0ZSBtYXNzIGR1cmluZyBzb2x2ZS4gV2Ugc29sdmUgaXQgYnkgaGF2aW5nIGEgc2VwYXJhdGUgXCJzb2x2ZSBtYXNzXCIuXG4gICAqIEBtZXRob2QgdXBkYXRlU29sdmVNYXNzUHJvcGVydGllc1xuICAgKi9cblxuXG4gIHVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKSB7XG4gICAgaWYgKHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyB8fCB0aGlzLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKSB7XG4gICAgICB0aGlzLmludk1hc3NTb2x2ZSA9IDA7XG4gICAgICB0aGlzLmludkluZXJ0aWFTb2x2ZS5zZXRaZXJvKCk7XG4gICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLnNldFplcm8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbnZNYXNzU29sdmUgPSB0aGlzLmludk1hc3M7XG4gICAgICB0aGlzLmludkluZXJ0aWFTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYSk7XG4gICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLmNvcHkodGhpcy5pbnZJbmVydGlhV29ybGQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29udmVydCBhIHdvcmxkIHBvaW50IHRvIGxvY2FsIGJvZHkgZnJhbWUuXG4gICAqIEBtZXRob2QgcG9pbnRUb0xvY2FsRnJhbWVcbiAgICogQHBhcmFtICB7VmVjM30gd29ybGRQb2ludFxuICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHRcbiAgICogQHJldHVybiB7VmVjM31cbiAgICovXG5cblxuICBwb2ludFRvTG9jYWxGcmFtZSh3b3JsZFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgd29ybGRQb2ludC52c3ViKHRoaXMucG9zaXRpb24sIHJlc3VsdCk7XG4gICAgdGhpcy5xdWF0ZXJuaW9uLmNvbmp1Z2F0ZSgpLnZtdWx0KHJlc3VsdCwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0IGEgd29ybGQgdmVjdG9yIHRvIGxvY2FsIGJvZHkgZnJhbWUuXG4gICAqIEBtZXRob2QgdmVjdG9yVG9Mb2NhbEZyYW1lXG4gICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnRcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XG4gICAqIEByZXR1cm4ge1ZlYzN9XG4gICAqL1xuXG5cbiAgdmVjdG9yVG9Mb2NhbEZyYW1lKHdvcmxkVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgdGhpcy5xdWF0ZXJuaW9uLmNvbmp1Z2F0ZSgpLnZtdWx0KHdvcmxkVmVjdG9yLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLlxuICAgKiBAbWV0aG9kIHBvaW50VG9Xb3JsZEZyYW1lXG4gICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnRcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XG4gICAqIEByZXR1cm4ge1ZlYzN9XG4gICAqL1xuXG5cbiAgcG9pbnRUb1dvcmxkRnJhbWUobG9jYWxQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRoaXMucXVhdGVybmlvbi52bXVsdChsb2NhbFBvaW50LCByZXN1bHQpO1xuICAgIHJlc3VsdC52YWRkKHRoaXMucG9zaXRpb24sIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogQ29udmVydCBhIGxvY2FsIGJvZHkgcG9pbnQgdG8gd29ybGQgZnJhbWUuXG4gICAqIEBtZXRob2QgdmVjdG9yVG9Xb3JsZEZyYW1lXG4gICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsVmVjdG9yXG4gICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdFxuICAgKiBAcmV0dXJuIHtWZWMzfVxuICAgKi9cblxuXG4gIHZlY3RvclRvV29ybGRGcmFtZShsb2NhbFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRoaXMucXVhdGVybmlvbi52bXVsdChsb2NhbFZlY3RvciwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBzaGFwZSB0byB0aGUgYm9keSB3aXRoIGEgbG9jYWwgb2Zmc2V0IGFuZCBvcmllbnRhdGlvbi5cbiAgICogQG1ldGhvZCBhZGRTaGFwZVxuICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZVxuICAgKiBAcGFyYW0ge1ZlYzN9IFtfb2Zmc2V0XVxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IFtfb3JpZW50YXRpb25dXG4gICAqIEByZXR1cm4ge0JvZHl9IFRoZSBib2R5IG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS5cbiAgICovXG5cblxuICBhZGRTaGFwZShzaGFwZSwgX29mZnNldCwgX29yaWVudGF0aW9uKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBvcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbiAgICBpZiAoX29mZnNldCkge1xuICAgICAgb2Zmc2V0LmNvcHkoX29mZnNldCk7XG4gICAgfVxuXG4gICAgaWYgKF9vcmllbnRhdGlvbikge1xuICAgICAgb3JpZW50YXRpb24uY29weShfb3JpZW50YXRpb24pO1xuICAgIH1cblxuICAgIHRoaXMuc2hhcGVzLnB1c2goc2hhcGUpO1xuICAgIHRoaXMuc2hhcGVPZmZzZXRzLnB1c2gob2Zmc2V0KTtcbiAgICB0aGlzLnNoYXBlT3JpZW50YXRpb25zLnB1c2gob3JpZW50YXRpb24pO1xuICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCk7XG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHNoYXBlLmJvZHkgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYSBzaGFwZSBmcm9tIHRoZSBib2R5LlxuICAgKiBAbWV0aG9kIHJlbW92ZVNoYXBlXG4gICAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlXG4gICAqIEByZXR1cm4ge0JvZHl9IFRoZSBib2R5IG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS5cbiAgICovXG5cblxuICByZW1vdmVTaGFwZShzaGFwZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zaGFwZXMuaW5kZXhPZihzaGFwZSk7XG5cbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1NoYXBlIGRvZXMgbm90IGJlbG9uZyB0byB0aGUgYm9keScpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5zaGFwZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB0aGlzLnNoYXBlT2Zmc2V0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHRoaXMuc2hhcGVPcmllbnRhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpO1xuICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICBzaGFwZS5ib2R5ID0gbnVsbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBib3VuZGluZyByYWRpdXMgb2YgdGhlIGJvZHkuIFNob3VsZCBiZSBkb25lIGlmIGFueSBvZiB0aGUgc2hhcGVzIGFyZSBjaGFuZ2VkLlxuICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nUmFkaXVzXG4gICAqL1xuXG5cbiAgdXBkYXRlQm91bmRpbmdSYWRpdXMoKSB7XG4gICAgY29uc3Qgc2hhcGVzID0gdGhpcy5zaGFwZXM7XG4gICAgY29uc3Qgc2hhcGVPZmZzZXRzID0gdGhpcy5zaGFwZU9mZnNldHM7XG4gICAgY29uc3QgTiA9IHNoYXBlcy5sZW5ndGg7XG4gICAgbGV0IHJhZGl1cyA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTtcbiAgICAgIHNoYXBlLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7XG4gICAgICBjb25zdCBvZmZzZXQgPSBzaGFwZU9mZnNldHNbaV0ubGVuZ3RoKCk7XG4gICAgICBjb25zdCByID0gc2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXM7XG5cbiAgICAgIGlmIChvZmZzZXQgKyByID4gcmFkaXVzKSB7XG4gICAgICAgIHJhZGl1cyA9IG9mZnNldCArIHI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IHJhZGl1cztcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgLmFhYmJcbiAgICogQG1ldGhvZCB1cGRhdGVBQUJCXG4gICAqL1xuXG5cbiAgdXBkYXRlQUFCQigpIHtcbiAgICBjb25zdCBzaGFwZXMgPSB0aGlzLnNoYXBlcztcbiAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0cztcbiAgICBjb25zdCBzaGFwZU9yaWVudGF0aW9ucyA9IHRoaXMuc2hhcGVPcmllbnRhdGlvbnM7XG4gICAgY29uc3QgTiA9IHNoYXBlcy5sZW5ndGg7XG4gICAgY29uc3Qgb2Zmc2V0ID0gdG1wVmVjO1xuICAgIGNvbnN0IG9yaWVudGF0aW9uID0gdG1wUXVhdCQxO1xuICAgIGNvbnN0IGJvZHlRdWF0ID0gdGhpcy5xdWF0ZXJuaW9uO1xuICAgIGNvbnN0IGFhYmIgPSB0aGlzLmFhYmI7XG4gICAgY29uc3Qgc2hhcGVBQUJCID0gdXBkYXRlQUFCQl9zaGFwZUFBQkI7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTsgLy8gR2V0IHNoYXBlIHdvcmxkIHBvc2l0aW9uXG5cbiAgICAgIGJvZHlRdWF0LnZtdWx0KHNoYXBlT2Zmc2V0c1tpXSwgb2Zmc2V0KTtcbiAgICAgIG9mZnNldC52YWRkKHRoaXMucG9zaXRpb24sIG9mZnNldCk7IC8vIEdldCBzaGFwZSB3b3JsZCBxdWF0ZXJuaW9uXG5cbiAgICAgIGJvZHlRdWF0Lm11bHQoc2hhcGVPcmllbnRhdGlvbnNbaV0sIG9yaWVudGF0aW9uKTsgLy8gR2V0IHNoYXBlIEFBQkJcblxuICAgICAgc2hhcGUuY2FsY3VsYXRlV29ybGRBQUJCKG9mZnNldCwgb3JpZW50YXRpb24sIHNoYXBlQUFCQi5sb3dlckJvdW5kLCBzaGFwZUFBQkIudXBwZXJCb3VuZCk7XG5cbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIGFhYmIuY29weShzaGFwZUFBQkIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWFiYi5leHRlbmQoc2hhcGVBQUJCKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgLmluZXJ0aWFXb3JsZCBhbmQgLmludkluZXJ0aWFXb3JsZFxuICAgKiBAbWV0aG9kIHVwZGF0ZUluZXJ0aWFXb3JsZFxuICAgKi9cblxuXG4gIHVwZGF0ZUluZXJ0aWFXb3JsZChmb3JjZSkge1xuICAgIGNvbnN0IEkgPSB0aGlzLmludkluZXJ0aWE7XG5cbiAgICBpZiAoSS54ID09PSBJLnkgJiYgSS55ID09PSBJLnogJiYgIWZvcmNlKSA7IGVsc2Uge1xuICAgICAgY29uc3QgbTEgPSB1aXdfbTE7XG4gICAgICBjb25zdCBtMiA9IHVpd19tMjtcbiAgICAgIG0xLnNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24odGhpcy5xdWF0ZXJuaW9uKTtcbiAgICAgIG0xLnRyYW5zcG9zZShtMik7XG4gICAgICBtMS5zY2FsZShJLCBtMSk7XG4gICAgICBtMS5tbXVsdChtMiwgdGhpcy5pbnZJbmVydGlhV29ybGQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQXBwbHkgZm9yY2UgdG8gYSBwb2ludCBvZiB0aGUgYm9keS4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuXG4gICAqIEFwcGx5aW5nIGZvcmNlIHRoaXMgd2F5IHdpbGwgYWRkIHRvIEJvZHkuZm9yY2UgYW5kIEJvZHkudG9ycXVlLlxuICAgKiBAbWV0aG9kIGFwcGx5Rm9yY2VcbiAgICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGFtb3VudCBvZiBmb3JjZSB0byBhZGQuXG4gICAqIEBwYXJhbSAge1ZlYzN9IFtyZWxhdGl2ZVBvaW50XSBBIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgb2YgbWFzcyB0byBhcHBseSB0aGUgZm9yY2Ugb24uXG4gICAqL1xuXG5cbiAgYXBwbHlGb3JjZShmb3JjZSwgcmVsYXRpdmVQb2ludCA9IG5ldyBWZWMzKCkpIHtcbiAgICAvLyBOZWVkZWQ/XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykge1xuICAgICAgdGhpcy53YWtlVXAoKTtcbiAgICB9IC8vIENvbXB1dGUgcHJvZHVjZWQgcm90YXRpb25hbCBmb3JjZVxuXG5cbiAgICBjb25zdCByb3RGb3JjZSA9IEJvZHlfYXBwbHlGb3JjZV9yb3RGb3JjZTtcbiAgICByZWxhdGl2ZVBvaW50LmNyb3NzKGZvcmNlLCByb3RGb3JjZSk7IC8vIEFkZCBsaW5lYXIgZm9yY2VcblxuICAgIHRoaXMuZm9yY2UudmFkZChmb3JjZSwgdGhpcy5mb3JjZSk7IC8vIEFkZCByb3RhdGlvbmFsIGZvcmNlXG5cbiAgICB0aGlzLnRvcnF1ZS52YWRkKHJvdEZvcmNlLCB0aGlzLnRvcnF1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGx5IGZvcmNlIHRvIGEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkuXG4gICAqIEBtZXRob2QgYXBwbHlMb2NhbEZvcmNlXG4gICAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS5cbiAgICogQHBhcmFtICB7VmVjM30gW2xvY2FsUG9pbnRdIEEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLlxuICAgKi9cblxuXG4gIGFwcGx5TG9jYWxGb3JjZShsb2NhbEZvcmNlLCBsb2NhbFBvaW50ID0gbmV3IFZlYzMoKSkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHdvcmxkRm9yY2UgPSBCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlO1xuICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRXb3JsZCA9IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZDsgLy8gVHJhbnNmb3JtIHRoZSBmb3JjZSB2ZWN0b3IgdG8gd29ybGQgc3BhY2VcblxuICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsRm9yY2UsIHdvcmxkRm9yY2UpO1xuICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7XG4gICAgdGhpcy5hcHBseUZvcmNlKHdvcmxkRm9yY2UsIHJlbGF0aXZlUG9pbnRXb3JsZCk7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGx5IHRvcnF1ZSB0byB0aGUgYm9keS5cbiAgICogQG1ldGhvZCBhcHBseVRvcnF1ZVxuICAgKiBAcGFyYW0gIHtWZWMzfSB0b3JxdWUgVGhlIGFtb3VudCBvZiB0b3JxdWUgdG8gYWRkLlxuICAgKi9cblxuXG4gIGFwcGx5VG9ycXVlKHRvcnF1ZSkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpIHtcbiAgICAgIHRoaXMud2FrZVVwKCk7XG4gICAgfSAvLyBBZGQgcm90YXRpb25hbCBmb3JjZVxuXG5cbiAgICB0aGlzLnRvcnF1ZS52YWRkKHRvcnF1ZSwgdGhpcy50b3JxdWUpO1xuICB9XG4gIC8qKlxuICAgKiBBcHBseSBpbXB1bHNlIHRvIGEgcG9pbnQgb2YgdGhlIGJvZHkuIFRoaXMgY291bGQgZm9yIGV4YW1wbGUgYmUgYSBwb2ludCBvbiB0aGUgQm9keSBzdXJmYWNlLlxuICAgKiBBbiBpbXB1bHNlIGlzIGEgZm9yY2UgYWRkZWQgdG8gYSBib2R5IGR1cmluZyBhIHNob3J0IHBlcmlvZCBvZiB0aW1lIChpbXB1bHNlID0gZm9yY2UgKiB0aW1lKS5cbiAgICogSW1wdWxzZXMgd2lsbCBiZSBhZGRlZCB0byBCb2R5LnZlbG9jaXR5IGFuZCBCb2R5LmFuZ3VsYXJWZWxvY2l0eS5cbiAgICogQG1ldGhvZCBhcHBseUltcHVsc2VcbiAgICogQHBhcmFtICB7VmVjM30gaW1wdWxzZSBUaGUgYW1vdW50IG9mIGltcHVsc2UgdG8gYWRkLlxuICAgKiBAcGFyYW0gIHtWZWMzfSByZWxhdGl2ZVBvaW50IEEgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIHRvIGFwcGx5IHRoZSBmb3JjZSBvbi5cbiAgICovXG5cblxuICBhcHBseUltcHVsc2UoaW1wdWxzZSwgcmVsYXRpdmVQb2ludCA9IG5ldyBWZWMzKCkpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7XG4gICAgICB0aGlzLndha2VVcCgpO1xuICAgIH0gLy8gQ29tcHV0ZSBwb2ludCBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgYm9keSBjZW50ZXJcblxuXG4gICAgY29uc3QgciA9IHJlbGF0aXZlUG9pbnQ7IC8vIENvbXB1dGUgcHJvZHVjZWQgY2VudHJhbCBpbXB1bHNlIHZlbG9jaXR5XG5cbiAgICBjb25zdCB2ZWxvID0gQm9keV9hcHBseUltcHVsc2VfdmVsbztcbiAgICB2ZWxvLmNvcHkoaW1wdWxzZSk7XG4gICAgdmVsby5zY2FsZSh0aGlzLmludk1hc3MsIHZlbG8pOyAvLyBBZGQgbGluZWFyIGltcHVsc2VcblxuICAgIHRoaXMudmVsb2NpdHkudmFkZCh2ZWxvLCB0aGlzLnZlbG9jaXR5KTsgLy8gQ29tcHV0ZSBwcm9kdWNlZCByb3RhdGlvbmFsIGltcHVsc2UgdmVsb2NpdHlcblxuICAgIGNvbnN0IHJvdFZlbG8gPSBCb2R5X2FwcGx5SW1wdWxzZV9yb3RWZWxvO1xuICAgIHIuY3Jvc3MoaW1wdWxzZSwgcm90VmVsbyk7XG4gICAgLypcbiAgICAgcm90VmVsby54ICo9IHRoaXMuaW52SW5lcnRpYS54O1xuICAgICByb3RWZWxvLnkgKj0gdGhpcy5pbnZJbmVydGlhLnk7XG4gICAgIHJvdFZlbG8ueiAqPSB0aGlzLmludkluZXJ0aWEuejtcbiAgICAgKi9cblxuICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkLnZtdWx0KHJvdFZlbG8sIHJvdFZlbG8pOyAvLyBBZGQgcm90YXRpb25hbCBJbXB1bHNlXG5cbiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS52YWRkKHJvdFZlbG8sIHRoaXMuYW5ndWxhclZlbG9jaXR5KTtcbiAgfVxuICAvKipcbiAgICogQXBwbHkgbG9jYWxseS1kZWZpbmVkIGltcHVsc2UgdG8gYSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keS5cbiAgICogQG1ldGhvZCBhcHBseUxvY2FsSW1wdWxzZVxuICAgKiBAcGFyYW0gIHtWZWMzfSBmb3JjZSBUaGUgZm9yY2UgdmVjdG9yIHRvIGFwcGx5LCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIGJvZHkgZnJhbWUuXG4gICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQgQSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keSB0byBhcHBseSB0aGUgZm9yY2Ugb24uXG4gICAqL1xuXG5cbiAgYXBwbHlMb2NhbEltcHVsc2UobG9jYWxJbXB1bHNlLCBsb2NhbFBvaW50ID0gbmV3IFZlYzMoKSkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHdvcmxkSW1wdWxzZSA9IEJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlO1xuICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRXb3JsZCA9IEJvZHlfYXBwbHlMb2NhbEltcHVsc2VfcmVsYXRpdmVQb2ludDsgLy8gVHJhbnNmb3JtIHRoZSBmb3JjZSB2ZWN0b3IgdG8gd29ybGQgc3BhY2VcblxuICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsSW1wdWxzZSwgd29ybGRJbXB1bHNlKTtcbiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbFBvaW50LCByZWxhdGl2ZVBvaW50V29ybGQpO1xuICAgIHRoaXMuYXBwbHlJbXB1bHNlKHdvcmxkSW1wdWxzZSwgcmVsYXRpdmVQb2ludFdvcmxkKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIGJlIGNhbGxlZCB3aGVuZXZlciB5b3UgY2hhbmdlIHRoZSBib2R5IHNoYXBlIG9yIG1hc3MuXG4gICAqIEBtZXRob2QgdXBkYXRlTWFzc1Byb3BlcnRpZXNcbiAgICovXG5cblxuICB1cGRhdGVNYXNzUHJvcGVydGllcygpIHtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IEJvZHlfdXBkYXRlTWFzc1Byb3BlcnRpZXNfaGFsZkV4dGVudHM7XG4gICAgdGhpcy5pbnZNYXNzID0gdGhpcy5tYXNzID4gMCA/IDEuMCAvIHRoaXMubWFzcyA6IDA7XG4gICAgY29uc3QgSSA9IHRoaXMuaW5lcnRpYTtcbiAgICBjb25zdCBmaXhlZCA9IHRoaXMuZml4ZWRSb3RhdGlvbjsgLy8gQXBwcm94aW1hdGUgd2l0aCBBQUJCIGJveFxuXG4gICAgdGhpcy51cGRhdGVBQUJCKCk7XG4gICAgaGFsZkV4dGVudHMuc2V0KCh0aGlzLmFhYmIudXBwZXJCb3VuZC54IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueCkgLyAyLCAodGhpcy5hYWJiLnVwcGVyQm91bmQueSAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLnkpIC8gMiwgKHRoaXMuYWFiYi51cHBlckJvdW5kLnogLSB0aGlzLmFhYmIubG93ZXJCb3VuZC56KSAvIDIpO1xuICAgIEJveC5jYWxjdWxhdGVJbmVydGlhKGhhbGZFeHRlbnRzLCB0aGlzLm1hc3MsIEkpO1xuICAgIHRoaXMuaW52SW5lcnRpYS5zZXQoSS54ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnggOiAwLCBJLnkgPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueSA6IDAsIEkueiA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS56IDogMCk7XG4gICAgdGhpcy51cGRhdGVJbmVydGlhV29ybGQodHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB3b3JsZCB2ZWxvY2l0eSBvZiBhIHBvaW50IGluIHRoZSBib2R5LlxuICAgKiBAbWV0aG9kIGdldFZlbG9jaXR5QXRXb3JsZFBvaW50XG4gICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnRcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSByZXN1bHQgdmVjdG9yLlxuICAgKi9cblxuXG4gIGdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdvcmxkUG9pbnQsIHJlc3VsdCkge1xuICAgIGNvbnN0IHIgPSBuZXcgVmVjMygpO1xuICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByKTtcbiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyLCByZXN1bHQpO1xuICAgIHRoaXMudmVsb2NpdHkudmFkZChyZXN1bHQsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogTW92ZSB0aGUgYm9keSBmb3J3YXJkIGluIHRpbWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdCBUaW1lIHN0ZXBcbiAgICogQHBhcmFtIHtib29sZWFufSBxdWF0Tm9ybWFsaXplIFNldCB0byB0cnVlIHRvIG5vcm1hbGl6ZSB0aGUgYm9keSBxdWF0ZXJuaW9uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVhdE5vcm1hbGl6ZUZhc3QgSWYgdGhlIHF1YXRlcm5pb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWQgdXNpbmcgXCJmYXN0XCIgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uXG4gICAqL1xuXG5cbiAgaW50ZWdyYXRlKGR0LCBxdWF0Tm9ybWFsaXplLCBxdWF0Tm9ybWFsaXplRmFzdCkge1xuICAgIC8vIFNhdmUgcHJldmlvdXMgcG9zaXRpb25cbiAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24uY29weSh0aGlzLnBvc2l0aW9uKTtcbiAgICB0aGlzLnByZXZpb3VzUXVhdGVybmlvbi5jb3B5KHRoaXMucXVhdGVybmlvbik7XG5cbiAgICBpZiAoISh0aGlzLnR5cGUgPT09IEJvZHkuRFlOQU1JQyB8fCB0aGlzLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKSB8fCB0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpIHtcbiAgICAgIC8vIE9ubHkgZm9yIGR5bmFtaWNcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB2ZWxvID0gdGhpcy52ZWxvY2l0eTtcbiAgICBjb25zdCBhbmd1bGFyVmVsbyA9IHRoaXMuYW5ndWxhclZlbG9jaXR5O1xuICAgIGNvbnN0IHBvcyA9IHRoaXMucG9zaXRpb247XG4gICAgY29uc3QgZm9yY2UgPSB0aGlzLmZvcmNlO1xuICAgIGNvbnN0IHRvcnF1ZSA9IHRoaXMudG9ycXVlO1xuICAgIGNvbnN0IHF1YXQgPSB0aGlzLnF1YXRlcm5pb247XG4gICAgY29uc3QgaW52TWFzcyA9IHRoaXMuaW52TWFzcztcbiAgICBjb25zdCBpbnZJbmVydGlhID0gdGhpcy5pbnZJbmVydGlhV29ybGQ7XG4gICAgY29uc3QgbGluZWFyRmFjdG9yID0gdGhpcy5saW5lYXJGYWN0b3I7XG4gICAgY29uc3QgaU1kdCA9IGludk1hc3MgKiBkdDtcbiAgICB2ZWxvLnggKz0gZm9yY2UueCAqIGlNZHQgKiBsaW5lYXJGYWN0b3IueDtcbiAgICB2ZWxvLnkgKz0gZm9yY2UueSAqIGlNZHQgKiBsaW5lYXJGYWN0b3IueTtcbiAgICB2ZWxvLnogKz0gZm9yY2UueiAqIGlNZHQgKiBsaW5lYXJGYWN0b3IuejtcbiAgICBjb25zdCBlID0gaW52SW5lcnRpYS5lbGVtZW50cztcbiAgICBjb25zdCBhbmd1bGFyRmFjdG9yID0gdGhpcy5hbmd1bGFyRmFjdG9yO1xuICAgIGNvbnN0IHR4ID0gdG9ycXVlLnggKiBhbmd1bGFyRmFjdG9yLng7XG4gICAgY29uc3QgdHkgPSB0b3JxdWUueSAqIGFuZ3VsYXJGYWN0b3IueTtcbiAgICBjb25zdCB0eiA9IHRvcnF1ZS56ICogYW5ndWxhckZhY3Rvci56O1xuICAgIGFuZ3VsYXJWZWxvLnggKz0gZHQgKiAoZVswXSAqIHR4ICsgZVsxXSAqIHR5ICsgZVsyXSAqIHR6KTtcbiAgICBhbmd1bGFyVmVsby55ICs9IGR0ICogKGVbM10gKiB0eCArIGVbNF0gKiB0eSArIGVbNV0gKiB0eik7XG4gICAgYW5ndWxhclZlbG8ueiArPSBkdCAqIChlWzZdICogdHggKyBlWzddICogdHkgKyBlWzhdICogdHopOyAvLyBVc2UgbmV3IHZlbG9jaXR5ICAtIGxlYXAgZnJvZ1xuXG4gICAgcG9zLnggKz0gdmVsby54ICogZHQ7XG4gICAgcG9zLnkgKz0gdmVsby55ICogZHQ7XG4gICAgcG9zLnogKz0gdmVsby56ICogZHQ7XG4gICAgcXVhdC5pbnRlZ3JhdGUodGhpcy5hbmd1bGFyVmVsb2NpdHksIGR0LCB0aGlzLmFuZ3VsYXJGYWN0b3IsIHF1YXQpO1xuXG4gICAgaWYgKHF1YXROb3JtYWxpemUpIHtcbiAgICAgIGlmIChxdWF0Tm9ybWFsaXplRmFzdCkge1xuICAgICAgICBxdWF0Lm5vcm1hbGl6ZUZhc3QoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHF1YXQubm9ybWFsaXplKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlOyAvLyBVcGRhdGUgd29ybGQgaW5lcnRpYVxuXG4gICAgdGhpcy51cGRhdGVJbmVydGlhV29ybGQoKTtcbiAgfVxuXG59XG4vKipcbiAqIERpc3BhdGNoZWQgYWZ0ZXIgdHdvIGJvZGllcyBjb2xsaWRlLiBUaGlzIGV2ZW50IGlzIGRpc3BhdGNoZWQgb24gZWFjaFxuICogb2YgdGhlIHR3byBib2RpZXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi5cbiAqIEBldmVudCBjb2xsaWRlXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHkgVGhlIGJvZHkgdGhhdCB3YXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi5cbiAqIEBwYXJhbSB7Q29udGFjdEVxdWF0aW9ufSBjb250YWN0IFRoZSBkZXRhaWxzIG9mIHRoZSBjb2xsaXNpb24uXG4gKi9cblxuQm9keS5DT0xMSURFX0VWRU5UX05BTUUgPSAnY29sbGlkZSc7XG4vKipcbiAqIEEgZHluYW1pYyBib2R5IGlzIGZ1bGx5IHNpbXVsYXRlZC4gQ2FuIGJlIG1vdmVkIG1hbnVhbGx5IGJ5IHRoZSB1c2VyLCBidXQgbm9ybWFsbHkgdGhleSBtb3ZlIGFjY29yZGluZyB0byBmb3JjZXMuIEEgZHluYW1pYyBib2R5IGNhbiBjb2xsaWRlIHdpdGggYWxsIGJvZHkgdHlwZXMuIEEgZHluYW1pYyBib2R5IGFsd2F5cyBoYXMgZmluaXRlLCBub24temVybyBtYXNzLlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IERZTkFNSUNcbiAqIEB0eXBlIHtOdW1iZXJ9XG4gKi9cblxuQm9keS5EWU5BTUlDID0gMTtcbi8qKlxuICogQSBzdGF0aWMgYm9keSBkb2VzIG5vdCBtb3ZlIGR1cmluZyBzaW11bGF0aW9uIGFuZCBiZWhhdmVzIGFzIGlmIGl0IGhhcyBpbmZpbml0ZSBtYXNzLiBTdGF0aWMgYm9kaWVzIGNhbiBiZSBtb3ZlZCBtYW51YWxseSBieSBzZXR0aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgYm9keS4gVGhlIHZlbG9jaXR5IG9mIGEgc3RhdGljIGJvZHkgaXMgYWx3YXlzIHplcm8uIFN0YXRpYyBib2RpZXMgZG8gbm90IGNvbGxpZGUgd2l0aCBvdGhlciBzdGF0aWMgb3Iga2luZW1hdGljIGJvZGllcy5cbiAqIEBzdGF0aWNcbiAqIEBwcm9wZXJ0eSBTVEFUSUNcbiAqIEB0eXBlIHtOdW1iZXJ9XG4gKi9cblxuQm9keS5TVEFUSUMgPSAyO1xuLyoqXG4gKiBBIGtpbmVtYXRpYyBib2R5IG1vdmVzIHVuZGVyIHNpbXVsYXRpb24gYWNjb3JkaW5nIHRvIGl0cyB2ZWxvY2l0eS4gVGhleSBkbyBub3QgcmVzcG9uZCB0byBmb3JjZXMuIFRoZXkgY2FuIGJlIG1vdmVkIG1hbnVhbGx5LCBidXQgbm9ybWFsbHkgYSBraW5lbWF0aWMgYm9keSBpcyBtb3ZlZCBieSBzZXR0aW5nIGl0cyB2ZWxvY2l0eS4gQSBraW5lbWF0aWMgYm9keSBiZWhhdmVzIGFzIGlmIGl0IGhhcyBpbmZpbml0ZSBtYXNzLiBLaW5lbWF0aWMgYm9kaWVzIGRvIG5vdCBjb2xsaWRlIHdpdGggb3RoZXIgc3RhdGljIG9yIGtpbmVtYXRpYyBib2RpZXMuXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkgS0lORU1BVElDXG4gKiBAdHlwZSB7TnVtYmVyfVxuICovXG5cbkJvZHkuS0lORU1BVElDID0gNDtcbi8qKlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IEFXQUtFXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5cbkJvZHkuQVdBS0UgPSBCT0RZX1NMRUVQX1NUQVRFUy5BV0FLRTtcbkJvZHkuU0xFRVBZID0gQk9EWV9TTEVFUF9TVEFURVMuU0xFRVBZO1xuQm9keS5TTEVFUElORyA9IEJPRFlfU0xFRVBfU1RBVEVTLlNMRUVQSU5HO1xuQm9keS5pZENvdW50ZXIgPSAwO1xuLyoqXG4gKiBEaXNwYXRjaGVkIGFmdGVyIGEgc2xlZXBpbmcgYm9keSBoYXMgd29rZW4gdXAuXG4gKiBAZXZlbnQgd2FrZXVwXG4gKi9cblxuQm9keS53YWtldXBFdmVudCA9IHtcbiAgdHlwZTogJ3dha2V1cCdcbn07XG4vKipcbiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBnb25lIGluIHRvIHRoZSBzbGVlcHkgc3RhdGUuXG4gKiBAZXZlbnQgc2xlZXB5XG4gKi9cblxuQm9keS5zbGVlcHlFdmVudCA9IHtcbiAgdHlwZTogJ3NsZWVweSdcbn07XG4vKipcbiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBmYWxsZW4gYXNsZWVwLlxuICogQGV2ZW50IHNsZWVwXG4gKi9cblxuQm9keS5zbGVlcEV2ZW50ID0ge1xuICB0eXBlOiAnc2xlZXAnXG59O1xuY29uc3QgdG1wVmVjID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFF1YXQkMSA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5jb25zdCB1cGRhdGVBQUJCX3NoYXBlQUFCQiA9IG5ldyBBQUJCKCk7XG5jb25zdCB1aXdfbTEgPSBuZXcgTWF0MygpO1xuY29uc3QgdWl3X20yID0gbmV3IE1hdDMoKTtcbmNvbnN0IEJvZHlfYXBwbHlGb3JjZV9yb3RGb3JjZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlID0gbmV3IFZlYzMoKTtcbmNvbnN0IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7XG5jb25zdCBCb2R5X2FwcGx5SW1wdWxzZV92ZWxvID0gbmV3IFZlYzMoKTtcbmNvbnN0IEJvZHlfYXBwbHlJbXB1bHNlX3JvdFZlbG8gPSBuZXcgVmVjMygpO1xuY29uc3QgQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2UgPSBuZXcgVmVjMygpO1xuY29uc3QgQm9keV9hcHBseUxvY2FsSW1wdWxzZV9yZWxhdGl2ZVBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IEJvZHlfdXBkYXRlTWFzc1Byb3BlcnRpZXNfaGFsZkV4dGVudHMgPSBuZXcgVmVjMygpO1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGJyb2FkcGhhc2UgaW1wbGVtZW50YXRpb25zXG4gKiBAY2xhc3MgQnJvYWRwaGFzZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXV0aG9yIHNjaHRlcHBlXG4gKi9cbmNsYXNzIEJyb2FkcGhhc2Uge1xuICAvLyBUaGUgd29ybGQgdG8gc2VhcmNoIGZvciBjb2xsaXNpb25zIGluLlxuICAvLyBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGJyb2FkcGhhc2UgdXNlcyBib3VuZGluZyBib3hlcyBmb3IgaW50ZXJzZWN0aW9uIHRlc3QsIGVsc2UgaXQgdXNlcyBib3VuZGluZyBzcGhlcmVzLlxuICAvLyBTZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0cyBpbiB0aGUgd29ybGQgbW92ZWQuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMud29ybGQgPSBudWxsO1xuICAgIHRoaXMudXNlQm91bmRpbmdCb3hlcyA9IGZhbHNlO1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbGxpc2lvbiBwYWlycyBmcm9tIHRoZSB3b3JsZFxuICAgKiBAbWV0aG9kIGNvbGxpc2lvblBhaXJzXG4gICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkIFRoZSB3b3JsZCB0byBzZWFyY2ggaW5cbiAgICogQHBhcmFtIHtBcnJheX0gcDEgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzXG4gICAqIEBwYXJhbSB7QXJyYXl9IHAyIEVtcHR5IGFycmF5IHRvIGJlIGZpbGxlZCB3aXRoIGJvZHkgb2JqZWN0c1xuICAgKi9cblxuXG4gIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwMSwgcDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbGxpc2lvblBhaXJzIG5vdCBpbXBsZW1lbnRlZCBmb3IgdGhpcyBCcm9hZFBoYXNlIGNsYXNzIScpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGJvZHkgcGFpciBuZWVkcyB0byBiZSBpbnRlcnNlY3Rpb24gdGVzdGVkIGF0IGFsbC5cbiAgICogQG1ldGhvZCBuZWVkQnJvYWRwaGFzZUNvbGxpc2lvblxuICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUJcbiAgICogQHJldHVybiB7Ym9vbH1cbiAgICovXG5cblxuICBuZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihib2R5QSwgYm9keUIpIHtcbiAgICAvLyBDaGVjayBjb2xsaXNpb24gZmlsdGVyIG1hc2tzXG4gICAgaWYgKChib2R5QS5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlCLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5Qi5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlBLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBDaGVjayB0eXBlc1xuXG5cbiAgICBpZiAoKChib2R5QS50eXBlICYgQm9keS5TVEFUSUMpICE9PSAwIHx8IGJvZHlBLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpICYmICgoYm9keUIudHlwZSAmIEJvZHkuU1RBVElDKSAhPT0gMCB8fCBib2R5Qi5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSkge1xuICAgICAgLy8gQm90aCBib2RpZXMgYXJlIHN0YXRpYyBvciBzbGVlcGluZy4gU2tpcC5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHZvbHVtZXMgb2YgdHdvIGJvZGllcyBpbnRlcnNlY3QuXG4gICAqIEBtZXRob2QgaW50ZXJzZWN0aW9uVGVzdFxuICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUJcbiAgICogQHBhcmFtIHthcnJheX0gcGFpcnMxXG4gICAqIEBwYXJhbSB7YXJyYXl9IHBhaXJzMlxuICAgKi9cblxuXG4gIGludGVyc2VjdGlvblRlc3QoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGlmICh0aGlzLnVzZUJvdW5kaW5nQm94ZXMpIHtcbiAgICAgIHRoaXMuZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgc3BoZXJlcyBvZiB0d28gYm9kaWVzIGFyZSBpbnRlcnNlY3RpbmcuXG4gICAqIEBtZXRob2QgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2VcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QVxuICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMSBib2R5QSBpcyBhcHBlbmRlZCB0byB0aGlzIGFycmF5IGlmIGludGVyc2VjdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczIgYm9keUIgaXMgYXBwZW5kZWQgdG8gdGhpcyBhcnJheSBpZiBpbnRlcnNlY3Rpb25cbiAgICovXG5cblxuICBkb0JvdW5kaW5nU3BoZXJlQnJvYWRwaGFzZShib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKSB7XG4gICAgY29uc3QgciA9IEJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfcjtcbiAgICBib2R5Qi5wb3NpdGlvbi52c3ViKGJvZHlBLnBvc2l0aW9uLCByKTtcbiAgICBjb25zdCBib3VuZGluZ1JhZGl1c1N1bTIgPSAoYm9keUEuYm91bmRpbmdSYWRpdXMgKyBib2R5Qi5ib3VuZGluZ1JhZGl1cykgKiogMjtcbiAgICBjb25zdCBub3JtMiA9IHIubGVuZ3RoU3F1YXJlZCgpO1xuXG4gICAgaWYgKG5vcm0yIDwgYm91bmRpbmdSYWRpdXNTdW0yKSB7XG4gICAgICBwYWlyczEucHVzaChib2R5QSk7XG4gICAgICBwYWlyczIucHVzaChib2R5Qik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgYm94ZXMgb2YgdHdvIGJvZGllcyBhcmUgaW50ZXJzZWN0aW5nLlxuICAgKiBAbWV0aG9kIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczFcbiAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMyXG4gICAqL1xuXG5cbiAgZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGlmIChib2R5QS5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgIGJvZHlBLnVwZGF0ZUFBQkIoKTtcbiAgICB9XG5cbiAgICBpZiAoYm9keUIuYWFiYk5lZWRzVXBkYXRlKSB7XG4gICAgICBib2R5Qi51cGRhdGVBQUJCKCk7XG4gICAgfSAvLyBDaGVjayBBQUJCIC8gQUFCQlxuXG5cbiAgICBpZiAoYm9keUEuYWFiYi5vdmVybGFwcyhib2R5Qi5hYWJiKSkge1xuICAgICAgcGFpcnMxLnB1c2goYm9keUEpO1xuICAgICAgcGFpcnMyLnB1c2goYm9keUIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBkdXBsaWNhdGUgcGFpcnMgZnJvbSB0aGUgcGFpciBhcnJheXMuXG4gICAqIEBtZXRob2QgbWFrZVBhaXJzVW5pcXVlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMVxuICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczJcbiAgICovXG5cblxuICBtYWtlUGFpcnNVbmlxdWUocGFpcnMxLCBwYWlyczIpIHtcbiAgICBjb25zdCB0ID0gQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfdGVtcDtcbiAgICBjb25zdCBwMSA9IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AxO1xuICAgIGNvbnN0IHAyID0gQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDI7XG4gICAgY29uc3QgTiA9IHBhaXJzMS5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBwMVtpXSA9IHBhaXJzMVtpXTtcbiAgICAgIHAyW2ldID0gcGFpcnMyW2ldO1xuICAgIH1cblxuICAgIHBhaXJzMS5sZW5ndGggPSAwO1xuICAgIHBhaXJzMi5sZW5ndGggPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgaWQxID0gcDFbaV0uaWQ7XG4gICAgICBjb25zdCBpZDIgPSBwMltpXS5pZDtcbiAgICAgIGNvbnN0IGtleSA9IGlkMSA8IGlkMiA/IGlkMSArIFwiLFwiICsgaWQyIDogaWQyICsgXCIsXCIgKyBpZDE7XG4gICAgICB0W2tleV0gPSBpO1xuICAgICAgdC5rZXlzLnB1c2goa2V5KTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdC5rZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSB0LmtleXMucG9wKCk7XG4gICAgICBjb25zdCBwYWlySW5kZXggPSB0W2tleV07XG4gICAgICBwYWlyczEucHVzaChwMVtwYWlySW5kZXhdKTtcbiAgICAgIHBhaXJzMi5wdXNoKHAyW3BhaXJJbmRleF0pO1xuICAgICAgZGVsZXRlIHRba2V5XTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNhc3Nlc1xuICAgKiBAbWV0aG9kIHNldFdvcmxkXG4gICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkXG4gICAqL1xuXG5cbiAgc2V0V29ybGQod29ybGQpIHt9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgc3BoZXJlcyBvZiB0d28gYm9kaWVzIG92ZXJsYXAuXG4gICAqIEBzdGF0aWNcbiAgICogQG1ldGhvZCBib3VuZGluZ1NwaGVyZUNoZWNrXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cblxuXG4gIHN0YXRpYyBib3VuZGluZ1NwaGVyZUNoZWNrKGJvZHlBLCBib2R5Qikge1xuICAgIGNvbnN0IGRpc3QgPSBuZXcgVmVjMygpOyAvLyBic2NfZGlzdDtcblxuICAgIGJvZHlBLnBvc2l0aW9uLnZzdWIoYm9keUIucG9zaXRpb24sIGRpc3QpO1xuICAgIGNvbnN0IHNhID0gYm9keUEuc2hhcGVzWzBdO1xuICAgIGNvbnN0IHNiID0gYm9keUIuc2hhcGVzWzBdO1xuICAgIHJldHVybiBNYXRoLnBvdyhzYS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNiLmJvdW5kaW5nU3BoZXJlUmFkaXVzLCAyKSA+IGRpc3QubGVuZ3RoU3F1YXJlZCgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiB0aGUgQUFCQi5cbiAgICogQG1ldGhvZCBhYWJiUXVlcnlcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcbiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSByZXN1bHRpbmcgYm9kaWVzIGluLlxuICAgKiBAcmV0dXJuIHthcnJheX1cbiAgICovXG5cblxuICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCkge1xuICAgIGNvbnNvbGUud2FybignLmFhYmJRdWVyeSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBCcm9hZHBoYXNlIHN1YmNsYXNzLicpO1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG59IC8vIFRlbXAgb2JqZWN0c1xuXG5jb25zdCBCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX3IgPSBuZXcgVmVjMygpO1xuY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfdGVtcCA9IHtcbiAga2V5czogW11cbn07XG5jb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMSA9IFtdO1xuY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDIgPSBbXTtcblxuLyoqXG4gKiBBeGlzIGFsaWduZWQgdW5pZm9ybSBncmlkIGJyb2FkcGhhc2UuXG4gKiBAY2xhc3MgR3JpZEJyb2FkcGhhc2VcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQnJvYWRwaGFzZVxuICogQHRvZG8gTmVlZHMgc3VwcG9ydCBmb3IgbW9yZSB0aGFuIGp1c3QgcGxhbmVzIGFuZCBzcGhlcmVzLlxuICogQHBhcmFtIHtWZWMzfSBhYWJiTWluXG4gKiBAcGFyYW0ge1ZlYzN9IGFhYmJNYXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBueCBOdW1iZXIgb2YgYm94ZXMgYWxvbmcgeFxuICogQHBhcmFtIHtOdW1iZXJ9IG55IE51bWJlciBvZiBib3hlcyBhbG9uZyB5XG4gKiBAcGFyYW0ge051bWJlcn0gbnogTnVtYmVyIG9mIGJveGVzIGFsb25nIHpcbiAqL1xuY2xhc3MgR3JpZEJyb2FkcGhhc2UgZXh0ZW5kcyBCcm9hZHBoYXNlIHtcbiAgY29uc3RydWN0b3IoYWFiYk1pbiA9IG5ldyBWZWMzKDEwMCwgMTAwLCAxMDApLCBhYWJiTWF4ID0gbmV3IFZlYzMoLTEwMCwgLTEwMCwgLTEwMCksIG54ID0gMTAsIG55ID0gMTAsIG56ID0gMTApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubnggPSBueDtcbiAgICB0aGlzLm55ID0gbnk7XG4gICAgdGhpcy5ueiA9IG56O1xuICAgIHRoaXMuYWFiYk1pbiA9IGFhYmJNaW47XG4gICAgdGhpcy5hYWJiTWF4ID0gYWFiYk1heDtcbiAgICBjb25zdCBuYmlucyA9IHRoaXMubnggKiB0aGlzLm55ICogdGhpcy5uejtcblxuICAgIGlmIChuYmlucyA8PSAwKSB7XG4gICAgICB0aHJvdyBcIkdyaWRCcm9hZHBoYXNlOiBFYWNoIGRpbWVuc2lvbidzIG4gbXVzdCBiZSA+MFwiO1xuICAgIH1cblxuICAgIHRoaXMuYmlucyA9IFtdO1xuICAgIHRoaXMuYmluTGVuZ3RocyA9IFtdOyAvL1JhdGhlciB0aGFuIGNvbnRpbnVhbGx5IHJlc2l6aW5nIGFycmF5cyAodGhyYXNoaW5nIHRoZSBtZW1vcnkpLCBqdXN0IHJlY29yZCBsZW5ndGggYW5kIGFsbG93IHRoZW0gdG8gZ3Jvd1xuXG4gICAgdGhpcy5iaW5zLmxlbmd0aCA9IG5iaW5zO1xuICAgIHRoaXMuYmluTGVuZ3Rocy5sZW5ndGggPSBuYmlucztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmJpbnM7IGkrKykge1xuICAgICAgdGhpcy5iaW5zW2ldID0gW107XG4gICAgICB0aGlzLmJpbkxlbmd0aHNbaV0gPSAwO1xuICAgIH1cbiAgfVxuXG4gIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGNvbnN0IE4gPSB3b3JsZC5udW1PYmplY3RzKCk7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IG1heCA9IHRoaXMuYWFiYk1heDtcbiAgICBjb25zdCBtaW4gPSB0aGlzLmFhYmJNaW47XG4gICAgY29uc3QgbnggPSB0aGlzLm54O1xuICAgIGNvbnN0IG55ID0gdGhpcy5ueTtcbiAgICBjb25zdCBueiA9IHRoaXMubno7XG4gICAgY29uc3QgeHN0ZXAgPSBueSAqIG56O1xuICAgIGNvbnN0IHlzdGVwID0gbno7XG4gICAgY29uc3QgenN0ZXAgPSAxO1xuICAgIGNvbnN0IHhtYXggPSBtYXgueDtcbiAgICBjb25zdCB5bWF4ID0gbWF4Lnk7XG4gICAgY29uc3Qgem1heCA9IG1heC56O1xuICAgIGNvbnN0IHhtaW4gPSBtaW4ueDtcbiAgICBjb25zdCB5bWluID0gbWluLnk7XG4gICAgY29uc3Qgem1pbiA9IG1pbi56O1xuICAgIGNvbnN0IHhtdWx0ID0gbnggLyAoeG1heCAtIHhtaW4pO1xuICAgIGNvbnN0IHltdWx0ID0gbnkgLyAoeW1heCAtIHltaW4pO1xuICAgIGNvbnN0IHptdWx0ID0gbnogLyAoem1heCAtIHptaW4pO1xuICAgIGNvbnN0IGJpbnNpemVYID0gKHhtYXggLSB4bWluKSAvIG54O1xuICAgIGNvbnN0IGJpbnNpemVZID0gKHltYXggLSB5bWluKSAvIG55O1xuICAgIGNvbnN0IGJpbnNpemVaID0gKHptYXggLSB6bWluKSAvIG56O1xuICAgIGNvbnN0IGJpblJhZGl1cyA9IE1hdGguc3FydChiaW5zaXplWCAqIGJpbnNpemVYICsgYmluc2l6ZVkgKiBiaW5zaXplWSArIGJpbnNpemVaICogYmluc2l6ZVopICogMC41O1xuICAgIGNvbnN0IHR5cGVzID0gU2hhcGUudHlwZXM7XG4gICAgY29uc3QgU1BIRVJFID0gdHlwZXMuU1BIRVJFO1xuICAgIGNvbnN0IFBMQU5FID0gdHlwZXMuUExBTkU7XG4gICAgY29uc3QgQk9YID0gdHlwZXMuQk9YO1xuICAgIGNvbnN0IENPTVBPVU5EID0gdHlwZXMuQ09NUE9VTkQ7XG4gICAgY29uc3QgQ09OVkVYUE9MWUhFRFJPTiA9IHR5cGVzLkNPTlZFWFBPTFlIRURST047XG4gICAgY29uc3QgYmlucyA9IHRoaXMuYmlucztcbiAgICBjb25zdCBiaW5MZW5ndGhzID0gdGhpcy5iaW5MZW5ndGhzO1xuICAgIGNvbnN0IE5iaW5zID0gdGhpcy5iaW5zLmxlbmd0aDsgLy8gUmVzZXQgYmluc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5iaW5zOyBpKyspIHtcbiAgICAgIGJpbkxlbmd0aHNbaV0gPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IGNlaWwgPSBNYXRoLmNlaWw7XG5cbiAgICBmdW5jdGlvbiBhZGRCb3hUb0JpbnMoeDAsIHkwLCB6MCwgeDEsIHkxLCB6MSwgYmkpIHtcbiAgICAgIGxldCB4b2ZmMCA9ICh4MCAtIHhtaW4pICogeG11bHQgfCAwO1xuICAgICAgbGV0IHlvZmYwID0gKHkwIC0geW1pbikgKiB5bXVsdCB8IDA7XG4gICAgICBsZXQgem9mZjAgPSAoejAgLSB6bWluKSAqIHptdWx0IHwgMDtcbiAgICAgIGxldCB4b2ZmMSA9IGNlaWwoKHgxIC0geG1pbikgKiB4bXVsdCk7XG4gICAgICBsZXQgeW9mZjEgPSBjZWlsKCh5MSAtIHltaW4pICogeW11bHQpO1xuICAgICAgbGV0IHpvZmYxID0gY2VpbCgoejEgLSB6bWluKSAqIHptdWx0KTtcblxuICAgICAgaWYgKHhvZmYwIDwgMCkge1xuICAgICAgICB4b2ZmMCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHhvZmYwID49IG54KSB7XG4gICAgICAgIHhvZmYwID0gbnggLSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoeW9mZjAgPCAwKSB7XG4gICAgICAgIHlvZmYwID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoeW9mZjAgPj0gbnkpIHtcbiAgICAgICAgeW9mZjAgPSBueSAtIDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh6b2ZmMCA8IDApIHtcbiAgICAgICAgem9mZjAgPSAwO1xuICAgICAgfSBlbHNlIGlmICh6b2ZmMCA+PSBueikge1xuICAgICAgICB6b2ZmMCA9IG56IC0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHhvZmYxIDwgMCkge1xuICAgICAgICB4b2ZmMSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHhvZmYxID49IG54KSB7XG4gICAgICAgIHhvZmYxID0gbnggLSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoeW9mZjEgPCAwKSB7XG4gICAgICAgIHlvZmYxID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoeW9mZjEgPj0gbnkpIHtcbiAgICAgICAgeW9mZjEgPSBueSAtIDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh6b2ZmMSA8IDApIHtcbiAgICAgICAgem9mZjEgPSAwO1xuICAgICAgfSBlbHNlIGlmICh6b2ZmMSA+PSBueikge1xuICAgICAgICB6b2ZmMSA9IG56IC0gMTtcbiAgICAgIH1cblxuICAgICAgeG9mZjAgKj0geHN0ZXA7XG4gICAgICB5b2ZmMCAqPSB5c3RlcDtcbiAgICAgIHpvZmYwICo9IHpzdGVwO1xuICAgICAgeG9mZjEgKj0geHN0ZXA7XG4gICAgICB5b2ZmMSAqPSB5c3RlcDtcbiAgICAgIHpvZmYxICo9IHpzdGVwO1xuXG4gICAgICBmb3IgKGxldCB4b2ZmID0geG9mZjA7IHhvZmYgPD0geG9mZjE7IHhvZmYgKz0geHN0ZXApIHtcbiAgICAgICAgZm9yIChsZXQgeW9mZiA9IHlvZmYwOyB5b2ZmIDw9IHlvZmYxOyB5b2ZmICs9IHlzdGVwKSB7XG4gICAgICAgICAgZm9yIChsZXQgem9mZiA9IHpvZmYwOyB6b2ZmIDw9IHpvZmYxOyB6b2ZmICs9IHpzdGVwKSB7XG4gICAgICAgICAgICBjb25zdCBpZHggPSB4b2ZmICsgeW9mZiArIHpvZmY7XG4gICAgICAgICAgICBiaW5zW2lkeF1bYmluTGVuZ3Roc1tpZHhdKytdID0gYmk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBQdXQgYWxsIGJvZGllcyBpbnRvIHRoZSBiaW5zXG5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuICAgICAgY29uc3Qgc2kgPSBiaS5zaGFwZXNbMF07XG5cbiAgICAgIHN3aXRjaCAoc2kudHlwZSkge1xuICAgICAgICBjYXNlIFNQSEVSRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHNpOyAvLyBQdXQgaW4gYmluXG4gICAgICAgICAgICAvLyBjaGVjayBpZiBvdmVybGFwIHdpdGggb3RoZXIgYmluc1xuXG4gICAgICAgICAgICBjb25zdCB4ID0gYmkucG9zaXRpb24ueDtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBiaS5wb3NpdGlvbi55O1xuICAgICAgICAgICAgY29uc3QgeiA9IGJpLnBvc2l0aW9uLno7XG4gICAgICAgICAgICBjb25zdCByID0gc2hhcGUucmFkaXVzO1xuICAgICAgICAgICAgYWRkQm94VG9CaW5zKHggLSByLCB5IC0gciwgeiAtIHIsIHggKyByLCB5ICsgciwgeiArIHIsIGJpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIFBMQU5FOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gc2k7XG5cbiAgICAgICAgICAgIGlmIChzaGFwZS53b3JsZE5vcm1hbE5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICAgIHNoYXBlLmNvbXB1dGVXb3JsZE5vcm1hbChiaS5xdWF0ZXJuaW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGxhbmVOb3JtYWwgPSBzaGFwZS53b3JsZE5vcm1hbDsgLy9SZWxhdGl2ZSBwb3NpdGlvbiBmcm9tIG9yaWdpbiBvZiBwbGFuZSBvYmplY3QgdG8gdGhlIGZpcnN0IGJpblxuICAgICAgICAgICAgLy9JbmNyZW1lbnRlZCBhcyB3ZSBpdGVyYXRlIHRocm91Z2ggdGhlIGJpbnNcblxuICAgICAgICAgICAgY29uc3QgeHJlc2V0ID0geG1pbiArIGJpbnNpemVYICogMC41IC0gYmkucG9zaXRpb24ueDtcbiAgICAgICAgICAgIGNvbnN0IHlyZXNldCA9IHltaW4gKyBiaW5zaXplWSAqIDAuNSAtIGJpLnBvc2l0aW9uLnk7XG4gICAgICAgICAgICBjb25zdCB6cmVzZXQgPSB6bWluICsgYmluc2l6ZVogKiAwLjUgLSBiaS5wb3NpdGlvbi56O1xuICAgICAgICAgICAgY29uc3QgZCA9IEdyaWRCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX2Q7XG4gICAgICAgICAgICBkLnNldCh4cmVzZXQsIHlyZXNldCwgenJlc2V0KTtcblxuICAgICAgICAgICAgZm9yIChsZXQgeGkgPSAwLCB4b2ZmID0gMDsgeGkgIT09IG54OyB4aSsrLCB4b2ZmICs9IHhzdGVwLCBkLnkgPSB5cmVzZXQsIGQueCArPSBiaW5zaXplWCkge1xuICAgICAgICAgICAgICBmb3IgKGxldCB5aSA9IDAsIHlvZmYgPSAwOyB5aSAhPT0gbnk7IHlpKyssIHlvZmYgKz0geXN0ZXAsIGQueiA9IHpyZXNldCwgZC55ICs9IGJpbnNpemVZKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgemkgPSAwLCB6b2ZmID0gMDsgemkgIT09IG56OyB6aSsrLCB6b2ZmICs9IHpzdGVwLCBkLnogKz0gYmluc2l6ZVopIHtcbiAgICAgICAgICAgICAgICAgIGlmIChkLmRvdChwbGFuZU5vcm1hbCkgPCBiaW5SYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0geG9mZiArIHlvZmYgKyB6b2ZmO1xuICAgICAgICAgICAgICAgICAgICBiaW5zW2lkeF1bYmluTGVuZ3Roc1tpZHhdKytdID0gYmk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChiaS5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICAgICAgYmkudXBkYXRlQUFCQigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZGRCb3hUb0JpbnMoYmkuYWFiYi5sb3dlckJvdW5kLngsIGJpLmFhYmIubG93ZXJCb3VuZC55LCBiaS5hYWJiLmxvd2VyQm91bmQueiwgYmkuYWFiYi51cHBlckJvdW5kLngsIGJpLmFhYmIudXBwZXJCb3VuZC55LCBiaS5hYWJiLnVwcGVyQm91bmQueiwgYmkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gQ2hlY2sgZWFjaCBiaW5cblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5iaW5zOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpbkxlbmd0aCA9IGJpbkxlbmd0aHNbaV07IC8vU2tpcCBiaW5zIHdpdGggbm8gcG90ZW50aWFsIGNvbGxpc2lvbnNcblxuICAgICAgaWYgKGJpbkxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgYmluID0gYmluc1tpXTsgLy8gRG8gTl4yIGJyb2FkcGhhc2UgaW5zaWRlXG5cbiAgICAgICAgZm9yIChsZXQgeGkgPSAwOyB4aSAhPT0gYmluTGVuZ3RoOyB4aSsrKSB7XG4gICAgICAgICAgY29uc3QgYmkgPSBiaW5beGldO1xuXG4gICAgICAgICAgZm9yIChsZXQgeWkgPSAwOyB5aSAhPT0geGk7IHlpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGJqID0gYmluW3lpXTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkge1xuICAgICAgICAgICAgICB0aGlzLmludGVyc2VjdGlvblRlc3QoYmksIGJqLCBwYWlyczEsIHBhaXJzMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvL1x0Zm9yIChsZXQgemkgPSAwLCB6b2ZmPTA7IHppIDwgbno7IHppKyssIHpvZmYrPSB6c3RlcCkge1xuICAgIC8vXHRcdGNvbnNvbGUubG9nKFwibGF5ZXIgXCIremkpO1xuICAgIC8vXHRcdGZvciAobGV0IHlpID0gMCwgeW9mZj0wOyB5aSA8IG55OyB5aSsrLCB5b2ZmICs9IHlzdGVwKSB7XG4gICAgLy9cdFx0XHRjb25zdCByb3cgPSAnJztcbiAgICAvL1x0XHRcdGZvciAobGV0IHhpID0gMCwgeG9mZj0wOyB4aSA8IG54OyB4aSsrLCB4b2ZmICs9IHhzdGVwKSB7XG4gICAgLy9cdFx0XHRcdGNvbnN0IGlkeCA9IHhvZmYgKyB5b2ZmICsgem9mZjtcbiAgICAvL1x0XHRcdFx0cm93ICs9ICcgJyArIGJpbkxlbmd0aHNbaWR4XTtcbiAgICAvL1x0XHRcdH1cbiAgICAvL1x0XHRcdGNvbnNvbGUubG9nKHJvdyk7XG4gICAgLy9cdFx0fVxuICAgIC8vXHR9XG5cblxuICAgIHRoaXMubWFrZVBhaXJzVW5pcXVlKHBhaXJzMSwgcGFpcnMyKTtcbiAgfVxuXG59XG4vKipcbiAqIEdldCBhbGwgdGhlIGNvbGxpc2lvbiBwYWlycyBpbiB0aGUgcGh5c2ljcyB3b3JsZFxuICogQG1ldGhvZCBjb2xsaXNpb25QYWlyc1xuICogQHBhcmFtIHtXb3JsZH0gd29ybGRcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMVxuICogQHBhcmFtIHtBcnJheX0gcGFpcnMyXG4gKi9cblxuY29uc3QgR3JpZEJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfZCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxuICogTmFpdmUgYnJvYWRwaGFzZSBpbXBsZW1lbnRhdGlvbiwgdXNlZCBpbiBsYWNrIG9mIGJldHRlciBvbmVzLlxuICogQGNsYXNzIE5haXZlQnJvYWRwaGFzZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAZGVzY3JpcHRpb24gVGhlIG5haXZlIGJyb2FkcGhhc2UgbG9va3MgYXQgYWxsIHBvc3NpYmxlIHBhaXJzIHdpdGhvdXQgcmVzdHJpY3Rpb24sIHRoZXJlZm9yZSBpdCBoYXMgY29tcGxleGl0eSBOXjIgKHdoaWNoIGlzIGJhZClcbiAqIEBleHRlbmRzIEJyb2FkcGhhc2VcbiAqL1xuY2xhc3MgTmFpdmVCcm9hZHBoYXNlIGV4dGVuZHMgQnJvYWRwaGFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbGwgdGhlIGNvbGxpc2lvbiBwYWlycyBpbiB0aGUgcGh5c2ljcyB3b3JsZFxuICAgKiBAbWV0aG9kIGNvbGxpc2lvblBhaXJzXG4gICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMVxuICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczJcbiAgICovXG5cblxuICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcGFpcnMxLCBwYWlyczIpIHtcbiAgICBjb25zdCBib2RpZXMgPSB3b3JsZC5ib2RpZXM7XG4gICAgY29uc3QgbiA9IGJvZGllcy5sZW5ndGg7XG4gICAgbGV0IGJpO1xuICAgIGxldCBiajsgLy8gTmFpdmUgTl4yIGZ0dyFcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBuOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBpOyBqKyspIHtcbiAgICAgICAgYmkgPSBib2RpZXNbaV07XG4gICAgICAgIGJqID0gYm9kaWVzW2pdO1xuXG4gICAgICAgIGlmICghdGhpcy5uZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihiaSwgYmopKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludGVyc2VjdGlvblRlc3QoYmksIGJqLCBwYWlyczEsIHBhaXJzMik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLlxuICAgKiBAbWV0aG9kIGFhYmJRdWVyeVxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxuICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi5cbiAgICogQHJldHVybiB7YXJyYXl9XG4gICAqL1xuXG5cbiAgYWFiYlF1ZXJ5KHdvcmxkLCBhYWJiLCByZXN1bHQgPSBbXSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29ybGQuYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiID0gd29ybGQuYm9kaWVzW2ldO1xuXG4gICAgICBpZiAoYi5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgYi51cGRhdGVBQUJCKCk7XG4gICAgICB9IC8vIFVnbHkgaGFjayB1bnRpbCBCb2R5IGdldHMgYWFiYlxuXG5cbiAgICAgIGlmIChiLmFhYmIub3ZlcmxhcHMoYWFiYikpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goYik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG59XG5cbi8qKlxuICogU3RvcmFnZSBmb3IgUmF5IGNhc3RpbmcgZGF0YS5cbiAqIEBjbGFzcyBSYXljYXN0UmVzdWx0XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgUmF5Y2FzdFJlc3VsdCB7XG4gIC8vIFRoZSBpbmRleCBvZiB0aGUgaGl0IHRyaWFuZ2xlLCBpZiB0aGUgaGl0IHNoYXBlIHdhcyBhIHRyaW1lc2guXG4gIC8vIERpc3RhbmNlIHRvIHRoZSBoaXQuIFdpbGwgYmUgc2V0IHRvIC0xIGlmIHRoZXJlIHdhcyBubyBoaXQuXG4gIC8vIElmIHRoZSByYXkgc2hvdWxkIHN0b3AgdHJhdmVyc2luZyB0aGUgYm9kaWVzLlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJheUZyb21Xb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5yYXlUb1dvcmxkID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmhpdE5vcm1hbFdvcmxkID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmhpdFBvaW50V29ybGQgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7XG4gICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgdGhpcy5ib2R5ID0gbnVsbDtcbiAgICB0aGlzLmhpdEZhY2VJbmRleCA9IC0xO1xuICAgIHRoaXMuZGlzdGFuY2UgPSAtMTtcbiAgICB0aGlzLnNob3VsZFN0b3AgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogUmVzZXQgYWxsIHJlc3VsdCBkYXRhLlxuICAgKiBAbWV0aG9kIHJlc2V0XG4gICAqL1xuXG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5yYXlGcm9tV29ybGQuc2V0WmVybygpO1xuICAgIHRoaXMucmF5VG9Xb3JsZC5zZXRaZXJvKCk7XG4gICAgdGhpcy5oaXROb3JtYWxXb3JsZC5zZXRaZXJvKCk7XG4gICAgdGhpcy5oaXRQb2ludFdvcmxkLnNldFplcm8oKTtcbiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlO1xuICAgIHRoaXMuc2hhcGUgPSBudWxsO1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG4gICAgdGhpcy5oaXRGYWNlSW5kZXggPSAtMTtcbiAgICB0aGlzLmRpc3RhbmNlID0gLTE7XG4gICAgdGhpcy5zaG91bGRTdG9wID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2QgYWJvcnRcbiAgICovXG5cblxuICBhYm9ydCgpIHtcbiAgICB0aGlzLnNob3VsZFN0b3AgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIHNldFxuICAgKiBAcGFyYW0ge1ZlYzN9IHJheUZyb21Xb3JsZFxuICAgKiBAcGFyYW0ge1ZlYzN9IHJheVRvV29ybGRcbiAgICogQHBhcmFtIHtWZWMzfSBoaXROb3JtYWxXb3JsZFxuICAgKiBAcGFyYW0ge1ZlYzN9IGhpdFBvaW50V29ybGRcbiAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZVxuICAgKi9cblxuXG4gIHNldChyYXlGcm9tV29ybGQsIHJheVRvV29ybGQsIGhpdE5vcm1hbFdvcmxkLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpIHtcbiAgICB0aGlzLnJheUZyb21Xb3JsZC5jb3B5KHJheUZyb21Xb3JsZCk7XG4gICAgdGhpcy5yYXlUb1dvcmxkLmNvcHkocmF5VG9Xb3JsZCk7XG4gICAgdGhpcy5oaXROb3JtYWxXb3JsZC5jb3B5KGhpdE5vcm1hbFdvcmxkKTtcbiAgICB0aGlzLmhpdFBvaW50V29ybGQuY29weShoaXRQb2ludFdvcmxkKTtcbiAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gIH1cblxufVxuXG5jb25zdCBSQVlfTU9ERVMgPSB7XG4gIENMT1NFU1Q6IDEsXG4gIEFOWTogMixcbiAgQUxMOiA0XG59O1xuXG4vKipcbiAqIEEgbGluZSBpbiAzRCBzcGFjZSB0aGF0IGludGVyc2VjdHMgYm9kaWVzIGFuZCByZXR1cm4gcG9pbnRzLlxuICogQGNsYXNzIFJheVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1ZlYzN9IGZyb21cbiAqIEBwYXJhbSB7VmVjM30gdG9cbiAqL1xuY2xhc3MgUmF5IHtcbiAgLy8gVGhlIHByZWNpc2lvbiBvZiB0aGUgcmF5LiBVc2VkIHdoZW4gY2hlY2tpbmcgcGFyYWxsZWxpdHkgZXRjLlxuICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgUmF5IHRvIHRha2UgLmNvbGxpc2lvblJlc3BvbnNlIGZsYWdzIGludG8gYWNjb3VudCBvbiBib2RpZXMgYW5kIHNoYXBlcy5cbiAgLy8gSWYgc2V0IHRvIHRydWUsIHRoZSByYXkgc2tpcHMgYW55IGhpdHMgd2l0aCBub3JtYWwuZG90KHJheURpcmVjdGlvbikgPCAwLlxuICAvLyBUaGUgaW50ZXJzZWN0aW9uIG1vZGUuIFNob3VsZCBiZSBSYXkuQU5ZLCBSYXkuQUxMIG9yIFJheS5DTE9TRVNULlxuICAvLyBDdXJyZW50IHJlc3VsdCBvYmplY3QuXG4gIC8vIFdpbGwgYmUgc2V0IHRvIHRydWUgZHVyaW5nIGludGVyc2VjdFdvcmxkKCkgaWYgdGhlIHJheSBoaXQgYW55dGhpbmcuXG4gIC8vIFVzZXItcHJvdmlkZWQgcmVzdWx0IGNhbGxiYWNrLiBXaWxsIGJlIHVzZWQgaWYgbW9kZSBpcyBSYXkuQUxMLlxuICBjb25zdHJ1Y3Rvcihmcm9tID0gbmV3IFZlYzMoKSwgdG8gPSBuZXcgVmVjMygpKSB7XG4gICAgdGhpcy5mcm9tID0gZnJvbS5jbG9uZSgpO1xuICAgIHRoaXMudG8gPSB0by5jbG9uZSgpO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnByZWNpc2lvbiA9IDAuMDAwMTtcbiAgICB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0cnVlO1xuICAgIHRoaXMuc2tpcEJhY2tmYWNlcyA9IGZhbHNlO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IC0xO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSAtMTtcbiAgICB0aGlzLm1vZGUgPSBSYXkuQU5ZO1xuICAgIHRoaXMucmVzdWx0ID0gbmV3IFJheWNhc3RSZXN1bHQoKTtcbiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlO1xuXG4gICAgdGhpcy5jYWxsYmFjayA9IHJlc3VsdCA9PiB7fTtcbiAgfVxuICAvKipcbiAgICogRG8gaXRlcnNlY3Rpb24gYWdhaW5zdCBhbGwgYm9kaWVzIGluIHRoZSBnaXZlbiBXb3JsZC5cbiAgICogQG1ldGhvZCBpbnRlcnNlY3RXb3JsZFxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcbiAgICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHJheSBoaXQgYW55dGhpbmcsIG90aGVyd2lzZSBmYWxzZS5cbiAgICovXG5cblxuICBpbnRlcnNlY3RXb3JsZCh3b3JsZCwgb3B0aW9ucykge1xuICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCBSYXkuQU5ZO1xuICAgIHRoaXMucmVzdWx0ID0gb3B0aW9ucy5yZXN1bHQgfHwgbmV3IFJheWNhc3RSZXN1bHQoKTtcbiAgICB0aGlzLnNraXBCYWNrZmFjZXMgPSAhIW9wdGlvbnMuc2tpcEJhY2tmYWNlcztcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogLTE7XG4gICAgdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdHlwZW9mIG9wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgOiB0cnVlO1xuXG4gICAgaWYgKG9wdGlvbnMuZnJvbSkge1xuICAgICAgdGhpcy5mcm9tLmNvcHkob3B0aW9ucy5mcm9tKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy50bykge1xuICAgICAgdGhpcy50by5jb3B5KG9wdGlvbnMudG8pO1xuICAgIH1cblxuICAgIHRoaXMuY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrIHx8ICgoKSA9PiB7fSk7XG5cbiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlO1xuICAgIHRoaXMucmVzdWx0LnJlc2V0KCk7XG4gICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcbiAgICB0aGlzLmdldEFBQkIodG1wQUFCQik7XG4gICAgdG1wQXJyYXkubGVuZ3RoID0gMDtcbiAgICB3b3JsZC5icm9hZHBoYXNlLmFhYmJRdWVyeSh3b3JsZCwgdG1wQUFCQiwgdG1wQXJyYXkpO1xuICAgIHRoaXMuaW50ZXJzZWN0Qm9kaWVzKHRtcEFycmF5KTtcbiAgICByZXR1cm4gdGhpcy5oYXNIaXQ7XG4gIH1cbiAgLyoqXG4gICAqIFNob290IGEgcmF5IGF0IGEgYm9keSwgZ2V0IGJhY2sgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhpdC5cbiAgICogQHBhcmFtIHtCb2R5fSBib2R5XG4gICAqIEBwYXJhbSB7UmF5Y2FzdFJlc3VsdH0gW3Jlc3VsdF0gRGVwcmVjYXRlZCAtIHNldCB0aGUgcmVzdWx0IHByb3BlcnR5IG9mIHRoZSBSYXkgaW5zdGVhZC5cbiAgICovXG5cblxuICBpbnRlcnNlY3RCb2R5KGJvZHksIHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlO1xuXG4gICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIWJvZHkuY29sbGlzaW9uUmVzcG9uc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoKHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiBib2R5LmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5LmNvbGxpc2lvbkZpbHRlckdyb3VwICYgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrKSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHhpID0gaW50ZXJzZWN0Qm9keV94aTtcbiAgICBjb25zdCBxaSA9IGludGVyc2VjdEJvZHlfcWk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgTiA9IGJvZHkuc2hhcGVzLmxlbmd0aDsgaSA8IE47IGkrKykge1xuICAgICAgY29uc3Qgc2hhcGUgPSBib2R5LnNoYXBlc1tpXTtcblxuICAgICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIXNoYXBlLmNvbGxpc2lvblJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwXG4gICAgICB9XG5cbiAgICAgIGJvZHkucXVhdGVybmlvbi5tdWx0KGJvZHkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTtcbiAgICAgIGJvZHkucXVhdGVybmlvbi52bXVsdChib2R5LnNoYXBlT2Zmc2V0c1tpXSwgeGkpO1xuICAgICAgeGkudmFkZChib2R5LnBvc2l0aW9uLCB4aSk7XG4gICAgICB0aGlzLmludGVyc2VjdFNoYXBlKHNoYXBlLCBxaSwgeGksIGJvZHkpO1xuXG4gICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2QgaW50ZXJzZWN0Qm9kaWVzXG4gICAqIEBwYXJhbSB7QXJyYXl9IGJvZGllcyBBbiBhcnJheSBvZiBCb2R5IG9iamVjdHMuXG4gICAqIEBwYXJhbSB7UmF5Y2FzdFJlc3VsdH0gW3Jlc3VsdF0gRGVwcmVjYXRlZFxuICAgKi9cblxuXG4gIGludGVyc2VjdEJvZGllcyhib2RpZXMsIHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGJvZGllcy5sZW5ndGg7ICF0aGlzLnJlc3VsdC5zaG91bGRTdG9wICYmIGkgPCBsOyBpKyspIHtcbiAgICAgIHRoaXMuaW50ZXJzZWN0Qm9keShib2RpZXNbaV0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZGlyZWN0aW9uIHZlY3Rvci5cbiAgICovXG5cblxuICB1cGRhdGVEaXJlY3Rpb24oKSB7XG4gICAgdGhpcy50by52c3ViKHRoaXMuZnJvbSwgdGhpcy5kaXJlY3Rpb24pO1xuICAgIHRoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpO1xuICB9XG5cbiAgaW50ZXJzZWN0U2hhcGUoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5KSB7XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsgLy8gQ2hlY2tpbmcgYm91bmRpbmdTcGhlcmVcblxuICAgIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VGcm9tSW50ZXJzZWN0aW9uKGZyb20sIHRoaXMuZGlyZWN0aW9uLCBwb3NpdGlvbik7XG5cbiAgICBpZiAoZGlzdGFuY2UgPiBzaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGludGVyc2VjdE1ldGhvZCA9IHRoaXNbc2hhcGUudHlwZV07XG5cbiAgICBpZiAoaW50ZXJzZWN0TWV0aG9kKSB7XG4gICAgICBpbnRlcnNlY3RNZXRob2QuY2FsbCh0aGlzLCBzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHNoYXBlKTtcbiAgICB9XG4gIH1cblxuICBfaW50ZXJzZWN0Qm94KGJveCwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJzZWN0Q29udmV4KGJveC5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKTtcbiAgfVxuXG4gIF9pbnRlcnNlY3RQbGFuZShzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjsgLy8gR2V0IHBsYW5lIG5vcm1hbFxuXG4gICAgY29uc3Qgd29ybGROb3JtYWwgPSBuZXcgVmVjMygwLCAwLCAxKTtcbiAgICBxdWF0LnZtdWx0KHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7XG4gICAgY29uc3QgbGVuID0gbmV3IFZlYzMoKTtcbiAgICBmcm9tLnZzdWIocG9zaXRpb24sIGxlbik7XG4gICAgY29uc3QgcGxhbmVUb0Zyb20gPSBsZW4uZG90KHdvcmxkTm9ybWFsKTtcbiAgICB0by52c3ViKHBvc2l0aW9uLCBsZW4pO1xuICAgIGNvbnN0IHBsYW5lVG9UbyA9IGxlbi5kb3Qod29ybGROb3JtYWwpO1xuXG4gICAgaWYgKHBsYW5lVG9Gcm9tICogcGxhbmVUb1RvID4gMCkge1xuICAgICAgLy8gXCJmcm9tXCIgYW5kIFwidG9cIiBhcmUgb24gdGhlIHNhbWUgc2lkZSBvZiB0aGUgcGxhbmUuLi4gYmFpbCBvdXRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZnJvbS5kaXN0YW5jZVRvKHRvKSA8IHBsYW5lVG9Gcm9tKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgbl9kb3RfZGlyID0gd29ybGROb3JtYWwuZG90KGRpcmVjdGlvbik7XG5cbiAgICBpZiAoTWF0aC5hYnMobl9kb3RfZGlyKSA8IHRoaXMucHJlY2lzaW9uKSB7XG4gICAgICAvLyBObyBpbnRlcnNlY3Rpb25cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwbGFuZVBvaW50VG9Gcm9tID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBkaXJfc2NhbGVkX3dpdGhfdCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgaGl0UG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgZnJvbS52c3ViKHBvc2l0aW9uLCBwbGFuZVBvaW50VG9Gcm9tKTtcbiAgICBjb25zdCB0ID0gLXdvcmxkTm9ybWFsLmRvdChwbGFuZVBvaW50VG9Gcm9tKSAvIG5fZG90X2RpcjtcbiAgICBkaXJlY3Rpb24uc2NhbGUodCwgZGlyX3NjYWxlZF93aXRoX3QpO1xuICAgIGZyb20udmFkZChkaXJfc2NhbGVkX3dpdGhfdCwgaGl0UG9pbnRXb3JsZCk7XG4gICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24od29ybGROb3JtYWwsIGhpdFBvaW50V29ybGQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSB3b3JsZCBBQUJCIG9mIHRoZSByYXkuXG4gICAqL1xuXG5cbiAgZ2V0QUFCQihhYWJiKSB7XG4gICAgY29uc3Qge1xuICAgICAgbG93ZXJCb3VuZCxcbiAgICAgIHVwcGVyQm91bmRcbiAgICB9ID0gYWFiYjtcbiAgICBjb25zdCB0byA9IHRoaXMudG87XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTtcbiAgICBsb3dlckJvdW5kLnggPSBNYXRoLm1pbih0by54LCBmcm9tLngpO1xuICAgIGxvd2VyQm91bmQueSA9IE1hdGgubWluKHRvLnksIGZyb20ueSk7XG4gICAgbG93ZXJCb3VuZC56ID0gTWF0aC5taW4odG8ueiwgZnJvbS56KTtcbiAgICB1cHBlckJvdW5kLnggPSBNYXRoLm1heCh0by54LCBmcm9tLngpO1xuICAgIHVwcGVyQm91bmQueSA9IE1hdGgubWF4KHRvLnksIGZyb20ueSk7XG4gICAgdXBwZXJCb3VuZC56ID0gTWF0aC5tYXgodG8ueiwgZnJvbS56KTtcbiAgfVxuXG4gIF9pbnRlcnNlY3RIZWlnaHRmaWVsZChzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHtcbiAgICBjb25zdCBkYXRhID0gc2hhcGUuZGF0YTtcbiAgICBjb25zdCB3ID0gc2hhcGUuZWxlbWVudFNpemU7IC8vIENvbnZlcnQgdGhlIHJheSB0byBsb2NhbCBoZWlnaHRmaWVsZCBjb29yZGluYXRlc1xuXG4gICAgY29uc3QgbG9jYWxSYXkgPSBpbnRlcnNlY3RIZWlnaHRmaWVsZF9sb2NhbFJheTsgLy9uZXcgUmF5KHRoaXMuZnJvbSwgdGhpcy50byk7XG5cbiAgICBsb2NhbFJheS5mcm9tLmNvcHkodGhpcy5mcm9tKTtcbiAgICBsb2NhbFJheS50by5jb3B5KHRoaXMudG8pO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgbG9jYWxSYXkuZnJvbSwgbG9jYWxSYXkuZnJvbSk7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBsb2NhbFJheS50bywgbG9jYWxSYXkudG8pO1xuICAgIGxvY2FsUmF5LnVwZGF0ZURpcmVjdGlvbigpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3RcblxuICAgIGNvbnN0IGluZGV4ID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfaW5kZXg7XG4gICAgbGV0IGlNaW5YO1xuICAgIGxldCBpTWluWTtcbiAgICBsZXQgaU1heFg7XG4gICAgbGV0IGlNYXhZOyAvLyBTZXQgdG8gbWF4XG5cbiAgICBpTWluWCA9IGlNaW5ZID0gMDtcbiAgICBpTWF4WCA9IGlNYXhZID0gc2hhcGUuZGF0YS5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGFhYmIgPSBuZXcgQUFCQigpO1xuICAgIGxvY2FsUmF5LmdldEFBQkIoYWFiYik7XG4gICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIubG93ZXJCb3VuZC54LCBhYWJiLmxvd2VyQm91bmQueSwgaW5kZXgsIHRydWUpO1xuICAgIGlNaW5YID0gTWF0aC5tYXgoaU1pblgsIGluZGV4WzBdKTtcbiAgICBpTWluWSA9IE1hdGgubWF4KGlNaW5ZLCBpbmRleFsxXSk7XG4gICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIudXBwZXJCb3VuZC54LCBhYWJiLnVwcGVyQm91bmQueSwgaW5kZXgsIHRydWUpO1xuICAgIGlNYXhYID0gTWF0aC5taW4oaU1heFgsIGluZGV4WzBdICsgMSk7XG4gICAgaU1heFkgPSBNYXRoLm1pbihpTWF4WSwgaW5kZXhbMV0gKyAxKTtcblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHtcbiAgICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzaGFwZS5nZXRBYWJiQXRJbmRleChpLCBqLCBhYWJiKTtcblxuICAgICAgICBpZiAoIWFhYmIub3ZlcmxhcHNSYXkobG9jYWxSYXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gTG93ZXIgdHJpYW5nbGVcblxuXG4gICAgICAgIHNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIGZhbHNlKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBzaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTtcblxuICAgICAgICB0aGlzLl9pbnRlcnNlY3RDb252ZXgoc2hhcGUucGlsbGFyQ29udmV4LCBxdWF0LCB3b3JsZFBpbGxhck9mZnNldCwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgaW50ZXJzZWN0Q29udmV4T3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGVcblxuXG4gICAgICAgIHNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpO1xuICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIHNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIHRoaXMuX2ludGVyc2VjdENvbnZleChzaGFwZS5waWxsYXJDb252ZXgsIHF1YXQsIHdvcmxkUGlsbGFyT2Zmc2V0LCBib2R5LCByZXBvcnRlZFNoYXBlLCBpbnRlcnNlY3RDb252ZXhPcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaW50ZXJzZWN0U3BoZXJlKHNwaGVyZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCByID0gc3BoZXJlLnJhZGl1cztcbiAgICBjb25zdCBhID0gKHRvLnggLSBmcm9tLngpICoqIDIgKyAodG8ueSAtIGZyb20ueSkgKiogMiArICh0by56IC0gZnJvbS56KSAqKiAyO1xuICAgIGNvbnN0IGIgPSAyICogKCh0by54IC0gZnJvbS54KSAqIChmcm9tLnggLSBwb3NpdGlvbi54KSArICh0by55IC0gZnJvbS55KSAqIChmcm9tLnkgLSBwb3NpdGlvbi55KSArICh0by56IC0gZnJvbS56KSAqIChmcm9tLnogLSBwb3NpdGlvbi56KSk7XG4gICAgY29uc3QgYyA9IChmcm9tLnggLSBwb3NpdGlvbi54KSAqKiAyICsgKGZyb20ueSAtIHBvc2l0aW9uLnkpICoqIDIgKyAoZnJvbS56IC0gcG9zaXRpb24ueikgKiogMiAtIHIgKiogMjtcbiAgICBjb25zdCBkZWx0YSA9IGIgKiogMiAtIDQgKiBhICogYztcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25Qb2ludCA9IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQ7XG4gICAgY29uc3Qgbm9ybWFsID0gUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWw7XG5cbiAgICBpZiAoZGVsdGEgPCAwKSB7XG4gICAgICAvLyBObyBpbnRlcnNlY3Rpb25cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGRlbHRhID09PSAwKSB7XG4gICAgICAvLyBzaW5nbGUgaW50ZXJzZWN0aW9uIHBvaW50XG4gICAgICBmcm9tLmxlcnAodG8sIGRlbHRhLCBpbnRlcnNlY3Rpb25Qb2ludCk7XG4gICAgICBpbnRlcnNlY3Rpb25Qb2ludC52c3ViKHBvc2l0aW9uLCBub3JtYWwpO1xuICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpO1xuICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkMSA9ICgtYiAtIE1hdGguc3FydChkZWx0YSkpIC8gKDIgKiBhKTtcbiAgICAgIGNvbnN0IGQyID0gKC1iICsgTWF0aC5zcXJ0KGRlbHRhKSkgLyAoMiAqIGEpO1xuXG4gICAgICBpZiAoZDEgPj0gMCAmJiBkMSA8PSAxKSB7XG4gICAgICAgIGZyb20ubGVycCh0bywgZDEsIGludGVyc2VjdGlvblBvaW50KTtcbiAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTtcbiAgICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpO1xuICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGQyID49IDAgJiYgZDIgPD0gMSkge1xuICAgICAgICBmcm9tLmxlcnAodG8sIGQyLCBpbnRlcnNlY3Rpb25Qb2ludCk7XG4gICAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7XG4gICAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9pbnRlcnNlY3RDb252ZXgoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgbm9ybWFsID0gaW50ZXJzZWN0Q29udmV4X25vcm1hbDtcbiAgICBjb25zdCB2ZWN0b3IgPSBpbnRlcnNlY3RDb252ZXhfdmVjdG9yO1xuICAgIGNvbnN0IGZhY2VMaXN0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmZhY2VMaXN0IHx8IG51bGw7IC8vIENoZWNraW5nIGZhY2VzXG5cbiAgICBjb25zdCBmYWNlcyA9IHNoYXBlLmZhY2VzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gc2hhcGUudmVydGljZXM7XG4gICAgY29uc3Qgbm9ybWFscyA9IHNoYXBlLmZhY2VOb3JtYWxzO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uO1xuICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207XG4gICAgY29uc3QgdG8gPSB0aGlzLnRvO1xuICAgIGNvbnN0IGZyb21Ub0Rpc3RhbmNlID0gZnJvbS5kaXN0YW5jZVRvKHRvKTtcbiAgICBjb25zdCBOZmFjZXMgPSBmYWNlTGlzdCA/IGZhY2VMaXN0Lmxlbmd0aCA6IGZhY2VzLmxlbmd0aDtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDtcblxuICAgIGZvciAobGV0IGogPSAwOyAhcmVzdWx0LnNob3VsZFN0b3AgJiYgaiA8IE5mYWNlczsgaisrKSB7XG4gICAgICBjb25zdCBmaSA9IGZhY2VMaXN0ID8gZmFjZUxpc3Rbal0gOiBqO1xuICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ZpXTtcbiAgICAgIGNvbnN0IGZhY2VOb3JtYWwgPSBub3JtYWxzW2ZpXTtcbiAgICAgIGNvbnN0IHEgPSBxdWF0O1xuICAgICAgY29uc3QgeCA9IHBvc2l0aW9uOyAvLyBkZXRlcm1pbmUgaWYgcmF5IGludGVyc2VjdHMgdGhlIHBsYW5lIG9mIHRoZSBmYWNlXG4gICAgICAvLyBub3RlOiB0aGlzIHdvcmtzIHJlZ2FyZGxlc3Mgb2YgdGhlIGRpcmVjdGlvbiBvZiB0aGUgZmFjZSBub3JtYWxcbiAgICAgIC8vIEdldCBwbGFuZSBwb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcy4uLlxuXG4gICAgICB2ZWN0b3IuY29weSh2ZXJ0aWNlc1tmYWNlWzBdXSk7XG4gICAgICBxLnZtdWx0KHZlY3RvciwgdmVjdG9yKTtcbiAgICAgIHZlY3Rvci52YWRkKHgsIHZlY3Rvcik7IC8vIC4uLmJ1dCBtYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSByYXkgZnJvbS4gV2UnbGwgZml4IHRoaXMgbGF0ZXIuXG5cbiAgICAgIHZlY3Rvci52c3ViKGZyb20sIHZlY3Rvcik7IC8vIEdldCBwbGFuZSBub3JtYWxcblxuICAgICAgcS52bXVsdChmYWNlTm9ybWFsLCBub3JtYWwpOyAvLyBJZiB0aGlzIGRvdCBwcm9kdWN0IGlzIG5lZ2F0aXZlLCB3ZSBoYXZlIHNvbWV0aGluZyBpbnRlcmVzdGluZ1xuXG4gICAgICBjb25zdCBkb3QgPSBkaXJlY3Rpb24uZG90KG5vcm1hbCk7IC8vIEJhaWwgb3V0IGlmIHJheSBhbmQgcGxhbmUgYXJlIHBhcmFsbGVsXG5cbiAgICAgIGlmIChNYXRoLmFicyhkb3QpIDwgdGhpcy5wcmVjaXNpb24pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGNhbGMgZGlzdGFuY2UgdG8gcGxhbmVcblxuXG4gICAgICBjb25zdCBzY2FsYXIgPSBub3JtYWwuZG90KHZlY3RvcikgLyBkb3Q7IC8vIGlmIG5lZ2F0aXZlIGRpc3RhbmNlLCB0aGVuIHBsYW5lIGlzIGJlaGluZCByYXlcblxuICAgICAgaWYgKHNjYWxhciA8IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGlmIChkb3QgPCAwKSB7XG4gICAgICAvLyBJbnRlcnNlY3Rpb24gcG9pbnQgaXMgZnJvbSArIGRpcmVjdGlvbiAqIHNjYWxhclxuXG5cbiAgICAgIGRpcmVjdGlvbi5zY2FsZShzY2FsYXIsIGludGVyc2VjdFBvaW50KTtcbiAgICAgIGludGVyc2VjdFBvaW50LnZhZGQoZnJvbSwgaW50ZXJzZWN0UG9pbnQpOyAvLyBhIGlzIHRoZSBwb2ludCB3ZSBjb21wYXJlIHBvaW50cyBiIGFuZCBjIHdpdGguXG5cbiAgICAgIGEuY29weSh2ZXJ0aWNlc1tmYWNlWzBdXSk7XG4gICAgICBxLnZtdWx0KGEsIGEpO1xuICAgICAgeC52YWRkKGEsIGEpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMTsgIXJlc3VsdC5zaG91bGRTdG9wICYmIGkgPCBmYWNlLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAvLyBUcmFuc2Zvcm0gMyB2ZXJ0aWNlcyB0byB3b3JsZCBjb29yZHNcbiAgICAgICAgYi5jb3B5KHZlcnRpY2VzW2ZhY2VbaV1dKTtcbiAgICAgICAgYy5jb3B5KHZlcnRpY2VzW2ZhY2VbaSArIDFdXSk7XG4gICAgICAgIHEudm11bHQoYiwgYik7XG4gICAgICAgIHEudm11bHQoYywgYyk7XG4gICAgICAgIHgudmFkZChiLCBiKTtcbiAgICAgICAgeC52YWRkKGMsIGMpO1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGludGVyc2VjdFBvaW50LmRpc3RhbmNlVG8oZnJvbSk7XG5cbiAgICAgICAgaWYgKCEocG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBhLCBiLCBjKSB8fCBwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGIsIGEsIGMpKSB8fCBkaXN0YW5jZSA+IGZyb21Ub0Rpc3RhbmNlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdFBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCBmaSk7XG4gICAgICB9IC8vIH1cblxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHRvZG8gT3B0aW1pemUgYnkgdHJhbnNmb3JtaW5nIHRoZSB3b3JsZCB0byBsb2NhbCBzcGFjZSBmaXJzdC5cbiAgICogQHRvZG8gVXNlIE9jdHJlZSBsb29rdXBcbiAgICovXG5cblxuICBfaW50ZXJzZWN0VHJpbWVzaChtZXNoLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG5vcm1hbCA9IGludGVyc2VjdFRyaW1lc2hfbm9ybWFsO1xuICAgIGNvbnN0IHRyaWFuZ2xlcyA9IGludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzO1xuICAgIGNvbnN0IHRyZWVUcmFuc2Zvcm0gPSBpbnRlcnNlY3RUcmltZXNoX3RyZWVUcmFuc2Zvcm07XG4gICAgY29uc3QgdmVjdG9yID0gaW50ZXJzZWN0Q29udmV4X3ZlY3RvcjtcbiAgICBjb25zdCBsb2NhbERpcmVjdGlvbiA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxEaXJlY3Rpb247XG4gICAgY29uc3QgbG9jYWxGcm9tID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEZyb207XG4gICAgY29uc3QgbG9jYWxUbyA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxUbztcbiAgICBjb25zdCB3b3JsZEludGVyc2VjdFBvaW50ID0gaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50O1xuICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gaW50ZXJzZWN0VHJpbWVzaF93b3JsZE5vcm1hbDtcbiAgICBjb25zdCBmYWNlTGlzdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mYWNlTGlzdCB8fCBudWxsOyAvLyBDaGVja2luZyBmYWNlc1xuXG4gICAgY29uc3QgaW5kaWNlcyA9IG1lc2guaW5kaWNlcztcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IG1lc2gudmVydGljZXM7IC8vIGNvbnN0IG5vcm1hbHMgPSBtZXNoLmZhY2VOb3JtYWxzXG5cbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjtcbiAgICB0cmVlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xuICAgIHRyZWVUcmFuc2Zvcm0ucXVhdGVybmlvbi5jb3B5KHF1YXQpOyAvLyBUcmFuc2Zvcm0gcmF5IHRvIGxvY2FsIHNwYWNlIVxuXG4gICAgVHJhbnNmb3JtLnZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZGlyZWN0aW9uLCBsb2NhbERpcmVjdGlvbik7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBmcm9tLCBsb2NhbEZyb20pO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgdG8sIGxvY2FsVG8pO1xuICAgIGxvY2FsVG8ueCAqPSBtZXNoLnNjYWxlLng7XG4gICAgbG9jYWxUby55ICo9IG1lc2guc2NhbGUueTtcbiAgICBsb2NhbFRvLnogKj0gbWVzaC5zY2FsZS56O1xuICAgIGxvY2FsRnJvbS54ICo9IG1lc2guc2NhbGUueDtcbiAgICBsb2NhbEZyb20ueSAqPSBtZXNoLnNjYWxlLnk7XG4gICAgbG9jYWxGcm9tLnogKj0gbWVzaC5zY2FsZS56O1xuICAgIGxvY2FsVG8udnN1Yihsb2NhbEZyb20sIGxvY2FsRGlyZWN0aW9uKTtcbiAgICBsb2NhbERpcmVjdGlvbi5ub3JtYWxpemUoKTtcbiAgICBjb25zdCBmcm9tVG9EaXN0YW5jZVNxdWFyZWQgPSBsb2NhbEZyb20uZGlzdGFuY2VTcXVhcmVkKGxvY2FsVG8pO1xuICAgIG1lc2gudHJlZS5yYXlRdWVyeSh0aGlzLCB0cmVlVHJhbnNmb3JtLCB0cmlhbmdsZXMpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIE4gPSB0cmlhbmdsZXMubGVuZ3RoOyAhdGhpcy5yZXN1bHQuc2hvdWxkU3RvcCAmJiBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHRyaWFuZ2xlc0luZGV4ID0gdHJpYW5nbGVzW2ldO1xuICAgICAgbWVzaC5nZXROb3JtYWwodHJpYW5nbGVzSW5kZXgsIG5vcm1hbCk7IC8vIGRldGVybWluZSBpZiByYXkgaW50ZXJzZWN0cyB0aGUgcGxhbmUgb2YgdGhlIGZhY2VcbiAgICAgIC8vIG5vdGU6IHRoaXMgd29ya3MgcmVnYXJkbGVzcyBvZiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBmYWNlIG5vcm1hbFxuICAgICAgLy8gR2V0IHBsYW5lIHBvaW50IGluIHdvcmxkIGNvb3JkaW5hdGVzLi4uXG5cbiAgICAgIG1lc2guZ2V0VmVydGV4KGluZGljZXNbdHJpYW5nbGVzSW5kZXggKiAzXSwgYSk7IC8vIC4uLmJ1dCBtYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSByYXkgZnJvbS4gV2UnbGwgZml4IHRoaXMgbGF0ZXIuXG5cbiAgICAgIGEudnN1Yihsb2NhbEZyb20sIHZlY3Rvcik7IC8vIElmIHRoaXMgZG90IHByb2R1Y3QgaXMgbmVnYXRpdmUsIHdlIGhhdmUgc29tZXRoaW5nIGludGVyZXN0aW5nXG5cbiAgICAgIGNvbnN0IGRvdCA9IGxvY2FsRGlyZWN0aW9uLmRvdChub3JtYWwpOyAvLyBCYWlsIG91dCBpZiByYXkgYW5kIHBsYW5lIGFyZSBwYXJhbGxlbFxuICAgICAgLy8gaWYgKE1hdGguYWJzKCBkb3QgKSA8IHRoaXMucHJlY2lzaW9uKXtcbiAgICAgIC8vICAgICBjb250aW51ZTtcbiAgICAgIC8vIH1cbiAgICAgIC8vIGNhbGMgZGlzdGFuY2UgdG8gcGxhbmVcblxuICAgICAgY29uc3Qgc2NhbGFyID0gbm9ybWFsLmRvdCh2ZWN0b3IpIC8gZG90OyAvLyBpZiBuZWdhdGl2ZSBkaXN0YW5jZSwgdGhlbiBwbGFuZSBpcyBiZWhpbmQgcmF5XG5cbiAgICAgIGlmIChzY2FsYXIgPCAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBJbnRlcnNlY3Rpb24gcG9pbnQgaXMgZnJvbSArIGRpcmVjdGlvbiAqIHNjYWxhclxuXG5cbiAgICAgIGxvY2FsRGlyZWN0aW9uLnNjYWxlKHNjYWxhciwgaW50ZXJzZWN0UG9pbnQpO1xuICAgICAgaW50ZXJzZWN0UG9pbnQudmFkZChsb2NhbEZyb20sIGludGVyc2VjdFBvaW50KTsgLy8gR2V0IHRyaWFuZ2xlIHZlcnRpY2VzXG5cbiAgICAgIG1lc2guZ2V0VmVydGV4KGluZGljZXNbdHJpYW5nbGVzSW5kZXggKiAzICsgMV0sIGIpO1xuICAgICAgbWVzaC5nZXRWZXJ0ZXgoaW5kaWNlc1t0cmlhbmdsZXNJbmRleCAqIDMgKyAyXSwgYyk7XG4gICAgICBjb25zdCBzcXVhcmVkRGlzdGFuY2UgPSBpbnRlcnNlY3RQb2ludC5kaXN0YW5jZVNxdWFyZWQobG9jYWxGcm9tKTtcblxuICAgICAgaWYgKCEocG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBiLCBhLCBjKSB8fCBwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGEsIGIsIGMpKSB8fCBzcXVhcmVkRGlzdGFuY2UgPiBmcm9tVG9EaXN0YW5jZVNxdWFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIHRyYW5zZm9ybSBpbnRlcnNlY3Rwb2ludCBhbmQgbm9ybWFsIHRvIHdvcmxkXG5cblxuICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZShxdWF0LCBub3JtYWwsIHdvcmxkTm9ybWFsKTtcbiAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdCwgaW50ZXJzZWN0UG9pbnQsIHdvcmxkSW50ZXJzZWN0UG9pbnQpO1xuICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24od29ybGROb3JtYWwsIHdvcmxkSW50ZXJzZWN0UG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIHRyaWFuZ2xlc0luZGV4KTtcbiAgICB9XG5cbiAgICB0cmlhbmdsZXMubGVuZ3RoID0gMDtcbiAgfVxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgaW50ZXJzZWN0aW9ucyBzaG91bGQgY29udGludWVcbiAgICovXG5cblxuICByZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgaGl0RmFjZUluZGV4KSB7XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTtcbiAgICBjb25zdCB0byA9IHRoaXMudG87XG4gICAgY29uc3QgZGlzdGFuY2UgPSBmcm9tLmRpc3RhbmNlVG8oaGl0UG9pbnRXb3JsZCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7IC8vIFNraXAgYmFjayBmYWNlcz9cblxuICAgIGlmICh0aGlzLnNraXBCYWNrZmFjZXMgJiYgbm9ybWFsLmRvdCh0aGlzLmRpcmVjdGlvbikgPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVzdWx0LmhpdEZhY2VJbmRleCA9IHR5cGVvZiBoaXRGYWNlSW5kZXggIT09ICd1bmRlZmluZWQnID8gaGl0RmFjZUluZGV4IDogLTE7XG5cbiAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgY2FzZSBSYXkuQUxMOlxuICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7XG4gICAgICAgIHJlc3VsdC5zZXQoZnJvbSwgdG8sIG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKTtcbiAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmF5LkNMT1NFU1Q6XG4gICAgICAgIC8vIFN0b3JlIGlmIGNsb3NlciB0aGFuIGN1cnJlbnQgY2xvc2VzdFxuICAgICAgICBpZiAoZGlzdGFuY2UgPCByZXN1bHQuZGlzdGFuY2UgfHwgIXJlc3VsdC5oYXNIaXQpIHtcbiAgICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7XG4gICAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7XG4gICAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmF5LkFOWTpcbiAgICAgICAgLy8gUmVwb3J0IGFuZCBzdG9wLlxuICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7XG4gICAgICAgIHJlc3VsdC5oYXNIaXQgPSB0cnVlO1xuICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7XG4gICAgICAgIHJlc3VsdC5zaG91bGRTdG9wID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbn1cblJheS5DTE9TRVNUID0gMTtcblJheS5BTlkgPSAyO1xuUmF5LkFMTCA9IDQ7XG5jb25zdCB0bXBBQUJCID0gbmV3IEFBQkIoKTtcbmNvbnN0IHRtcEFycmF5ID0gW107XG5jb25zdCB2MSA9IG5ldyBWZWMzKCk7XG5jb25zdCB2MiA9IG5ldyBWZWMzKCk7XG4vKlxuICogQXMgcGVyIFwiQmFyeWNlbnRyaWMgVGVjaG5pcXVlXCIgYXMgbmFtZWQgaGVyZSBodHRwOi8vd3d3LmJsYWNrcGF3bi5jb20vdGV4dHMvcG9pbnRpbnBvbHkvZGVmYXVsdC5odG1sIEJ1dCB3aXRob3V0IHRoZSBkaXZpc2lvblxuICovXG5cblJheS5wb2ludEluVHJpYW5nbGUgPSBwb2ludEluVHJpYW5nbGU7XG5cbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShwLCBhLCBiLCBjKSB7XG4gIGMudnN1YihhLCB2MCk7XG4gIGIudnN1YihhLCB2MSk7XG4gIHAudnN1YihhLCB2Mik7XG4gIGNvbnN0IGRvdDAwID0gdjAuZG90KHYwKTtcbiAgY29uc3QgZG90MDEgPSB2MC5kb3QodjEpO1xuICBjb25zdCBkb3QwMiA9IHYwLmRvdCh2Mik7XG4gIGNvbnN0IGRvdDExID0gdjEuZG90KHYxKTtcbiAgY29uc3QgZG90MTIgPSB2MS5kb3QodjIpO1xuICBsZXQgdTtcbiAgbGV0IHY7XG4gIHJldHVybiAodSA9IGRvdDExICogZG90MDIgLSBkb3QwMSAqIGRvdDEyKSA+PSAwICYmICh2ID0gZG90MDAgKiBkb3QxMiAtIGRvdDAxICogZG90MDIpID49IDAgJiYgdSArIHYgPCBkb3QwMCAqIGRvdDExIC0gZG90MDEgKiBkb3QwMTtcbn1cblxuY29uc3QgaW50ZXJzZWN0Qm9keV94aSA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RCb2R5X3FpID0gbmV3IFF1YXRlcm5pb24oKTtcbmNvbnN0IGludGVyc2VjdFBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IGEgPSBuZXcgVmVjMygpO1xuY29uc3QgYiA9IG5ldyBWZWMzKCk7XG5jb25zdCBjID0gbmV3IFZlYzMoKTtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuQk9YXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEJveDtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuUExBTkVdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0UGxhbmU7XG5jb25zdCBpbnRlcnNlY3RDb252ZXhPcHRpb25zID0ge1xuICBmYWNlTGlzdDogWzBdXG59O1xuY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXkgPSBuZXcgUmF5KCk7XG5jb25zdCBpbnRlcnNlY3RIZWlnaHRmaWVsZF9pbmRleCA9IFtdO1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5IRUlHSFRGSUVMRF0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RIZWlnaHRmaWVsZDtcbmNvbnN0IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQgPSBuZXcgVmVjMygpO1xuY29uc3QgUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWwgPSBuZXcgVmVjMygpO1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5TUEhFUkVdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0U3BoZXJlO1xuY29uc3QgaW50ZXJzZWN0Q29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RDb252ZXhfdmVjdG9yID0gbmV3IFZlYzMoKTtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuQ1lMSU5ERVJdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0Q29udmV4O1xuUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdENvbnZleDtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxEaXJlY3Rpb24gPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEZyb20gPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbFRvID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfd29ybGROb3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxBQUJCID0gbmV3IEFBQkIoKTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzID0gW107XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX3RyZWVUcmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG5SYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLlRSSU1FU0hdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0VHJpbWVzaDtcbmNvbnN0IHYwID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdCA9IG5ldyBWZWMzKCk7XG5cbmZ1bmN0aW9uIGRpc3RhbmNlRnJvbUludGVyc2VjdGlvbihmcm9tLCBkaXJlY3Rpb24sIHBvc2l0aW9uKSB7XG4gIC8vIHYwIGlzIHZlY3RvciBmcm9tIGZyb20gdG8gcG9zaXRpb25cbiAgcG9zaXRpb24udnN1Yihmcm9tLCB2MCk7XG4gIGNvbnN0IGRvdCA9IHYwLmRvdChkaXJlY3Rpb24pOyAvLyBpbnRlcnNlY3QgPSBkaXJlY3Rpb24qZG90ICsgZnJvbVxuXG4gIGRpcmVjdGlvbi5zY2FsZShkb3QsIGludGVyc2VjdCk7XG4gIGludGVyc2VjdC52YWRkKGZyb20sIGludGVyc2VjdCk7XG4gIGNvbnN0IGRpc3RhbmNlID0gcG9zaXRpb24uZGlzdGFuY2VUbyhpbnRlcnNlY3QpO1xuICByZXR1cm4gZGlzdGFuY2U7XG59XG5cbi8qKlxuICogU3dlZXAgYW5kIHBydW5lIGJyb2FkcGhhc2UgYWxvbmcgb25lIGF4aXMuXG4gKlxuICogQGNsYXNzIFNBUEJyb2FkcGhhc2VcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtXb3JsZH0gW3dvcmxkXVxuICogQGV4dGVuZHMgQnJvYWRwaGFzZVxuICovXG5jbGFzcyBTQVBCcm9hZHBoYXNlIGV4dGVuZHMgQnJvYWRwaGFzZSB7XG4gIC8vIExpc3Qgb2YgYm9kaWVzIGN1cnJlbnRseSBpbiB0aGUgYnJvYWRwaGFzZS5cbiAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBpbi5cbiAgLy8gQXhpcyB0byBzb3J0IHRoZSBib2RpZXMgYWxvbmcuIFNldCB0byAwIGZvciB4IGF4aXMsIGFuZCAxIGZvciB5IGF4aXMuIEZvciBiZXN0IHBlcmZvcm1hbmNlLCBjaG9vc2UgYW4gYXhpcyB0aGF0IHRoZSBib2RpZXMgYXJlIHNwcmVhZCBvdXQgbW9yZSBvbi5cbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYXhpc0xpc3QgPSBbXTtcbiAgICB0aGlzLndvcmxkID0gbnVsbDtcbiAgICB0aGlzLmF4aXNJbmRleCA9IDA7XG4gICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0O1xuXG4gICAgdGhpcy5fYWRkQm9keUhhbmRsZXIgPSBldmVudCA9PiB7XG4gICAgICBheGlzTGlzdC5wdXNoKGV2ZW50LmJvZHkpO1xuICAgIH07XG5cbiAgICB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlciA9IGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IGlkeCA9IGF4aXNMaXN0LmluZGV4T2YoZXZlbnQuYm9keSk7XG5cbiAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIGF4aXNMaXN0LnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAod29ybGQpIHtcbiAgICAgIHRoaXMuc2V0V29ybGQod29ybGQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hhbmdlIHRoZSB3b3JsZFxuICAgKiBAbWV0aG9kIHNldFdvcmxkXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxuICAgKi9cblxuXG4gIHNldFdvcmxkKHdvcmxkKSB7XG4gICAgLy8gQ2xlYXIgdGhlIG9sZCBheGlzIGFycmF5XG4gICAgdGhpcy5heGlzTGlzdC5sZW5ndGggPSAwOyAvLyBBZGQgYWxsIGJvZGllcyBmcm9tIHRoZSBuZXcgd29ybGRcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29ybGQuYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmF4aXNMaXN0LnB1c2god29ybGQuYm9kaWVzW2ldKTtcbiAgICB9IC8vIFJlbW92ZSBvbGQgaGFuZGxlcnMsIGlmIGFueVxuXG5cbiAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdhZGRCb2R5JywgdGhpcy5fYWRkQm9keUhhbmRsZXIpO1xuICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JlbW92ZUJvZHknLCB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcik7IC8vIEFkZCBoYW5kbGVycyB0byB1cGRhdGUgdGhlIGxpc3Qgb2YgYm9kaWVzLlxuXG4gICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcignYWRkQm9keScsIHRoaXMuX2FkZEJvZHlIYW5kbGVyKTtcbiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdyZW1vdmVCb2R5JywgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpO1xuICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQ29sbGVjdCBhbGwgY29sbGlzaW9uIHBhaXJzXG4gICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnNcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXG4gICAqIEBwYXJhbSAge0FycmF5fSBwMVxuICAgKiBAcGFyYW0gIHtBcnJheX0gcDJcbiAgICovXG5cblxuICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcDEsIHAyKSB7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy5heGlzTGlzdDtcbiAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDtcbiAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDtcbiAgICBsZXQgaTtcbiAgICBsZXQgajtcblxuICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICB0aGlzLnNvcnRMaXN0KCk7XG4gICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfSAvLyBMb29rIHRocm91Z2ggdGhlIGxpc3RcblxuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcblxuICAgICAgZm9yIChqID0gaSArIDE7IGogPCBOOyBqKyspIHtcbiAgICAgICAgY29uc3QgYmogPSBib2RpZXNbal07XG5cbiAgICAgICAgaWYgKCF0aGlzLm5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJpLCBiaikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghU0FQQnJvYWRwaGFzZS5jaGVja0JvdW5kcyhiaSwgYmosIGF4aXNJbmRleCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGVzdChiaSwgYmosIHAxLCBwMik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc29ydExpc3QoKSB7XG4gICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0O1xuICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4O1xuICAgIGNvbnN0IE4gPSBheGlzTGlzdC5sZW5ndGg7IC8vIFVwZGF0ZSBBQUJCc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBheGlzTGlzdFtpXTtcblxuICAgICAgaWYgKGJpLmFhYmJOZWVkc1VwZGF0ZSkge1xuICAgICAgICBiaS51cGRhdGVBQUJCKCk7XG4gICAgICB9XG4gICAgfSAvLyBTb3J0IHRoZSBsaXN0XG5cblxuICAgIGlmIChheGlzSW5kZXggPT09IDApIHtcbiAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFgoYXhpc0xpc3QpO1xuICAgIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAxKSB7XG4gICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRZKGF4aXNMaXN0KTtcbiAgICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMikge1xuICAgICAgU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WihheGlzTGlzdCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDb21wdXRlcyB0aGUgdmFyaWFuY2Ugb2YgdGhlIGJvZHkgcG9zaXRpb25zIGFuZCBlc3RpbWF0ZXMgdGhlIGJlc3RcbiAgICogYXhpcyB0byB1c2UuIFdpbGwgYXV0b21hdGljYWxseSBzZXQgcHJvcGVydHkgLmF4aXNJbmRleC5cbiAgICogQG1ldGhvZCBhdXRvRGV0ZWN0QXhpc1xuICAgKi9cblxuXG4gIGF1dG9EZXRlY3RBeGlzKCkge1xuICAgIGxldCBzdW1YID0gMDtcbiAgICBsZXQgc3VtWDIgPSAwO1xuICAgIGxldCBzdW1ZID0gMDtcbiAgICBsZXQgc3VtWTIgPSAwO1xuICAgIGxldCBzdW1aID0gMDtcbiAgICBsZXQgc3VtWjIgPSAwO1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYXhpc0xpc3Q7XG4gICAgY29uc3QgTiA9IGJvZGllcy5sZW5ndGg7XG4gICAgY29uc3QgaW52TiA9IDEgLyBOO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTtcbiAgICAgIGNvbnN0IGNlbnRlclggPSBiLnBvc2l0aW9uLng7XG4gICAgICBzdW1YICs9IGNlbnRlclg7XG4gICAgICBzdW1YMiArPSBjZW50ZXJYICogY2VudGVyWDtcbiAgICAgIGNvbnN0IGNlbnRlclkgPSBiLnBvc2l0aW9uLnk7XG4gICAgICBzdW1ZICs9IGNlbnRlclk7XG4gICAgICBzdW1ZMiArPSBjZW50ZXJZICogY2VudGVyWTtcbiAgICAgIGNvbnN0IGNlbnRlclogPSBiLnBvc2l0aW9uLno7XG4gICAgICBzdW1aICs9IGNlbnRlclo7XG4gICAgICBzdW1aMiArPSBjZW50ZXJaICogY2VudGVyWjtcbiAgICB9XG5cbiAgICBjb25zdCB2YXJpYW5jZVggPSBzdW1YMiAtIHN1bVggKiBzdW1YICogaW52TjtcbiAgICBjb25zdCB2YXJpYW5jZVkgPSBzdW1ZMiAtIHN1bVkgKiBzdW1ZICogaW52TjtcbiAgICBjb25zdCB2YXJpYW5jZVogPSBzdW1aMiAtIHN1bVogKiBzdW1aICogaW52TjtcblxuICAgIGlmICh2YXJpYW5jZVggPiB2YXJpYW5jZVkpIHtcbiAgICAgIGlmICh2YXJpYW5jZVggPiB2YXJpYW5jZVopIHtcbiAgICAgICAgdGhpcy5heGlzSW5kZXggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5heGlzSW5kZXggPSAyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFyaWFuY2VZID4gdmFyaWFuY2VaKSB7XG4gICAgICB0aGlzLmF4aXNJbmRleCA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIHRoZSBib2RpZXMgd2l0aGluIGFuIEFBQkIuXG4gICAqIEBtZXRob2QgYWFiYlF1ZXJ5XG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXG4gICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSByZXN1bHRpbmcgYm9kaWVzIGluLlxuICAgKiBAcmV0dXJuIHthcnJheX1cbiAgICovXG5cblxuICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCA9IFtdKSB7XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuc29ydExpc3QoKTtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDtcbiAgICBsZXQgYXhpcyA9ICd4JztcblxuICAgIGlmIChheGlzSW5kZXggPT09IDEpIHtcbiAgICAgIGF4aXMgPSAneSc7XG4gICAgfVxuXG4gICAgaWYgKGF4aXNJbmRleCA9PT0gMikge1xuICAgICAgYXhpcyA9ICd6JztcbiAgICB9XG5cbiAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7XG4gICAgY29uc3QgbG93ZXIgPSBhYWJiLmxvd2VyQm91bmRbYXhpc107XG4gICAgY29uc3QgdXBwZXIgPSBhYWJiLnVwcGVyQm91bmRbYXhpc107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4aXNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiID0gYXhpc0xpc3RbaV07XG5cbiAgICAgIGlmIChiLmFhYmJOZWVkc1VwZGF0ZSkge1xuICAgICAgICBiLnVwZGF0ZUFBQkIoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGIuYWFiYi5vdmVybGFwcyhhYWJiKSkge1xuICAgICAgICByZXN1bHQucHVzaChiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbn1cbi8qKlxuICogQHN0YXRpY1xuICogQG1ldGhvZCBpbnNlcnRpb25Tb3J0WFxuICogQHBhcmFtICB7QXJyYXl9IGFcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5cblNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFggPSBhID0+IHtcbiAgZm9yIChsZXQgaSA9IDEsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IHYgPSBhW2ldO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICBpZiAoYVtqXS5hYWJiLmxvd2VyQm91bmQueCA8PSB2LmFhYmIubG93ZXJCb3VuZC54KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBhW2ogKyAxXSA9IGFbal07XG4gICAgfVxuXG4gICAgYVtqICsgMV0gPSB2O1xuICB9XG5cbiAgcmV0dXJuIGE7XG59O1xuLyoqXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIGluc2VydGlvblNvcnRZXG4gKiBAcGFyYW0gIHtBcnJheX0gYVxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblxuXG5TQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRZID0gYSA9PiB7XG4gIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCB2ID0gYVtpXTtcbiAgICBsZXQgajtcblxuICAgIGZvciAoaiA9IGkgLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnkgPD0gdi5hYWJiLmxvd2VyQm91bmQueSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYVtqICsgMV0gPSBhW2pdO1xuICAgIH1cblxuICAgIGFbaiArIDFdID0gdjtcbiAgfVxuXG4gIHJldHVybiBhO1xufTtcbi8qKlxuICogQHN0YXRpY1xuICogQG1ldGhvZCBpbnNlcnRpb25Tb3J0WlxuICogQHBhcmFtICB7QXJyYXl9IGFcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5cblxuU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WiA9IGEgPT4ge1xuICBmb3IgKGxldCBpID0gMSwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3QgdiA9IGFbaV07XG4gICAgbGV0IGo7XG5cbiAgICBmb3IgKGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgIGlmIChhW2pdLmFhYmIubG93ZXJCb3VuZC56IDw9IHYuYWFiYi5sb3dlckJvdW5kLnopIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGFbaiArIDFdID0gYVtqXTtcbiAgICB9XG5cbiAgICBhW2ogKyAxXSA9IHY7XG4gIH1cblxuICByZXR1cm4gYTtcbn07XG4vKipcbiAqIENoZWNrIGlmIHRoZSBib3VuZHMgb2YgdHdvIGJvZGllcyBvdmVybGFwLCBhbG9uZyB0aGUgZ2l2ZW4gU0FQIGF4aXMuXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIGNoZWNrQm91bmRzXG4gKiBAcGFyYW0gIHtCb2R5fSBiaVxuICogQHBhcmFtICB7Qm9keX0gYmpcbiAqIEBwYXJhbSAge051bWJlcn0gYXhpc0luZGV4XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5cblxuU0FQQnJvYWRwaGFzZS5jaGVja0JvdW5kcyA9IChiaSwgYmosIGF4aXNJbmRleCkgPT4ge1xuICBsZXQgYmlQb3M7XG4gIGxldCBialBvcztcblxuICBpZiAoYXhpc0luZGV4ID09PSAwKSB7XG4gICAgYmlQb3MgPSBiaS5wb3NpdGlvbi54O1xuICAgIGJqUG9zID0gYmoucG9zaXRpb24ueDtcbiAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDEpIHtcbiAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLnk7XG4gICAgYmpQb3MgPSBiai5wb3NpdGlvbi55O1xuICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMikge1xuICAgIGJpUG9zID0gYmkucG9zaXRpb24uejtcbiAgICBialBvcyA9IGJqLnBvc2l0aW9uLno7XG4gIH1cblxuICBjb25zdCByaSA9IGJpLmJvdW5kaW5nUmFkaXVzLFxuICAgICAgICByaiA9IGJqLmJvdW5kaW5nUmFkaXVzLFxuICAgICAgICAvLyBib3VuZEExID0gYmlQb3MgLSByaSxcbiAgYm91bmRBMiA9IGJpUG9zICsgcmksXG4gICAgICAgIGJvdW5kQjEgPSBialBvcyAtIHJqOyAvLyBib3VuZEIyID0gYmpQb3MgKyByajtcblxuICByZXR1cm4gYm91bmRCMSA8IGJvdW5kQTI7XG59O1xuXG5jbGFzcyBVdGlscyB7XG4gIC8qKlxuICAgKiBFeHRlbmQgYW4gb3B0aW9ucyBvYmplY3Qgd2l0aCBkZWZhdWx0IHZhbHVlcy5cbiAgICogQHN0YXRpY1xuICAgKiBAbWV0aG9kIGRlZmF1bHRzXG4gICAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBvYmplY3QuIE1heSBiZSBmYWxzeTogaW4gdGhpcyBjYXNlLCBhIG5ldyBvYmplY3QgaXMgY3JlYXRlZCBhbmQgcmV0dXJuZWQuXG4gICAqIEBwYXJhbSAge29iamVjdH0gZGVmYXVsdHMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGVmYXVsdCB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge29iamVjdH0gVGhlIG1vZGlmaWVkIG9wdGlvbnMgb2JqZWN0LlxuICAgKi9cbiAgc3RhdGljIGRlZmF1bHRzKG9wdGlvbnMgPSB7fSwgZGVmYXVsdHMpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgIGlmICghKGtleSBpbiBvcHRpb25zKSkge1xuICAgICAgICBvcHRpb25zW2tleV0gPSBkZWZhdWx0c1trZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvcHRpb25zO1xuICB9XG5cbn1cblxuLyoqXG4gKiBDb25zdHJhaW50IGJhc2UgY2xhc3NcbiAqIEBjbGFzcyBDb25zdHJhaW50XG4gKiBAYXV0aG9yIHNjaHRlcHBlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY29sbGlkZUNvbm5lY3RlZD10cnVlXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy53YWtlVXBCb2RpZXM9dHJ1ZV1cbiAqL1xuY2xhc3MgQ29uc3RyYWludCB7XG4gIC8vIEVxdWF0aW9ucyB0byBiZSBzb2x2ZWQgaW4gdGhpcyBjb25zdHJhaW50LlxuICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgYm9kaWVzIHRvIGNvbGxpZGUgd2hlbiB0aGV5IGFyZSBjb25uZWN0ZWQuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgb3B0aW9ucyA9IFV0aWxzLmRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgIGNvbGxpZGVDb25uZWN0ZWQ6IHRydWUsXG4gICAgICB3YWtlVXBCb2RpZXM6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLmVxdWF0aW9ucyA9IFtdO1xuICAgIHRoaXMuYm9keUEgPSBib2R5QTtcbiAgICB0aGlzLmJvZHlCID0gYm9keUI7XG4gICAgdGhpcy5pZCA9IENvbnN0cmFpbnQuaWRDb3VudGVyKys7XG4gICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkO1xuXG4gICAgaWYgKG9wdGlvbnMud2FrZVVwQm9kaWVzKSB7XG4gICAgICBpZiAoYm9keUEpIHtcbiAgICAgICAgYm9keUEud2FrZVVwKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChib2R5Qikge1xuICAgICAgICBib2R5Qi53YWtlVXAoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbGwgdGhlIGVxdWF0aW9ucyB3aXRoIGRhdGEuXG4gICAqIEBtZXRob2QgdXBkYXRlXG4gICAqL1xuXG5cbiAgdXBkYXRlKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWV0aG9kIHVwZGF0ZSgpIG5vdCBpbXBsbWVtZW50ZWQgaW4gdGhpcyBDb25zdHJhaW50IHN1YmNsYXNzIScpO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIGFsbCBlcXVhdGlvbnMgaW4gdGhlIGNvbnN0cmFpbnQuXG4gICAqIEBtZXRob2QgZW5hYmxlXG4gICAqL1xuXG5cbiAgZW5hYmxlKCkge1xuICAgIGNvbnN0IGVxcyA9IHRoaXMuZXF1YXRpb25zO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGVxc1tpXS5lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGVzIGFsbCBlcXVhdGlvbnMgaW4gdGhlIGNvbnN0cmFpbnQuXG4gICAqIEBtZXRob2QgZGlzYWJsZVxuICAgKi9cblxuXG4gIGRpc2FibGUoKSB7XG4gICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVxcy5sZW5ndGg7IGkrKykge1xuICAgICAgZXFzW2ldLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxufVxuQ29uc3RyYWludC5pZENvdW50ZXIgPSAwO1xuXG4vKipcbiAqIEFuIGVsZW1lbnQgY29udGFpbmluZyA2IGVudHJpZXMsIDMgc3BhdGlhbCBhbmQgMyByb3RhdGlvbmFsIGRlZ3JlZXMgb2YgZnJlZWRvbS5cbiAqL1xuXG5jbGFzcyBKYWNvYmlhbkVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNwYXRpYWwgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucm90YXRpb25hbCA9IG5ldyBWZWMzKCk7XG4gIH1cbiAgLyoqXG4gICAqIE11bHRpcGx5IHdpdGggb3RoZXIgSmFjb2JpYW5FbGVtZW50XG4gICAqL1xuXG5cbiAgbXVsdGlwbHlFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5zcGF0aWFsLmRvdCh0aGlzLnNwYXRpYWwpICsgZWxlbWVudC5yb3RhdGlvbmFsLmRvdCh0aGlzLnJvdGF0aW9uYWwpO1xuICB9XG4gIC8qKlxuICAgKiBNdWx0aXBseSB3aXRoIHR3byB2ZWN0b3JzXG4gICAqL1xuXG5cbiAgbXVsdGlwbHlWZWN0b3JzKHNwYXRpYWwsIHJvdGF0aW9uYWwpIHtcbiAgICByZXR1cm4gc3BhdGlhbC5kb3QodGhpcy5zcGF0aWFsKSArIHJvdGF0aW9uYWwuZG90KHRoaXMucm90YXRpb25hbCk7XG4gIH1cblxufVxuXG4vKipcbiAqIEVxdWF0aW9uIGJhc2UgY2xhc3NcbiAqIEBjbGFzcyBFcXVhdGlvblxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXV0aG9yIHNjaHRlcHBlXG4gKiBAcGFyYW0ge0JvZHl9IGJpXG4gKiBAcGFyYW0ge0JvZHl9IGJqXG4gKiBAcGFyYW0ge051bWJlcn0gbWluRm9yY2UgTWluaW11bSAocmVhZDogbmVnYXRpdmUgbWF4KSBmb3JjZSB0byBiZSBhcHBsaWVkIGJ5IHRoZSBjb25zdHJhaW50LlxuICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlIE1heGltdW0gKHJlYWQ6IHBvc2l0aXZlIG1heCkgZm9yY2UgdG8gYmUgYXBwbGllZCBieSB0aGUgY29uc3RyYWludC5cbiAqL1xuY2xhc3MgRXF1YXRpb24ge1xuICAvLyBTUE9PSyBwYXJhbWV0ZXJcbiAgLy8gU1BPT0sgcGFyYW1ldGVyXG4gIC8vIFNQT09LIHBhcmFtZXRlclxuICAvLyBBIG51bWJlciwgcHJvcG9ydGlvbmFsIHRvIHRoZSBmb3JjZSBhZGRlZCB0byB0aGUgYm9kaWVzLlxuICBjb25zdHJ1Y3RvcihiaSwgYmosIG1pbkZvcmNlID0gLTFlNiwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICB0aGlzLmlkID0gRXF1YXRpb24uaWQrKztcbiAgICB0aGlzLm1pbkZvcmNlID0gbWluRm9yY2U7XG4gICAgdGhpcy5tYXhGb3JjZSA9IG1heEZvcmNlO1xuICAgIHRoaXMuYmkgPSBiaTtcbiAgICB0aGlzLmJqID0gYmo7XG4gICAgdGhpcy5hID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXJcblxuICAgIHRoaXMuYiA9IDAuMDsgLy8gU1BPT0sgcGFyYW1ldGVyXG5cbiAgICB0aGlzLmVwcyA9IDAuMDsgLy8gU1BPT0sgcGFyYW1ldGVyXG5cbiAgICB0aGlzLmphY29iaWFuRWxlbWVudEEgPSBuZXcgSmFjb2JpYW5FbGVtZW50KCk7XG4gICAgdGhpcy5qYWNvYmlhbkVsZW1lbnRCID0gbmV3IEphY29iaWFuRWxlbWVudCgpO1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5tdWx0aXBsaWVyID0gMDtcbiAgICB0aGlzLnNldFNwb29rUGFyYW1zKDFlNywgNCwgMSAvIDYwKTsgLy8gU2V0IHR5cGljYWwgc3Bvb2sgcGFyYW1zXG4gIH1cbiAgLyoqXG4gICAqIFJlY2FsY3VsYXRlcyBhLGIsZXBzLlxuICAgKiBAbWV0aG9kIHNldFNwb29rUGFyYW1zXG4gICAqL1xuXG5cbiAgc2V0U3Bvb2tQYXJhbXMoc3RpZmZuZXNzLCByZWxheGF0aW9uLCB0aW1lU3RlcCkge1xuICAgIGNvbnN0IGQgPSByZWxheGF0aW9uO1xuICAgIGNvbnN0IGsgPSBzdGlmZm5lc3M7XG4gICAgY29uc3QgaCA9IHRpbWVTdGVwO1xuICAgIHRoaXMuYSA9IDQuMCAvIChoICogKDEgKyA0ICogZCkpO1xuICAgIHRoaXMuYiA9IDQuMCAqIGQgLyAoMSArIDQgKiBkKTtcbiAgICB0aGlzLmVwcyA9IDQuMCAvIChoICogaCAqIGsgKiAoMSArIDQgKiBkKSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbXB1dGVzIHRoZSByaWdodCBoYW5kIHNpZGUgb2YgdGhlIFNQT09LIGVxdWF0aW9uXG4gICAqIEBtZXRob2QgY29tcHV0ZUJcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cblxuXG4gIGNvbXB1dGVCKGEsIGIsIGgpIHtcbiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7XG4gICAgY29uc3QgR3EgPSB0aGlzLmNvbXB1dGVHcSgpO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgcmV0dXJuIC1HcSAqIGEgLSBHVyAqIGIgLSBHaU1mICogaDtcbiAgfVxuICAvKipcbiAgICogQ29tcHV0ZXMgRypxLCB3aGVyZSBxIGFyZSB0aGUgZ2VuZXJhbGl6ZWQgYm9keSBjb29yZGluYXRlc1xuICAgKiBAbWV0aG9kIGNvbXB1dGVHcVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuXG5cbiAgY29tcHV0ZUdxKCkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgeGkgPSBiaS5wb3NpdGlvbjtcbiAgICBjb25zdCB4aiA9IGJqLnBvc2l0aW9uO1xuICAgIHJldHVybiBHQS5zcGF0aWFsLmRvdCh4aSkgKyBHQi5zcGF0aWFsLmRvdCh4aik7XG4gIH1cbiAgLyoqXG4gICAqIENvbXB1dGVzIEcqVywgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllc1xuICAgKiBAbWV0aG9kIGNvbXB1dGVHV1xuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuXG5cbiAgY29tcHV0ZUdXKCkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgdmkgPSBiaS52ZWxvY2l0eTtcbiAgICBjb25zdCB2aiA9IGJqLnZlbG9jaXR5O1xuICAgIGNvbnN0IHdpID0gYmkuYW5ndWxhclZlbG9jaXR5O1xuICAgIGNvbnN0IHdqID0gYmouYW5ndWxhclZlbG9jaXR5O1xuICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnModmksIHdpKSArIEdCLm11bHRpcGx5VmVjdG9ycyh2aiwgd2opO1xuICB9XG4gIC8qKlxuICAgKiBDb21wdXRlcyBHKldsYW1iZGEsIHdoZXJlIFcgYXJlIHRoZSBib2R5IHZlbG9jaXRpZXNcbiAgICogQG1ldGhvZCBjb21wdXRlR1dsYW1iZGFcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cblxuXG4gIGNvbXB1dGVHV2xhbWJkYSgpIHtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IHZpID0gYmkudmxhbWJkYTtcbiAgICBjb25zdCB2aiA9IGJqLnZsYW1iZGE7XG4gICAgY29uc3Qgd2kgPSBiaS53bGFtYmRhO1xuICAgIGNvbnN0IHdqID0gYmoud2xhbWJkYTtcbiAgICByZXR1cm4gR0EubXVsdGlwbHlWZWN0b3JzKHZpLCB3aSkgKyBHQi5tdWx0aXBseVZlY3RvcnModmosIHdqKTtcbiAgfVxuXG4gIGNvbXB1dGVHaU1mKCkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgZmkgPSBiaS5mb3JjZTtcbiAgICBjb25zdCB0aSA9IGJpLnRvcnF1ZTtcbiAgICBjb25zdCBmaiA9IGJqLmZvcmNlO1xuICAgIGNvbnN0IHRqID0gYmoudG9ycXVlO1xuICAgIGNvbnN0IGludk1hc3NpID0gYmkuaW52TWFzc1NvbHZlO1xuICAgIGNvbnN0IGludk1hc3NqID0gYmouaW52TWFzc1NvbHZlO1xuICAgIGZpLnNjYWxlKGludk1hc3NpLCBpTWZpKTtcbiAgICBmai5zY2FsZShpbnZNYXNzaiwgaU1maik7XG4gICAgYmkuaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQodGksIGludklpX3ZtdWx0X3RhdWkpO1xuICAgIGJqLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KHRqLCBpbnZJal92bXVsdF90YXVqKTtcbiAgICByZXR1cm4gR0EubXVsdGlwbHlWZWN0b3JzKGlNZmksIGludklpX3ZtdWx0X3RhdWkpICsgR0IubXVsdGlwbHlWZWN0b3JzKGlNZmosIGludklqX3ZtdWx0X3RhdWopO1xuICB9XG5cbiAgY29tcHV0ZUdpTUd0KCkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgaW52TWFzc2kgPSBiaS5pbnZNYXNzU29sdmU7XG4gICAgY29uc3QgaW52TWFzc2ogPSBiai5pbnZNYXNzU29sdmU7XG4gICAgY29uc3QgaW52SWkgPSBiaS5pbnZJbmVydGlhV29ybGRTb2x2ZTtcbiAgICBjb25zdCBpbnZJaiA9IGJqLmludkluZXJ0aWFXb3JsZFNvbHZlO1xuICAgIGxldCByZXN1bHQgPSBpbnZNYXNzaSArIGludk1hc3NqO1xuICAgIGludklpLnZtdWx0KEdBLnJvdGF0aW9uYWwsIHRtcCQxKTtcbiAgICByZXN1bHQgKz0gdG1wJDEuZG90KEdBLnJvdGF0aW9uYWwpO1xuICAgIGludklqLnZtdWx0KEdCLnJvdGF0aW9uYWwsIHRtcCQxKTtcbiAgICByZXN1bHQgKz0gdG1wJDEuZG90KEdCLnJvdGF0aW9uYWwpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBjb25zdHJhaW50IHZlbG9jaXR5IHRvIHRoZSBib2RpZXMuXG4gICAqIEBtZXRob2QgYWRkVG9XbGFtYmRhXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YWxhbWJkYVxuICAgKi9cblxuXG4gIGFkZFRvV2xhbWJkYShkZWx0YWxhbWJkYSkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgdGVtcCA9IGFkZFRvV2xhbWJkYV90ZW1wOyAvLyBBZGQgdG8gbGluZWFyIHZlbG9jaXR5XG4gICAgLy8gdl9sYW1iZGEgKz0gaW52KE0pICogZGVsdGFfbGFtYmEgKiBHXG5cbiAgICBiaS52bGFtYmRhLmFkZFNjYWxlZFZlY3RvcihiaS5pbnZNYXNzU29sdmUgKiBkZWx0YWxhbWJkYSwgR0Euc3BhdGlhbCwgYmkudmxhbWJkYSk7XG4gICAgYmoudmxhbWJkYS5hZGRTY2FsZWRWZWN0b3IoYmouaW52TWFzc1NvbHZlICogZGVsdGFsYW1iZGEsIEdCLnNwYXRpYWwsIGJqLnZsYW1iZGEpOyAvLyBBZGQgdG8gYW5ndWxhciB2ZWxvY2l0eVxuXG4gICAgYmkuaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQoR0Eucm90YXRpb25hbCwgdGVtcCk7XG4gICAgYmkud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJpLndsYW1iZGEpO1xuICAgIGJqLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KEdCLnJvdGF0aW9uYWwsIHRlbXApO1xuICAgIGJqLndsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGRlbHRhbGFtYmRhLCB0ZW1wLCBiai53bGFtYmRhKTtcbiAgfVxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgZGVub21pbmF0b3IgcGFydCBvZiB0aGUgU1BPT0sgZXF1YXRpb246IEMgPSBHKmludihNKSpHJyArIGVwc1xuICAgKiBAbWV0aG9kIGNvbXB1dGVJbnZDXG4gICAqIEBwYXJhbSAge051bWJlcn0gZXBzXG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG5cblxuICBjb21wdXRlQygpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wdXRlR2lNR3QoKSArIHRoaXMuZXBzO1xuICB9XG5cbn1cbkVxdWF0aW9uLmlkID0gMDtcbi8qKlxuICogQ29tcHV0ZXMgRyppbnYoTSkqZiwgd2hlcmUgTSBpcyB0aGUgbWFzcyBtYXRyaXggd2l0aCBkaWFnb25hbCBibG9ja3MgZm9yIGVhY2ggYm9keSwgYW5kIGYgYXJlIHRoZSBmb3JjZXMgb24gdGhlIGJvZGllcy5cbiAqIEBtZXRob2QgY29tcHV0ZUdpTWZcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuXG5jb25zdCBpTWZpID0gbmV3IFZlYzMoKTtcbmNvbnN0IGlNZmogPSBuZXcgVmVjMygpO1xuY29uc3QgaW52SWlfdm11bHRfdGF1aSA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnZJal92bXVsdF90YXVqID0gbmV3IFZlYzMoKTtcbi8qKlxuICogQ29tcHV0ZXMgRyppbnYoTSkqRydcbiAqIEBtZXRob2QgY29tcHV0ZUdpTUd0XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cblxuY29uc3QgdG1wJDEgPSBuZXcgVmVjMygpO1xuY29uc3QgYWRkVG9XbGFtYmRhX3RlbXAgPSBuZXcgVmVjMygpO1xuXG4vKipcbiAqIENvbnRhY3Qvbm9uLXBlbmV0cmF0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb25cbiAqIEBjbGFzcyBDb250YWN0RXF1YXRpb25cbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1dGhvciBzY2h0ZXBwZVxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICogQGV4dGVuZHMgRXF1YXRpb25cbiAqL1xuY2xhc3MgQ29udGFjdEVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24ge1xuICAvLyBcImJvdW5jaW5lc3NcIjogdTEgPSAtZSp1MFxuICAvLyBXb3JsZC1vcmllbnRlZCB2ZWN0b3IgdGhhdCBnb2VzIGZyb20gdGhlIGNlbnRlciBvZiBiaSB0byB0aGUgY29udGFjdCBwb2ludC5cbiAgLy8gV29ybGQtb3JpZW50ZWQgdmVjdG9yIHRoYXQgc3RhcnRzIGluIGJvZHkgaiBwb3NpdGlvbiBhbmQgZ29lcyB0byB0aGUgY29udGFjdCBwb2ludC5cbiAgLy8gQ29udGFjdCBub3JtYWwsIHBvaW50aW5nIG91dCBvZiBib2R5IGkuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIDAsIG1heEZvcmNlKTtcbiAgICB0aGlzLnJlc3RpdHV0aW9uID0gMC4wO1xuICAgIHRoaXMucmkgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucmogPSBuZXcgVmVjMygpO1xuICAgIHRoaXMubmkgPSBuZXcgVmVjMygpO1xuICB9XG5cbiAgY29tcHV0ZUIoaCkge1xuICAgIGNvbnN0IGEgPSB0aGlzLmE7XG4gICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IHJpID0gdGhpcy5yaTtcbiAgICBjb25zdCByaiA9IHRoaXMucmo7XG4gICAgY29uc3Qgcml4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMTtcbiAgICBjb25zdCByanhuID0gQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyO1xuICAgIGNvbnN0IHZpID0gYmkudmVsb2NpdHk7XG4gICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7XG4gICAgY29uc3QgZmkgPSBiaS5mb3JjZTtcbiAgICBjb25zdCB0YXVpID0gYmkudG9ycXVlO1xuICAgIGNvbnN0IHZqID0gYmoudmVsb2NpdHk7XG4gICAgY29uc3Qgd2ogPSBiai5hbmd1bGFyVmVsb2NpdHk7XG4gICAgY29uc3QgZmogPSBiai5mb3JjZTtcbiAgICBjb25zdCB0YXVqID0gYmoudG9ycXVlO1xuICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjID0gQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAzO1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IG4gPSB0aGlzLm5pOyAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHNcblxuICAgIHJpLmNyb3NzKG4sIHJpeG4pO1xuICAgIHJqLmNyb3NzKG4sIHJqeG4pOyAvLyBnID0geGorcmogLSh4aStyaSlcbiAgICAvLyBHID0gWyAtbmkgIC1yaXhuICBuaSAgcmp4biBdXG5cbiAgICBuLm5lZ2F0ZShHQS5zcGF0aWFsKTtcbiAgICByaXhuLm5lZ2F0ZShHQS5yb3RhdGlvbmFsKTtcbiAgICBHQi5zcGF0aWFsLmNvcHkobik7XG4gICAgR0Iucm90YXRpb25hbC5jb3B5KHJqeG4pOyAvLyBDYWxjdWxhdGUgdGhlIHBlbmV0cmF0aW9uIHZlY3RvclxuXG4gICAgcGVuZXRyYXRpb25WZWMuY29weShiai5wb3NpdGlvbik7XG4gICAgcGVuZXRyYXRpb25WZWMudmFkZChyaiwgcGVuZXRyYXRpb25WZWMpO1xuICAgIHBlbmV0cmF0aW9uVmVjLnZzdWIoYmkucG9zaXRpb24sIHBlbmV0cmF0aW9uVmVjKTtcbiAgICBwZW5ldHJhdGlvblZlYy52c3ViKHJpLCBwZW5ldHJhdGlvblZlYyk7XG4gICAgY29uc3QgZyA9IG4uZG90KHBlbmV0cmF0aW9uVmVjKTsgLy8gQ29tcHV0ZSBpdGVyYXRpb25cblxuICAgIGNvbnN0IGVQbHVzT25lID0gdGhpcy5yZXN0aXR1dGlvbiArIDE7XG4gICAgY29uc3QgR1cgPSBlUGx1c09uZSAqIHZqLmRvdChuKSAtIGVQbHVzT25lICogdmkuZG90KG4pICsgd2ouZG90KHJqeG4pIC0gd2kuZG90KHJpeG4pO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgcmVsYXRpdmUgdmVsb2NpdHkgaW4gdGhlIGNvbnRhY3QgcG9pbnQuXG4gICAqIEBtZXRob2QgZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuXG5cbiAgZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCgpIHtcbiAgICBjb25zdCB2aSA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZpO1xuICAgIGNvbnN0IHZqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmo7XG4gICAgY29uc3QgeGkgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aTtcbiAgICBjb25zdCB4aiA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hqO1xuICAgIGNvbnN0IHJlbFZlbCA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbDtcbiAgICB0aGlzLmJpLnBvc2l0aW9uLnZhZGQodGhpcy5yaSwgeGkpO1xuICAgIHRoaXMuYmoucG9zaXRpb24udmFkZCh0aGlzLnJqLCB4aik7XG4gICAgdGhpcy5iaS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh4aSwgdmkpO1xuICAgIHRoaXMuYmouZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoeGosIHZqKTtcbiAgICB2aS52c3ViKHZqLCByZWxWZWwpO1xuICAgIHJldHVybiB0aGlzLm5pLmRvdChyZWxWZWwpO1xuICB9XG5cbn1cbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMSA9IG5ldyBWZWMzKCk7IC8vIFRlbXAgdmVjdG9yc1xuXG5jb25zdCBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDIgPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAzID0gbmV3IFZlYzMoKTtcbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZpID0gbmV3IFZlYzMoKTtcbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZqID0gbmV3IFZlYzMoKTtcbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hpID0gbmV3IFZlYzMoKTtcbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hqID0gbmV3IFZlYzMoKTtcbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxuICogQ29ubmVjdHMgdHdvIGJvZGllcyBhdCBnaXZlbiBvZmZzZXQgcG9pbnRzLlxuICogQGNsYXNzIFBvaW50VG9Qb2ludENvbnN0cmFpbnRcbiAqIEBleHRlbmRzIENvbnN0cmFpbnRcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxuICogQHBhcmFtIHtWZWMzfSBwaXZvdEEgVGhlIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgb2YgbWFzcyBvZiBib2R5QSB3aGljaCBib2R5QSBpcyBjb25zdHJhaW5lZCB0by5cbiAqIEBwYXJhbSB7Qm9keX0gYm9keUIgQm9keSB0aGF0IHdpbGwgYmUgY29uc3RyYWluZWQgaW4gYSBzaW1pbGFyIHdheSB0byB0aGUgc2FtZSBwb2ludCBhcyBib2R5QS4gV2Ugd2lsbCB0aGVyZWZvcmUgZ2V0IGEgbGluayBiZXR3ZWVuIGJvZHlBIGFuZCBib2R5Qi4gSWYgbm90IHNwZWNpZmllZCwgYm9keUEgd2lsbCBiZSBjb25zdHJhaW5lZCB0byBhIHN0YXRpYyBwb2ludC5cbiAqIEBwYXJhbSB7VmVjM30gcGl2b3RCIFNlZSBwaXZvdEEuXG4gKiBAcGFyYW0ge051bWJlcn0gbWF4Rm9yY2UgVGhlIG1heGltdW0gZm9yY2UgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byBjb25zdHJhaW4gdGhlIGJvZGllcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIGNvbnN0IGJvZHlBID0gbmV3IEJvZHkoeyBtYXNzOiAxIH0pO1xuICogICAgIGNvbnN0IGJvZHlCID0gbmV3IEJvZHkoeyBtYXNzOiAxIH0pO1xuICogICAgIGJvZHlBLnBvc2l0aW9uLnNldCgtMSwgMCwgMCk7XG4gKiAgICAgYm9keUIucG9zaXRpb24uc2V0KDEsIDAsIDApO1xuICogICAgIGJvZHlBLmFkZFNoYXBlKHNoYXBlQSk7XG4gKiAgICAgYm9keUIuYWRkU2hhcGUoc2hhcGVCKTtcbiAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHlBKTtcbiAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHlCKTtcbiAqICAgICBjb25zdCBsb2NhbFBpdm90QSA9IG5ldyBWZWMzKDEsIDAsIDApO1xuICogICAgIGNvbnN0IGxvY2FsUGl2b3RCID0gbmV3IFZlYzMoLTEsIDAsIDApO1xuICogICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBuZXcgUG9pbnRUb1BvaW50Q29uc3RyYWludChib2R5QSwgbG9jYWxQaXZvdEEsIGJvZHlCLCBsb2NhbFBpdm90Qik7XG4gKiAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTtcbiAqL1xuY2xhc3MgUG9pbnRUb1BvaW50Q29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQge1xuICAvLyBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLlxuICAvLyBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlCLlxuICBjb25zdHJ1Y3Rvcihib2R5QSwgcGl2b3RBID0gbmV3IFZlYzMoKSwgYm9keUIsIHBpdm90QiA9IG5ldyBWZWMzKCksIG1heEZvcmNlID0gMWU2KSB7XG4gICAgc3VwZXIoYm9keUEsIGJvZHlCKTtcbiAgICB0aGlzLnBpdm90QSA9IHBpdm90QS5jbG9uZSgpO1xuICAgIHRoaXMucGl2b3RCID0gcGl2b3RCLmNsb25lKCk7XG4gICAgY29uc3QgeCA9IHRoaXMuZXF1YXRpb25YID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpO1xuICAgIGNvbnN0IHkgPSB0aGlzLmVxdWF0aW9uWSA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTtcbiAgICBjb25zdCB6ID0gdGhpcy5lcXVhdGlvblogPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7IC8vIEVxdWF0aW9ucyB0byBiZSBmZWQgdG8gdGhlIHNvbHZlclxuXG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaCh4LCB5LCB6KTsgLy8gTWFrZSB0aGUgZXF1YXRpb25zIGJpZGlyZWN0aW9uYWxcblxuICAgIHgubWluRm9yY2UgPSB5Lm1pbkZvcmNlID0gei5taW5Gb3JjZSA9IC1tYXhGb3JjZTtcbiAgICB4Lm1heEZvcmNlID0geS5tYXhGb3JjZSA9IHoubWF4Rm9yY2UgPSBtYXhGb3JjZTtcbiAgICB4Lm5pLnNldCgxLCAwLCAwKTtcbiAgICB5Lm5pLnNldCgwLCAxLCAwKTtcbiAgICB6Lm5pLnNldCgwLCAwLCAxKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7XG4gICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCO1xuICAgIGNvbnN0IHggPSB0aGlzLmVxdWF0aW9uWDtcbiAgICBjb25zdCB5ID0gdGhpcy5lcXVhdGlvblk7XG4gICAgY29uc3QgeiA9IHRoaXMuZXF1YXRpb25aOyAvLyBSb3RhdGUgdGhlIHBpdm90cyB0byB3b3JsZCBzcGFjZVxuXG4gICAgYm9keUEucXVhdGVybmlvbi52bXVsdCh0aGlzLnBpdm90QSwgeC5yaSk7XG4gICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLnBpdm90QiwgeC5yaik7XG4gICAgeS5yaS5jb3B5KHgucmkpO1xuICAgIHkucmouY29weSh4LnJqKTtcbiAgICB6LnJpLmNvcHkoeC5yaSk7XG4gICAgei5yai5jb3B5KHgucmopO1xuICB9XG5cbn1cblxuLyoqXG4gKiBDb25lIGVxdWF0aW9uLiBXb3JrcyB0byBrZWVwIHRoZSBnaXZlbiBib2R5IHdvcmxkIHZlY3RvcnMgYWxpZ25lZCwgb3IgdGlsdGVkIHdpdGhpbiBhIGdpdmVuIGFuZ2xlIGZyb20gZWFjaCBvdGhlci5cbiAqIEBjbGFzcyBDb25lRXF1YXRpb25cbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1dGhvciBzY2h0ZXBwZVxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV0gTG9jYWwgYXhpcyBpbiBBXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXSBMb2NhbCBheGlzIGluIEJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYW5nbGVdIFRoZSBcImNvbmUgYW5nbGVcIiB0byBrZWVwXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XVxuICogQGV4dGVuZHMgRXF1YXRpb25cbiAqL1xuY2xhc3MgQ29uZUVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24ge1xuICAvLyBUaGUgY29uZSBhbmdsZSB0byBrZWVwLlxuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpO1xuICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7XG4gICAgdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygwLCAxLCAwKTtcbiAgICB0aGlzLmFuZ2xlID0gdHlwZW9mIG9wdGlvbnMuYW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmdsZSA6IDA7XG4gIH1cblxuICBjb21wdXRlQihoKSB7XG4gICAgY29uc3QgYSA9IHRoaXMuYTtcbiAgICBjb25zdCBiID0gdGhpcy5iO1xuICAgIGNvbnN0IG5pID0gdGhpcy5heGlzQTtcbiAgICBjb25zdCBuaiA9IHRoaXMuYXhpc0I7XG4gICAgY29uc3Qgbml4bmogPSB0bXBWZWMxO1xuICAgIGNvbnN0IG5qeG5pID0gdG1wVmVjMjtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzXG5cbiAgICBuaS5jcm9zcyhuaiwgbml4bmopO1xuICAgIG5qLmNyb3NzKG5pLCBuanhuaSk7IC8vIFRoZSBhbmdsZSBiZXR3ZWVuIHR3byB2ZWN0b3IgaXM6XG4gICAgLy8gY29zKHRoZXRhKSA9IGEgKiBiIC8gKGxlbmd0aChhKSAqIGxlbmd0aChiKSA9IHsgbGVuKGEpID0gbGVuKGIpID0gMSB9ID0gYSAqIGJcbiAgICAvLyBnID0gYSAqIGJcbiAgICAvLyBnZG90ID0gKGIgeCBhKSAqIHdpICsgKGEgeCBiKSAqIHdqXG4gICAgLy8gRyA9IFswIGJ4YSAwIGF4Yl1cbiAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXVxuXG4gICAgR0Eucm90YXRpb25hbC5jb3B5KG5qeG5pKTtcbiAgICBHQi5yb3RhdGlvbmFsLmNvcHkobml4bmopO1xuICAgIGNvbnN0IGcgPSBNYXRoLmNvcyh0aGlzLmFuZ2xlKSAtIG5pLmRvdChuaik7XG4gICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG5cbn1cbmNvbnN0IHRtcFZlYzEgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wVmVjMiA9IG5ldyBWZWMzKCk7XG5cbi8qKlxuICogUm90YXRpb25hbCBjb25zdHJhaW50LiBXb3JrcyB0byBrZWVwIHRoZSBsb2NhbCB2ZWN0b3JzIG9ydGhvZ29uYWwgdG8gZWFjaCBvdGhlciBpbiB3b3JsZCBzcGFjZS5cbiAqIEBjbGFzcyBSb3RhdGlvbmFsRXF1YXRpb25cbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1dGhvciBzY2h0ZXBwZVxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV1cbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2VdXG4gKiBAZXh0ZW5kcyBFcXVhdGlvblxuICovXG5jbGFzcyBSb3RhdGlvbmFsRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2O1xuICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7XG4gICAgdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTtcbiAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApO1xuICAgIHRoaXMubWF4QW5nbGUgPSBNYXRoLlBJIC8gMjtcbiAgfVxuXG4gIGNvbXB1dGVCKGgpIHtcbiAgICBjb25zdCBhID0gdGhpcy5hO1xuICAgIGNvbnN0IGIgPSB0aGlzLmI7XG4gICAgY29uc3QgbmkgPSB0aGlzLmF4aXNBO1xuICAgIGNvbnN0IG5qID0gdGhpcy5heGlzQjtcbiAgICBjb25zdCBuaXhuaiA9IHRtcFZlYzEkMTtcbiAgICBjb25zdCBuanhuaSA9IHRtcFZlYzIkMTtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzXG5cbiAgICBuaS5jcm9zcyhuaiwgbml4bmopO1xuICAgIG5qLmNyb3NzKG5pLCBuanhuaSk7IC8vIGcgPSBuaSAqIG5qXG4gICAgLy8gZ2RvdCA9IChuaiB4IG5pKSAqIHdpICsgKG5pIHggbmopICogd2pcbiAgICAvLyBHID0gWzAgbmp4bmkgMCBuaXhual1cbiAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXVxuXG4gICAgR0Eucm90YXRpb25hbC5jb3B5KG5qeG5pKTtcbiAgICBHQi5yb3RhdGlvbmFsLmNvcHkobml4bmopO1xuICAgIGNvbnN0IGcgPSBNYXRoLmNvcyh0aGlzLm1heEFuZ2xlKSAtIG5pLmRvdChuaik7XG4gICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG5cbn1cbmNvbnN0IHRtcFZlYzEkMSA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWMyJDEgPSBuZXcgVmVjMygpO1xuXG4vKipcbiAqIEBjbGFzcyBDb25lVHdpc3RDb25zdHJhaW50XG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdXRob3Igc2NodGVwcGVcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RBXVxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEJdXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXVxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZT0xZTZdXG4gKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50XG4gKi9cbmNsYXNzIENvbmVUd2lzdENvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7IC8vIFNldCBwaXZvdCBwb2ludCBpbiBiZXR3ZWVuXG5cbiAgICBjb25zdCBwaXZvdEEgPSBvcHRpb25zLnBpdm90QSA/IG9wdGlvbnMucGl2b3RBLmNsb25lKCkgOiBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHBpdm90QiA9IG9wdGlvbnMucGl2b3RCID8gb3B0aW9ucy5waXZvdEIuY2xvbmUoKSA6IG5ldyBWZWMzKCk7XG4gICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpO1xuICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoKTtcbiAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gISFvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7XG4gICAgdGhpcy5hbmdsZSA9IHR5cGVvZiBvcHRpb25zLmFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYW5nbGUgOiAwO1xuICAgIGNvbnN0IGMgPSB0aGlzLmNvbmVFcXVhdGlvbiA9IG5ldyBDb25lRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTtcbiAgICBjb25zdCB0ID0gdGhpcy50d2lzdEVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuICAgIHRoaXMudHdpc3RBbmdsZSA9IHR5cGVvZiBvcHRpb25zLnR3aXN0QW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy50d2lzdEFuZ2xlIDogMDsgLy8gTWFrZSB0aGUgY29uZSBlcXVhdGlvbiBwdXNoIHRoZSBib2RpZXMgdG93YXJkIHRoZSBjb25lIGF4aXMsIG5vdCBvdXR3YXJkXG5cbiAgICBjLm1heEZvcmNlID0gMDtcbiAgICBjLm1pbkZvcmNlID0gLW1heEZvcmNlOyAvLyBNYWtlIHRoZSB0d2lzdCBlcXVhdGlvbiBhZGQgdG9ycXVlIHRvd2FyZCB0aGUgaW5pdGlhbCBwb3NpdGlvblxuXG4gICAgdC5tYXhGb3JjZSA9IDA7XG4gICAgdC5taW5Gb3JjZSA9IC1tYXhGb3JjZTtcbiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKGMsIHQpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTtcbiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7XG4gICAgY29uc3QgY29uZSA9IHRoaXMuY29uZUVxdWF0aW9uO1xuICAgIGNvbnN0IHR3aXN0ID0gdGhpcy50d2lzdEVxdWF0aW9uO1xuICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBVcGRhdGUgdGhlIGF4ZXMgdG8gdGhlIGNvbmUgY29uc3RyYWludFxuXG4gICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0EsIGNvbmUuYXhpc0EpO1xuICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmF4aXNCLCBjb25lLmF4aXNCKTsgLy8gVXBkYXRlIHRoZSB3b3JsZCBheGVzIGluIHRoZSB0d2lzdCBjb25zdHJhaW50XG5cbiAgICB0aGlzLmF4aXNBLnRhbmdlbnRzKHR3aXN0LmF4aXNBLCB0d2lzdC5heGlzQSk7XG4gICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNBLCB0d2lzdC5heGlzQSk7XG4gICAgdGhpcy5heGlzQi50YW5nZW50cyh0d2lzdC5heGlzQiwgdHdpc3QuYXhpc0IpO1xuICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0d2lzdC5heGlzQiwgdHdpc3QuYXhpc0IpO1xuICAgIGNvbmUuYW5nbGUgPSB0aGlzLmFuZ2xlO1xuICAgIHR3aXN0Lm1heEFuZ2xlID0gdGhpcy50d2lzdEFuZ2xlO1xuICB9XG5cbn1cblxuLyoqXG4gKiBDb25zdHJhaW5zIHR3byBib2RpZXMgdG8gYmUgYXQgYSBjb25zdGFudCBkaXN0YW5jZSBmcm9tIGVhY2ggb3RoZXJzIGNlbnRlciBvZiBtYXNzLlxuICogQGNsYXNzIERpc3RhbmNlQ29uc3RyYWludFxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXV0aG9yIHNjaHRlcHBlXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0ge051bWJlcn0gW2Rpc3RhbmNlXSBUaGUgZGlzdGFuY2UgdG8ga2VlcC4gSWYgdW5kZWZpbmVkLCBpdCB3aWxsIGJlIHNldCB0byB0aGUgY3VycmVudCBkaXN0YW5jZSBiZXR3ZWVuIGJvZHlBIGFuZCBib2R5QlxuICogQHBhcmFtIHtOdW1iZXJ9IFttYXhGb3JjZT0xZTZdXG4gKiBAZXh0ZW5kcyBDb25zdHJhaW50XG4gKi9cbmNsYXNzIERpc3RhbmNlQ29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQge1xuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIGRpc3RhbmNlLCBtYXhGb3JjZSA9IDFlNikge1xuICAgIHN1cGVyKGJvZHlBLCBib2R5Qik7XG5cbiAgICBpZiAodHlwZW9mIGRpc3RhbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZGlzdGFuY2UgPSBib2R5QS5wb3NpdGlvbi5kaXN0YW5jZVRvKGJvZHlCLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgY29uc3QgZXEgPSB0aGlzLmRpc3RhbmNlRXF1YXRpb24gPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7XG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaChlcSk7IC8vIE1ha2UgaXQgYmlkaXJlY3Rpb25hbFxuXG4gICAgZXEubWluRm9yY2UgPSAtbWF4Rm9yY2U7XG4gICAgZXEubWF4Rm9yY2UgPSBtYXhGb3JjZTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7XG4gICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCO1xuICAgIGNvbnN0IGVxID0gdGhpcy5kaXN0YW5jZUVxdWF0aW9uO1xuICAgIGNvbnN0IGhhbGZEaXN0ID0gdGhpcy5kaXN0YW5jZSAqIDAuNTtcbiAgICBjb25zdCBub3JtYWwgPSBlcS5uaTtcbiAgICBib2R5Qi5wb3NpdGlvbi52c3ViKGJvZHlBLnBvc2l0aW9uLCBub3JtYWwpO1xuICAgIG5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICBub3JtYWwuc2NhbGUoaGFsZkRpc3QsIGVxLnJpKTtcbiAgICBub3JtYWwuc2NhbGUoLWhhbGZEaXN0LCBlcS5yaik7XG4gIH1cblxufVxuXG4vKipcbiAqIExvY2sgY29uc3RyYWludC4gV2lsbCByZW1vdmUgYWxsIGRlZ3JlZXMgb2YgZnJlZWRvbSBiZXR3ZWVuIHRoZSBib2RpZXMuXG4gKiBAY2xhc3MgTG9ja0NvbnN0cmFpbnRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1dGhvciBzY2h0ZXBwZVxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl1cbiAqIEBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnRcbiAqL1xuY2xhc3MgTG9ja0NvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7IC8vIFNldCBwaXZvdCBwb2ludCBpbiBiZXR3ZWVuXG5cbiAgICBjb25zdCBwaXZvdEEgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHBpdm90QiA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgaGFsZldheSA9IG5ldyBWZWMzKCk7XG4gICAgYm9keUEucG9zaXRpb24udmFkZChib2R5Qi5wb3NpdGlvbiwgaGFsZldheSk7XG4gICAgaGFsZldheS5zY2FsZSgwLjUsIGhhbGZXYXkpO1xuICAgIGJvZHlCLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90Qik7XG4gICAgYm9keUEucG9pbnRUb0xvY2FsRnJhbWUoaGFsZldheSwgcGl2b3RBKTsgLy8gVGhlIHBvaW50LXRvLXBvaW50IGNvbnN0cmFpbnQgd2lsbCBrZWVwIGEgcG9pbnQgc2hhcmVkIGJldHdlZW4gdGhlIGJvZGllc1xuXG4gICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOyAvLyBTdG9yZSBpbml0aWFsIHJvdGF0aW9uIG9mIHRoZSBib2RpZXMgYXMgdW5pdCB2ZWN0b3JzIGluIHRoZSBsb2NhbCBib2R5IHNwYWNlc1xuXG4gICAgdGhpcy54QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWCk7XG4gICAgdGhpcy54QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWCk7XG4gICAgdGhpcy55QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWSk7XG4gICAgdGhpcy55QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWSk7XG4gICAgdGhpcy56QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWik7XG4gICAgdGhpcy56QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWik7IC8vIC4uLmFuZCB0aGUgZm9sbG93aW5nIHJvdGF0aW9uYWwgZXF1YXRpb25zIHdpbGwga2VlcCBhbGwgcm90YXRpb25hbCBET0YncyBpbiBwbGFjZVxuXG4gICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgY29uc3QgcjIgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjIgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgY29uc3QgcjMgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjMgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaChyMSwgcjIsIHIzKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7XG4gICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCO1xuICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uO1xuICAgIGNvbnN0IHIxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xO1xuICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yO1xuICAgIGNvbnN0IHIzID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24zO1xuICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBUaGVzZSB2ZWN0b3IgcGFpcnMgbXVzdCBiZSBvcnRob2dvbmFsXG5cbiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QSwgcjEuYXhpc0EpO1xuICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnlCLCByMS5heGlzQik7XG4gICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueUEsIHIyLmF4aXNBKTtcbiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QiwgcjIuYXhpc0IpO1xuICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnpBLCByMy5heGlzQSk7XG4gICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueEIsIHIzLmF4aXNCKTtcbiAgfVxuXG59XG5cbi8qKlxuICogUm90YXRpb25hbCBtb3RvciBjb25zdHJhaW50LiBUcmllcyB0byBrZWVwIHRoZSByZWxhdGl2ZSBhbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2RpZXMgdG8gYSBnaXZlbiB2YWx1ZS5cbiAqIEBjbGFzcyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvblxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXV0aG9yIHNjaHRlcHBlXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0ge051bWJlcn0gbWF4Rm9yY2VcbiAqIEBleHRlbmRzIEVxdWF0aW9uXG4gKi9cbmNsYXNzIFJvdGF0aW9uYWxNb3RvckVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24ge1xuICAvLyBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuXG4gIC8vIFdvcmxkIG9yaWVudGVkIHJvdGF0aW9uYWwgYXhpcy5cbiAgLy8gTW90b3IgdmVsb2NpdHkuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpO1xuICAgIHRoaXMuYXhpc0EgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuYXhpc0IgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMudGFyZ2V0VmVsb2NpdHkgPSAwO1xuICB9XG5cbiAgY29tcHV0ZUIoaCkge1xuICAgIGNvbnN0IGEgPSB0aGlzLmE7XG4gICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IGF4aXNBID0gdGhpcy5heGlzQTtcbiAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0I7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIGcgPSAwXG4gICAgLy8gZ2RvdCA9IGF4aXNBICogd2kgLSBheGlzQiAqIHdqXG4gICAgLy8gZ2RvdCA9IEcgKiBXID0gRyAqIFt2aSB3aSB2aiB3al1cbiAgICAvLyA9PlxuICAgIC8vIEcgPSBbMCBheGlzQSAwIC1heGlzQl1cblxuICAgIEdBLnJvdGF0aW9uYWwuY29weShheGlzQSk7XG4gICAgYXhpc0IubmVnYXRlKEdCLnJvdGF0aW9uYWwpO1xuICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKSAtIHRoaXMudGFyZ2V0VmVsb2NpdHk7XG4gICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcbiAgICBjb25zdCBCID0gLUdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG5cbn1cblxuLyoqXG4gKiBIaW5nZSBjb25zdHJhaW50LiBUaGluayBvZiBpdCBhcyBhIGRvb3IgaGluZ2UuIEl0IHRyaWVzIHRvIGtlZXAgdGhlIGRvb3IgaW4gdGhlIGNvcnJlY3QgcGxhY2UgYW5kIHdpdGggdGhlIGNvcnJlY3Qgb3JpZW50YXRpb24uXG4gKiBAY2xhc3MgSGluZ2VDb25zdHJhaW50XG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdXRob3Igc2NodGVwcGVcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RBXSBBIHBvaW50IGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS4gVGhpcyBkZWZpbmVzIHRoZSBvZmZzZXQgb2YgYXhpc0EuXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXSBBbiBheGlzIHRoYXQgYm9keUEgY2FuIHJvdGF0ZSBhcm91bmQsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS5cbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RCXVxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZT0xZTZdXG4gKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50XG4gKi9cbmNsYXNzIEhpbmdlQ29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQge1xuICAvLyBSb3RhdGlvbiBheGlzLCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuXG4gIC8vIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5Qi5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7XG4gICAgY29uc3QgcGl2b3RBID0gb3B0aW9ucy5waXZvdEEgPyBvcHRpb25zLnBpdm90QS5jbG9uZSgpIDogbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwaXZvdEIgPSBvcHRpb25zLnBpdm90QiA/IG9wdGlvbnMucGl2b3RCLmNsb25lKCkgOiBuZXcgVmVjMygpO1xuICAgIHN1cGVyKGJvZHlBLCBwaXZvdEEsIGJvZHlCLCBwaXZvdEIsIG1heEZvcmNlKTtcbiAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7XG4gICAgYXhpc0Eubm9ybWFsaXplKCk7XG4gICAgY29uc3QgYXhpc0IgPSB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApO1xuICAgIGF4aXNCLm5vcm1hbGl6ZSgpO1xuICAgIHRoaXMuY29sbGlkZUNvbm5lY3RlZCA9ICEhb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkO1xuICAgIGNvbnN0IHJvdGF0aW9uYWwxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHJvdGF0aW9uYWwyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxNb3RvckVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UpO1xuICAgIG1vdG9yLmVuYWJsZWQgPSBmYWxzZTsgLy8gTm90IGVuYWJsZWQgYnkgZGVmYXVsdFxuICAgIC8vIEVxdWF0aW9ucyB0byBiZSBmZWQgdG8gdGhlIHNvbHZlclxuXG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaChyb3RhdGlvbmFsMSwgcm90YXRpb25hbDIsIG1vdG9yKTtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCBlbmFibGVNb3RvclxuICAgKi9cblxuXG4gIGVuYWJsZU1vdG9yKCkge1xuICAgIHRoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCBkaXNhYmxlTW90b3JcbiAgICovXG5cblxuICBkaXNhYmxlTW90b3IoKSB7XG4gICAgdGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCBzZXRNb3RvclNwZWVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZFxuICAgKi9cblxuXG4gIHNldE1vdG9yU3BlZWQoc3BlZWQpIHtcbiAgICB0aGlzLm1vdG9yRXF1YXRpb24udGFyZ2V0VmVsb2NpdHkgPSBzcGVlZDtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCBzZXRNb3Rvck1heEZvcmNlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhGb3JjZVxuICAgKi9cblxuXG4gIHNldE1vdG9yTWF4Rm9yY2UobWF4Rm9yY2UpIHtcbiAgICB0aGlzLm1vdG9yRXF1YXRpb24ubWF4Rm9yY2UgPSBtYXhGb3JjZTtcbiAgICB0aGlzLm1vdG9yRXF1YXRpb24ubWluRm9yY2UgPSAtbWF4Rm9yY2U7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBO1xuICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjtcbiAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbjtcbiAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMTtcbiAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMjtcbiAgICBjb25zdCB3b3JsZEF4aXNBID0gSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMxO1xuICAgIGNvbnN0IHdvcmxkQXhpc0IgPSBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzI7XG4gICAgY29uc3QgYXhpc0EgPSB0aGlzLmF4aXNBO1xuICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQjtcbiAgICBzdXBlci51cGRhdGUoKTsgLy8gR2V0IHdvcmxkIGF4ZXNcblxuICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQoYXhpc0EsIHdvcmxkQXhpc0EpO1xuICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQoYXhpc0IsIHdvcmxkQXhpc0IpO1xuICAgIHdvcmxkQXhpc0EudGFuZ2VudHMocjEuYXhpc0EsIHIyLmF4aXNBKTtcbiAgICByMS5heGlzQi5jb3B5KHdvcmxkQXhpc0IpO1xuICAgIHIyLmF4aXNCLmNvcHkod29ybGRBeGlzQik7XG5cbiAgICBpZiAodGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQpIHtcbiAgICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQodGhpcy5heGlzQSwgbW90b3IuYXhpc0EpO1xuICAgICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNCLCBtb3Rvci5heGlzQik7XG4gICAgfVxuICB9XG5cbn1cbmNvbnN0IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzIgPSBuZXcgVmVjMygpO1xuXG4vKipcbiAqIENvbnN0cmFpbnMgdGhlIHNsaXBwaW5nIGluIGEgY29udGFjdCBhbG9uZyBhIHRhbmdlbnRcbiAqIEBjbGFzcyBGcmljdGlvbkVxdWF0aW9uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdXRob3Igc2NodGVwcGVcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzbGlwRm9yY2Ugc2hvdWxkIGJlICstRl9mcmljdGlvbiA9ICstbXUgKiBGX25vcm1hbCA9ICstbXUgKiBtICogZ1xuICogQGV4dGVuZHMgRXF1YXRpb25cbiAqL1xuY2xhc3MgRnJpY3Rpb25FcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHtcbiAgLy8gVGFuZ2VudC5cbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBzbGlwRm9yY2UpIHtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1zbGlwRm9yY2UsIHNsaXBGb3JjZSk7XG4gICAgdGhpcy5yaSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5yaiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy50ID0gbmV3IFZlYzMoKTtcbiAgfVxuXG4gIGNvbXB1dGVCKGgpIHtcbiAgICBjb25zdCBhID0gdGhpcy5hO1xuICAgIGNvbnN0IGIgPSB0aGlzLmI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCByaSA9IHRoaXMucmk7XG4gICAgY29uc3QgcmogPSB0aGlzLnJqO1xuICAgIGNvbnN0IHJpeHQgPSBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxO1xuICAgIGNvbnN0IHJqeHQgPSBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyO1xuICAgIGNvbnN0IHQgPSB0aGlzLnQ7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0c1xuXG4gICAgcmkuY3Jvc3ModCwgcml4dCk7XG4gICAgcmouY3Jvc3ModCwgcmp4dCk7IC8vIEcgPSBbLXQgLXJpeHQgdCByanh0XVxuICAgIC8vIEFuZCByZW1lbWJlciwgdGhpcyBpcyBhIHB1cmUgdmVsb2NpdHkgY29uc3RyYWludCwgZyBpcyBhbHdheXMgemVybyFcblxuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIHQubmVnYXRlKEdBLnNwYXRpYWwpO1xuICAgIHJpeHQubmVnYXRlKEdBLnJvdGF0aW9uYWwpO1xuICAgIEdCLnNwYXRpYWwuY29weSh0KTtcbiAgICBHQi5yb3RhdGlvbmFsLmNvcHkocmp4dCk7XG4gICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1HVyAqIGIgLSBoICogR2lNZjtcbiAgICByZXR1cm4gQjtcbiAgfVxuXG59XG5jb25zdCBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxID0gbmV3IFZlYzMoKTtcbmNvbnN0IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDIgPSBuZXcgVmVjMygpO1xuXG4vKipcbiAqIERlZmluZXMgd2hhdCBoYXBwZW5zIHdoZW4gdHdvIG1hdGVyaWFscyBtZWV0LlxuICogQGNsYXNzIENvbnRhY3RNYXRlcmlhbFxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge01hdGVyaWFsfSBtMVxuICogQHBhcmFtIHtNYXRlcmlhbH0gbTJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbj0wLjNdXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucmVzdGl0dXRpb249MC4zXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcz0xZTddXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbj0zXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M9MWU3XVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uPTNdXG4gKiBAdG9kbyBSZWZhY3RvciBtYXRlcmlhbHMgdG8gbWF0ZXJpYWxBIGFuZCBtYXRlcmlhbEJcbiAqL1xuY2xhc3MgQ29udGFjdE1hdGVyaWFsIHtcbiAgLy8gSWRlbnRpZmllciBvZiB0aGlzIG1hdGVyaWFsLlxuICAvLyBQYXJ0aWNpcGF0aW5nIG1hdGVyaWFscy5cbiAgLy8gRnJpY3Rpb24gY29lZmZpY2llbnQuXG4gIC8vIFJlc3RpdHV0aW9uIGNvZWZmaWNpZW50LlxuICAvLyBTdGlmZm5lc3Mgb2YgdGhlIHByb2R1Y2VkIGNvbnRhY3QgZXF1YXRpb25zLlxuICAvLyBSZWxheGF0aW9uIHRpbWUgb2YgdGhlIHByb2R1Y2VkIGNvbnRhY3QgZXF1YXRpb25zLlxuICAvLyBTdGlmZm5lc3Mgb2YgdGhlIHByb2R1Y2VkIGZyaWN0aW9uIGVxdWF0aW9ucy5cbiAgLy8gUmVsYXhhdGlvbiB0aW1lIG9mIHRoZSBwcm9kdWNlZCBmcmljdGlvbiBlcXVhdGlvbnNcbiAgY29uc3RydWN0b3IobTEsIG0yLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IFV0aWxzLmRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgIGZyaWN0aW9uOiAwLjMsXG4gICAgICByZXN0aXR1dGlvbjogMC4zLFxuICAgICAgY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzOiAxZTcsXG4gICAgICBjb250YWN0RXF1YXRpb25SZWxheGF0aW9uOiAzLFxuICAgICAgZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzczogMWU3LFxuICAgICAgZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb246IDNcbiAgICB9KTtcbiAgICB0aGlzLmlkID0gQ29udGFjdE1hdGVyaWFsLmlkQ291bnRlcisrO1xuICAgIHRoaXMubWF0ZXJpYWxzID0gW20xLCBtMl07XG4gICAgdGhpcy5mcmljdGlvbiA9IG9wdGlvbnMuZnJpY3Rpb247XG4gICAgdGhpcy5yZXN0aXR1dGlvbiA9IG9wdGlvbnMucmVzdGl0dXRpb247XG4gICAgdGhpcy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MgPSBvcHRpb25zLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcztcbiAgICB0aGlzLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24gPSBvcHRpb25zLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb247XG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzID0gb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzO1xuICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24gPSBvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uO1xuICB9XG5cbn1cbkNvbnRhY3RNYXRlcmlhbC5pZENvdW50ZXIgPSAwO1xuXG4vKipcbiAqIERlZmluZXMgYSBwaHlzaWNzIG1hdGVyaWFsLlxuICogQGNsYXNzIE1hdGVyaWFsXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBhdXRob3Igc2NodGVwcGVcbiAqL1xuY2xhc3MgTWF0ZXJpYWwge1xuICAvLyBNYXRlcmlhbCBuYW1lLlxuICAvLyBNYXRlcmlhbCBpZC5cbiAgLy8gRnJpY3Rpb24gZm9yIHRoaXMgbWF0ZXJpYWwuIElmIG5vbi1uZWdhdGl2ZSwgaXQgd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIGZyaWN0aW9uIGdpdmVuIGJ5IENvbnRhY3RNYXRlcmlhbHMuIElmIHRoZXJlJ3Mgbm8gbWF0Y2hpbmcgQ29udGFjdE1hdGVyaWFsLCB0aGUgdmFsdWUgZnJvbSAuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCBpbiB0aGUgV29ybGQgd2lsbCBiZSB1c2VkLlxuICAvLyBSZXN0aXR1dGlvbiBmb3IgdGhpcyBtYXRlcmlhbC4gSWYgbm9uLW5lZ2F0aXZlLCBpdCB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgcmVzdGl0dXRpb24gZ2l2ZW4gYnkgQ29udGFjdE1hdGVyaWFscy4gSWYgdGhlcmUncyBubyBtYXRjaGluZyBDb250YWN0TWF0ZXJpYWwsIHRoZSB2YWx1ZSBmcm9tIC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsIGluIHRoZSBXb3JsZCB3aWxsIGJlIHVzZWQuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBuYW1lID0gJyc7IC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZpeFxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmlkID0gTWF0ZXJpYWwuaWRDb3VudGVyKys7XG4gICAgdGhpcy5mcmljdGlvbiA9IHR5cGVvZiBvcHRpb25zLmZyaWN0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuZnJpY3Rpb24gOiAtMTtcbiAgICB0aGlzLnJlc3RpdHV0aW9uID0gdHlwZW9mIG9wdGlvbnMucmVzdGl0dXRpb24gIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5yZXN0aXR1dGlvbiA6IC0xO1xuICB9XG5cbn1cbk1hdGVyaWFsLmlkQ291bnRlciA9IDA7XG5cbi8qKlxuICogQSBzcHJpbmcsIGNvbm5lY3RpbmcgdHdvIGJvZGllcy5cbiAqXG4gKiBAY2xhc3MgU3ByaW5nXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXN0TGVuZ3RoXSAgIEEgbnVtYmVyID4gMC4gRGVmYXVsdDogMVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN0aWZmbmVzc10gICAgQSBudW1iZXIgPj0gMC4gRGVmYXVsdDogMTAwXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ10gICAgICBBIG51bWJlciA+PSAwLiBEZWZhdWx0OiAxXG4gKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy53b3JsZEFuY2hvckFdIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMud29ybGRBbmNob3JCXVxuICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JBXSBXaGVyZSB0byBob29rIHRoZSBzcHJpbmcgdG8gYm9keSBBLCBpbiBsb2NhbCBib2R5IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JCXVxuICovXG5jbGFzcyBTcHJpbmcge1xuICAvLyBSZXN0IGxlbmd0aCBvZiB0aGUgc3ByaW5nLlxuICAvLyBTdGlmZm5lc3Mgb2YgdGhlIHNwcmluZy5cbiAgLy8gRGFtcGluZyBvZiB0aGUgc3ByaW5nLlxuICAvLyBGaXJzdCBjb25uZWN0ZWQgYm9keS5cbiAgLy8gU2Vjb25kIGNvbm5lY3RlZCBib2R5LlxuICAvLyBBbmNob3IgZm9yIGJvZHlBIGluIGxvY2FsIGJvZHlBIGNvb3JkaW5hdGVzLlxuICAvLyBBbmNob3IgZm9yIGJvZHlCIGluIGxvY2FsIGJvZHlCIGNvb3JkaW5hdGVzLlxuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMucmVzdExlbmd0aCA9IHR5cGVvZiBvcHRpb25zLnJlc3RMZW5ndGggPT09ICdudW1iZXInID8gb3B0aW9ucy5yZXN0TGVuZ3RoIDogMTtcbiAgICB0aGlzLnN0aWZmbmVzcyA9IG9wdGlvbnMuc3RpZmZuZXNzIHx8IDEwMDtcbiAgICB0aGlzLmRhbXBpbmcgPSBvcHRpb25zLmRhbXBpbmcgfHwgMTtcbiAgICB0aGlzLmJvZHlBID0gYm9keUE7XG4gICAgdGhpcy5ib2R5QiA9IGJvZHlCO1xuICAgIHRoaXMubG9jYWxBbmNob3JBID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmxvY2FsQW5jaG9yQiA9IG5ldyBWZWMzKCk7XG5cbiAgICBpZiAob3B0aW9ucy5sb2NhbEFuY2hvckEpIHtcbiAgICAgIHRoaXMubG9jYWxBbmNob3JBLmNvcHkob3B0aW9ucy5sb2NhbEFuY2hvckEpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmxvY2FsQW5jaG9yQikge1xuICAgICAgdGhpcy5sb2NhbEFuY2hvckIuY29weShvcHRpb25zLmxvY2FsQW5jaG9yQik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMud29ybGRBbmNob3JBKSB7XG4gICAgICB0aGlzLnNldFdvcmxkQW5jaG9yQShvcHRpb25zLndvcmxkQW5jaG9yQSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMud29ybGRBbmNob3JCKSB7XG4gICAgICB0aGlzLnNldFdvcmxkQW5jaG9yQihvcHRpb25zLndvcmxkQW5jaG9yQik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLlxuICAgKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQVxuICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQVxuICAgKi9cblxuXG4gIHNldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpIHtcbiAgICB0aGlzLmJvZHlBLnBvaW50VG9Mb2NhbEZyYW1lKHdvcmxkQW5jaG9yQSwgdGhpcy5sb2NhbEFuY2hvckEpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEIsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLlxuICAgKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQlxuICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQlxuICAgKi9cblxuXG4gIHNldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpIHtcbiAgICB0aGlzLmJvZHlCLnBvaW50VG9Mb2NhbEZyYW1lKHdvcmxkQW5jaG9yQiwgdGhpcy5sb2NhbEFuY2hvckIpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLlxuICAgKiBAbWV0aG9kIGdldFdvcmxkQW5jaG9yQVxuICAgKiBAcGFyYW0ge1ZlYzN9IHJlc3VsdCBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uXG4gICAqL1xuXG5cbiAgZ2V0V29ybGRBbmNob3JBKHJlc3VsdCkge1xuICAgIHRoaXMuYm9keUEucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5sb2NhbEFuY2hvckEsIHJlc3VsdCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gICAqIEBtZXRob2QgZ2V0V29ybGRBbmNob3JCXG4gICAqIEBwYXJhbSB7VmVjM30gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi5cbiAgICovXG5cblxuICBnZXRXb3JsZEFuY2hvckIocmVzdWx0KSB7XG4gICAgdGhpcy5ib2R5Qi5wb2ludFRvV29ybGRGcmFtZSh0aGlzLmxvY2FsQW5jaG9yQiwgcmVzdWx0KTtcbiAgfVxuICAvKipcbiAgICogQXBwbHkgdGhlIHNwcmluZyBmb3JjZSB0byB0aGUgY29ubmVjdGVkIGJvZGllcy5cbiAgICogQG1ldGhvZCBhcHBseUZvcmNlXG4gICAqL1xuXG5cbiAgYXBwbHlGb3JjZSgpIHtcbiAgICBjb25zdCBrID0gdGhpcy5zdGlmZm5lc3M7XG4gICAgY29uc3QgZCA9IHRoaXMuZGFtcGluZztcbiAgICBjb25zdCBsID0gdGhpcy5yZXN0TGVuZ3RoO1xuICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTtcbiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7XG4gICAgY29uc3QgciA9IGFwcGx5Rm9yY2VfcjtcbiAgICBjb25zdCByX3VuaXQgPSBhcHBseUZvcmNlX3JfdW5pdDtcbiAgICBjb25zdCB1ID0gYXBwbHlGb3JjZV91O1xuICAgIGNvbnN0IGYgPSBhcHBseUZvcmNlX2Y7XG4gICAgY29uc3QgdG1wID0gYXBwbHlGb3JjZV90bXA7XG4gICAgY29uc3Qgd29ybGRBbmNob3JBID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckE7XG4gICAgY29uc3Qgd29ybGRBbmNob3JCID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckI7XG4gICAgY29uc3QgcmkgPSBhcHBseUZvcmNlX3JpO1xuICAgIGNvbnN0IHJqID0gYXBwbHlGb3JjZV9yajtcbiAgICBjb25zdCByaV94X2YgPSBhcHBseUZvcmNlX3JpX3hfZjtcbiAgICBjb25zdCByal94X2YgPSBhcHBseUZvcmNlX3JqX3hfZjsgLy8gR2V0IHdvcmxkIGFuY2hvcnNcblxuICAgIHRoaXMuZ2V0V29ybGRBbmNob3JBKHdvcmxkQW5jaG9yQSk7XG4gICAgdGhpcy5nZXRXb3JsZEFuY2hvckIod29ybGRBbmNob3JCKTsgLy8gR2V0IG9mZnNldCBwb2ludHNcblxuICAgIHdvcmxkQW5jaG9yQS52c3ViKGJvZHlBLnBvc2l0aW9uLCByaSk7XG4gICAgd29ybGRBbmNob3JCLnZzdWIoYm9keUIucG9zaXRpb24sIHJqKTsgLy8gQ29tcHV0ZSBkaXN0YW5jZSB2ZWN0b3IgYmV0d2VlbiB3b3JsZCBhbmNob3IgcG9pbnRzXG5cbiAgICB3b3JsZEFuY2hvckIudnN1Yih3b3JsZEFuY2hvckEsIHIpO1xuICAgIGNvbnN0IHJsZW4gPSByLmxlbmd0aCgpO1xuICAgIHJfdW5pdC5jb3B5KHIpO1xuICAgIHJfdW5pdC5ub3JtYWxpemUoKTsgLy8gQ29tcHV0ZSByZWxhdGl2ZSB2ZWxvY2l0eSBvZiB0aGUgYW5jaG9yIHBvaW50cywgdVxuXG4gICAgYm9keUIudmVsb2NpdHkudnN1Yihib2R5QS52ZWxvY2l0eSwgdSk7IC8vIEFkZCByb3RhdGlvbmFsIHZlbG9jaXR5XG5cbiAgICBib2R5Qi5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MocmosIHRtcCk7XG4gICAgdS52YWRkKHRtcCwgdSk7XG4gICAgYm9keUEuYW5ndWxhclZlbG9jaXR5LmNyb3NzKHJpLCB0bXApO1xuICAgIHUudnN1Yih0bXAsIHUpOyAvLyBGID0gLSBrICogKCB4IC0gTCApIC0gRCAqICggdSApXG5cbiAgICByX3VuaXQuc2NhbGUoLWsgKiAocmxlbiAtIGwpIC0gZCAqIHUuZG90KHJfdW5pdCksIGYpOyAvLyBBZGQgZm9yY2VzIHRvIGJvZGllc1xuXG4gICAgYm9keUEuZm9yY2UudnN1YihmLCBib2R5QS5mb3JjZSk7XG4gICAgYm9keUIuZm9yY2UudmFkZChmLCBib2R5Qi5mb3JjZSk7IC8vIEFuZ3VsYXIgZm9yY2VcblxuICAgIHJpLmNyb3NzKGYsIHJpX3hfZik7XG4gICAgcmouY3Jvc3MoZiwgcmpfeF9mKTtcbiAgICBib2R5QS50b3JxdWUudnN1YihyaV94X2YsIGJvZHlBLnRvcnF1ZSk7XG4gICAgYm9keUIudG9ycXVlLnZhZGQocmpfeF9mLCBib2R5Qi50b3JxdWUpO1xuICB9XG5cbn1cbmNvbnN0IGFwcGx5Rm9yY2VfciA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3JfdW5pdCA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3UgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9mID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JCID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2VfcmkgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9yaiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3JpX3hfZiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3JqX3hfZiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3RtcCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxuICogQGNsYXNzIFdoZWVsSW5mb1xuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKlxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWxdXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZF1cbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZGlyZWN0aW9uTG9jYWxdXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmRpcmVjdGlvbldvcmxkXVxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGxlTG9jYWxdXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4bGVXb3JsZF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdXNwZW5zaW9uUmVzdExlbmd0aD0xXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25NYXhMZW5ndGg9Ml1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yYWRpdXM9MV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdXNwZW5zaW9uU3RpZmZuZXNzPTEwMF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kYW1waW5nQ29tcHJlc3Npb249MTBdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ1JlbGF4YXRpb249MTBdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJpY3Rpb25TbGlwPTEwLjVdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3RlZXJpbmc9MF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yb3RhdGlvbj0wXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRlbHRhUm90YXRpb249MF1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yb2xsSW5mbHVlbmNlPTAuMDFdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4U3VzcGVuc2lvbkZvcmNlXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pc0Zyb250V2hlZWw9dHJ1ZV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb249MV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eT0wXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25Gb3JjZT0wXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNraWRJbmZvPTBdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvbkxlbmd0aD0wXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFN1c3BlbnNpb25UcmF2ZWw9MV1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZD1mYWxzZV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkPS0wLjFdXG4gKi9cbmNsYXNzIFdoZWVsSW5mbyB7XG4gIC8vIE1heCB0cmF2ZWwgZGlzdGFuY2Ugb2YgdGhlIHN1c3BlbnNpb24sIGluIG1ldGVycy5cbiAgLy8gU3BlZWQgdG8gYXBwbHkgdG8gdGhlIHdoZWVsIHJvdGF0aW9uIHdoZW4gdGhlIHdoZWVsIGlzIHNsaWRpbmcuXG4gIC8vIElmIHRoZSBjdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkIHNob3VsZCBiZSB1c2VkLlxuICAvLyBDb25uZWN0aW9uIHBvaW50LCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIGNoYXNzaXMgYm9keSBmcmFtZS5cbiAgLy8gUm90YXRpb24gdmFsdWUsIGluIHJhZGlhbnMuXG4gIC8vIFRoZSByZXN1bHQgZnJvbSByYXljYXN0aW5nLlxuICAvLyBXaGVlbCB3b3JsZCB0cmFuc2Zvcm0uXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICBjaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWw6IG5ldyBWZWMzKCksXG4gICAgICBjaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQ6IG5ldyBWZWMzKCksXG4gICAgICBkaXJlY3Rpb25Mb2NhbDogbmV3IFZlYzMoKSxcbiAgICAgIGRpcmVjdGlvbldvcmxkOiBuZXcgVmVjMygpLFxuICAgICAgYXhsZUxvY2FsOiBuZXcgVmVjMygpLFxuICAgICAgYXhsZVdvcmxkOiBuZXcgVmVjMygpLFxuICAgICAgc3VzcGVuc2lvblJlc3RMZW5ndGg6IDEsXG4gICAgICBzdXNwZW5zaW9uTWF4TGVuZ3RoOiAyLFxuICAgICAgcmFkaXVzOiAxLFxuICAgICAgc3VzcGVuc2lvblN0aWZmbmVzczogMTAwLFxuICAgICAgZGFtcGluZ0NvbXByZXNzaW9uOiAxMCxcbiAgICAgIGRhbXBpbmdSZWxheGF0aW9uOiAxMCxcbiAgICAgIGZyaWN0aW9uU2xpcDogMTAuNSxcbiAgICAgIGZvcndhcmRBY2NlbGVyYXRpb246IDEsXG4gICAgICBzaWRlQWNjZWxlcmF0aW9uOiAxLFxuICAgICAgc3RlZXJpbmc6IDAsXG4gICAgICByb3RhdGlvbjogMCxcbiAgICAgIGRlbHRhUm90YXRpb246IDAsXG4gICAgICByb2xsSW5mbHVlbmNlOiAwLjAxLFxuICAgICAgbWF4U3VzcGVuc2lvbkZvcmNlOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgaXNGcm9udFdoZWVsOiB0cnVlLFxuICAgICAgY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uOiAxLFxuICAgICAgc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk6IDAsXG4gICAgICBzdXNwZW5zaW9uRm9yY2U6IDAsXG4gICAgICBzbGlwSW5mbzogMCxcbiAgICAgIHNraWRJbmZvOiAwLFxuICAgICAgc3VzcGVuc2lvbkxlbmd0aDogMCxcbiAgICAgIG1heFN1c3BlbnNpb25UcmF2ZWw6IDEsXG4gICAgICB1c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOiBmYWxzZSxcbiAgICAgIGN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ6IC0wLjFcbiAgICB9KTtcbiAgICB0aGlzLm1heFN1c3BlbnNpb25UcmF2ZWwgPSBvcHRpb25zLm1heFN1c3BlbnNpb25UcmF2ZWw7XG4gICAgdGhpcy5jdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkID0gb3B0aW9ucy5jdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkO1xuICAgIHRoaXMudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCA9IG9wdGlvbnMudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDtcbiAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbCA9IG9wdGlvbnMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsLmNsb25lKCk7XG4gICAgdGhpcy5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQgPSBvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZC5jbG9uZSgpO1xuICAgIHRoaXMuZGlyZWN0aW9uTG9jYWwgPSBvcHRpb25zLmRpcmVjdGlvbkxvY2FsLmNsb25lKCk7XG4gICAgdGhpcy5kaXJlY3Rpb25Xb3JsZCA9IG9wdGlvbnMuZGlyZWN0aW9uV29ybGQuY2xvbmUoKTtcbiAgICB0aGlzLmF4bGVMb2NhbCA9IG9wdGlvbnMuYXhsZUxvY2FsLmNsb25lKCk7XG4gICAgdGhpcy5heGxlV29ybGQgPSBvcHRpb25zLmF4bGVXb3JsZC5jbG9uZSgpO1xuICAgIHRoaXMuc3VzcGVuc2lvblJlc3RMZW5ndGggPSBvcHRpb25zLnN1c3BlbnNpb25SZXN0TGVuZ3RoO1xuICAgIHRoaXMuc3VzcGVuc2lvbk1heExlbmd0aCA9IG9wdGlvbnMuc3VzcGVuc2lvbk1heExlbmd0aDtcbiAgICB0aGlzLnJhZGl1cyA9IG9wdGlvbnMucmFkaXVzO1xuICAgIHRoaXMuc3VzcGVuc2lvblN0aWZmbmVzcyA9IG9wdGlvbnMuc3VzcGVuc2lvblN0aWZmbmVzcztcbiAgICB0aGlzLmRhbXBpbmdDb21wcmVzc2lvbiA9IG9wdGlvbnMuZGFtcGluZ0NvbXByZXNzaW9uO1xuICAgIHRoaXMuZGFtcGluZ1JlbGF4YXRpb24gPSBvcHRpb25zLmRhbXBpbmdSZWxheGF0aW9uO1xuICAgIHRoaXMuZnJpY3Rpb25TbGlwID0gb3B0aW9ucy5mcmljdGlvblNsaXA7XG4gICAgdGhpcy5mb3J3YXJkQWNjZWxlcmF0aW9uID0gb3B0aW9ucy5mb3J3YXJkQWNjZWxlcmF0aW9uO1xuICAgIHRoaXMuc2lkZUFjY2VsZXJhdGlvbiA9IG9wdGlvbnMuc2lkZUFjY2VsZXJhdGlvbjtcbiAgICB0aGlzLnN0ZWVyaW5nID0gMDtcbiAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICB0aGlzLmRlbHRhUm90YXRpb24gPSAwO1xuICAgIHRoaXMucm9sbEluZmx1ZW5jZSA9IG9wdGlvbnMucm9sbEluZmx1ZW5jZTtcbiAgICB0aGlzLm1heFN1c3BlbnNpb25Gb3JjZSA9IG9wdGlvbnMubWF4U3VzcGVuc2lvbkZvcmNlO1xuICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwO1xuICAgIHRoaXMuYnJha2UgPSAwO1xuICAgIHRoaXMuaXNGcm9udFdoZWVsID0gb3B0aW9ucy5pc0Zyb250V2hlZWw7XG4gICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxO1xuICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuc3VzcGVuc2lvbkZvcmNlID0gMDtcbiAgICB0aGlzLnNsaXBJbmZvID0gMDtcbiAgICB0aGlzLnNraWRJbmZvID0gMDtcbiAgICB0aGlzLnN1c3BlbnNpb25MZW5ndGggPSAwO1xuICAgIHRoaXMuc2lkZUltcHVsc2UgPSAwO1xuICAgIHRoaXMuZm9yd2FyZEltcHVsc2UgPSAwO1xuICAgIHRoaXMucmF5Y2FzdFJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7XG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICB0aGlzLmlzSW5Db250YWN0ID0gZmFsc2U7XG4gIH1cblxuICB1cGRhdGVXaGVlbChjaGFzc2lzKSB7XG4gICAgY29uc3QgcmF5Y2FzdFJlc3VsdCA9IHRoaXMucmF5Y2FzdFJlc3VsdDtcblxuICAgIGlmICh0aGlzLmlzSW5Db250YWN0KSB7XG4gICAgICBjb25zdCBwcm9qZWN0ID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3QocmF5Y2FzdFJlc3VsdC5kaXJlY3Rpb25Xb3JsZCk7XG4gICAgICByYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1YihjaGFzc2lzLnBvc2l0aW9uLCByZWxwb3MpO1xuICAgICAgY2hhc3Npcy5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChyZWxwb3MsIGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTtcbiAgICAgIGNvbnN0IHByb2pWZWwgPSByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLmRvdChjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7XG5cbiAgICAgIGlmIChwcm9qZWN0ID49IC0wLjEpIHtcbiAgICAgICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDAuMDtcbiAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjAgLyAwLjE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpbnYgPSAtMSAvIHByb2plY3Q7XG4gICAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSBwcm9qVmVsICogaW52O1xuICAgICAgICB0aGlzLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IGludjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm90IGluIGNvbnRhY3QgOiBwb3NpdGlvbiB3aGVlbCBpbiBhIG5pY2UgKHJlc3QgbGVuZ3RoKSBwb3NpdGlvblxuICAgICAgcmF5Y2FzdFJlc3VsdC5zdXNwZW5zaW9uTGVuZ3RoID0gdGhpcy5zdXNwZW5zaW9uUmVzdExlbmd0aDtcbiAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwLjA7XG4gICAgICByYXljYXN0UmVzdWx0LmRpcmVjdGlvbldvcmxkLnNjYWxlKC0xLCByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKTtcbiAgICAgIHRoaXMuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uID0gMS4wO1xuICAgIH1cbiAgfVxuXG59XG5jb25zdCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCA9IG5ldyBWZWMzKCk7XG5jb25zdCByZWxwb3MgPSBuZXcgVmVjMygpO1xuXG4vKipcbiAqIFZlaGljbGUgaGVscGVyIGNsYXNzIHRoYXQgY2FzdHMgcmF5cyBmcm9tIHRoZSB3aGVlbCBwb3NpdGlvbnMgdG93YXJkcyB0aGUgZ3JvdW5kIGFuZCBhcHBsaWVzIGZvcmNlcy5cbiAqIEBjbGFzcyBSYXljYXN0VmVoaWNsZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0JvZHl9IFtvcHRpb25zLmNoYXNzaXNCb2R5XSBUaGUgY2FyIGNoYXNzaXMgYm9keS5cbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhSaWdodEF4aXNdIEF4aXMgdG8gdXNlIGZvciByaWdodC4geD0wLCB5PTEsIHo9MlxuICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0aW9ucy5pbmRleExlZnRBeGlzXVxuICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0aW9ucy5pbmRleFVwQXhpc11cbiAqL1xuY2xhc3MgUmF5Y2FzdFZlaGljbGUge1xuICAvLyBXaWxsIGJlIHNldCB0byB0cnVlIGlmIHRoZSBjYXIgaXMgc2xpZGluZy5cbiAgLy8gSW5kZXggb2YgdGhlIHJpZ2h0IGF4aXMsIDA9eCwgMT15LCAyPXpcbiAgLy8gSW5kZXggb2YgdGhlIGZvcndhcmQgYXhpcywgMD14LCAxPXksIDI9elxuICAvLyBJbmRleCBvZiB0aGUgdXAgYXhpcywgMD14LCAxPXksIDI9elxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5jaGFzc2lzQm9keSA9IG9wdGlvbnMuY2hhc3Npc0JvZHk7XG4gICAgdGhpcy53aGVlbEluZm9zID0gW107XG4gICAgdGhpcy5zbGlkaW5nID0gZmFsc2U7XG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG4gICAgdGhpcy5pbmRleFJpZ2h0QXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4UmlnaHRBeGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuaW5kZXhSaWdodEF4aXMgOiAyO1xuICAgIHRoaXMuaW5kZXhGb3J3YXJkQXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4Rm9yd2FyZEF4aXMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5pbmRleEZvcndhcmRBeGlzIDogMDtcbiAgICB0aGlzLmluZGV4VXBBeGlzID0gdHlwZW9mIG9wdGlvbnMuaW5kZXhVcEF4aXMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5pbmRleFVwQXhpcyA6IDE7XG4gICAgdGhpcy5jb25zdHJhaW50cyA9IFtdO1xuXG4gICAgdGhpcy5wcmVTdGVwQ2FsbGJhY2sgPSAoKSA9PiB7fTtcblxuICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciA9IDA7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIHdoZWVsLiBGb3IgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9wdGlvbnMsIHNlZSBXaGVlbEluZm8uXG4gICAqIEBtZXRob2QgYWRkV2hlZWxcbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgKi9cblxuXG4gIGFkZFdoZWVsKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGluZm8gPSBuZXcgV2hlZWxJbmZvKG9wdGlvbnMpO1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy53aGVlbEluZm9zLmxlbmd0aDtcbiAgICB0aGlzLndoZWVsSW5mb3MucHVzaChpbmZvKTtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgc3RlZXJpbmcgdmFsdWUgb2YgYSB3aGVlbC5cbiAgICogQG1ldGhvZCBzZXRTdGVlcmluZ1ZhbHVlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcbiAgICovXG5cblxuICBzZXRTdGVlcmluZ1ZhbHVlKHZhbHVlLCB3aGVlbEluZGV4KSB7XG4gICAgY29uc3Qgd2hlZWwgPSB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF07XG4gICAgd2hlZWwuc3RlZXJpbmcgPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSB3aGVlbCBmb3JjZSB0byBhcHBseSBvbiBvbmUgb2YgdGhlIHdoZWVscyBlYWNoIHRpbWUgc3RlcFxuICAgKiBAbWV0aG9kIGFwcGx5RW5naW5lRm9yY2VcbiAgICogQHBhcmFtICB7bnVtYmVyfSB2YWx1ZVxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSB3aGVlbEluZGV4XG4gICAqL1xuXG5cbiAgYXBwbHlFbmdpbmVGb3JjZSh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XS5lbmdpbmVGb3JjZSA9IHZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGJyYWtpbmcgZm9yY2Ugb2YgYSB3aGVlbFxuICAgKiBAbWV0aG9kIHNldEJyYWtlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBicmFrZVxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcbiAgICovXG5cblxuICBzZXRCcmFrZShicmFrZSwgd2hlZWxJbmRleCkge1xuICAgIHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XS5icmFrZSA9IGJyYWtlO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgdGhlIHZlaGljbGUgaW5jbHVkaW5nIGl0cyBjb25zdHJhaW50cyB0byB0aGUgd29ybGQuXG4gICAqIEBtZXRob2QgYWRkVG9Xb3JsZFxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxuICAgKi9cblxuXG4gIGFkZFRvV29ybGQod29ybGQpIHtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuY29uc3RyYWludHM7XG4gICAgd29ybGQuYWRkQm9keSh0aGlzLmNoYXNzaXNCb2R5KTtcbiAgICBjb25zdCB0aGF0ID0gdGhpcztcblxuICAgIHRoaXMucHJlU3RlcENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgdGhhdC51cGRhdGVWZWhpY2xlKHdvcmxkLmR0KTtcbiAgICB9O1xuXG4gICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvbmUgb2YgdGhlIHdoZWVsIGF4bGVzLCB3b3JsZC1vcmllbnRlZC5cbiAgICogQHByaXZhdGVcbiAgICogQG1ldGhvZCBnZXRWZWhpY2xlQXhpc1dvcmxkXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IGF4aXNJbmRleFxuICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHRcbiAgICovXG5cblxuICBnZXRWZWhpY2xlQXhpc1dvcmxkKGF4aXNJbmRleCwgcmVzdWx0KSB7XG4gICAgcmVzdWx0LnNldChheGlzSW5kZXggPT09IDAgPyAxIDogMCwgYXhpc0luZGV4ID09PSAxID8gMSA6IDAsIGF4aXNJbmRleCA9PT0gMiA/IDEgOiAwKTtcbiAgICB0aGlzLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShyZXN1bHQsIHJlc3VsdCk7XG4gIH1cblxuICB1cGRhdGVWZWhpY2xlKHRpbWVTdGVwKSB7XG4gICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvcztcbiAgICBjb25zdCBudW1XaGVlbHMgPSB3aGVlbEluZm9zLmxlbmd0aDtcbiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtKGkpO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciA9IDMuNiAqIGNoYXNzaXNCb2R5LnZlbG9jaXR5Lmxlbmd0aCgpO1xuICAgIGNvbnN0IGZvcndhcmRXb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5nZXRWZWhpY2xlQXhpc1dvcmxkKHRoaXMuaW5kZXhGb3J3YXJkQXhpcywgZm9yd2FyZFdvcmxkKTtcblxuICAgIGlmIChmb3J3YXJkV29ybGQuZG90KGNoYXNzaXNCb2R5LnZlbG9jaXR5KSA8IDApIHtcbiAgICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciAqPSAtMTtcbiAgICB9IC8vIHNpbXVsYXRlIHN1c3BlbnNpb25cblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgdGhpcy5jYXN0UmF5KHdoZWVsSW5mb3NbaV0pO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlU3VzcGVuc2lvbih0aW1lU3RlcCk7XG4gICAgY29uc3QgaW1wdWxzZSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcmVscG9zID0gbmV3IFZlYzMoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgIC8vYXBwbHkgc3VzcGVuc2lvbiBmb3JjZVxuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuICAgICAgbGV0IHN1c3BlbnNpb25Gb3JjZSA9IHdoZWVsLnN1c3BlbnNpb25Gb3JjZTtcblxuICAgICAgaWYgKHN1c3BlbnNpb25Gb3JjZSA+IHdoZWVsLm1heFN1c3BlbnNpb25Gb3JjZSkge1xuICAgICAgICBzdXNwZW5zaW9uRm9yY2UgPSB3aGVlbC5tYXhTdXNwZW5zaW9uRm9yY2U7XG4gICAgICB9XG5cbiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuc2NhbGUoc3VzcGVuc2lvbkZvcmNlICogdGltZVN0ZXAsIGltcHVsc2UpO1xuICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLnZzdWIoY2hhc3Npc0JvZHkucG9zaXRpb24sIHJlbHBvcyk7XG4gICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2UoaW1wdWxzZSwgcmVscG9zKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUZyaWN0aW9uKHRpbWVTdGVwKTtcbiAgICBjb25zdCBoaXROb3JtYWxXb3JsZFNjYWxlZFdpdGhQcm9qID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBmd2QgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHZlbCA9IG5ldyBWZWMzKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07IC8vY29uc3QgcmVscG9zID0gbmV3IFZlYzMoKTtcbiAgICAgIC8vd2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLnZzdWIoY2hhc3Npc0JvZHkucG9zaXRpb24sIHJlbHBvcyk7XG5cbiAgICAgIGNoYXNzaXNCb2R5LmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCwgdmVsKTsgLy8gSGFjayB0byBnZXQgdGhlIHJvdGF0aW9uIGluIHRoZSBjb3JyZWN0IGRpcmVjdGlvblxuXG4gICAgICBsZXQgbSA9IDE7XG5cbiAgICAgIHN3aXRjaCAodGhpcy5pbmRleFVwQXhpcykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbSA9IC0xO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAod2hlZWwuaXNJbkNvbnRhY3QpIHtcbiAgICAgICAgdGhpcy5nZXRWZWhpY2xlQXhpc1dvcmxkKHRoaXMuaW5kZXhGb3J3YXJkQXhpcywgZndkKTtcbiAgICAgICAgY29uc3QgcHJvaiA9IGZ3ZC5kb3Qod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZCk7XG4gICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuc2NhbGUocHJvaiwgaGl0Tm9ybWFsV29ybGRTY2FsZWRXaXRoUHJvaik7XG4gICAgICAgIGZ3ZC52c3ViKGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2osIGZ3ZCk7XG4gICAgICAgIGNvbnN0IHByb2oyID0gZndkLmRvdCh2ZWwpO1xuICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gbSAqIHByb2oyICogdGltZVN0ZXAgLyB3aGVlbC5yYWRpdXM7XG4gICAgICB9XG5cbiAgICAgIGlmICgod2hlZWwuc2xpZGluZyB8fCAhd2hlZWwuaXNJbkNvbnRhY3QpICYmIHdoZWVsLmVuZ2luZUZvcmNlICE9PSAwICYmIHdoZWVsLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQpIHtcbiAgICAgICAgLy8gQXBwbHkgY3VzdG9tIHJvdGF0aW9uIHdoZW4gYWNjZWxlcmF0aW5nIGFuZCBzbGlkaW5nXG4gICAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gPSAod2hlZWwuZW5naW5lRm9yY2UgPiAwID8gMSA6IC0xKSAqIHdoZWVsLmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgKiB0aW1lU3RlcDtcbiAgICAgIH0gLy8gTG9jayB3aGVlbHNcblxuXG4gICAgICBpZiAoTWF0aC5hYnMod2hlZWwuYnJha2UpID4gTWF0aC5hYnMod2hlZWwuZW5naW5lRm9yY2UpKSB7XG4gICAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gPSAwO1xuICAgICAgfVxuXG4gICAgICB3aGVlbC5yb3RhdGlvbiArPSB3aGVlbC5kZWx0YVJvdGF0aW9uOyAvLyBVc2UgdGhlIG9sZCB2YWx1ZVxuXG4gICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uICo9IDAuOTk7IC8vIGRhbXBpbmcgb2Ygcm90YXRpb24gd2hlbiBub3QgaW4gY29udGFjdFxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVN1c3BlbnNpb24oZGVsdGFUaW1lKSB7XG4gICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5O1xuICAgIGNvbnN0IGNoYXNzaXNNYXNzID0gY2hhc3Npc0JvZHkubWFzcztcbiAgICBjb25zdCB3aGVlbEluZm9zID0gdGhpcy53aGVlbEluZm9zO1xuICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgd19pdCA9IDA7IHdfaXQgPCBudW1XaGVlbHM7IHdfaXQrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW3dfaXRdO1xuXG4gICAgICBpZiAod2hlZWwuaXNJbkNvbnRhY3QpIHtcbiAgICAgICAgbGV0IGZvcmNlOyAvLyBTcHJpbmdcblxuICAgICAgICBjb25zdCBzdXNwX2xlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoO1xuICAgICAgICBjb25zdCBjdXJyZW50X2xlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25MZW5ndGg7XG4gICAgICAgIGNvbnN0IGxlbmd0aF9kaWZmID0gc3VzcF9sZW5ndGggLSBjdXJyZW50X2xlbmd0aDtcbiAgICAgICAgZm9yY2UgPSB3aGVlbC5zdXNwZW5zaW9uU3RpZmZuZXNzICogbGVuZ3RoX2RpZmYgKiB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb247IC8vIERhbXBlclxuXG4gICAgICAgIGNvbnN0IHByb2plY3RlZF9yZWxfdmVsID0gd2hlZWwuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk7XG4gICAgICAgIGxldCBzdXNwX2RhbXBpbmc7XG5cbiAgICAgICAgaWYgKHByb2plY3RlZF9yZWxfdmVsIDwgMCkge1xuICAgICAgICAgIHN1c3BfZGFtcGluZyA9IHdoZWVsLmRhbXBpbmdDb21wcmVzc2lvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdXNwX2RhbXBpbmcgPSB3aGVlbC5kYW1waW5nUmVsYXhhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcmNlIC09IHN1c3BfZGFtcGluZyAqIHByb2plY3RlZF9yZWxfdmVsO1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uRm9yY2UgPSBmb3JjZSAqIGNoYXNzaXNNYXNzO1xuXG4gICAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uRm9yY2UgPCAwKSB7XG4gICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgdmVoaWNsZSBpbmNsdWRpbmcgaXRzIGNvbnN0cmFpbnRzIGZyb20gdGhlIHdvcmxkLlxuICAgKiBAbWV0aG9kIHJlbW92ZUZyb21Xb3JsZFxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxuICAgKi9cblxuXG4gIHJlbW92ZUZyb21Xb3JsZCh3b3JsZCkge1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICB3b3JsZC5yZW1vdmVCb2R5KHRoaXMuY2hhc3Npc0JvZHkpO1xuICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB0aGlzLnByZVN0ZXBDYWxsYmFjayk7XG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG4gIH1cblxuICBjYXN0UmF5KHdoZWVsKSB7XG4gICAgY29uc3QgcmF5dmVjdG9yID0gY2FzdFJheV9yYXl2ZWN0b3I7XG4gICAgY29uc3QgdGFyZ2V0ID0gY2FzdFJheV90YXJnZXQ7XG4gICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKTtcbiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7XG4gICAgbGV0IGRlcHRoID0gLTE7XG4gICAgY29uc3QgcmF5bGVuID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGggKyB3aGVlbC5yYWRpdXM7XG4gICAgd2hlZWwuZGlyZWN0aW9uV29ybGQuc2NhbGUocmF5bGVuLCByYXl2ZWN0b3IpO1xuICAgIGNvbnN0IHNvdXJjZSA9IHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZDtcbiAgICBzb3VyY2UudmFkZChyYXl2ZWN0b3IsIHRhcmdldCk7XG4gICAgY29uc3QgcmF5Y2FzdFJlc3VsdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQ7XG4gICAgcmF5Y2FzdFJlc3VsdC5yZXNldCgpOyAvLyBUdXJuIG9mZiByYXkgY29sbGlzaW9uIHdpdGggdGhlIGNoYXNzaXMgdGVtcG9yYXJpbHlcblxuICAgIGNvbnN0IG9sZFN0YXRlID0gY2hhc3Npc0JvZHkuY29sbGlzaW9uUmVzcG9uc2U7XG4gICAgY2hhc3Npc0JvZHkuY29sbGlzaW9uUmVzcG9uc2UgPSBmYWxzZTsgLy8gQ2FzdCByYXkgYWdhaW5zdCB3b3JsZFxuXG4gICAgdGhpcy53b3JsZC5yYXlUZXN0KHNvdXJjZSwgdGFyZ2V0LCByYXljYXN0UmVzdWx0KTtcbiAgICBjaGFzc2lzQm9keS5jb2xsaXNpb25SZXNwb25zZSA9IG9sZFN0YXRlO1xuICAgIGNvbnN0IG9iamVjdCA9IHJheWNhc3RSZXN1bHQuYm9keTtcbiAgICB3aGVlbC5yYXljYXN0UmVzdWx0Lmdyb3VuZE9iamVjdCA9IDA7XG5cbiAgICBpZiAob2JqZWN0KSB7XG4gICAgICBkZXB0aCA9IHJheWNhc3RSZXN1bHQuZGlzdGFuY2U7XG4gICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDtcbiAgICAgIHdoZWVsLmlzSW5Db250YWN0ID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGhpdERpc3RhbmNlID0gcmF5Y2FzdFJlc3VsdC5kaXN0YW5jZTtcbiAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSBoaXREaXN0YW5jZSAtIHdoZWVsLnJhZGl1czsgLy8gY2xhbXAgb24gbWF4IHN1c3BlbnNpb24gdHJhdmVsXG5cbiAgICAgIGNvbnN0IG1pblN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCAtIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7XG4gICAgICBjb25zdCBtYXhTdXNwZW5zaW9uTGVuZ3RoID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGggKyB3aGVlbC5tYXhTdXNwZW5zaW9uVHJhdmVsO1xuXG4gICAgICBpZiAod2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA8IG1pblN1c3BlbnNpb25MZW5ndGgpIHtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IG1pblN1c3BlbnNpb25MZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID4gbWF4U3VzcGVuc2lvbkxlbmd0aCkge1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID0gbWF4U3VzcGVuc2lvbkxlbmd0aDtcbiAgICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5yZXNldCgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkZW5vbWluYXRvciA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KHdoZWVsLmRpcmVjdGlvbldvcmxkKTtcbiAgICAgIGNvbnN0IGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50ID0gbmV3IFZlYzMoKTtcbiAgICAgIGNoYXNzaXNCb2R5LmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpO1xuICAgICAgY29uc3QgcHJvalZlbCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTtcblxuICAgICAgaWYgKGRlbm9taW5hdG9yID49IC0wLjEpIHtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwO1xuICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxIC8gMC4xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaW52ID0gLTEgLyBkZW5vbWluYXRvcjtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSBwcm9qVmVsICogaW52O1xuICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSBpbnY7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vcHV0IHdoZWVsIGluZm8gYXMgaW4gcmVzdCBwb3NpdGlvblxuICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoICsgMCAqIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7XG4gICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDAuMDtcbiAgICAgIHdoZWVsLmRpcmVjdGlvbldvcmxkLnNjYWxlKC0xLCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKTtcbiAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEuMDtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVwdGg7XG4gIH1cblxuICB1cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKSB7XG4gICAgd2hlZWwuaXNJbkNvbnRhY3QgPSBmYWxzZTtcbiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7XG4gICAgY2hhc3Npc0JvZHkucG9pbnRUb1dvcmxkRnJhbWUod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsLCB3aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQpO1xuICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh3aGVlbC5kaXJlY3Rpb25Mb2NhbCwgd2hlZWwuZGlyZWN0aW9uV29ybGQpO1xuICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh3aGVlbC5heGxlTG9jYWwsIHdoZWVsLmF4bGVXb3JsZCk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSBvbmUgb2YgdGhlIHdoZWVsIHRyYW5zZm9ybS5cbiAgICogTm90ZSB3aGVuIHJlbmRlcmluZyB3aGVlbHM6IGR1cmluZyBlYWNoIHN0ZXAsIHdoZWVsIHRyYW5zZm9ybXMgYXJlIHVwZGF0ZWQgQkVGT1JFIHRoZSBjaGFzc2lzOyBpZS4gdGhlaXIgcG9zaXRpb24gYmVjb21lcyBpbnZhbGlkIGFmdGVyIHRoZSBzdGVwLiBUaHVzIHdoZW4geW91IHJlbmRlciB3aGVlbHMsIHlvdSBtdXN0IHVwZGF0ZSB3aGVlbCB0cmFuc2Zvcm1zIGJlZm9yZSByZW5kZXJpbmcgdGhlbS4gU2VlIHJheWNhc3RWZWhpY2xlIGRlbW8gZm9yIGFuIGV4YW1wbGUuXG4gICAqIEBtZXRob2QgdXBkYXRlV2hlZWxUcmFuc2Zvcm1cbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4IFRoZSB3aGVlbCBpbmRleCB0byB1cGRhdGUuXG4gICAqL1xuXG5cbiAgdXBkYXRlV2hlZWxUcmFuc2Zvcm0od2hlZWxJbmRleCkge1xuICAgIGNvbnN0IHVwID0gdG1wVmVjNDtcbiAgICBjb25zdCByaWdodCA9IHRtcFZlYzU7XG4gICAgY29uc3QgZndkID0gdG1wVmVjNjtcbiAgICBjb25zdCB3aGVlbCA9IHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XTtcbiAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtV29ybGQod2hlZWwpO1xuICAgIHdoZWVsLmRpcmVjdGlvbkxvY2FsLnNjYWxlKC0xLCB1cCk7XG4gICAgcmlnaHQuY29weSh3aGVlbC5heGxlTG9jYWwpO1xuICAgIHVwLmNyb3NzKHJpZ2h0LCBmd2QpO1xuICAgIGZ3ZC5ub3JtYWxpemUoKTtcbiAgICByaWdodC5ub3JtYWxpemUoKTsgLy8gUm90YXRlIGFyb3VuZCBzdGVlcmluZyBvdmVyIHRoZSB3aGVlbEF4bGVcblxuICAgIGNvbnN0IHN0ZWVyaW5nID0gd2hlZWwuc3RlZXJpbmc7XG4gICAgY29uc3Qgc3RlZXJpbmdPcm4gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgIHN0ZWVyaW5nT3JuLnNldEZyb21BeGlzQW5nbGUodXAsIHN0ZWVyaW5nKTtcbiAgICBjb25zdCByb3RhdGluZ09ybiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG4gICAgcm90YXRpbmdPcm4uc2V0RnJvbUF4aXNBbmdsZShyaWdodCwgd2hlZWwucm90YXRpb24pOyAvLyBXb3JsZCByb3RhdGlvbiBvZiB0aGUgd2hlZWxcblxuICAgIGNvbnN0IHEgPSB3aGVlbC53b3JsZFRyYW5zZm9ybS5xdWF0ZXJuaW9uO1xuICAgIHRoaXMuY2hhc3Npc0JvZHkucXVhdGVybmlvbi5tdWx0KHN0ZWVyaW5nT3JuLCBxKTtcbiAgICBxLm11bHQocm90YXRpbmdPcm4sIHEpO1xuICAgIHEubm9ybWFsaXplKCk7IC8vIHdvcmxkIHBvc2l0aW9uIG9mIHRoZSB3aGVlbFxuXG4gICAgY29uc3QgcCA9IHdoZWVsLndvcmxkVHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgIHAuY29weSh3aGVlbC5kaXJlY3Rpb25Xb3JsZCk7XG4gICAgcC5zY2FsZSh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoLCBwKTtcbiAgICBwLnZhZGQod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLCBwKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSB3b3JsZCB0cmFuc2Zvcm0gb2Ygb25lIG9mIHRoZSB3aGVlbHNcbiAgICogQG1ldGhvZCBnZXRXaGVlbFRyYW5zZm9ybVdvcmxkXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXhcbiAgICogQHJldHVybiB7VHJhbnNmb3JtfVxuICAgKi9cblxuXG4gIGdldFdoZWVsVHJhbnNmb3JtV29ybGQod2hlZWxJbmRleCkge1xuICAgIHJldHVybiB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0ud29ybGRUcmFuc2Zvcm07XG4gIH1cblxuICB1cGRhdGVGcmljdGlvbih0aW1lU3RlcCkge1xuICAgIGNvbnN0IHN1cmZOb3JtYWxXU19zY2FsZWRfcHJvaiA9IHVwZGF0ZUZyaWN0aW9uX3N1cmZOb3JtYWxXU19zY2FsZWRfcHJvajsgLy9jYWxjdWxhdGUgdGhlIGltcHVsc2UsIHNvIHRoYXQgdGhlIHdoZWVscyBkb24ndCBtb3ZlIHNpZGV3YXJkc1xuXG4gICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvcztcbiAgICBjb25zdCBudW1XaGVlbHMgPSB3aGVlbEluZm9zLmxlbmd0aDtcbiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7XG4gICAgY29uc3QgZm9yd2FyZFdTID0gdXBkYXRlRnJpY3Rpb25fZm9yd2FyZFdTO1xuICAgIGNvbnN0IGF4bGUgPSB1cGRhdGVGcmljdGlvbl9heGxlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5O1xuXG4gICAgICB3aGVlbC5zaWRlSW1wdWxzZSA9IDA7XG4gICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSA9IDA7XG5cbiAgICAgIGlmICghZm9yd2FyZFdTW2ldKSB7XG4gICAgICAgIGZvcndhcmRXU1tpXSA9IG5ldyBWZWMzKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXhsZVtpXSkge1xuICAgICAgICBheGxlW2ldID0gbmV3IFZlYzMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07XG4gICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7XG5cbiAgICAgIGlmIChncm91bmRPYmplY3QpIHtcbiAgICAgICAgY29uc3QgYXhsZWkgPSBheGxlW2ldO1xuICAgICAgICBjb25zdCB3aGVlbFRyYW5zID0gdGhpcy5nZXRXaGVlbFRyYW5zZm9ybVdvcmxkKGkpOyAvLyBHZXQgd29ybGQgYXhsZVxuXG4gICAgICAgIHdoZWVsVHJhbnMudmVjdG9yVG9Xb3JsZEZyYW1lKGRpcmVjdGlvbnNbdGhpcy5pbmRleFJpZ2h0QXhpc10sIGF4bGVpKTtcbiAgICAgICAgY29uc3Qgc3VyZk5vcm1hbFdTID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDtcbiAgICAgICAgY29uc3QgcHJvaiA9IGF4bGVpLmRvdChzdXJmTm9ybWFsV1MpO1xuICAgICAgICBzdXJmTm9ybWFsV1Muc2NhbGUocHJvaiwgc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qKTtcbiAgICAgICAgYXhsZWkudnN1YihzdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2osIGF4bGVpKTtcbiAgICAgICAgYXhsZWkubm9ybWFsaXplKCk7XG4gICAgICAgIHN1cmZOb3JtYWxXUy5jcm9zcyhheGxlaSwgZm9yd2FyZFdTW2ldKTtcbiAgICAgICAgZm9yd2FyZFdTW2ldLm5vcm1hbGl6ZSgpO1xuICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWwoY2hhc3Npc0JvZHksIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgZ3JvdW5kT2JqZWN0LCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGF4bGVpKTtcbiAgICAgICAgd2hlZWwuc2lkZUltcHVsc2UgKj0gc2lkZUZyaWN0aW9uU3RpZmZuZXNzMjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzaWRlRmFjdG9yID0gMTtcbiAgICBjb25zdCBmd2RGYWN0b3IgPSAwLjU7XG4gICAgdGhpcy5zbGlkaW5nID0gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07XG4gICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7XG4gICAgICBsZXQgcm9sbGluZ0ZyaWN0aW9uID0gMDtcbiAgICAgIHdoZWVsLnNsaXBJbmZvID0gMTtcblxuICAgICAgaWYgKGdyb3VuZE9iamVjdCkge1xuICAgICAgICBjb25zdCBkZWZhdWx0Um9sbGluZ0ZyaWN0aW9uSW1wdWxzZSA9IDA7XG4gICAgICAgIGNvbnN0IG1heEltcHVsc2UgPSB3aGVlbC5icmFrZSA/IHdoZWVsLmJyYWtlIDogZGVmYXVsdFJvbGxpbmdGcmljdGlvbkltcHVsc2U7IC8vIGJ0V2hlZWxDb250YWN0UG9pbnQgY29udGFjdFB0KGNoYXNzaXNCb2R5LGdyb3VuZE9iamVjdCx3aGVlbEluZnJheWNhc3RJbmZvLmhpdFBvaW50V29ybGQsZm9yd2FyZFdTW3doZWVsXSxtYXhJbXB1bHNlKTtcbiAgICAgICAgLy8gcm9sbGluZ0ZyaWN0aW9uID0gY2FsY1JvbGxpbmdGcmljdGlvbihjb250YWN0UHQpO1xuXG4gICAgICAgIHJvbGxpbmdGcmljdGlvbiA9IGNhbGNSb2xsaW5nRnJpY3Rpb24oY2hhc3Npc0JvZHksIGdyb3VuZE9iamVjdCwgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBmb3J3YXJkV1NbaV0sIG1heEltcHVsc2UpO1xuICAgICAgICByb2xsaW5nRnJpY3Rpb24gKz0gd2hlZWwuZW5naW5lRm9yY2UgKiB0aW1lU3RlcDsgLy8gcm9sbGluZ0ZyaWN0aW9uID0gMDtcblxuICAgICAgICBjb25zdCBmYWN0b3IgPSBtYXhJbXB1bHNlIC8gcm9sbGluZ0ZyaWN0aW9uO1xuICAgICAgICB3aGVlbC5zbGlwSW5mbyAqPSBmYWN0b3I7XG4gICAgICB9IC8vc3dpdGNoIGJldHdlZW4gYWN0aXZlIHJvbGxpbmcgKHRocm90dGxlKSwgYnJha2luZyBhbmQgbm9uLWFjdGl2ZSByb2xsaW5nIGZyaWN0aW9uIChudGhyb3R0bGUvYnJlYWspXG5cblxuICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgPSAwO1xuICAgICAgd2hlZWwuc2tpZEluZm8gPSAxO1xuXG4gICAgICBpZiAoZ3JvdW5kT2JqZWN0KSB7XG4gICAgICAgIHdoZWVsLnNraWRJbmZvID0gMTtcbiAgICAgICAgY29uc3QgbWF4aW1wID0gd2hlZWwuc3VzcGVuc2lvbkZvcmNlICogdGltZVN0ZXAgKiB3aGVlbC5mcmljdGlvblNsaXA7XG4gICAgICAgIGNvbnN0IG1heGltcFNpZGUgPSBtYXhpbXA7XG4gICAgICAgIGNvbnN0IG1heGltcFNxdWFyZWQgPSBtYXhpbXAgKiBtYXhpbXBTaWRlO1xuICAgICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSA9IHJvbGxpbmdGcmljdGlvbjsgLy93aGVlbEluZm8uZW5naW5lRm9yY2UqIHRpbWVTdGVwO1xuXG4gICAgICAgIGNvbnN0IHggPSB3aGVlbC5mb3J3YXJkSW1wdWxzZSAqIGZ3ZEZhY3RvciAvIHdoZWVsLmZvcndhcmRBY2NlbGVyYXRpb247XG4gICAgICAgIGNvbnN0IHkgPSB3aGVlbC5zaWRlSW1wdWxzZSAqIHNpZGVGYWN0b3IgLyB3aGVlbC5zaWRlQWNjZWxlcmF0aW9uO1xuICAgICAgICBjb25zdCBpbXB1bHNlU3F1YXJlZCA9IHggKiB4ICsgeSAqIHk7XG4gICAgICAgIHdoZWVsLnNsaWRpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoaW1wdWxzZVNxdWFyZWQgPiBtYXhpbXBTcXVhcmVkKSB7XG4gICAgICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZTtcbiAgICAgICAgICB3aGVlbC5zbGlkaW5nID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBtYXhpbXAgLyBNYXRoLnNxcnQoaW1wdWxzZVNxdWFyZWQpO1xuICAgICAgICAgIHdoZWVsLnNraWRJbmZvICo9IGZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnNsaWRpbmcpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuXG4gICAgICAgIGlmICh3aGVlbC5zaWRlSW1wdWxzZSAhPT0gMCkge1xuICAgICAgICAgIGlmICh3aGVlbC5za2lkSW5mbyA8IDEpIHtcbiAgICAgICAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlICo9IHdoZWVsLnNraWRJbmZvO1xuICAgICAgICAgICAgd2hlZWwuc2lkZUltcHVsc2UgKj0gd2hlZWwuc2tpZEluZm87XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBhcHBseSB0aGUgaW1wdWxzZXNcblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuICAgICAgY29uc3QgcmVsX3BvcyA9IG5ldyBWZWMzKCk7XG4gICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1YihjaGFzc2lzQm9keS5wb3NpdGlvbiwgcmVsX3Bvcyk7IC8vIGNhbm5vbnMgYXBwbHlpbXB1bHNlIGlzIHVzaW5nIHdvcmxkIGNvb3JkIGZvciB0aGUgcG9zaXRpb25cbiAgICAgIC8vcmVsX3Bvcy5jb3B5KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCk7XG5cbiAgICAgIGlmICh3aGVlbC5mb3J3YXJkSW1wdWxzZSAhPT0gMCkge1xuICAgICAgICBjb25zdCBpbXB1bHNlID0gbmV3IFZlYzMoKTtcbiAgICAgICAgZm9yd2FyZFdTW2ldLnNjYWxlKHdoZWVsLmZvcndhcmRJbXB1bHNlLCBpbXB1bHNlKTtcbiAgICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKGltcHVsc2UsIHJlbF9wb3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAod2hlZWwuc2lkZUltcHVsc2UgIT09IDApIHtcbiAgICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5O1xuICAgICAgICBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7XG4gICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGdyb3VuZE9iamVjdC5wb3NpdGlvbiwgcmVsX3BvczIpOyAvL3JlbF9wb3MyLmNvcHkod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkKTtcblxuICAgICAgICBjb25zdCBzaWRlSW1wID0gbmV3IFZlYzMoKTtcbiAgICAgICAgYXhsZVtpXS5zY2FsZSh3aGVlbC5zaWRlSW1wdWxzZSwgc2lkZUltcCk7IC8vIFNjYWxlIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBpbiB0aGUgdXAgZGlyZWN0aW9uIHdpdGggcm9sbEluZmx1ZW5jZS5cbiAgICAgICAgLy8gSWYgcm9sbEluZmx1ZW5jZSBpcyAxLCB0aGUgaW1wdWxzZSB3aWxsIGJlIGFwcGxpZWQgb24gdGhlIGhpdFBvaW50IChlYXN5IHRvIHJvbGwgb3ZlciksIGlmIGl0IGlzIHplcm8gaXQgd2lsbCBiZSBhcHBsaWVkIGluIHRoZSBzYW1lIHBsYW5lIGFzIHRoZSBjZW50ZXIgb2YgbWFzcyAobm90IGVhc3kgdG8gcm9sbCBvdmVyKS5cblxuICAgICAgICBjaGFzc2lzQm9keS52ZWN0b3JUb0xvY2FsRnJhbWUocmVsX3BvcywgcmVsX3Bvcyk7XG4gICAgICAgIHJlbF9wb3NbJ3h5eidbdGhpcy5pbmRleFVwQXhpc11dICo9IHdoZWVsLnJvbGxJbmZsdWVuY2U7XG4gICAgICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShyZWxfcG9zLCByZWxfcG9zKTtcbiAgICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKHNpZGVJbXAsIHJlbF9wb3MpOyAvL2FwcGx5IGZyaWN0aW9uIGltcHVsc2Ugb24gdGhlIGdyb3VuZFxuXG4gICAgICAgIHNpZGVJbXAuc2NhbGUoLTEsIHNpZGVJbXApO1xuICAgICAgICBncm91bmRPYmplY3QuYXBwbHlJbXB1bHNlKHNpZGVJbXAsIHJlbF9wb3MyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuY29uc3QgdG1wVmVjNCA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWM1ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFZlYzYgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wUmF5ID0gbmV3IFJheSgpO1xuY29uc3QgY2FzdFJheV9yYXl2ZWN0b3IgPSBuZXcgVmVjMygpO1xuY29uc3QgY2FzdFJheV90YXJnZXQgPSBuZXcgVmVjMygpO1xuY29uc3QgZGlyZWN0aW9ucyA9IFtuZXcgVmVjMygxLCAwLCAwKSwgbmV3IFZlYzMoMCwgMSwgMCksIG5ldyBWZWMzKDAsIDAsIDEpXTtcbmNvbnN0IHVwZGF0ZUZyaWN0aW9uX3N1cmZOb3JtYWxXU19zY2FsZWRfcHJvaiA9IG5ldyBWZWMzKCk7XG5jb25zdCB1cGRhdGVGcmljdGlvbl9heGxlID0gW107XG5jb25zdCB1cGRhdGVGcmljdGlvbl9mb3J3YXJkV1MgPSBbXTtcbmNvbnN0IHNpZGVGcmljdGlvblN0aWZmbmVzczIgPSAxO1xuY29uc3QgY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwxID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMiA9IG5ldyBWZWMzKCk7XG5jb25zdCBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbCA9IG5ldyBWZWMzKCk7XG5cbmZ1bmN0aW9uIGNhbGNSb2xsaW5nRnJpY3Rpb24oYm9keTAsIGJvZHkxLCBmcmljdGlvblBvc1dvcmxkLCBmcmljdGlvbkRpcmVjdGlvbldvcmxkLCBtYXhJbXB1bHNlKSB7XG4gIGxldCBqMSA9IDA7XG4gIGNvbnN0IGNvbnRhY3RQb3NXb3JsZCA9IGZyaWN0aW9uUG9zV29ybGQ7IC8vIGNvbnN0IHJlbF9wb3MxID0gbmV3IFZlYzMoKTtcbiAgLy8gY29uc3QgcmVsX3BvczIgPSBuZXcgVmVjMygpO1xuXG4gIGNvbnN0IHZlbDEgPSBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDE7XG4gIGNvbnN0IHZlbDIgPSBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDI7XG4gIGNvbnN0IHZlbCA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsOyAvLyBjb250YWN0UG9zV29ybGQudnN1Yihib2R5MC5wb3NpdGlvbiwgcmVsX3BvczEpO1xuICAvLyBjb250YWN0UG9zV29ybGQudnN1Yihib2R5MS5wb3NpdGlvbiwgcmVsX3BvczIpO1xuXG4gIGJvZHkwLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KGNvbnRhY3RQb3NXb3JsZCwgdmVsMSk7XG4gIGJvZHkxLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KGNvbnRhY3RQb3NXb3JsZCwgdmVsMik7XG4gIHZlbDEudnN1Yih2ZWwyLCB2ZWwpO1xuICBjb25zdCB2cmVsID0gZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZC5kb3QodmVsKTtcbiAgY29uc3QgZGVub20wID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcihib2R5MCwgZnJpY3Rpb25Qb3NXb3JsZCwgZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZCk7XG4gIGNvbnN0IGRlbm9tMSA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IoYm9keTEsIGZyaWN0aW9uUG9zV29ybGQsIGZyaWN0aW9uRGlyZWN0aW9uV29ybGQpO1xuICBjb25zdCByZWxheGF0aW9uID0gMTtcbiAgY29uc3QgamFjRGlhZ0FCSW52ID0gcmVsYXhhdGlvbiAvIChkZW5vbTAgKyBkZW5vbTEpOyAvLyBjYWxjdWxhdGUgaiB0aGF0IG1vdmVzIHVzIHRvIHplcm8gcmVsYXRpdmUgdmVsb2NpdHlcblxuICBqMSA9IC12cmVsICogamFjRGlhZ0FCSW52O1xuXG4gIGlmIChtYXhJbXB1bHNlIDwgajEpIHtcbiAgICBqMSA9IG1heEltcHVsc2U7XG4gIH1cblxuICBpZiAoajEgPCAtbWF4SW1wdWxzZSkge1xuICAgIGoxID0gLW1heEltcHVsc2U7XG4gIH1cblxuICByZXR1cm4gajE7XG59XG5cbmNvbnN0IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfcjAgPSBuZXcgVmVjMygpO1xuY29uc3QgY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9jMCA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3ZlYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX20gPSBuZXcgVmVjMygpO1xuXG5mdW5jdGlvbiBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yKGJvZHksIHBvcywgbm9ybWFsKSB7XG4gIGNvbnN0IHIwID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9yMDtcbiAgY29uc3QgYzAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwO1xuICBjb25zdCB2ZWMgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3ZlYztcbiAgY29uc3QgbSA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfbTtcbiAgcG9zLnZzdWIoYm9keS5wb3NpdGlvbiwgcjApO1xuICByMC5jcm9zcyhub3JtYWwsIGMwKTtcbiAgYm9keS5pbnZJbmVydGlhV29ybGQudm11bHQoYzAsIG0pO1xuICBtLmNyb3NzKHIwLCB2ZWMpO1xuICByZXR1cm4gYm9keS5pbnZNYXNzICsgbm9ybWFsLmRvdCh2ZWMpO1xufVxuXG5jb25zdCByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDEgPSBuZXcgVmVjMygpO1xuY29uc3QgcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsID0gbmV3IFZlYzMoKTsgLy9iaWxhdGVyYWwgY29uc3RyYWludCBiZXR3ZWVuIHR3byBkeW5hbWljIG9iamVjdHNcblxuZnVuY3Rpb24gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbChib2R5MSwgcG9zMSwgYm9keTIsIHBvczIsIG5vcm1hbCkge1xuICBjb25zdCBub3JtYWxMZW5TcXIgPSBub3JtYWwubGVuZ3RoU3F1YXJlZCgpO1xuXG4gIGlmIChub3JtYWxMZW5TcXIgPiAxLjEpIHtcbiAgICByZXR1cm4gMDsgLy8gbm8gaW1wdWxzZVxuICB9IC8vIGNvbnN0IHJlbF9wb3MxID0gbmV3IFZlYzMoKTtcbiAgLy8gY29uc3QgcmVsX3BvczIgPSBuZXcgVmVjMygpO1xuICAvLyBwb3MxLnZzdWIoYm9keTEucG9zaXRpb24sIHJlbF9wb3MxKTtcbiAgLy8gcG9zMi52c3ViKGJvZHkyLnBvc2l0aW9uLCByZWxfcG9zMik7XG5cblxuICBjb25zdCB2ZWwxID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwxO1xuICBjb25zdCB2ZWwyID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwyO1xuICBjb25zdCB2ZWwgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDtcbiAgYm9keTEuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQocG9zMSwgdmVsMSk7XG4gIGJvZHkyLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHBvczIsIHZlbDIpO1xuICB2ZWwxLnZzdWIodmVsMiwgdmVsKTtcbiAgY29uc3QgcmVsX3ZlbCA9IG5vcm1hbC5kb3QodmVsKTtcbiAgY29uc3QgY29udGFjdERhbXBpbmcgPSAwLjI7XG4gIGNvbnN0IG1hc3NUZXJtID0gMSAvIChib2R5MS5pbnZNYXNzICsgYm9keTIuaW52TWFzcyk7XG4gIGNvbnN0IGltcHVsc2UgPSAtY29udGFjdERhbXBpbmcgKiByZWxfdmVsICogbWFzc1Rlcm07XG4gIHJldHVybiBpbXB1bHNlO1xufVxuXG4vKipcbiAqIFNwaGVyaWNhbCBzaGFwZVxuICogQGNsYXNzIFNwaGVyZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBTaGFwZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cyBUaGUgcmFkaXVzIG9mIHRoZSBzcGhlcmUsIGEgbm9uLW5lZ2F0aXZlIG51bWJlci5cbiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZVxuICovXG5jbGFzcyBTcGhlcmUgZXh0ZW5kcyBTaGFwZSB7XG4gIGNvbnN0cnVjdG9yKHJhZGl1cykge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlNQSEVSRVxuICAgIH0pO1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzICE9PSB1bmRlZmluZWQgPyByYWRpdXMgOiAxLjA7XG5cbiAgICBpZiAodGhpcy5yYWRpdXMgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzcGhlcmUgcmFkaXVzIGNhbm5vdCBiZSBuZWdhdGl2ZS4nKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7XG4gIH1cblxuICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IEkgPSAyLjAgKiBtYXNzICogdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cyAvIDUuMDtcbiAgICB0YXJnZXQueCA9IEk7XG4gICAgdGFyZ2V0LnkgPSBJO1xuICAgIHRhcmdldC56ID0gSTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgdm9sdW1lKCkge1xuICAgIHJldHVybiA0LjAgKiBNYXRoLlBJICogTWF0aC5wb3codGhpcy5yYWRpdXMsIDMpIC8gMy4wO1xuICB9XG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IHRoaXMucmFkaXVzO1xuICB9XG5cbiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHtcbiAgICBjb25zdCByID0gdGhpcy5yYWRpdXM7XG4gICAgY29uc3QgYXhlcyA9IFsneCcsICd5JywgJ3onXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYXggPSBheGVzW2ldO1xuICAgICAgbWluW2F4XSA9IHBvc1theF0gLSByO1xuICAgICAgbWF4W2F4XSA9IHBvc1theF0gKyByO1xuICAgIH1cbiAgfVxuXG59XG5cbi8qKlxuICogU2ltcGxlIHZlaGljbGUgaGVscGVyIGNsYXNzIHdpdGggc3BoZXJpY2FsIHJpZ2lkIGJvZHkgd2hlZWxzLlxuICogQGNsYXNzIFJpZ2lkVmVoaWNsZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0JvZHl9IFtvcHRpb25zLmNoYXNzaXNCb2R5XVxuICovXG5jbGFzcyBSaWdpZFZlaGljbGUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLndoZWVsQm9kaWVzID0gW107XG4gICAgdGhpcy5jb29yZGluYXRlU3lzdGVtID0gdHlwZW9mIG9wdGlvbnMuY29vcmRpbmF0ZVN5c3RlbSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvb3JkaW5hdGVTeXN0ZW0uY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDIsIDMpO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hhc3Npc0JvZHkpIHtcbiAgICAgIHRoaXMuY2hhc3Npc0JvZHkgPSBvcHRpb25zLmNoYXNzaXNCb2R5O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBjaGFzc2lzIGJvZHkgZ2l2ZW4uIENyZWF0ZSBpdCFcbiAgICAgIHRoaXMuY2hhc3Npc0JvZHkgPSBuZXcgQm9keSh7XG4gICAgICAgIG1hc3M6IDEsXG4gICAgICAgIHNoYXBlOiBuZXcgQm94KG5ldyBWZWMzKDUsIDAuNSwgMikpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107XG4gICAgdGhpcy53aGVlbEF4ZXMgPSBbXTtcbiAgICB0aGlzLndoZWVsRm9yY2VzID0gW107XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIHdoZWVsXG4gICAqIEBtZXRob2QgYWRkV2hlZWxcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pc0Zyb250V2hlZWxdXG4gICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucG9zaXRpb25dIFBvc2l0aW9uIG9mIHRoZSB3aGVlbCwgbG9jYWxseSBpbiB0aGUgY2hhc3NpcyBib2R5LlxuICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmRpcmVjdGlvbl0gU2xpZGUgZGlyZWN0aW9uIG9mIHRoZSB3aGVlbCBhbG9uZyB0aGUgc3VzcGVuc2lvbi5cbiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzXSBBeGlzIG9mIHJvdGF0aW9uIG9mIHRoZSB3aGVlbCwgbG9jYWxseSBkZWZpbmVkIGluIHRoZSBjaGFzc2lzLlxuICAgKiBAcGFyYW0ge0JvZHl9IFtvcHRpb25zLmJvZHldIFRoZSB3aGVlbCBib2R5LlxuICAgKi9cblxuXG4gIGFkZFdoZWVsKG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCB3aGVlbEJvZHk7XG5cbiAgICBpZiAob3B0aW9ucy5ib2R5KSB7XG4gICAgICB3aGVlbEJvZHkgPSBvcHRpb25zLmJvZHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIHdoZWVsIGJvZHkgZ2l2ZW4uIENyZWF0ZSBpdCFcbiAgICAgIHdoZWVsQm9keSA9IG5ldyBCb2R5KHtcbiAgICAgICAgbWFzczogMSxcbiAgICAgICAgc2hhcGU6IG5ldyBTcGhlcmUoMS4yKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy53aGVlbEJvZGllcy5wdXNoKHdoZWVsQm9keSk7XG4gICAgdGhpcy53aGVlbEZvcmNlcy5wdXNoKDApOyAvLyBQb3NpdGlvbiBjb25zdHJhaW4gd2hlZWxzXG4gICAgY29uc3QgcG9zaXRpb24gPSB0eXBlb2Ygb3B0aW9ucy5wb3NpdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnBvc2l0aW9uLmNsb25lKCkgOiBuZXcgVmVjMygpOyAvLyBTZXQgcG9zaXRpb24gbG9jYWxseSB0byB0aGUgY2hhc3Npc1xuXG4gICAgY29uc3Qgd29ybGRQb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5jaGFzc2lzQm9keS5wb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgd29ybGRQb3NpdGlvbik7XG4gICAgd2hlZWxCb2R5LnBvc2l0aW9uLnNldCh3b3JsZFBvc2l0aW9uLngsIHdvcmxkUG9zaXRpb24ueSwgd29ybGRQb3NpdGlvbi56KTsgLy8gQ29uc3RyYWluIHdoZWVsXG5cbiAgICBjb25zdCBheGlzID0gdHlwZW9mIG9wdGlvbnMuYXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmF4aXMuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDAsIDEpO1xuICAgIHRoaXMud2hlZWxBeGVzLnB1c2goYXhpcyk7XG4gICAgY29uc3QgaGluZ2VDb25zdHJhaW50ID0gbmV3IEhpbmdlQ29uc3RyYWludCh0aGlzLmNoYXNzaXNCb2R5LCB3aGVlbEJvZHksIHtcbiAgICAgIHBpdm90QTogcG9zaXRpb24sXG4gICAgICBheGlzQTogYXhpcyxcbiAgICAgIHBpdm90QjogVmVjMy5aRVJPLFxuICAgICAgYXhpc0I6IGF4aXMsXG4gICAgICBjb2xsaWRlQ29ubmVjdGVkOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuY29uc3RyYWludHMucHVzaChoaW5nZUNvbnN0cmFpbnQpO1xuICAgIHJldHVybiB0aGlzLndoZWVsQm9kaWVzLmxlbmd0aCAtIDE7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgc3RlZXJpbmcgdmFsdWUgb2YgYSB3aGVlbC5cbiAgICogQG1ldGhvZCBzZXRTdGVlcmluZ1ZhbHVlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcbiAgICogQHRvZG8gY2hlY2sgY29vcmRpbmF0ZVN5c3RlbVxuICAgKi9cblxuXG4gIHNldFN0ZWVyaW5nVmFsdWUodmFsdWUsIHdoZWVsSW5kZXgpIHtcbiAgICAvLyBTZXQgYW5nbGUgb2YgdGhlIGhpbmdlIGF4aXNcbiAgICBjb25zdCBheGlzID0gdGhpcy53aGVlbEF4ZXNbd2hlZWxJbmRleF07XG4gICAgY29uc3QgYyA9IE1hdGguY29zKHZhbHVlKTtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4odmFsdWUpO1xuICAgIGNvbnN0IHggPSBheGlzLng7XG4gICAgY29uc3QgeiA9IGF4aXMuejtcbiAgICB0aGlzLmNvbnN0cmFpbnRzW3doZWVsSW5kZXhdLmF4aXNBLnNldCgtYyAqIHggKyBzICogeiwgMCwgcyAqIHggKyBjICogeik7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgdGFyZ2V0IHJvdGF0aW9uYWwgc3BlZWQgb2YgdGhlIGhpbmdlIGNvbnN0cmFpbnQuXG4gICAqIEBtZXRob2Qgc2V0TW90b3JTcGVlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4XG4gICAqL1xuXG5cbiAgc2V0TW90b3JTcGVlZCh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIGNvbnN0IGhpbmdlQ29uc3RyYWludCA9IHRoaXMuY29uc3RyYWludHNbd2hlZWxJbmRleF07XG4gICAgaGluZ2VDb25zdHJhaW50LmVuYWJsZU1vdG9yKCk7XG4gICAgaGluZ2VDb25zdHJhaW50Lm1vdG9yVGFyZ2V0VmVsb2NpdHkgPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSB0YXJnZXQgcm90YXRpb25hbCBzcGVlZCBvZiB0aGUgaGluZ2UgY29uc3RyYWludC5cbiAgICogQG1ldGhvZCBkaXNhYmxlTW90b3JcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gd2hlZWxJbmRleFxuICAgKi9cblxuXG4gIGRpc2FibGVNb3Rvcih3aGVlbEluZGV4KSB7XG4gICAgY29uc3QgaGluZ2VDb25zdHJhaW50ID0gdGhpcy5jb25zdHJhaW50c1t3aGVlbEluZGV4XTtcbiAgICBoaW5nZUNvbnN0cmFpbnQuZGlzYWJsZU1vdG9yKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgd2hlZWwgZm9yY2UgdG8gYXBwbHkgb24gb25lIG9mIHRoZSB3aGVlbHMgZWFjaCB0aW1lIHN0ZXBcbiAgICogQG1ldGhvZCBzZXRXaGVlbEZvcmNlXG4gICAqIEBwYXJhbSAge251bWJlcn0gdmFsdWVcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gd2hlZWxJbmRleFxuICAgKi9cblxuXG4gIHNldFdoZWVsRm9yY2UodmFsdWUsIHdoZWVsSW5kZXgpIHtcbiAgICB0aGlzLndoZWVsRm9yY2VzW3doZWVsSW5kZXhdID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGx5IGEgdG9ycXVlIG9uIG9uZSBvZiB0aGUgd2hlZWxzLlxuICAgKiBAbWV0aG9kIGFwcGx5V2hlZWxGb3JjZVxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHZhbHVlXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXhcbiAgICovXG5cblxuICBhcHBseVdoZWVsRm9yY2UodmFsdWUsIHdoZWVsSW5kZXgpIHtcbiAgICBjb25zdCBheGlzID0gdGhpcy53aGVlbEF4ZXNbd2hlZWxJbmRleF07XG4gICAgY29uc3Qgd2hlZWxCb2R5ID0gdGhpcy53aGVlbEJvZGllc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCBib2R5VG9ycXVlID0gd2hlZWxCb2R5LnRvcnF1ZTtcbiAgICBheGlzLnNjYWxlKHZhbHVlLCB0b3JxdWUpO1xuICAgIHdoZWVsQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUodG9ycXVlLCB0b3JxdWUpO1xuICAgIGJvZHlUb3JxdWUudmFkZCh0b3JxdWUsIGJvZHlUb3JxdWUpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgdGhlIHZlaGljbGUgaW5jbHVkaW5nIGl0cyBjb25zdHJhaW50cyB0byB0aGUgd29ybGQuXG4gICAqIEBtZXRob2QgYWRkVG9Xb3JsZFxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxuICAgKi9cblxuXG4gIGFkZFRvV29ybGQod29ybGQpIHtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuY29uc3RyYWludHM7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy53aGVlbEJvZGllcy5jb25jYXQoW3RoaXMuY2hhc3Npc0JvZHldKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB3b3JsZC5hZGRCb2R5KGJvZGllc1tpXSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25zdHJhaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50c1tpXSk7XG4gICAgfVxuXG4gICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMuX3VwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIF91cGRhdGUoKSB7XG4gICAgY29uc3Qgd2hlZWxGb3JjZXMgPSB0aGlzLndoZWVsRm9yY2VzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aGVlbEZvcmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hcHBseVdoZWVsRm9yY2Uod2hlZWxGb3JjZXNbaV0sIGkpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgZnJvbSB0aGUgd29ybGQuXG4gICAqIEBtZXRob2QgcmVtb3ZlRnJvbVdvcmxkXG4gICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkXG4gICAqL1xuXG5cbiAgcmVtb3ZlRnJvbVdvcmxkKHdvcmxkKSB7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMud2hlZWxCb2RpZXMuY29uY2F0KFt0aGlzLmNoYXNzaXNCb2R5XSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgd29ybGQucmVtb3ZlQm9keShib2RpZXNbaV0pO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uc3RyYWludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdvcmxkLnJlbW92ZUNvbnN0cmFpbnQoY29uc3RyYWludHNbaV0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgcm90YXRpb25hbCB2ZWxvY2l0eSBvZiBhIHdoZWVsXG4gICAqIEBtZXRob2QgZ2V0V2hlZWxTcGVlZFxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcbiAgICovXG5cblxuICBnZXRXaGVlbFNwZWVkKHdoZWVsSW5kZXgpIHtcbiAgICBjb25zdCBheGlzID0gdGhpcy53aGVlbEF4ZXNbd2hlZWxJbmRleF07XG4gICAgY29uc3Qgd2hlZWxCb2R5ID0gdGhpcy53aGVlbEJvZGllc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCB3ID0gd2hlZWxCb2R5LmFuZ3VsYXJWZWxvY2l0eTtcbiAgICB0aGlzLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShheGlzLCB3b3JsZEF4aXMpO1xuICAgIHJldHVybiB3LmRvdCh3b3JsZEF4aXMpO1xuICB9XG5cbn1cbmNvbnN0IHRvcnF1ZSA9IG5ldyBWZWMzKCk7XG5jb25zdCB3b3JsZEF4aXMgPSBuZXcgVmVjMygpO1xuXG4vKipcbiAqIFNtb290aGVkLXBhcnRpY2xlIGh5ZHJvZHluYW1pY3Mgc3lzdGVtXG4gKiBAY2xhc3MgU1BIU3lzdGVtXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgU1BIU3lzdGVtIHtcbiAgLy8gRGVuc2l0eSBvZiB0aGUgc3lzdGVtIChrZy9tMykuXG4gIC8vIERpc3RhbmNlIGJlbG93IHdoaWNoIHR3byBwYXJ0aWNsZXMgYXJlIGNvbnNpZGVyZWQgdG8gYmUgbmVpZ2hib3JzLiBJdCBzaG91bGQgYmUgYWRqdXN0ZWQgc28gdGhlcmUgYXJlIGFib3V0IDE1LTIwIG5laWdoYm9yIHBhcnRpY2xlcyB3aXRoaW4gdGhpcyByYWRpdXMuXG4gIC8vIFZpc2Nvc2l0eSBvZiB0aGUgc3lzdGVtLlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnBhcnRpY2xlcyA9IFtdO1xuICAgIHRoaXMuZGVuc2l0eSA9IDE7XG4gICAgdGhpcy5zbW9vdGhpbmdSYWRpdXMgPSAxO1xuICAgIHRoaXMuc3BlZWRPZlNvdW5kID0gMTtcbiAgICB0aGlzLnZpc2Nvc2l0eSA9IDAuMDE7XG4gICAgdGhpcy5lcHMgPSAwLjAwMDAwMTsgLy8gU3R1ZmYgQ29tcHV0ZWQgcGVyIHBhcnRpY2xlXG5cbiAgICB0aGlzLnByZXNzdXJlcyA9IFtdO1xuICAgIHRoaXMuZGVuc2l0aWVzID0gW107XG4gICAgdGhpcy5uZWlnaGJvcnMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogQWRkIGEgcGFydGljbGUgdG8gdGhlIHN5c3RlbS5cbiAgICogQG1ldGhvZCBhZGRcbiAgICogQHBhcmFtIHtCb2R5fSBwYXJ0aWNsZVxuICAgKi9cblxuXG4gIGFkZChwYXJ0aWNsZSkge1xuICAgIHRoaXMucGFydGljbGVzLnB1c2gocGFydGljbGUpO1xuXG4gICAgaWYgKHRoaXMubmVpZ2hib3JzLmxlbmd0aCA8IHRoaXMucGFydGljbGVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5uZWlnaGJvcnMucHVzaChbXSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYSBwYXJ0aWNsZSBmcm9tIHRoZSBzeXN0ZW0uXG4gICAqIEBtZXRob2QgcmVtb3ZlXG4gICAqIEBwYXJhbSB7Qm9keX0gcGFydGljbGVcbiAgICovXG5cblxuICByZW1vdmUocGFydGljbGUpIHtcbiAgICBjb25zdCBpZHggPSB0aGlzLnBhcnRpY2xlcy5pbmRleE9mKHBhcnRpY2xlKTtcblxuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICB0aGlzLnBhcnRpY2xlcy5zcGxpY2UoaWR4LCAxKTtcblxuICAgICAgaWYgKHRoaXMubmVpZ2hib3JzLmxlbmd0aCA+IHRoaXMucGFydGljbGVzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLm5laWdoYm9ycy5wb3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXROZWlnaGJvcnMocGFydGljbGUsIG5laWdoYm9ycykge1xuICAgIGNvbnN0IE4gPSB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7XG4gICAgY29uc3QgaWQgPSBwYXJ0aWNsZS5pZDtcbiAgICBjb25zdCBSMiA9IHRoaXMuc21vb3RoaW5nUmFkaXVzICogdGhpcy5zbW9vdGhpbmdSYWRpdXM7XG4gICAgY29uc3QgZGlzdCA9IFNQSFN5c3RlbV9nZXROZWlnaGJvcnNfZGlzdDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHAgPSB0aGlzLnBhcnRpY2xlc1tpXTtcbiAgICAgIHAucG9zaXRpb24udnN1YihwYXJ0aWNsZS5wb3NpdGlvbiwgZGlzdCk7XG5cbiAgICAgIGlmIChpZCAhPT0gcC5pZCAmJiBkaXN0Lmxlbmd0aFNxdWFyZWQoKSA8IFIyKSB7XG4gICAgICAgIG5laWdoYm9ycy5wdXNoKHApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBOID0gdGhpcy5wYXJ0aWNsZXMubGVuZ3RoO1xuICAgIGNvbnN0IGRpc3QgPSBTUEhTeXN0ZW1fdXBkYXRlX2Rpc3Q7XG4gICAgY29uc3QgY3MgPSB0aGlzLnNwZWVkT2ZTb3VuZDtcbiAgICBjb25zdCBlcHMgPSB0aGlzLmVwcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHAgPSB0aGlzLnBhcnRpY2xlc1tpXTsgLy8gQ3VycmVudCBwYXJ0aWNsZVxuXG4gICAgICBjb25zdCBuZWlnaGJvcnMgPSB0aGlzLm5laWdoYm9yc1tpXTsgLy8gR2V0IG5laWdoYm9yc1xuXG4gICAgICBuZWlnaGJvcnMubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuZ2V0TmVpZ2hib3JzKHAsIG5laWdoYm9ycyk7XG4gICAgICBuZWlnaGJvcnMucHVzaCh0aGlzLnBhcnRpY2xlc1tpXSk7IC8vIEFkZCBjdXJyZW50IHRvb1xuXG4gICAgICBjb25zdCBudW1OZWlnaGJvcnMgPSBuZWlnaGJvcnMubGVuZ3RoOyAvLyBBY2N1bXVsYXRlIGRlbnNpdHkgZm9yIHRoZSBwYXJ0aWNsZVxuXG4gICAgICBsZXQgc3VtID0gMC4wO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gbnVtTmVpZ2hib3JzOyBqKyspIHtcbiAgICAgICAgLy9wcmludGYoXCJDdXJyZW50IHBhcnRpY2xlIGhhcyBwb3NpdGlvbiAlZiAlZiAlZlxcblwiLG9iamVjdHNbaWRdLnBvcy54KCksb2JqZWN0c1tpZF0ucG9zLnkoKSxvYmplY3RzW2lkXS5wb3MueigpKTtcbiAgICAgICAgcC5wb3NpdGlvbi52c3ViKG5laWdoYm9yc1tqXS5wb3NpdGlvbiwgZGlzdCk7XG4gICAgICAgIGNvbnN0IGxlbiA9IGRpc3QubGVuZ3RoKCk7XG4gICAgICAgIGNvbnN0IHdlaWdodCA9IHRoaXMudyhsZW4pO1xuICAgICAgICBzdW0gKz0gbmVpZ2hib3JzW2pdLm1hc3MgKiB3ZWlnaHQ7XG4gICAgICB9IC8vIFNhdmVcblxuXG4gICAgICB0aGlzLmRlbnNpdGllc1tpXSA9IHN1bTtcbiAgICAgIHRoaXMucHJlc3N1cmVzW2ldID0gY3MgKiBjcyAqICh0aGlzLmRlbnNpdGllc1tpXSAtIHRoaXMuZGVuc2l0eSk7XG4gICAgfSAvLyBBZGQgZm9yY2VzXG4gICAgLy8gU3VtIHRvIHRoZXNlIGFjY2VsZXJhdGlvbnNcblxuXG4gICAgY29uc3QgYV9wcmVzc3VyZSA9IFNQSFN5c3RlbV91cGRhdGVfYV9wcmVzc3VyZTtcbiAgICBjb25zdCBhX3Zpc2MgPSBTUEhTeXN0ZW1fdXBkYXRlX2FfdmlzYztcbiAgICBjb25zdCBncmFkVyA9IFNQSFN5c3RlbV91cGRhdGVfZ3JhZFc7XG4gICAgY29uc3Qgcl92ZWMgPSBTUEhTeXN0ZW1fdXBkYXRlX3JfdmVjO1xuICAgIGNvbnN0IHUgPSBTUEhTeXN0ZW1fdXBkYXRlX3U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBwYXJ0aWNsZSA9IHRoaXMucGFydGljbGVzW2ldO1xuICAgICAgYV9wcmVzc3VyZS5zZXQoMCwgMCwgMCk7XG4gICAgICBhX3Zpc2Muc2V0KDAsIDAsIDApOyAvLyBJbml0IHZhcnNcblxuICAgICAgbGV0IFBpajtcbiAgICAgIGxldCBuYWJsYTtcblxuICAgICAgY29uc3QgbmVpZ2hib3JzID0gdGhpcy5uZWlnaGJvcnNbaV07XG4gICAgICBjb25zdCBudW1OZWlnaGJvcnMgPSBuZWlnaGJvcnMubGVuZ3RoOyAvL3ByaW50ZihcIk5laWdoYm9yczogXCIpO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gbnVtTmVpZ2hib3JzOyBqKyspIHtcbiAgICAgICAgY29uc3QgbmVpZ2hib3IgPSBuZWlnaGJvcnNbal07IC8vcHJpbnRmKFwiJWQgXCIsbmopO1xuICAgICAgICAvLyBHZXQgciBvbmNlIGZvciBhbGwuLlxuXG4gICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnZzdWIobmVpZ2hib3IucG9zaXRpb24sIHJfdmVjKTtcbiAgICAgICAgY29uc3QgciA9IHJfdmVjLmxlbmd0aCgpOyAvLyBQcmVzc3VyZSBjb250cmlidXRpb25cblxuICAgICAgICBQaWogPSAtbmVpZ2hib3IubWFzcyAqICh0aGlzLnByZXNzdXJlc1tpXSAvICh0aGlzLmRlbnNpdGllc1tpXSAqIHRoaXMuZGVuc2l0aWVzW2ldICsgZXBzKSArIHRoaXMucHJlc3N1cmVzW2pdIC8gKHRoaXMuZGVuc2l0aWVzW2pdICogdGhpcy5kZW5zaXRpZXNbal0gKyBlcHMpKTtcbiAgICAgICAgdGhpcy5ncmFkdyhyX3ZlYywgZ3JhZFcpOyAvLyBBZGQgdG8gcHJlc3N1cmUgYWNjZWxlcmF0aW9uXG5cbiAgICAgICAgZ3JhZFcuc2NhbGUoUGlqLCBncmFkVyk7XG4gICAgICAgIGFfcHJlc3N1cmUudmFkZChncmFkVywgYV9wcmVzc3VyZSk7IC8vIFZpc2Nvc2l0eSBjb250cmlidXRpb25cblxuICAgICAgICBuZWlnaGJvci52ZWxvY2l0eS52c3ViKHBhcnRpY2xlLnZlbG9jaXR5LCB1KTtcbiAgICAgICAgdS5zY2FsZSgxLjAgLyAoMC4wMDAxICsgdGhpcy5kZW5zaXRpZXNbaV0gKiB0aGlzLmRlbnNpdGllc1tqXSkgKiB0aGlzLnZpc2Nvc2l0eSAqIG5laWdoYm9yLm1hc3MsIHUpO1xuICAgICAgICBuYWJsYSA9IHRoaXMubmFibGF3KHIpO1xuICAgICAgICB1LnNjYWxlKG5hYmxhLCB1KTsgLy8gQWRkIHRvIHZpc2Nvc2l0eSBhY2NlbGVyYXRpb25cblxuICAgICAgICBhX3Zpc2MudmFkZCh1LCBhX3Zpc2MpO1xuICAgICAgfSAvLyBDYWxjdWxhdGUgZm9yY2VcblxuXG4gICAgICBhX3Zpc2Muc2NhbGUocGFydGljbGUubWFzcywgYV92aXNjKTtcbiAgICAgIGFfcHJlc3N1cmUuc2NhbGUocGFydGljbGUubWFzcywgYV9wcmVzc3VyZSk7IC8vIEFkZCBmb3JjZSB0byBwYXJ0aWNsZXNcblxuICAgICAgcGFydGljbGUuZm9yY2UudmFkZChhX3Zpc2MsIHBhcnRpY2xlLmZvcmNlKTtcbiAgICAgIHBhcnRpY2xlLmZvcmNlLnZhZGQoYV9wcmVzc3VyZSwgcGFydGljbGUuZm9yY2UpO1xuICAgIH1cbiAgfSAvLyBDYWxjdWxhdGUgdGhlIHdlaWdodCB1c2luZyB0aGUgVyhyKSB3ZWlnaHRmdW5jdGlvblxuXG5cbiAgdyhyKSB7XG4gICAgLy8gMzE1XG4gICAgY29uc3QgaCA9IHRoaXMuc21vb3RoaW5nUmFkaXVzO1xuICAgIHJldHVybiAzMTUuMCAvICg2NC4wICogTWF0aC5QSSAqIGggKiogOSkgKiAoaCAqIGggLSByICogcikgKiogMztcbiAgfSAvLyBjYWxjdWxhdGUgZ3JhZGllbnQgb2YgdGhlIHdlaWdodCBmdW5jdGlvblxuXG5cbiAgZ3JhZHcoclZlYywgcmVzdWx0VmVjKSB7XG4gICAgY29uc3QgciA9IHJWZWMubGVuZ3RoKCk7XG4gICAgY29uc3QgaCA9IHRoaXMuc21vb3RoaW5nUmFkaXVzO1xuICAgIHJWZWMuc2NhbGUoOTQ1LjAgLyAoMzIuMCAqIE1hdGguUEkgKiBoICoqIDkpICogKGggKiBoIC0gciAqIHIpICoqIDIsIHJlc3VsdFZlYyk7XG4gIH0gLy8gQ2FsY3VsYXRlIG5hYmxhKFcpXG5cblxuICBuYWJsYXcocikge1xuICAgIGNvbnN0IGggPSB0aGlzLnNtb290aGluZ1JhZGl1cztcbiAgICBjb25zdCBuYWJsYSA9IDk0NS4wIC8gKDMyLjAgKiBNYXRoLlBJICogaCAqKiA5KSAqIChoICogaCAtIHIgKiByKSAqICg3ICogciAqIHIgLSAzICogaCAqIGgpO1xuICAgIHJldHVybiBuYWJsYTtcbiAgfVxuXG59XG4vKipcbiAqIEdldCBuZWlnaGJvcnMgd2l0aGluIHNtb290aGluZyB2b2x1bWUsIHNhdmUgaW4gdGhlIGFycmF5IG5laWdoYm9yc1xuICogQG1ldGhvZCBnZXROZWlnaGJvcnNcbiAqIEBwYXJhbSB7Qm9keX0gcGFydGljbGVcbiAqIEBwYXJhbSB7QXJyYXl9IG5laWdoYm9yc1xuICovXG5cbmNvbnN0IFNQSFN5c3RlbV9nZXROZWlnaGJvcnNfZGlzdCA9IG5ldyBWZWMzKCk7IC8vIFRlbXAgdmVjdG9ycyBmb3IgY2FsY3VsYXRpb25cblxuY29uc3QgU1BIU3lzdGVtX3VwZGF0ZV9kaXN0ID0gbmV3IFZlYzMoKTsgLy8gUmVsYXRpdmUgdmVsb2NpdHlcblxuY29uc3QgU1BIU3lzdGVtX3VwZGF0ZV9hX3ByZXNzdXJlID0gbmV3IFZlYzMoKTtcbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfYV92aXNjID0gbmV3IFZlYzMoKTtcbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfZ3JhZFcgPSBuZXcgVmVjMygpO1xuY29uc3QgU1BIU3lzdGVtX3VwZGF0ZV9yX3ZlYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBTUEhTeXN0ZW1fdXBkYXRlX3UgPSBuZXcgVmVjMygpO1xuXG4vKipcbiAqIEBjbGFzcyBDeWxpbmRlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBDb252ZXhQb2x5aGVkcm9uXG4gKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzVG9wXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzQm90dG9tXG4gKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0XG4gKiBAcGFyYW0ge051bWJlcn0gbnVtU2VnbWVudHMgVGhlIG51bWJlciBvZiBzZWdtZW50cyB0byBidWlsZCB0aGUgY3lsaW5kZXIgb3V0IG9mXG4gKi9cblxuY2xhc3MgQ3lsaW5kZXIgZXh0ZW5kcyBDb252ZXhQb2x5aGVkcm9uIHtcbiAgY29uc3RydWN0b3IocmFkaXVzVG9wID0gMSwgcmFkaXVzQm90dG9tID0gMSwgaGVpZ2h0ID0gMSwgbnVtU2VnbWVudHMgPSA4KSB7XG4gICAgaWYgKHJhZGl1c1RvcCA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGN5bGluZGVyIHJhZGl1c1RvcCBjYW5ub3QgYmUgbmVnYXRpdmUuJyk7XG4gICAgfVxuXG4gICAgaWYgKHJhZGl1c0JvdHRvbSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGN5bGluZGVyIHJhZGl1c0JvdHRvbSBjYW5ub3QgYmUgbmVnYXRpdmUuJyk7XG4gICAgfVxuXG4gICAgY29uc3QgTiA9IG51bVNlZ21lbnRzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gW107XG4gICAgY29uc3QgYXhlcyA9IFtdO1xuICAgIGNvbnN0IGZhY2VzID0gW107XG4gICAgY29uc3QgYm90dG9tZmFjZSA9IFtdO1xuICAgIGNvbnN0IHRvcGZhY2UgPSBbXTtcbiAgICBjb25zdCBjb3MgPSBNYXRoLmNvcztcbiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbjsgLy8gRmlyc3QgYm90dG9tIHBvaW50XG5cbiAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNCb3R0b20gKiBzaW4oMCksIC1oZWlnaHQgKiAwLjUsIHJhZGl1c0JvdHRvbSAqIGNvcygwKSkpO1xuICAgIGJvdHRvbWZhY2UucHVzaCgwKTsgLy8gRmlyc3QgdG9wIHBvaW50XG5cbiAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNUb3AgKiBzaW4oMCksIGhlaWdodCAqIDAuNSwgcmFkaXVzVG9wICogY29zKDApKSk7XG4gICAgdG9wZmFjZS5wdXNoKDEpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHRoZXRhID0gMiAqIE1hdGguUEkgLyBOICogKGkgKyAxKTtcbiAgICAgIGNvbnN0IHRoZXRhTiA9IDIgKiBNYXRoLlBJIC8gTiAqIChpICsgMC41KTtcblxuICAgICAgaWYgKGkgPCBOIC0gMSkge1xuICAgICAgICAvLyBCb3R0b21cbiAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzQm90dG9tICogc2luKHRoZXRhKSwgLWhlaWdodCAqIDAuNSwgcmFkaXVzQm90dG9tICogY29zKHRoZXRhKSkpO1xuICAgICAgICBib3R0b21mYWNlLnB1c2goMiAqIGkgKyAyKTsgLy8gVG9wXG5cbiAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzVG9wICogc2luKHRoZXRhKSwgaGVpZ2h0ICogMC41LCByYWRpdXNUb3AgKiBjb3ModGhldGEpKSk7XG4gICAgICAgIHRvcGZhY2UucHVzaCgyICogaSArIDMpOyAvLyBGYWNlXG5cbiAgICAgICAgZmFjZXMucHVzaChbMiAqIGksIDIgKiBpICsgMSwgMiAqIGkgKyAzLCAyICogaSArIDJdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY2VzLnB1c2goWzIgKiBpLCAyICogaSArIDEsIDEsIDBdKTsgLy8gQ29ubmVjdFxuICAgICAgfSAvLyBBeGlzOiB3ZSBjYW4gY3V0IG9mZiBoYWxmIG9mIHRoZW0gaWYgd2UgaGF2ZSBldmVuIG51bWJlciBvZiBzZWdtZW50c1xuXG5cbiAgICAgIGlmIChOICUgMiA9PT0gMSB8fCBpIDwgTiAvIDIpIHtcbiAgICAgICAgYXhlcy5wdXNoKG5ldyBWZWMzKC1zaW4odGhldGFOKSwgMCwgY29zKHRoZXRhTikpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmYWNlcy5wdXNoKGJvdHRvbWZhY2UpO1xuICAgIGF4ZXMucHVzaChuZXcgVmVjMygwLCAxLCAwKSk7IC8vIFJlb3JkZXIgdG9wIGZhY2VcblxuICAgIGNvbnN0IHRlbXAgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9wZmFjZS5sZW5ndGg7IGkrKykge1xuICAgICAgdGVtcC5wdXNoKHRvcGZhY2VbdG9wZmFjZS5sZW5ndGggLSBpIC0gMV0pO1xuICAgIH1cblxuICAgIGZhY2VzLnB1c2godGVtcCk7XG4gICAgc3VwZXIoe1xuICAgICAgdmVydGljZXMsXG4gICAgICBmYWNlcyxcbiAgICAgIGF4ZXNcbiAgICB9KTtcbiAgICB0aGlzLnR5cGUgPSBTaGFwZS50eXBlcy5DWUxJTkRFUjtcbiAgICB0aGlzLnJhZGl1c1RvcCA9IHJhZGl1c1RvcDtcbiAgICB0aGlzLnJhZGl1c0JvdHRvbSA9IHJhZGl1c0JvdHRvbTtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLm51bVNlZ21lbnRzID0gbnVtU2VnbWVudHM7XG4gIH1cblxufVxuXG4vKipcbiAqIFBhcnRpY2xlIHNoYXBlLlxuICogQGNsYXNzIFBhcnRpY2xlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdXRob3Igc2NodGVwcGVcbiAqIEBleHRlbmRzIFNoYXBlXG4gKi9cbmNsYXNzIFBhcnRpY2xlIGV4dGVuZHMgU2hhcGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5QQVJUSUNMRVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3NcbiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0XG4gICAqIEByZXR1cm4ge1ZlYzN9XG4gICAqL1xuXG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQuc2V0KDAsIDAsIDApO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gMDtcbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgLy8gR2V0IGVhY2ggYXhpcyBtYXhcbiAgICBtaW4uY29weShwb3MpO1xuICAgIG1heC5jb3B5KHBvcyk7XG4gIH1cblxufVxuXG4vKipcbiAqIEEgcGxhbmUsIGZhY2luZyBpbiB0aGUgWiBkaXJlY3Rpb24uIFRoZSBwbGFuZSBoYXMgaXRzIHN1cmZhY2UgYXQgej0wIGFuZCBldmVyeXRoaW5nIGJlbG93IHo9MCBpcyBhc3N1bWVkIHRvIGJlIHNvbGlkIHBsYW5lLiBUbyBtYWtlIHRoZSBwbGFuZSBmYWNlIGluIHNvbWUgb3RoZXIgZGlyZWN0aW9uIHRoYW4geiwgeW91IG11c3QgcHV0IGl0IGluc2lkZSBhIEJvZHkgYW5kIHJvdGF0ZSB0aGF0IGJvZHkuIFNlZSB0aGUgZGVtb3MuXG4gKiBAY2xhc3MgUGxhbmVcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgU2hhcGVcbiAqIEBhdXRob3Igc2NodGVwcGVcbiAqL1xuY2xhc3MgUGxhbmUgZXh0ZW5kcyBTaGFwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlBMQU5FXG4gICAgfSk7IC8vIFdvcmxkIG9yaWVudGVkIG5vcm1hbFxuXG4gICAgdGhpcy53b3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy53b3JsZE5vcm1hbE5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgfVxuXG4gIGNvbXB1dGVXb3JsZE5vcm1hbChxdWF0KSB7XG4gICAgY29uc3QgbiA9IHRoaXMud29ybGROb3JtYWw7XG4gICAgbi5zZXQoMCwgMCwgMSk7XG4gICAgcXVhdC52bXVsdChuLCBuKTtcbiAgICB0aGlzLndvcmxkTm9ybWFsTmVlZHNVcGRhdGUgPSBmYWxzZTtcbiAgfVxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIHZvbHVtZSgpIHtcbiAgICByZXR1cm4gKC8vIFRoZSBwbGFuZSBpcyBpbmZpbml0ZS4uLlxuICAgICAgTnVtYmVyLk1BWF9WQUxVRVxuICAgICk7XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIC8vIFRoZSBwbGFuZSBBQUJCIGlzIGluZmluaXRlLCBleGNlcHQgaWYgdGhlIG5vcm1hbCBpcyBwb2ludGluZyBhbG9uZyBhbnkgYXhpc1xuICAgIHRlbXBOb3JtYWwuc2V0KDAsIDAsIDEpOyAvLyBEZWZhdWx0IHBsYW5lIG5vcm1hbCBpcyB6XG5cbiAgICBxdWF0LnZtdWx0KHRlbXBOb3JtYWwsIHRlbXBOb3JtYWwpO1xuICAgIGNvbnN0IG1heFZhbCA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgbWluLnNldCgtbWF4VmFsLCAtbWF4VmFsLCAtbWF4VmFsKTtcbiAgICBtYXguc2V0KG1heFZhbCwgbWF4VmFsLCBtYXhWYWwpO1xuXG4gICAgaWYgKHRlbXBOb3JtYWwueCA9PT0gMSkge1xuICAgICAgbWF4LnggPSBwb3MueDtcbiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueCA9PT0gLTEpIHtcbiAgICAgIG1pbi54ID0gcG9zLng7XG4gICAgfVxuXG4gICAgaWYgKHRlbXBOb3JtYWwueSA9PT0gMSkge1xuICAgICAgbWF4LnkgPSBwb3MueTtcbiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueSA9PT0gLTEpIHtcbiAgICAgIG1pbi55ID0gcG9zLnk7XG4gICAgfVxuXG4gICAgaWYgKHRlbXBOb3JtYWwueiA9PT0gMSkge1xuICAgICAgbWF4LnogPSBwb3MuejtcbiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueiA9PT0gLTEpIHtcbiAgICAgIG1pbi56ID0gcG9zLno7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE51bWJlci5NQVhfVkFMVUU7XG4gIH1cblxufVxuY29uc3QgdGVtcE5vcm1hbCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxuICogSGVpZ2h0ZmllbGQgc2hhcGUgY2xhc3MuIEhlaWdodCBkYXRhIGlzIGdpdmVuIGFzIGFuIGFycmF5LiBUaGVzZSBkYXRhIHBvaW50cyBhcmUgc3ByZWFkIG91dCBldmVubHkgd2l0aCBhIGdpdmVuIGRpc3RhbmNlLlxuICogQGNsYXNzIEhlaWdodGZpZWxkXG4gKiBAZXh0ZW5kcyBTaGFwZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIEFuIGFycmF5IG9mIFkgdmFsdWVzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdGVycmFpbi5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWluVmFsdWVdIE1pbmltdW0gdmFsdWUgb2YgdGhlIGRhdGEgcG9pbnRzIGluIHRoZSBkYXRhIGFycmF5LiBXaWxsIGJlIGNvbXB1dGVkIGF1dG9tYXRpY2FsbHkgaWYgbm90IGdpdmVuLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFZhbHVlXSBNYXhpbXVtIHZhbHVlLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmVsZW1lbnRTaXplPTAuMV0gV29ybGQgc3BhY2luZyBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGRpcmVjdGlvbi5cbiAqIEB0b2RvIFNob3VsZCBiZSBwb3NzaWJsZSB0byB1c2UgYWxvbmcgYWxsIGF4ZXMsIG5vdCBqdXN0IHlcbiAqIEB0b2RvIHNob3VsZCBiZSBwb3NzaWJsZSB0byBzY2FsZSBhbG9uZyBhbGwgYXhlc1xuICogQHRvZG8gUmVmYWN0b3IgZWxlbWVudFNpemUgdG8gZWxlbWVudFNpemVYIGFuZCBlbGVtZW50U2l6ZVlcbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIC8vIEdlbmVyYXRlIHNvbWUgaGVpZ2h0IGRhdGEgKHktdmFsdWVzKS5cbiAqICAgICBjb25zdCBkYXRhID0gW107XG4gKiAgICAgZm9yKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKyl7XG4gKiAgICAgICAgIGNvbnN0IHkgPSAwLjUgKiBNYXRoLmNvcygwLjIgKiBpKTtcbiAqICAgICAgICAgZGF0YS5wdXNoKHkpO1xuICogICAgIH1cbiAqXG4gKiAgICAgLy8gQ3JlYXRlIHRoZSBoZWlnaHRmaWVsZCBzaGFwZVxuICogICAgIGNvbnN0IGhlaWdodGZpZWxkU2hhcGUgPSBuZXcgSGVpZ2h0ZmllbGQoZGF0YSwge1xuICogICAgICAgICBlbGVtZW50U2l6ZTogMSAvLyBEaXN0YW5jZSBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGFuZCBZIGRpcmVjdGlvbnNcbiAqICAgICB9KTtcbiAqICAgICBjb25zdCBoZWlnaHRmaWVsZEJvZHkgPSBuZXcgQm9keSgpO1xuICogICAgIGhlaWdodGZpZWxkQm9keS5hZGRTaGFwZShoZWlnaHRmaWVsZFNoYXBlKTtcbiAqICAgICB3b3JsZC5hZGRCb2R5KGhlaWdodGZpZWxkQm9keSk7XG4gKi9cbmNsYXNzIEhlaWdodGZpZWxkIGV4dGVuZHMgU2hhcGUge1xuICAvLyBBbiBhcnJheSBvZiBudW1iZXJzLCBvciBoZWlnaHQgdmFsdWVzLCB0aGF0IGFyZSBzcHJlYWQgb3V0IGFsb25nIHRoZSB4IGF4aXMuXG4gIC8vIE1heCB2YWx1ZSBvZiB0aGUgZGF0YS5cbiAgLy8gTWF4IHZhbHVlIG9mIHRoZSBkYXRhLlxuICAvLyBUaGUgd2lkdGggb2YgZWFjaCBlbGVtZW50LiBUbyBkbzogZWxlbWVudFNpemVYIGFuZCBZXG4gIGNvbnN0cnVjdG9yKGRhdGEsIG9wdGlvbnMgPSB7fSkge1xuICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgZWxlbWVudFNpemU6IDFcbiAgICB9KTtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRFxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5tYXhWYWx1ZSA9IG9wdGlvbnMubWF4VmFsdWU7XG4gICAgdGhpcy5taW5WYWx1ZSA9IG9wdGlvbnMubWluVmFsdWU7XG4gICAgdGhpcy5lbGVtZW50U2l6ZSA9IG9wdGlvbnMuZWxlbWVudFNpemU7XG5cbiAgICBpZiAob3B0aW9ucy5taW5WYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy51cGRhdGVNaW5WYWx1ZSgpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLm1heFZhbHVlID09PSBudWxsKSB7XG4gICAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWNoZUVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMucGlsbGFyQ29udmV4ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTtcbiAgICB0aGlzLnBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOyAvLyBcImlfal9pc1VwcGVyXCIgPT4geyBjb252ZXg6IC4uLiwgb2Zmc2V0OiAuLi4gfVxuICAgIC8vIGZvciBleGFtcGxlOlxuICAgIC8vIF9jYWNoZWRQaWxsYXJzW1wiMF8yXzFcIl1cblxuICAgIHRoaXMuX2NhY2hlZFBpbGxhcnMgPSB7fTtcbiAgfVxuICAvKipcbiAgICogQ2FsbCB3aGVuZXZlciB5b3UgY2hhbmdlIHRoZSBkYXRhIGFycmF5LlxuICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgKi9cblxuXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLl9jYWNoZWRQaWxsYXJzID0ge307XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgLm1pblZhbHVlIHByb3BlcnR5XG4gICAqIEBtZXRob2QgdXBkYXRlTWluVmFsdWVcbiAgICovXG5cblxuICB1cGRhdGVNaW5WYWx1ZSgpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCBtaW5WYWx1ZSA9IGRhdGFbMF1bMF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgdiA9IGRhdGFbaV1bal07XG5cbiAgICAgICAgaWYgKHYgPCBtaW5WYWx1ZSkge1xuICAgICAgICAgIG1pblZhbHVlID0gdjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubWluVmFsdWUgPSBtaW5WYWx1ZTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSAubWF4VmFsdWUgcHJvcGVydHlcbiAgICogQG1ldGhvZCB1cGRhdGVNYXhWYWx1ZVxuICAgKi9cblxuXG4gIHVwZGF0ZU1heFZhbHVlKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgbGV0IG1heFZhbHVlID0gZGF0YVswXVswXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gZGF0YVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCB2ID0gZGF0YVtpXVtqXTtcblxuICAgICAgICBpZiAodiA+IG1heFZhbHVlKSB7XG4gICAgICAgICAgbWF4VmFsdWUgPSB2O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG1heFZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGhlaWdodCB2YWx1ZSBhdCBhbiBpbmRleC4gRG9uJ3QgZm9yZ2V0IHRvIHVwZGF0ZSBtYXhWYWx1ZSBhbmQgbWluVmFsdWUgYWZ0ZXIgeW91J3JlIGRvbmUuXG4gICAqIEBtZXRob2Qgc2V0SGVpZ2h0VmFsdWVBdEluZGV4XG4gICAqIEBwYXJhbSB7aW50ZWdlcn0geGlcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB5aVxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICovXG5cblxuICBzZXRIZWlnaHRWYWx1ZUF0SW5kZXgoeGksIHlpLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgZGF0YVt4aV1beWldID0gdmFsdWU7IC8vIEludmFsaWRhdGUgY2FjaGVcblxuICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGZhbHNlKTtcblxuICAgIGlmICh4aSA+IDApIHtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCB0cnVlKTtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHlpID4gMCkge1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIHRydWUpO1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAoeWkgPiAwICYmIHhpID4gMCkge1xuICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpIC0gMSwgeWkgLSAxLCB0cnVlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldCBtYXgvbWluIGluIGEgcmVjdGFuZ2xlIGluIHRoZSBtYXRyaXggZGF0YVxuICAgKiBAbWV0aG9kIGdldFJlY3RNaW5NYXhcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pblhcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pbllcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1heFhcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1heFlcbiAgICogQHBhcmFtICB7YXJyYXl9IFtyZXN1bHRdIEFuIGFycmF5IHRvIHN0b3JlIHRoZSByZXN1bHRzIGluLlxuICAgKiBAcmV0dXJuIHthcnJheX0gVGhlIHJlc3VsdCBhcnJheSwgaWYgaXQgd2FzIHBhc3NlZCBpbi4gTWluaW11bSB3aWxsIGJlIGF0IHBvc2l0aW9uIDAgYW5kIG1heCBhdCAxLlxuICAgKi9cblxuXG4gIGdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIHJlc3VsdCA9IFtdKSB7XG4gICAgLy8gR2V0IG1heCBhbmQgbWluIG9mIHRoZSBkYXRhXG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsgLy8gU2V0IGZpcnN0IHZhbHVlXG5cbiAgICBsZXQgbWF4ID0gdGhpcy5taW5WYWx1ZTtcblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8PSBpTWF4WDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPD0gaU1heFk7IGorKykge1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBkYXRhW2ldW2pdO1xuXG4gICAgICAgIGlmIChoZWlnaHQgPiBtYXgpIHtcbiAgICAgICAgICBtYXggPSBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bHRbMF0gPSB0aGlzLm1pblZhbHVlO1xuICAgIHJlc3VsdFsxXSA9IG1heDtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBpbmRleCBvZiBhIGxvY2FsIHBvc2l0aW9uIG9uIHRoZSBoZWlnaHRmaWVsZC4gVGhlIGluZGV4ZXMgaW5kaWNhdGUgdGhlIHJlY3RhbmdsZXMsIHNvIGlmIHlvdXIgdGVycmFpbiBpcyBtYWRlIG9mIE4geCBOIGhlaWdodCBkYXRhIHBvaW50cywgeW91IHdpbGwgaGF2ZSByZWN0YW5nbGUgaW5kZXhlcyByYW5naW5nIGZyb20gMCB0byBOLTEuXG4gICAqIEBtZXRob2QgZ2V0SW5kZXhPZlBvc2l0aW9uXG4gICAqIEBwYXJhbSAge251bWJlcn0geFxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlcbiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdCBUd28tZWxlbWVudCBhcnJheVxuICAgKiBAcGFyYW0gIHtib29sZWFufSBjbGFtcCBJZiB0aGUgcG9zaXRpb24gc2hvdWxkIGJlIGNsYW1wZWQgdG8gdGhlIGhlaWdodGZpZWxkIGVkZ2UuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIHJlc3VsdCwgY2xhbXApIHtcbiAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3RcbiAgICBjb25zdCB3ID0gdGhpcy5lbGVtZW50U2l6ZTtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCB4aSA9IE1hdGguZmxvb3IoeCAvIHcpO1xuICAgIGxldCB5aSA9IE1hdGguZmxvb3IoeSAvIHcpO1xuICAgIHJlc3VsdFswXSA9IHhpO1xuICAgIHJlc3VsdFsxXSA9IHlpO1xuXG4gICAgaWYgKGNsYW1wKSB7XG4gICAgICAvLyBDbGFtcCBpbmRleCB0byBlZGdlc1xuICAgICAgaWYgKHhpIDwgMCkge1xuICAgICAgICB4aSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmICh5aSA8IDApIHtcbiAgICAgICAgeWkgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoeGkgPj0gZGF0YS5sZW5ndGggLSAxKSB7XG4gICAgICAgIHhpID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoeWkgPj0gZGF0YVswXS5sZW5ndGggLSAxKSB7XG4gICAgICAgIHlpID0gZGF0YVswXS5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgIH0gLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpblxuXG5cbiAgICBpZiAoeGkgPCAwIHx8IHlpIDwgMCB8fCB4aSA+PSBkYXRhLmxlbmd0aCAtIDEgfHwgeWkgPj0gZGF0YVswXS5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBnZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYykge1xuICAgIGNvbnN0IGlkeCA9IGdldEhlaWdodEF0X2lkeDtcbiAgICB0aGlzLmdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCBpZHgsIGVkZ2VDbGFtcCk7XG4gICAgbGV0IHhpID0gaWR4WzBdO1xuICAgIGxldCB5aSA9IGlkeFsxXTtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuXG4gICAgaWYgKGVkZ2VDbGFtcCkge1xuICAgICAgeGkgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHhpKSk7XG4gICAgICB5aSA9IE1hdGgubWluKGRhdGFbMF0ubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeWkpKTtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7XG4gICAgY29uc3QgbG93ZXJEaXN0MiA9ICh4IC8gZWxlbWVudFNpemUgLSB4aSkgKiogMiArICh5IC8gZWxlbWVudFNpemUgLSB5aSkgKiogMjtcbiAgICBjb25zdCB1cHBlckRpc3QyID0gKHggLyBlbGVtZW50U2l6ZSAtICh4aSArIDEpKSAqKiAyICsgKHkgLyBlbGVtZW50U2l6ZSAtICh5aSArIDEpKSAqKiAyO1xuICAgIGNvbnN0IHVwcGVyID0gbG93ZXJEaXN0MiA+IHVwcGVyRGlzdDI7XG4gICAgdGhpcy5nZXRUcmlhbmdsZSh4aSwgeWksIHVwcGVyLCBhLCBiLCBjKTtcbiAgICByZXR1cm4gdXBwZXI7XG4gIH1cblxuICBnZXROb3JtYWxBdCh4LCB5LCBlZGdlQ2xhbXAsIHJlc3VsdCkge1xuICAgIGNvbnN0IGEgPSBnZXROb3JtYWxBdF9hO1xuICAgIGNvbnN0IGIgPSBnZXROb3JtYWxBdF9iO1xuICAgIGNvbnN0IGMgPSBnZXROb3JtYWxBdF9jO1xuICAgIGNvbnN0IGUwID0gZ2V0Tm9ybWFsQXRfZTA7XG4gICAgY29uc3QgZTEgPSBnZXROb3JtYWxBdF9lMTtcbiAgICB0aGlzLmdldFRyaWFuZ2xlQXQoeCwgeSwgZWRnZUNsYW1wLCBhLCBiLCBjKTtcbiAgICBiLnZzdWIoYSwgZTApO1xuICAgIGMudnN1YihhLCBlMSk7XG4gICAgZTAuY3Jvc3MoZTEsIHJlc3VsdCk7XG4gICAgcmVzdWx0Lm5vcm1hbGl6ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYW4gQUFCQiBvZiBhIHNxdWFyZSBpbiB0aGUgaGVpZ2h0ZmllbGRcbiAgICogQHBhcmFtICB7bnVtYmVyfSB4aVxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlpXG4gICAqIEBwYXJhbSAge0FBQkJ9IHJlc3VsdFxuICAgKi9cblxuXG4gIGdldEFhYmJBdEluZGV4KHhpLCB5aSwge1xuICAgIGxvd2VyQm91bmQsXG4gICAgdXBwZXJCb3VuZFxuICB9KSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7XG4gICAgbG93ZXJCb3VuZC5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldKTtcbiAgICB1cHBlckJvdW5kLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgaGVpZ2h0IGluIHRoZSBoZWlnaHRmaWVsZCBhdCBhIGdpdmVuIHBvc2l0aW9uXG4gICAqIEBwYXJhbSAge251bWJlcn0geFxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gZWRnZUNsYW1wXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG5cblxuICBnZXRIZWlnaHRBdCh4LCB5LCBlZGdlQ2xhbXApIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGEgPSBnZXRIZWlnaHRBdF9hO1xuICAgIGNvbnN0IGIgPSBnZXRIZWlnaHRBdF9iO1xuICAgIGNvbnN0IGMgPSBnZXRIZWlnaHRBdF9jO1xuICAgIGNvbnN0IGlkeCA9IGdldEhlaWdodEF0X2lkeDtcbiAgICB0aGlzLmdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCBpZHgsIGVkZ2VDbGFtcCk7XG4gICAgbGV0IHhpID0gaWR4WzBdO1xuICAgIGxldCB5aSA9IGlkeFsxXTtcblxuICAgIGlmIChlZGdlQ2xhbXApIHtcbiAgICAgIHhpID0gTWF0aC5taW4oZGF0YS5sZW5ndGggLSAyLCBNYXRoLm1heCgwLCB4aSkpO1xuICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBwZXIgPSB0aGlzLmdldFRyaWFuZ2xlQXQoeCwgeSwgZWRnZUNsYW1wLCBhLCBiLCBjKTtcbiAgICBiYXJ5Y2VudHJpY1dlaWdodHMoeCwgeSwgYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgZ2V0SGVpZ2h0QXRfd2VpZ2h0cyk7XG4gICAgY29uc3QgdyA9IGdldEhlaWdodEF0X3dlaWdodHM7XG5cbiAgICBpZiAodXBwZXIpIHtcbiAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0c1xuICAgICAgcmV0dXJuIGRhdGFbeGkgKyAxXVt5aSArIDFdICogdy54ICsgZGF0YVt4aV1beWkgKyAxXSAqIHcueSArIGRhdGFbeGkgKyAxXVt5aV0gKiB3Lno7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0c1xuICAgICAgcmV0dXJuIGRhdGFbeGldW3lpXSAqIHcueCArIGRhdGFbeGkgKyAxXVt5aV0gKiB3LnkgKyBkYXRhW3hpXVt5aSArIDFdICogdy56O1xuICAgIH1cbiAgfVxuXG4gIGdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKSB7XG4gICAgcmV0dXJuIHhpICsgXCJfXCIgKyB5aSArIFwiX1wiICsgKGdldFVwcGVyVHJpYW5nbGUgPyAxIDogMCk7XG4gIH1cblxuICBnZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07XG4gIH1cblxuICBzZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUsIGNvbnZleCwgb2Zmc2V0KSB7XG4gICAgdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV0gPSB7XG4gICAgICBjb252ZXgsXG4gICAgICBvZmZzZXRcbiAgICB9O1xuICB9XG5cbiAgY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHtcbiAgICBkZWxldGUgdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHRyaWFuZ2xlIGZyb20gdGhlIGhlaWdodGZpZWxkXG4gICAqIEBwYXJhbSAge251bWJlcn0geGlcbiAgICogQHBhcmFtICB7bnVtYmVyfSB5aVxuICAgKiBAcGFyYW0gIHtib29sZWFufSB1cHBlclxuICAgKiBAcGFyYW0gIHtWZWMzfSBhXG4gICAqIEBwYXJhbSAge1ZlYzN9IGJcbiAgICogQHBhcmFtICB7VmVjM30gY1xuICAgKi9cblxuXG4gIGdldFRyaWFuZ2xlKHhpLCB5aSwgdXBwZXIsIGEsIGIsIGMpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTtcblxuICAgIGlmICh1cHBlcikge1xuICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzXG4gICAgICBhLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSk7XG4gICAgICBiLnNldCh4aSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdKTtcbiAgICAgIGMuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHNcbiAgICAgIGEuc2V0KHhpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpXSk7XG4gICAgICBiLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldKTtcbiAgICAgIGMuc2V0KHhpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogR2V0IGEgdHJpYW5nbGUgaW4gdGhlIHRlcnJhaW4gaW4gdGhlIGZvcm0gb2YgYSB0cmlhbmd1bGFyIGNvbnZleCBzaGFwZS5cbiAgICogQG1ldGhvZCBnZXRDb252ZXhUcmlhbmdsZVBpbGxhclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IGpcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gZ2V0VXBwZXJUcmlhbmdsZVxuICAgKi9cblxuXG4gIGdldENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLnBpbGxhckNvbnZleDtcbiAgICBsZXQgb2Zmc2V0UmVzdWx0ID0gdGhpcy5waWxsYXJPZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5jYWNoZUVuYWJsZWQpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSk7XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHRoaXMucGlsbGFyQ29udmV4ID0gZGF0YS5jb252ZXg7XG4gICAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gZGF0YS5vZmZzZXQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTtcbiAgICAgIG9mZnNldFJlc3VsdCA9IG5ldyBWZWMzKCk7XG4gICAgICB0aGlzLnBpbGxhckNvbnZleCA9IHJlc3VsdDtcbiAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gb2Zmc2V0UmVzdWx0O1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplO1xuICAgIGNvbnN0IGZhY2VzID0gcmVzdWx0LmZhY2VzOyAvLyBSZXVzZSB2ZXJ0cyBpZiBwb3NzaWJsZVxuXG4gICAgcmVzdWx0LnZlcnRpY2VzLmxlbmd0aCA9IDY7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgaWYgKCFyZXN1bHQudmVydGljZXNbaV0pIHtcbiAgICAgICAgcmVzdWx0LnZlcnRpY2VzW2ldID0gbmV3IFZlYzMoKTtcbiAgICAgIH1cbiAgICB9IC8vIFJldXNlIGZhY2VzIGlmIHBvc3NpYmxlXG5cblxuICAgIGZhY2VzLmxlbmd0aCA9IDU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgaWYgKCFmYWNlc1tpXSkge1xuICAgICAgICBmYWNlc1tpXSA9IFtdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHZlcnRzID0gcmVzdWx0LnZlcnRpY2VzO1xuICAgIGNvbnN0IGggPSAoTWF0aC5taW4oZGF0YVt4aV1beWldLCBkYXRhW3hpICsgMV1beWldLCBkYXRhW3hpXVt5aSArIDFdLCBkYXRhW3hpICsgMV1beWkgKyAxXSkgLSB0aGlzLm1pblZhbHVlKSAvIDIgKyB0aGlzLm1pblZhbHVlO1xuXG4gICAgaWYgKCFnZXRVcHBlclRyaWFuZ2xlKSB7XG4gICAgICAvLyBDZW50ZXIgb2YgdGhlIHRyaWFuZ2xlIHBpbGxhciAtIGFsbCBwb2x5Z29ucyBhcmUgZ2l2ZW4gcmVsYXRpdmUgdG8gdGhpcyBvbmVcbiAgICAgIG9mZnNldFJlc3VsdC5zZXQoKHhpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgLy8gc29ydCBvZiBjZW50ZXIgb2YgYSB0cmlhbmdsZVxuICAgICAgKHlpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgaCAvLyB2ZXJ0aWNhbCBjZW50ZXJcbiAgICAgICk7IC8vIFRvcCB0cmlhbmdsZSB2ZXJ0c1xuXG4gICAgICB2ZXJ0c1swXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldIC0gaCk7XG4gICAgICB2ZXJ0c1sxXS5zZXQoMC43NSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldIC0gaCk7XG4gICAgICB2ZXJ0c1syXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdIC0gaCk7IC8vIGJvdHRvbSB0cmlhbmdsZSB2ZXJ0c1xuXG4gICAgICB2ZXJ0c1szXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgLU1hdGguYWJzKGgpIC0gMSk7XG4gICAgICB2ZXJ0c1s0XS5zZXQoMC43NSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTtcbiAgICAgIHZlcnRzWzVdLnNldCgtMC4yNSAqIGVsZW1lbnRTaXplLCAwLjc1ICogZWxlbWVudFNpemUsIC1NYXRoLmFicyhoKSAtIDEpOyAvLyB0b3AgdHJpYW5nbGVcblxuICAgICAgZmFjZXNbMF1bMF0gPSAwO1xuICAgICAgZmFjZXNbMF1bMV0gPSAxO1xuICAgICAgZmFjZXNbMF1bMl0gPSAyOyAvLyBib3R0b20gdHJpYW5nbGVcblxuICAgICAgZmFjZXNbMV1bMF0gPSA1O1xuICAgICAgZmFjZXNbMV1bMV0gPSA0O1xuICAgICAgZmFjZXNbMV1bMl0gPSAzOyAvLyAteCBmYWNpbmcgcXVhZFxuXG4gICAgICBmYWNlc1syXVswXSA9IDA7XG4gICAgICBmYWNlc1syXVsxXSA9IDI7XG4gICAgICBmYWNlc1syXVsyXSA9IDU7XG4gICAgICBmYWNlc1syXVszXSA9IDM7IC8vIC15IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzNdWzBdID0gMTtcbiAgICAgIGZhY2VzWzNdWzFdID0gMDtcbiAgICAgIGZhY2VzWzNdWzJdID0gMztcbiAgICAgIGZhY2VzWzNdWzNdID0gNDsgLy8gK3h5IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzRdWzBdID0gNDtcbiAgICAgIGZhY2VzWzRdWzFdID0gNTtcbiAgICAgIGZhY2VzWzRdWzJdID0gMjtcbiAgICAgIGZhY2VzWzRdWzNdID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2VudGVyIG9mIHRoZSB0cmlhbmdsZSBwaWxsYXIgLSBhbGwgcG9seWdvbnMgYXJlIGdpdmVuIHJlbGF0aXZlIHRvIHRoaXMgb25lXG4gICAgICBvZmZzZXRSZXN1bHQuc2V0KCh4aSArIDAuNzUpICogZWxlbWVudFNpemUsIC8vIHNvcnQgb2YgY2VudGVyIG9mIGEgdHJpYW5nbGVcbiAgICAgICh5aSArIDAuNzUpICogZWxlbWVudFNpemUsIGggLy8gdmVydGljYWwgY2VudGVyXG4gICAgICApOyAvLyBUb3AgdHJpYW5nbGUgdmVydHNcblxuICAgICAgdmVydHNbMF0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSAtIGgpO1xuICAgICAgdmVydHNbMV0uc2V0KC0wLjc1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSAtIGgpO1xuICAgICAgdmVydHNbMl0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuNzUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSAtIGgpOyAvLyBib3R0b20gdHJpYW5nbGUgdmVydHNcblxuICAgICAgdmVydHNbM10uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTtcbiAgICAgIHZlcnRzWzRdLnNldCgtMC43NSAqIGVsZW1lbnRTaXplLCAwLjI1ICogZWxlbWVudFNpemUsIC1NYXRoLmFicyhoKSAtIDEpO1xuICAgICAgdmVydHNbNV0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuNzUgKiBlbGVtZW50U2l6ZSwgLU1hdGguYWJzKGgpIC0gMSk7IC8vIFRvcCB0cmlhbmdsZVxuXG4gICAgICBmYWNlc1swXVswXSA9IDA7XG4gICAgICBmYWNlc1swXVsxXSA9IDE7XG4gICAgICBmYWNlc1swXVsyXSA9IDI7IC8vIGJvdHRvbSB0cmlhbmdsZVxuXG4gICAgICBmYWNlc1sxXVswXSA9IDU7XG4gICAgICBmYWNlc1sxXVsxXSA9IDQ7XG4gICAgICBmYWNlc1sxXVsyXSA9IDM7IC8vICt4IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzJdWzBdID0gMjtcbiAgICAgIGZhY2VzWzJdWzFdID0gNTtcbiAgICAgIGZhY2VzWzJdWzJdID0gMztcbiAgICAgIGZhY2VzWzJdWzNdID0gMDsgLy8gK3kgZmFjaW5nIHF1YWRcblxuICAgICAgZmFjZXNbM11bMF0gPSAzO1xuICAgICAgZmFjZXNbM11bMV0gPSA0O1xuICAgICAgZmFjZXNbM11bMl0gPSAxO1xuICAgICAgZmFjZXNbM11bM10gPSAwOyAvLyAteHkgZmFjaW5nIHF1YWRcblxuICAgICAgZmFjZXNbNF1bMF0gPSAxO1xuICAgICAgZmFjZXNbNF1bMV0gPSA0O1xuICAgICAgZmFjZXNbNF1bMl0gPSA1O1xuICAgICAgZmFjZXNbNF1bM10gPSAyO1xuICAgIH1cblxuICAgIHJlc3VsdC5jb21wdXRlTm9ybWFscygpO1xuICAgIHJlc3VsdC5jb21wdXRlRWRnZXMoKTtcbiAgICByZXN1bHQudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgICB0aGlzLnNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSwgcmVzdWx0LCBvZmZzZXRSZXN1bHQpO1xuICB9XG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQuc2V0KDAsIDAsIDApO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuICgvLyBUaGUgdGVycmFpbiBpcyBpbmZpbml0ZVxuICAgICAgTnVtYmVyLk1BWF9WQUxVRVxuICAgICk7XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIC8vIFRPRE86IGRvIGl0IHByb3Blcmx5XG4gICAgbWluLnNldCgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKTtcbiAgICBtYXguc2V0KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpO1xuICB9XG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgLy8gVXNlIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIG1pbi9tYXggdmFsdWVzXG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCBzID0gdGhpcy5lbGVtZW50U2l6ZTtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gbmV3IFZlYzMoZGF0YS5sZW5ndGggKiBzLCBkYXRhWzBdLmxlbmd0aCAqIHMsIE1hdGgubWF4KE1hdGguYWJzKHRoaXMubWF4VmFsdWUpLCBNYXRoLmFicyh0aGlzLm1pblZhbHVlKSkpLmxlbmd0aCgpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBoZWlnaHQgdmFsdWVzIGZyb20gYW4gaW1hZ2UuIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCBpbiBicm93c2VyLlxuICAgKiBAbWV0aG9kIHNldEhlaWdodHNGcm9tSW1hZ2VcbiAgICogQHBhcmFtIHtJbWFnZX0gaW1hZ2VcbiAgICogQHBhcmFtIHtWZWMzfSBzY2FsZVxuICAgKi9cblxuXG4gIHNldEhlaWdodHNGcm9tSW1hZ2UoaW1hZ2UsIHNjYWxlKSB7XG4gICAgY29uc3Qge1xuICAgICAgeCxcbiAgICAgIHosXG4gICAgICB5XG4gICAgfSA9IHNjYWxlO1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgICBjb25zdCBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTtcbiAgICBjb25zdCBtYXRyaXggPSB0aGlzLmRhdGE7XG4gICAgbWF0cml4Lmxlbmd0aCA9IDA7XG4gICAgdGhpcy5lbGVtZW50U2l6ZSA9IE1hdGguYWJzKHgpIC8gaW1hZ2VEYXRhLndpZHRoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZURhdGEuaGVpZ2h0OyBpKyspIHtcbiAgICAgIGNvbnN0IHJvdyA9IFtdO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGltYWdlRGF0YS53aWR0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGEgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDRdO1xuICAgICAgICBjb25zdCBiID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0ICsgMV07XG4gICAgICAgIGNvbnN0IGMgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDQgKyAyXTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGEgKyBiICsgYykgLyA0IC8gMjU1ICogejtcblxuICAgICAgICBpZiAoeCA8IDApIHtcbiAgICAgICAgICByb3cucHVzaChoZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy51bnNoaWZ0KGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHkgPCAwKSB7XG4gICAgICAgIG1hdHJpeC51bnNoaWZ0KHJvdyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRyaXgucHVzaChyb3cpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudXBkYXRlTWF4VmFsdWUoKTtcbiAgICB0aGlzLnVwZGF0ZU1pblZhbHVlKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG59XG5jb25zdCBnZXRIZWlnaHRBdF9pZHggPSBbXTtcbmNvbnN0IGdldEhlaWdodEF0X3dlaWdodHMgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0SGVpZ2h0QXRfYSA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXRIZWlnaHRBdF9iID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldEhlaWdodEF0X2MgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0Tm9ybWFsQXRfYSA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXROb3JtYWxBdF9iID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldE5vcm1hbEF0X2MgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0Tm9ybWFsQXRfZTAgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0Tm9ybWFsQXRfZTEgPSBuZXcgVmVjMygpOyAvLyBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JhcnljZW50cmljX2Nvb3JkaW5hdGVfc3lzdGVtXG5cbmZ1bmN0aW9uIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBheCwgYXksIGJ4LCBieSwgY3gsIGN5LCByZXN1bHQpIHtcbiAgcmVzdWx0LnggPSAoKGJ5IC0gY3kpICogKHggLSBjeCkgKyAoY3ggLSBieCkgKiAoeSAtIGN5KSkgLyAoKGJ5IC0gY3kpICogKGF4IC0gY3gpICsgKGN4IC0gYngpICogKGF5IC0gY3kpKTtcbiAgcmVzdWx0LnkgPSAoKGN5IC0gYXkpICogKHggLSBjeCkgKyAoYXggLSBjeCkgKiAoeSAtIGN5KSkgLyAoKGJ5IC0gY3kpICogKGF4IC0gY3gpICsgKGN4IC0gYngpICogKGF5IC0gY3kpKTtcbiAgcmVzdWx0LnogPSAxIC0gcmVzdWx0LnggLSByZXN1bHQueTtcbn1cblxuLyoqXG4gKiBAY2xhc3MgT2N0cmVlTm9kZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge09jdHJlZX0gW29wdGlvbnMucm9vdF1cbiAqIEBwYXJhbSB7QUFCQn0gW29wdGlvbnMuYWFiYl1cbiAqL1xuY2xhc3MgT2N0cmVlTm9kZSB7XG4gIC8vIFRoZSByb290IG5vZGVcbiAgLy8gQm91bmRhcnkgb2YgdGhpcyBub2RlXG4gIC8vIENvbnRhaW5lZCBkYXRhIGF0IHRoZSBjdXJyZW50IG5vZGUgbGV2ZWxcbiAgLy8gQ2hpbGRyZW4gdG8gdGhpcyBub2RlXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMucm9vdCA9IG9wdGlvbnMucm9vdCB8fCBudWxsO1xuICAgIHRoaXMuYWFiYiA9IG9wdGlvbnMuYWFiYiA/IG9wdGlvbnMuYWFiYi5jbG9uZSgpIDogbmV3IEFBQkIoKTtcbiAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IHRoaXMuZGF0YS5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgZGF0YSBpbnRvIHRoaXMgbm9kZVxuICAgKiBAbWV0aG9kIGluc2VydFxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXG4gICAqIEBwYXJhbSAge29iamVjdH0gZWxlbWVudERhdGFcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBzdWNjZXNzZnVsLCBvdGhlcndpc2UgZmFsc2VcbiAgICovXG5cblxuICBpbnNlcnQoYWFiYiwgZWxlbWVudERhdGEsIGxldmVsID0gMCkge1xuICAgIGNvbnN0IG5vZGVEYXRhID0gdGhpcy5kYXRhOyAvLyBJZ25vcmUgb2JqZWN0cyB0aGF0IGRvIG5vdCBiZWxvbmcgaW4gdGhpcyBub2RlXG5cbiAgICBpZiAoIXRoaXMuYWFiYi5jb250YWlucyhhYWJiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBvYmplY3QgY2Fubm90IGJlIGFkZGVkXG4gICAgfVxuXG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgIGNvbnN0IG1heERlcHRoID0gdGhpcy5tYXhEZXB0aCB8fCB0aGlzLnJvb3QubWF4RGVwdGg7XG5cbiAgICBpZiAobGV2ZWwgPCBtYXhEZXB0aCkge1xuICAgICAgLy8gU3ViZGl2aWRlIGlmIHRoZXJlIGFyZSBubyBjaGlsZHJlbiB5ZXRcbiAgICAgIGxldCBzdWJkaXZpZGVkID0gZmFsc2U7XG5cbiAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuc3ViZGl2aWRlKCk7XG4gICAgICAgIHN1YmRpdmlkZWQgPSB0cnVlO1xuICAgICAgfSAvLyBhZGQgdG8gd2hpY2hldmVyIG5vZGUgd2lsbCBhY2NlcHQgaXRcblxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7XG4gICAgICAgIGlmIChjaGlsZHJlbltpXS5pbnNlcnQoYWFiYiwgZWxlbWVudERhdGEsIGxldmVsICsgMSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3ViZGl2aWRlZCkge1xuICAgICAgICAvLyBObyBjaGlsZHJlbiBhY2NlcHRlZCEgTWlnaHQgYXMgd2VsbCBqdXN0IHJlbW92ZSBlbSBzaW5jZSB0aGV5IGNvbnRhaW4gbm9uZVxuICAgICAgICBjaGlsZHJlbi5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgIH0gLy8gVG9vIGRlZXAsIG9yIGNoaWxkcmVuIGRpZG50IHdhbnQgaXQuIGFkZCBpdCBpbiBjdXJyZW50IG5vZGVcblxuXG4gICAgbm9kZURhdGEucHVzaChlbGVtZW50RGF0YSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSA4IGVxdWFsbHkgc2l6ZWQgY2hpbGRyZW4gbm9kZXMgYW5kIHB1dCB0aGVtIGluIHRoZSAuY2hpbGRyZW4gYXJyYXkuXG4gICAqIEBtZXRob2Qgc3ViZGl2aWRlXG4gICAqL1xuXG5cbiAgc3ViZGl2aWRlKCkge1xuICAgIGNvbnN0IGFhYmIgPSB0aGlzLmFhYmI7XG4gICAgY29uc3QgbCA9IGFhYmIubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gYWFiYi51cHBlckJvdW5kO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICBjaGlsZHJlbi5wdXNoKG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMCwgMClcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMCwgMClcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMSwgMClcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMSwgMSlcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMSwgMSlcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMCwgMSlcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMCwgMSlcbiAgICAgIH0pXG4gICAgfSksIG5ldyBPY3RyZWVOb2RlKHtcbiAgICAgIGFhYmI6IG5ldyBBQUJCKHtcbiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMSwgMClcbiAgICAgIH0pXG4gICAgfSkpO1xuICAgIHUudnN1YihsLCBoYWxmRGlhZ29uYWwpO1xuICAgIGhhbGZEaWFnb25hbC5zY2FsZSgwLjUsIGhhbGZEaWFnb25hbCk7XG4gICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdCB8fCB0aGlzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTsgLy8gU2V0IGN1cnJlbnQgbm9kZSBhcyByb290XG5cbiAgICAgIGNoaWxkLnJvb3QgPSByb290OyAvLyBDb21wdXRlIGJvdW5kc1xuXG4gICAgICBjb25zdCBsb3dlckJvdW5kID0gY2hpbGQuYWFiYi5sb3dlckJvdW5kO1xuICAgICAgbG93ZXJCb3VuZC54ICo9IGhhbGZEaWFnb25hbC54O1xuICAgICAgbG93ZXJCb3VuZC55ICo9IGhhbGZEaWFnb25hbC55O1xuICAgICAgbG93ZXJCb3VuZC56ICo9IGhhbGZEaWFnb25hbC56O1xuICAgICAgbG93ZXJCb3VuZC52YWRkKGwsIGxvd2VyQm91bmQpOyAvLyBVcHBlciBib3VuZCBpcyBhbHdheXMgbG93ZXIgYm91bmQgKyBoYWxmRGlhZ29uYWxcblxuICAgICAgbG93ZXJCb3VuZC52YWRkKGhhbGZEaWFnb25hbCwgY2hpbGQuYWFiYi51cHBlckJvdW5kKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgd2l0aGluIGFuIEFBQkJcbiAgICogQG1ldGhvZCBhYWJiUXVlcnlcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxuICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0XG4gICAqIEByZXR1cm4ge2FycmF5fSBUaGUgXCJyZXN1bHRcIiBvYmplY3RcbiAgICovXG5cblxuICBhYWJiUXVlcnkoYWFiYiwgcmVzdWx0KSB7XG4gICAgY29uc3Qgbm9kZURhdGEgPSB0aGlzLmRhdGE7IC8vIGFib3J0IGlmIHRoZSByYW5nZSBkb2VzIG5vdCBpbnRlcnNlY3QgdGhpcyBub2RlXG4gICAgLy8gaWYgKCF0aGlzLmFhYmIub3ZlcmxhcHMoYWFiYikpe1xuICAgIC8vICAgICByZXR1cm4gcmVzdWx0O1xuICAgIC8vIH1cbiAgICAvLyBBZGQgb2JqZWN0cyBhdCB0aGlzIGxldmVsXG4gICAgLy8gQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocmVzdWx0LCBub2RlRGF0YSk7XG4gICAgLy8gQWRkIGNoaWxkIGRhdGFcbiAgICAvLyBAdG9kbyB1bndyYXAgcmVjdXJzaW9uIGludG8gYSBxdWV1ZSAvIGxvb3AsIHRoYXQncyBmYXN0ZXIgaW4gSlNcblxuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjsgLy8gZm9yIChsZXQgaSA9IDAsIE4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgLy8gICAgIGNoaWxkcmVuW2ldLmFhYmJRdWVyeShhYWJiLCByZXN1bHQpO1xuICAgIC8vIH1cblxuICAgIGNvbnN0IHF1ZXVlID0gW3RoaXNdO1xuXG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgY29uc3Qgbm9kZSA9IHF1ZXVlLnBvcCgpO1xuXG4gICAgICBpZiAobm9kZS5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlc3VsdCwgbm9kZS5kYXRhKTtcbiAgICAgIH1cblxuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocXVldWUsIG5vZGUuY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgaW50ZXJzZWN0ZWQgYnkgYSByYXkuXG4gICAqIEBtZXRob2QgcmF5UXVlcnlcbiAgICogQHBhcmFtICB7UmF5fSByYXlcbiAgICogQHBhcmFtICB7VHJhbnNmb3JtfSB0cmVlVHJhbnNmb3JtXG4gICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHRcbiAgICogQHJldHVybiB7YXJyYXl9IFRoZSBcInJlc3VsdFwiIG9iamVjdFxuICAgKi9cblxuXG4gIHJheVF1ZXJ5KHJheSwgdHJlZVRyYW5zZm9ybSwgcmVzdWx0KSB7XG4gICAgLy8gVXNlIGFhYmIgcXVlcnkgZm9yIG5vdy5cbiAgICAvLyBAdG9kbyBpbXBsZW1lbnQgcmVhbCByYXkgcXVlcnkgd2hpY2ggbmVlZHMgbGVzcyBsb29rdXBzXG4gICAgcmF5LmdldEFBQkIodG1wQUFCQiQxKTtcbiAgICB0bXBBQUJCJDEudG9Mb2NhbEZyYW1lKHRyZWVUcmFuc2Zvcm0sIHRtcEFBQkIkMSk7XG4gICAgdGhpcy5hYWJiUXVlcnkodG1wQUFCQiQxLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2QgcmVtb3ZlRW1wdHlOb2Rlc1xuICAgKi9cblxuXG4gIHJlbW92ZUVtcHR5Tm9kZXMoKSB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVtb3ZlRW1wdHlOb2RlcygpO1xuXG4gICAgICBpZiAoIXRoaXMuY2hpbGRyZW5baV0uY2hpbGRyZW4ubGVuZ3RoICYmICF0aGlzLmNoaWxkcmVuW2ldLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG4vKipcbiAqIEBjbGFzcyBPY3RyZWVcbiAqIEBwYXJhbSB7QUFCQn0gYWFiYiBUaGUgdG90YWwgQUFCQiBvZiB0aGUgdHJlZVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heERlcHRoPThdIE1heGltdW0gc3ViZGl2aXNpb24gZGVwdGhcbiAqIEBleHRlbmRzIE9jdHJlZU5vZGVcbiAqL1xuXG5cbmNsYXNzIE9jdHJlZSBleHRlbmRzIE9jdHJlZU5vZGUge1xuICAvLyBNYXhpbXVtIHN1YmRpdmlzaW9uIGRlcHRoXG4gIGNvbnN0cnVjdG9yKGFhYmIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKHtcbiAgICAgIHJvb3Q6IG51bGwsXG4gICAgICBhYWJiXG4gICAgfSk7XG4gICAgdGhpcy5tYXhEZXB0aCA9IHR5cGVvZiBvcHRpb25zLm1heERlcHRoICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4RGVwdGggOiA4O1xuICB9XG5cbn1cbmNvbnN0IGhhbGZEaWFnb25hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBBQUJCJDEgPSBuZXcgQUFCQigpO1xuXG4vKipcbiAqIEBjbGFzcyBUcmltZXNoXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7YXJyYXl9IHZlcnRpY2VzXG4gKiBAcGFyYW0ge2FycmF5fSBpbmRpY2VzXG4gKiBAZXh0ZW5kcyBTaGFwZVxuICogQGV4YW1wbGVcbiAqICAgICAvLyBIb3cgdG8gbWFrZSBhIG1lc2ggd2l0aCBhIHNpbmdsZSB0cmlhbmdsZVxuICogICAgIGNvbnN0IHZlcnRpY2VzID0gW1xuICogICAgICAgICAwLCAwLCAwLCAvLyB2ZXJ0ZXggMFxuICogICAgICAgICAxLCAwLCAwLCAvLyB2ZXJ0ZXggMVxuICogICAgICAgICAwLCAxLCAwICAvLyB2ZXJ0ZXggMlxuICogICAgIF07XG4gKiAgICAgY29uc3QgaW5kaWNlcyA9IFtcbiAqICAgICAgICAgMCwgMSwgMiAgLy8gdHJpYW5nbGUgMFxuICogICAgIF07XG4gKiAgICAgY29uc3QgdHJpbWVzaFNoYXBlID0gbmV3IFRyaW1lc2godmVydGljZXMsIGluZGljZXMpO1xuICovXG5jbGFzcyBUcmltZXNoIGV4dGVuZHMgU2hhcGUge1xuICAvLyBBcnJheSBvZiBpbnRlZ2VycywgaW5kaWNhdGluZyB3aGljaCB2ZXJ0aWNlcyBlYWNoIHRyaWFuZ2xlIGNvbnNpc3RzIG9mLiBUaGUgbGVuZ3RoIG9mIHRoaXMgYXJyYXkgaXMgdGh1cyAzIHRpbWVzIHRoZSBudW1iZXIgb2YgdHJpYW5nbGVzLlxuICAvLyBUaGUgbm9ybWFscyBkYXRhLlxuICAvLyBUaGUgbG9jYWwgQUFCQiBvZiB0aGUgbWVzaC5cbiAgLy8gUmVmZXJlbmNlcyB0byB2ZXJ0ZXggcGFpcnMsIG1ha2luZyB1cCBhbGwgdW5pcXVlIGVkZ2VzIGluIHRoZSB0cmltZXNoLlxuICAvLyBMb2NhbCBzY2FsaW5nIG9mIHRoZSBtZXNoLiBVc2UgLnNldFNjYWxlKCkgdG8gc2V0IGl0LlxuICAvLyBUaGUgaW5kZXhlZCB0cmlhbmdsZXMuIFVzZSAudXBkYXRlVHJlZSgpIHRvIHVwZGF0ZSBpdC5cbiAgY29uc3RydWN0b3IodmVydGljZXMsIGluZGljZXMpIHtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5UUklNRVNIXG4gICAgfSk7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpO1xuICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBJbnQxNkFycmF5KGluZGljZXMpO1xuICAgIHRoaXMubm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoaW5kaWNlcy5sZW5ndGgpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7XG4gICAgdGhpcy5lZGdlcyA9IG51bGw7XG4gICAgdGhpcy5zY2FsZSA9IG5ldyBWZWMzKDEsIDEsIDEpO1xuICAgIHRoaXMudHJlZSA9IG5ldyBPY3RyZWUoKTtcbiAgICB0aGlzLnVwZGF0ZUVkZ2VzKCk7XG4gICAgdGhpcy51cGRhdGVOb3JtYWxzKCk7XG4gICAgdGhpcy51cGRhdGVBQUJCKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpO1xuICAgIHRoaXMudXBkYXRlVHJlZSgpO1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIHVwZGF0ZVRyZWVcbiAgICovXG5cblxuICB1cGRhdGVUcmVlKCkge1xuICAgIGNvbnN0IHRyZWUgPSB0aGlzLnRyZWU7XG4gICAgdHJlZS5yZXNldCgpO1xuICAgIHRyZWUuYWFiYi5jb3B5KHRoaXMuYWFiYik7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOyAvLyBUaGUgbG9jYWwgbWVzaCBBQUJCIGlzIHNjYWxlZCwgYnV0IHRoZSBvY3RyZWUgQUFCQiBzaG91bGQgYmUgdW5zY2FsZWRcblxuICAgIHRyZWUuYWFiYi5sb3dlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7XG4gICAgdHJlZS5hYWJiLmxvd2VyQm91bmQueSAqPSAxIC8gc2NhbGUueTtcbiAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56O1xuICAgIHRyZWUuYWFiYi51cHBlckJvdW5kLnggKj0gMSAvIHNjYWxlLng7XG4gICAgdHJlZS5hYWJiLnVwcGVyQm91bmQueSAqPSAxIC8gc2NhbGUueTtcbiAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OyAvLyBJbnNlcnQgYWxsIHRyaWFuZ2xlc1xuXG4gICAgY29uc3QgdHJpYW5nbGVBQUJCID0gbmV3IEFBQkIoKTtcbiAgICBjb25zdCBhID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBiID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBjID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwb2ludHMgPSBbYSwgYiwgY107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHtcbiAgICAgIC8vdGhpcy5nZXRUcmlhbmdsZVZlcnRpY2VzKGksIGEsIGIsIGMpO1xuICAgICAgLy8gR2V0IHVuc2NhbGVkIHRyaWFuZ2xlIHZlcnRzXG4gICAgICBjb25zdCBpMyA9IGkgKiAzO1xuXG4gICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTNdLCBhKTtcblxuICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMV0sIGIpO1xuXG4gICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAyXSwgYyk7XG5cbiAgICAgIHRyaWFuZ2xlQUFCQi5zZXRGcm9tUG9pbnRzKHBvaW50cyk7XG4gICAgICB0cmVlLmluc2VydCh0cmlhbmdsZUFBQkIsIGkpO1xuICAgIH1cblxuICAgIHRyZWUucmVtb3ZlRW1wdHlOb2RlcygpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdHJpYW5nbGVzIGluIGEgbG9jYWwgQUFCQiBmcm9tIHRoZSB0cmltZXNoLlxuICAgKiBAbWV0aG9kIGdldFRyaWFuZ2xlc0luQUFCQlxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXG4gICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgb2YgaW50ZWdlcnMsIHJlZmVyZW5jaW5nIHRoZSBxdWVyaWVkIHRyaWFuZ2xlcy5cbiAgICovXG5cblxuICBnZXRUcmlhbmdsZXNJbkFBQkIoYWFiYiwgcmVzdWx0KSB7XG4gICAgdW5zY2FsZWRBQUJCLmNvcHkoYWFiYik7IC8vIFNjYWxlIGl0IHRvIGxvY2FsXG5cbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgY29uc3QgaXN4ID0gc2NhbGUueDtcbiAgICBjb25zdCBpc3kgPSBzY2FsZS55O1xuICAgIGNvbnN0IGlzeiA9IHNjYWxlLno7XG4gICAgY29uc3QgbCA9IHVuc2NhbGVkQUFCQi5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUgPSB1bnNjYWxlZEFBQkIudXBwZXJCb3VuZDtcbiAgICBsLnggLz0gaXN4O1xuICAgIGwueSAvPSBpc3k7XG4gICAgbC56IC89IGlzejtcbiAgICB1LnggLz0gaXN4O1xuICAgIHUueSAvPSBpc3k7XG4gICAgdS56IC89IGlzejtcbiAgICByZXR1cm4gdGhpcy50cmVlLmFhYmJRdWVyeSh1bnNjYWxlZEFBQkIsIHJlc3VsdCk7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2Qgc2V0U2NhbGVcbiAgICogQHBhcmFtIHtWZWMzfSBzY2FsZVxuICAgKi9cblxuXG4gIHNldFNjYWxlKHNjYWxlKSB7XG4gICAgY29uc3Qgd2FzVW5pZm9ybSA9IHRoaXMuc2NhbGUueCA9PT0gdGhpcy5zY2FsZS55ICYmIHRoaXMuc2NhbGUueSA9PT0gdGhpcy5zY2FsZS56O1xuICAgIGNvbnN0IGlzVW5pZm9ybSA9IHNjYWxlLnggPT09IHNjYWxlLnkgJiYgc2NhbGUueSA9PT0gc2NhbGUuejtcblxuICAgIGlmICghKHdhc1VuaWZvcm0gJiYgaXNVbmlmb3JtKSkge1xuICAgICAgLy8gTm9uLXVuaWZvcm0gc2NhbGluZy4gTmVlZCB0byB1cGRhdGUgbm9ybWFscy5cbiAgICAgIHRoaXMudXBkYXRlTm9ybWFscygpO1xuICAgIH1cblxuICAgIHRoaXMuc2NhbGUuY29weShzY2FsZSk7XG4gICAgdGhpcy51cGRhdGVBQUJCKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpO1xuICB9XG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCBzYXZlIGluIHRoZSAubm9ybWFscyBhcnJheS5cbiAgICogQG1ldGhvZCB1cGRhdGVOb3JtYWxzXG4gICAqL1xuXG5cbiAgdXBkYXRlTm9ybWFscygpIHtcbiAgICBjb25zdCBuID0gY29tcHV0ZU5vcm1hbHNfbjsgLy8gR2VuZXJhdGUgbm9ybWFsc1xuXG4gICAgY29uc3Qgbm9ybWFscyA9IHRoaXMubm9ybWFscztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykge1xuICAgICAgY29uc3QgaTMgPSBpICogMztcbiAgICAgIGNvbnN0IGEgPSB0aGlzLmluZGljZXNbaTNdO1xuICAgICAgY29uc3QgYiA9IHRoaXMuaW5kaWNlc1tpMyArIDFdO1xuICAgICAgY29uc3QgYyA9IHRoaXMuaW5kaWNlc1tpMyArIDJdO1xuICAgICAgdGhpcy5nZXRWZXJ0ZXgoYSwgdmEpO1xuICAgICAgdGhpcy5nZXRWZXJ0ZXgoYiwgdmIpO1xuICAgICAgdGhpcy5nZXRWZXJ0ZXgoYywgdmMpO1xuICAgICAgVHJpbWVzaC5jb21wdXRlTm9ybWFsKHZiLCB2YSwgdmMsIG4pO1xuICAgICAgbm9ybWFsc1tpM10gPSBuLng7XG4gICAgICBub3JtYWxzW2kzICsgMV0gPSBuLnk7XG4gICAgICBub3JtYWxzW2kzICsgMl0gPSBuLno7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIC5lZGdlcyBwcm9wZXJ0eVxuICAgKiBAbWV0aG9kIHVwZGF0ZUVkZ2VzXG4gICAqL1xuXG5cbiAgdXBkYXRlRWRnZXMoKSB7XG4gICAgY29uc3QgZWRnZXMgPSB7fTtcblxuICAgIGNvbnN0IGFkZCA9IChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBhIDwgYiA/IGEgKyBcIl9cIiArIGIgOiBiICsgXCJfXCIgKyBhO1xuICAgICAgZWRnZXNba2V5XSA9IHRydWU7XG4gICAgfTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykge1xuICAgICAgY29uc3QgaTMgPSBpICogMztcbiAgICAgIGNvbnN0IGEgPSB0aGlzLmluZGljZXNbaTNdO1xuICAgICAgY29uc3QgYiA9IHRoaXMuaW5kaWNlc1tpMyArIDFdO1xuICAgICAgY29uc3QgYyA9IHRoaXMuaW5kaWNlc1tpMyArIDJdO1xuICAgICAgYWRkKGEsIGIpO1xuICAgICAgYWRkKGIsIGMpO1xuICAgICAgYWRkKGMsIGEpO1xuICAgIH1cblxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhlZGdlcyk7XG4gICAgdGhpcy5lZGdlcyA9IG5ldyBJbnQxNkFycmF5KGtleXMubGVuZ3RoICogMik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGluZGljZXMgPSBrZXlzW2ldLnNwbGl0KCdfJyk7XG4gICAgICB0aGlzLmVkZ2VzWzIgKiBpXSA9IHBhcnNlSW50KGluZGljZXNbMF0sIDEwKTtcbiAgICAgIHRoaXMuZWRnZXNbMiAqIGkgKyAxXSA9IHBhcnNlSW50KGluZGljZXNbMV0sIDEwKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbiBlZGdlIHZlcnRleFxuICAgKiBAbWV0aG9kIGdldEVkZ2VWZXJ0ZXhcbiAgICogQHBhcmFtICB7bnVtYmVyfSBlZGdlSW5kZXhcbiAgICogQHBhcmFtICB7bnVtYmVyfSBmaXJzdE9yU2Vjb25kIDAgb3IgMSwgZGVwZW5kaW5nIG9uIHdoaWNoIG9uZSBvZiB0aGUgdmVydGljZXMgeW91IG5lZWQuXG4gICAqIEBwYXJhbSAge1ZlYzN9IHZlcnRleFN0b3JlIFdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICovXG5cblxuICBnZXRFZGdlVmVydGV4KGVkZ2VJbmRleCwgZmlyc3RPclNlY29uZCwgdmVydGV4U3RvcmUpIHtcbiAgICBjb25zdCB2ZXJ0ZXhJbmRleCA9IHRoaXMuZWRnZXNbZWRnZUluZGV4ICogMiArIChmaXJzdE9yU2Vjb25kID8gMSA6IDApXTtcbiAgICB0aGlzLmdldFZlcnRleCh2ZXJ0ZXhJbmRleCwgdmVydGV4U3RvcmUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSB2ZWN0b3IgYWxvbmcgYW4gZWRnZS5cbiAgICogQG1ldGhvZCBnZXRFZGdlVmVjdG9yXG4gICAqIEBwYXJhbSAge251bWJlcn0gZWRnZUluZGV4XG4gICAqIEBwYXJhbSAge1ZlYzN9IHZlY3RvclN0b3JlXG4gICAqL1xuXG5cbiAgZ2V0RWRnZVZlY3RvcihlZGdlSW5kZXgsIHZlY3RvclN0b3JlKSB7XG4gICAgY29uc3QgdmEgPSBnZXRFZGdlVmVjdG9yX3ZhO1xuICAgIGNvbnN0IHZiID0gZ2V0RWRnZVZlY3Rvcl92YjtcbiAgICB0aGlzLmdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCAwLCB2YSk7XG4gICAgdGhpcy5nZXRFZGdlVmVydGV4KGVkZ2VJbmRleCwgMSwgdmIpO1xuICAgIHZiLnZzdWIodmEsIHZlY3RvclN0b3JlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGZhY2Ugbm9ybWFsIGdpdmVuIDMgdmVydGljZXNcbiAgICogQHN0YXRpY1xuICAgKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWxcbiAgICogQHBhcmFtIHtWZWMzfSB2YVxuICAgKiBAcGFyYW0ge1ZlYzN9IHZiXG4gICAqIEBwYXJhbSB7VmVjM30gdmNcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXRcbiAgICovXG5cblxuICBzdGF0aWMgY29tcHV0ZU5vcm1hbCh2YSwgdmIsIHZjLCB0YXJnZXQpIHtcbiAgICB2Yi52c3ViKHZhLCBhYik7XG4gICAgdmMudnN1Yih2YiwgY2IpO1xuICAgIGNiLmNyb3NzKGFiLCB0YXJnZXQpO1xuXG4gICAgaWYgKCF0YXJnZXQuaXNaZXJvKCkpIHtcbiAgICAgIHRhcmdldC5ub3JtYWxpemUoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldCB2ZXJ0ZXggaS5cbiAgICogQG1ldGhvZCBnZXRWZXJ0ZXhcbiAgICogQHBhcmFtICB7bnVtYmVyfSBpXG4gICAqIEBwYXJhbSAge1ZlYzN9IG91dFxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgXCJvdXRcIiB2ZWN0b3Igb2JqZWN0XG4gICAqL1xuXG5cbiAgZ2V0VmVydGV4KGksIG91dCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTtcblxuICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KGksIG91dCk7XG5cbiAgICBvdXQueCAqPSBzY2FsZS54O1xuICAgIG91dC55ICo9IHNjYWxlLnk7XG4gICAgb3V0LnogKj0gc2NhbGUuejtcbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgcmF3IHZlcnRleCBpXG4gICAqIEBwcml2YXRlXG4gICAqIEBtZXRob2QgX2dldFVuc2NhbGVkVmVydGV4XG4gICAqIEBwYXJhbSAge251bWJlcn0gaVxuICAgKiBAcGFyYW0gIHtWZWMzfSBvdXRcbiAgICogQHJldHVybiB7VmVjM30gVGhlIFwib3V0XCIgdmVjdG9yIG9iamVjdFxuICAgKi9cblxuXG4gIF9nZXRVbnNjYWxlZFZlcnRleChpLCBvdXQpIHtcbiAgICBjb25zdCBpMyA9IGkgKiAzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICByZXR1cm4gb3V0LnNldCh2ZXJ0aWNlc1tpM10sIHZlcnRpY2VzW2kzICsgMV0sIHZlcnRpY2VzW2kzICsgMl0pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSB2ZXJ0ZXggZnJvbSB0aGUgdHJpbWVzaCx0cmFuc2Zvcm1lZCBieSB0aGUgZ2l2ZW4gcG9zaXRpb24gYW5kIHF1YXRlcm5pb24uXG4gICAqIEBtZXRob2QgZ2V0V29ybGRWZXJ0ZXhcbiAgICogQHBhcmFtICB7bnVtYmVyfSBpXG4gICAqIEBwYXJhbSAge1ZlYzN9IHBvc1xuICAgKiBAcGFyYW0gIHtRdWF0ZXJuaW9ufSBxdWF0XG4gICAqIEBwYXJhbSAge1ZlYzN9IG91dFxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgXCJvdXRcIiB2ZWN0b3Igb2JqZWN0XG4gICAqL1xuXG5cbiAgZ2V0V29ybGRWZXJ0ZXgoaSwgcG9zLCBxdWF0LCBvdXQpIHtcbiAgICB0aGlzLmdldFZlcnRleChpLCBvdXQpO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShwb3MsIHF1YXQsIG91dCwgb3V0KTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHRocmVlIHZlcnRpY2VzIGZvciB0cmlhbmdsZSBpLlxuICAgKiBAbWV0aG9kIGdldFRyaWFuZ2xlVmVydGljZXNcbiAgICogQHBhcmFtICB7bnVtYmVyfSBpXG4gICAqIEBwYXJhbSAge1ZlYzN9IGFcbiAgICogQHBhcmFtICB7VmVjM30gYlxuICAgKiBAcGFyYW0gIHtWZWMzfSBjXG4gICAqL1xuXG5cbiAgZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCBhLCBiLCBjKSB7XG4gICAgY29uc3QgaTMgPSBpICogMztcbiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTNdLCBhKTtcbiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAxXSwgYik7XG4gICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMl0sIGMpO1xuICB9XG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBub3JtYWwgb2YgdHJpYW5nbGUgaS5cbiAgICogQG1ldGhvZCBnZXROb3JtYWxcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgXCJ0YXJnZXRcIiB2ZWN0b3Igb2JqZWN0XG4gICAqL1xuXG5cbiAgZ2V0Tm9ybWFsKGksIHRhcmdldCkge1xuICAgIGNvbnN0IGkzID0gaSAqIDM7XG4gICAgcmV0dXJuIHRhcmdldC5zZXQodGhpcy5ub3JtYWxzW2kzXSwgdGhpcy5ub3JtYWxzW2kzICsgMV0sIHRoaXMubm9ybWFsc1tpMyArIDJdKTtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWFcbiAgICogQHBhcmFtICB7TnVtYmVyfSBtYXNzXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgXCJ0YXJnZXRcIiB2ZWN0b3Igb2JqZWN0XG4gICAqL1xuXG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkge1xuICAgIC8vIEFwcHJveGltYXRlIHdpdGggYm94IGluZXJ0aWFcbiAgICAvLyBFeGFjdCBpbmVydGlhIGNhbGN1bGF0aW9uIGlzIG92ZXJraWxsLCBidXQgc2VlIGh0dHA6Ly9nZW9tZXRyaWN0b29scy5jb20vRG9jdW1lbnRhdGlvbi9Qb2x5aGVkcmFsTWFzc1Byb3BlcnRpZXMucGRmIGZvciB0aGUgY29ycmVjdCB3YXkgdG8gZG8gaXRcbiAgICB0aGlzLmNvbXB1dGVMb2NhbEFBQkIoY2xpX2FhYmIpO1xuICAgIGNvbnN0IHggPSBjbGlfYWFiYi51cHBlckJvdW5kLnggLSBjbGlfYWFiYi5sb3dlckJvdW5kLng7XG4gICAgY29uc3QgeSA9IGNsaV9hYWJiLnVwcGVyQm91bmQueSAtIGNsaV9hYWJiLmxvd2VyQm91bmQueTtcbiAgICBjb25zdCB6ID0gY2xpX2FhYmIudXBwZXJCb3VuZC56IC0gY2xpX2FhYmIubG93ZXJCb3VuZC56O1xuICAgIHJldHVybiB0YXJnZXQuc2V0KDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeiAqIDIgKiB6KSwgMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHggKiAyICogeCArIDIgKiB6ICogMiAqIHopLCAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHggKiAyICogeCkpO1xuICB9XG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBsb2NhbCBBQUJCIGZvciB0aGUgdHJpbWVzaFxuICAgKiBAbWV0aG9kIGNvbXB1dGVMb2NhbEFBQkJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxuICAgKi9cblxuXG4gIGNvbXB1dGVMb2NhbEFBQkIoYWFiYikge1xuICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdSA9IGFhYmIudXBwZXJCb3VuZDtcbiAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IHYgPSBjb21wdXRlTG9jYWxBQUJCX3dvcmxkVmVydDtcbiAgICB0aGlzLmdldFZlcnRleCgwLCB2KTtcbiAgICBsLmNvcHkodik7XG4gICAgdS5jb3B5KHYpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG47IGkrKykge1xuICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7XG5cbiAgICAgIGlmICh2LnggPCBsLngpIHtcbiAgICAgICAgbC54ID0gdi54O1xuICAgICAgfSBlbHNlIGlmICh2LnggPiB1LngpIHtcbiAgICAgICAgdS54ID0gdi54O1xuICAgICAgfVxuXG4gICAgICBpZiAodi55IDwgbC55KSB7XG4gICAgICAgIGwueSA9IHYueTtcbiAgICAgIH0gZWxzZSBpZiAodi55ID4gdS55KSB7XG4gICAgICAgIHUueSA9IHYueTtcbiAgICAgIH1cblxuICAgICAgaWYgKHYueiA8IGwueikge1xuICAgICAgICBsLnogPSB2Lno7XG4gICAgICB9IGVsc2UgaWYgKHYueiA+IHUueikge1xuICAgICAgICB1LnogPSB2Lno7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIC5hYWJiIHByb3BlcnR5XG4gICAqIEBtZXRob2QgdXBkYXRlQUFCQlxuICAgKi9cblxuXG4gIHVwZGF0ZUFBQkIoKSB7XG4gICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKHRoaXMuYWFiYik7XG4gIH1cbiAgLyoqXG4gICAqIFdpbGwgdXBkYXRlIHRoZSAuYm91bmRpbmdTcGhlcmVSYWRpdXMgcHJvcGVydHlcbiAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1c1xuICAgKi9cblxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIC8vIEFzc3VtZSBwb2ludHMgYXJlIGRpc3RyaWJ1dGVkIHdpdGggbG9jYWwgKDAsMCwwKSBhcyBjZW50ZXJcbiAgICBsZXQgbWF4MiA9IDA7XG4gICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIE4gPSB2ZXJ0aWNlcy5sZW5ndGggLyAzOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIHRoaXMuZ2V0VmVydGV4KGksIHYpO1xuICAgICAgY29uc3Qgbm9ybTIgPSB2Lmxlbmd0aFNxdWFyZWQoKTtcblxuICAgICAgaWYgKG5vcm0yID4gbWF4Mikge1xuICAgICAgICBtYXgyID0gbm9ybTI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE1hdGguc3FydChtYXgyKTtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCBjYWxjdWxhdGVXb3JsZEFBQkJcbiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgcG9zXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gIHF1YXRcbiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWluXG4gICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1heFxuICAgKi9cblxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgLypcbiAgICAgICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoIC8gMyxcbiAgICAgICAgICAgIHZlcnRzID0gdGhpcy52ZXJ0aWNlcztcbiAgICAgICAgY29uc3QgbWlueCxtaW55LG1pbnosbWF4eCxtYXh5LG1heHo7XG4gICAgICAgICBjb25zdCB2ID0gdGVtcFdvcmxkVmVydGV4O1xuICAgICAgICBmb3IobGV0IGk9MDsgaTxuOyBpKyspe1xuICAgICAgICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7XG4gICAgICAgICAgICBxdWF0LnZtdWx0KHYsIHYpO1xuICAgICAgICAgICAgcG9zLnZhZGQodiwgdik7XG4gICAgICAgICAgICBpZiAodi54IDwgbWlueCB8fCBtaW54PT09dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBtaW54ID0gdi54O1xuICAgICAgICAgICAgfSBlbHNlIGlmKHYueCA+IG1heHggfHwgbWF4eD09PXVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgbWF4eCA9IHYueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBpZiAodi55IDwgbWlueSB8fCBtaW55PT09dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBtaW55ID0gdi55O1xuICAgICAgICAgICAgfSBlbHNlIGlmKHYueSA+IG1heHkgfHwgbWF4eT09PXVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgbWF4eSA9IHYueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBpZiAodi56IDwgbWlueiB8fCBtaW56PT09dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBtaW56ID0gdi56O1xuICAgICAgICAgICAgfSBlbHNlIGlmKHYueiA+IG1heHogfHwgbWF4ej09PXVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgbWF4eiA9IHYuejtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtaW4uc2V0KG1pbngsbWlueSxtaW56KTtcbiAgICAgICAgbWF4LnNldChtYXh4LG1heHksbWF4eik7XG4gICAgICAgICovXG4gICAgLy8gRmFzdGVyIGFwcHJveGltYXRpb24gdXNpbmcgbG9jYWwgQUFCQlxuICAgIGNvbnN0IGZyYW1lID0gY2FsY3VsYXRlV29ybGRBQUJCX2ZyYW1lO1xuICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiO1xuICAgIGZyYW1lLnBvc2l0aW9uID0gcG9zO1xuICAgIGZyYW1lLnF1YXRlcm5pb24gPSBxdWF0O1xuICAgIHRoaXMuYWFiYi50b1dvcmxkRnJhbWUoZnJhbWUsIHJlc3VsdCk7XG4gICAgbWluLmNvcHkocmVzdWx0Lmxvd2VyQm91bmQpO1xuICAgIG1heC5jb3B5KHJlc3VsdC51cHBlckJvdW5kKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFwcHJveGltYXRlIHZvbHVtZVxuICAgKiBAbWV0aG9kIHZvbHVtZVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuXG5cbiAgdm9sdW1lKCkge1xuICAgIHJldHVybiA0LjAgKiBNYXRoLlBJICogdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyAvIDMuMDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgVHJpbWVzaCBpbnN0YW5jZSwgc2hhcGVkIGFzIGEgdG9ydXMuXG4gICAqIEBzdGF0aWNcbiAgICogQG1ldGhvZCBjcmVhdGVUb3J1c1xuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtyYWRpdXM9MV1cbiAgICogQHBhcmFtICB7bnVtYmVyfSBbdHViZT0wLjVdXG4gICAqIEBwYXJhbSAge251bWJlcn0gW3JhZGlhbFNlZ21lbnRzPThdXG4gICAqIEBwYXJhbSAge251bWJlcn0gW3R1YnVsYXJTZWdtZW50cz02XVxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFthcmM9Ni4yODMxODUzMDcxNzk1ODZdXG4gICAqIEByZXR1cm4ge1RyaW1lc2h9IEEgdG9ydXNcbiAgICovXG5cblxuICBzdGF0aWMgY3JlYXRlVG9ydXMocmFkaXVzID0gMSwgdHViZSA9IDAuNSwgcmFkaWFsU2VnbWVudHMgPSA4LCB0dWJ1bGFyU2VnbWVudHMgPSA2LCBhcmMgPSBNYXRoLlBJICogMikge1xuICAgIGNvbnN0IHZlcnRpY2VzID0gW107XG4gICAgY29uc3QgaW5kaWNlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPD0gcmFkaWFsU2VnbWVudHM7IGorKykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdHVidWxhclNlZ21lbnRzOyBpKyspIHtcbiAgICAgICAgY29uc3QgdSA9IGkgLyB0dWJ1bGFyU2VnbWVudHMgKiBhcmM7XG4gICAgICAgIGNvbnN0IHYgPSBqIC8gcmFkaWFsU2VnbWVudHMgKiBNYXRoLlBJICogMjtcbiAgICAgICAgY29uc3QgeCA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModikpICogTWF0aC5jb3ModSk7XG4gICAgICAgIGNvbnN0IHkgPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYpKSAqIE1hdGguc2luKHUpO1xuICAgICAgICBjb25zdCB6ID0gdHViZSAqIE1hdGguc2luKHYpO1xuICAgICAgICB2ZXJ0aWNlcy5wdXNoKHgsIHksIHopO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGogPSAxOyBqIDw9IHJhZGlhbFNlZ21lbnRzOyBqKyspIHtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHR1YnVsYXJTZWdtZW50czsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGEgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiBqICsgaSAtIDE7XG4gICAgICAgIGNvbnN0IGIgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiAoaiAtIDEpICsgaSAtIDE7XG4gICAgICAgIGNvbnN0IGMgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiAoaiAtIDEpICsgaTtcbiAgICAgICAgY29uc3QgZCA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIGogKyBpO1xuICAgICAgICBpbmRpY2VzLnB1c2goYSwgYiwgZCk7XG4gICAgICAgIGluZGljZXMucHVzaChiLCBjLCBkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFRyaW1lc2godmVydGljZXMsIGluZGljZXMpO1xuICB9XG5cbn1cbmNvbnN0IGNvbXB1dGVOb3JtYWxzX24gPSBuZXcgVmVjMygpO1xuY29uc3QgdW5zY2FsZWRBQUJCID0gbmV3IEFBQkIoKTtcbmNvbnN0IGdldEVkZ2VWZWN0b3JfdmEgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0RWRnZVZlY3Rvcl92YiA9IG5ldyBWZWMzKCk7XG5jb25zdCBjYiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhYiA9IG5ldyBWZWMzKCk7XG5jb25zdCB2YSA9IG5ldyBWZWMzKCk7XG5jb25zdCB2YiA9IG5ldyBWZWMzKCk7XG5jb25zdCB2YyA9IG5ldyBWZWMzKCk7XG5jb25zdCBjbGlfYWFiYiA9IG5ldyBBQUJCKCk7XG5jb25zdCBjb21wdXRlTG9jYWxBQUJCX3dvcmxkVmVydCA9IG5ldyBWZWMzKCk7XG5jb25zdCBjYWxjdWxhdGVXb3JsZEFBQkJfZnJhbWUgPSBuZXcgVHJhbnNmb3JtKCk7XG5jb25zdCBjYWxjdWxhdGVXb3JsZEFBQkJfYWFiYiA9IG5ldyBBQUJCKCk7XG5cbi8qKlxuICogQ29uc3RyYWludCBlcXVhdGlvbiBzb2x2ZXIgYmFzZSBjbGFzcy5cbiAqIEBjbGFzcyBTb2x2ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZVxuICovXG5jbGFzcyBTb2x2ZXIge1xuICAvLyBBbGwgZXF1YXRpb25zIHRvIGJlIHNvbHZlZFxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmVxdWF0aW9ucyA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBTaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3NlcyFcbiAgICogQG1ldGhvZCBzb2x2ZVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGR0XG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG51bWJlciBvZiBpdGVyYXRpb25zIHBlcmZvcm1lZFxuICAgKi9cblxuXG4gIHNvbHZlKGR0LCB3b3JsZCkge1xuICAgIHJldHVybiAoLy8gU2hvdWxkIHJldHVybiB0aGUgbnVtYmVyIG9mIGl0ZXJhdGlvbnMgZG9uZSFcbiAgICAgIDBcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYW4gZXF1YXRpb25cbiAgICogQG1ldGhvZCBhZGRFcXVhdGlvblxuICAgKiBAcGFyYW0ge0VxdWF0aW9ufSBlcVxuICAgKi9cblxuXG4gIGFkZEVxdWF0aW9uKGVxKSB7XG4gICAgaWYgKGVxLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGFuIGVxdWF0aW9uXG4gICAqIEBtZXRob2QgcmVtb3ZlRXF1YXRpb25cbiAgICogQHBhcmFtIHtFcXVhdGlvbn0gZXFcbiAgICovXG5cblxuICByZW1vdmVFcXVhdGlvbihlcSkge1xuICAgIGNvbnN0IGVxcyA9IHRoaXMuZXF1YXRpb25zO1xuICAgIGNvbnN0IGkgPSBlcXMuaW5kZXhPZihlcSk7XG5cbiAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgIGVxcy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBZGQgYWxsIGVxdWF0aW9uc1xuICAgKiBAbWV0aG9kIHJlbW92ZUFsbEVxdWF0aW9uc1xuICAgKi9cblxuXG4gIHJlbW92ZUFsbEVxdWF0aW9ucygpIHtcbiAgICB0aGlzLmVxdWF0aW9ucy5sZW5ndGggPSAwO1xuICB9XG5cbn1cblxuLyoqXG4gKiBDb25zdHJhaW50IGVxdWF0aW9uIEdhdXNzLVNlaWRlbCBzb2x2ZXIuXG4gKiBAY2xhc3MgR1NTb2x2ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQHRvZG8gVGhlIHNwb29rIHBhcmFtZXRlcnMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgZWFjaCBjb25zdHJhaW50LCBub3QgZ2xvYmFsbHkuXG4gKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlXG4gKiBAc2VlIGh0dHBzOi8vd3d3OC5jcy51bXUuc2Uva3Vyc2VyLzVEVjA1OC9WVDA5L2xlY3R1cmVzL3Nwb29rbm90ZXMucGRmXG4gKiBAZXh0ZW5kcyBTb2x2ZXJcbiAqL1xuY2xhc3MgR1NTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICAvLyBUaGUgbnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIGRldGVybWluZXMgcXVhbGl0eSBvZiB0aGUgY29uc3RyYWludHMgaW4gdGhlIHdvcmxkLiBUaGUgbW9yZSBpdGVyYXRpb25zLCB0aGUgbW9yZSBjb3JyZWN0IHNpbXVsYXRpb24uIE1vcmUgaXRlcmF0aW9ucyBuZWVkIG1vcmUgY29tcHV0YXRpb25zIHRob3VnaC4gSWYgeW91IGhhdmUgYSBsYXJnZSBncmF2aXR5IGZvcmNlIGluIHlvdXIgd29ybGQsIHlvdSB3aWxsIG5lZWQgbW9yZSBpdGVyYXRpb25zLlxuICAvLyBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXRlcmF0aW9ucyA9IDEwO1xuICAgIHRoaXMudG9sZXJhbmNlID0gMWUtNztcbiAgfVxuICAvKipcbiAgICogU29sdmVcbiAgICogQG1ldGhvZCBzb2x2ZVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGR0XG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG51bWJlciBvZiBpdGVyYXRpb25zIHBlcmZvcm1lZFxuICAgKi9cblxuXG4gIHNvbHZlKGR0LCB3b3JsZCkge1xuICAgIGxldCBpdGVyID0gMDtcbiAgICBjb25zdCBtYXhJdGVyID0gdGhpcy5pdGVyYXRpb25zO1xuICAgIGNvbnN0IHRvbFNxdWFyZWQgPSB0aGlzLnRvbGVyYW5jZSAqIHRoaXMudG9sZXJhbmNlO1xuICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zO1xuICAgIGNvbnN0IE5lcSA9IGVxdWF0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IE5ib2RpZXMgPSBib2RpZXMubGVuZ3RoO1xuICAgIGNvbnN0IGggPSBkdDtcbiAgICBsZXQgQjtcbiAgICBsZXQgaW52QztcbiAgICBsZXQgZGVsdGFsYW1iZGE7XG4gICAgbGV0IGRlbHRhbGFtYmRhVG90O1xuICAgIGxldCBHV2xhbWJkYTtcbiAgICBsZXQgbGFtYmRhajsgLy8gVXBkYXRlIHNvbHZlIG1hc3NcblxuICAgIGlmIChOZXEgIT09IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHtcbiAgICAgICAgYm9kaWVzW2ldLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKTtcbiAgICAgIH1cbiAgICB9IC8vIFRoaW5ncyB0aGF0IGRvZXMgbm90IGNoYW5nZSBkdXJpbmcgaXRlcmF0aW9uIGNhbiBiZSBjb21wdXRlZCBvbmNlXG5cblxuICAgIGNvbnN0IGludkNzID0gR1NTb2x2ZXJfc29sdmVfaW52Q3M7XG4gICAgY29uc3QgQnMgPSBHU1NvbHZlcl9zb2x2ZV9CcztcbiAgICBjb25zdCBsYW1iZGEgPSBHU1NvbHZlcl9zb2x2ZV9sYW1iZGE7XG4gICAgaW52Q3MubGVuZ3RoID0gTmVxO1xuICAgIEJzLmxlbmd0aCA9IE5lcTtcbiAgICBsYW1iZGEubGVuZ3RoID0gTmVxO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcTsgaSsrKSB7XG4gICAgICBjb25zdCBjID0gZXF1YXRpb25zW2ldO1xuICAgICAgbGFtYmRhW2ldID0gMC4wO1xuICAgICAgQnNbaV0gPSBjLmNvbXB1dGVCKGgpO1xuICAgICAgaW52Q3NbaV0gPSAxLjAgLyBjLmNvbXB1dGVDKCk7XG4gICAgfVxuXG4gICAgaWYgKE5lcSAhPT0gMCkge1xuICAgICAgLy8gUmVzZXQgdmxhbWJkYVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykge1xuICAgICAgICBjb25zdCBiID0gYm9kaWVzW2ldO1xuICAgICAgICBjb25zdCB2bGFtYmRhID0gYi52bGFtYmRhO1xuICAgICAgICBjb25zdCB3bGFtYmRhID0gYi53bGFtYmRhO1xuICAgICAgICB2bGFtYmRhLnNldCgwLCAwLCAwKTtcbiAgICAgICAgd2xhbWJkYS5zZXQoMCwgMCwgMCk7XG4gICAgICB9IC8vIEl0ZXJhdGUgb3ZlciBlcXVhdGlvbnNcblxuXG4gICAgICBmb3IgKGl0ZXIgPSAwOyBpdGVyICE9PSBtYXhJdGVyOyBpdGVyKyspIHtcbiAgICAgICAgLy8gQWNjdW11bGF0ZSB0aGUgdG90YWwgZXJyb3IgZm9yIGVhY2ggaXRlcmF0aW9uLlxuICAgICAgICBkZWx0YWxhbWJkYVRvdCA9IDAuMDtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gTmVxOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBjID0gZXF1YXRpb25zW2pdOyAvLyBDb21wdXRlIGl0ZXJhdGlvblxuXG4gICAgICAgICAgQiA9IEJzW2pdO1xuICAgICAgICAgIGludkMgPSBpbnZDc1tqXTtcbiAgICAgICAgICBsYW1iZGFqID0gbGFtYmRhW2pdO1xuICAgICAgICAgIEdXbGFtYmRhID0gYy5jb21wdXRlR1dsYW1iZGEoKTtcbiAgICAgICAgICBkZWx0YWxhbWJkYSA9IGludkMgKiAoQiAtIEdXbGFtYmRhIC0gYy5lcHMgKiBsYW1iZGFqKTsgLy8gQ2xhbXAgaWYgd2UgYXJlIG5vdCB3aXRoaW4gdGhlIG1pbi9tYXggaW50ZXJ2YWxcblxuICAgICAgICAgIGlmIChsYW1iZGFqICsgZGVsdGFsYW1iZGEgPCBjLm1pbkZvcmNlKSB7XG4gICAgICAgICAgICBkZWx0YWxhbWJkYSA9IGMubWluRm9yY2UgLSBsYW1iZGFqO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhID4gYy5tYXhGb3JjZSkge1xuICAgICAgICAgICAgZGVsdGFsYW1iZGEgPSBjLm1heEZvcmNlIC0gbGFtYmRhajtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsYW1iZGFbal0gKz0gZGVsdGFsYW1iZGE7XG4gICAgICAgICAgZGVsdGFsYW1iZGFUb3QgKz0gZGVsdGFsYW1iZGEgPiAwLjAgPyBkZWx0YWxhbWJkYSA6IC1kZWx0YWxhbWJkYTsgLy8gYWJzKGRlbHRhbGFtYmRhKVxuXG4gICAgICAgICAgYy5hZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpO1xuICAgICAgICB9IC8vIElmIHRoZSB0b3RhbCBlcnJvciBpcyBzbWFsbCBlbm91Z2ggLSBzdG9wIGl0ZXJhdGVcblxuXG4gICAgICAgIGlmIChkZWx0YWxhbWJkYVRvdCAqIGRlbHRhbGFtYmRhVG90IDwgdG9sU3F1YXJlZCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IC8vIEFkZCByZXN1bHQgdG8gdmVsb2NpdHlcblxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07XG4gICAgICAgIGNvbnN0IHYgPSBiLnZlbG9jaXR5O1xuICAgICAgICBjb25zdCB3ID0gYi5hbmd1bGFyVmVsb2NpdHk7XG4gICAgICAgIGIudmxhbWJkYS52bXVsKGIubGluZWFyRmFjdG9yLCBiLnZsYW1iZGEpO1xuICAgICAgICB2LnZhZGQoYi52bGFtYmRhLCB2KTtcbiAgICAgICAgYi53bGFtYmRhLnZtdWwoYi5hbmd1bGFyRmFjdG9yLCBiLndsYW1iZGEpO1xuICAgICAgICB3LnZhZGQoYi53bGFtYmRhLCB3KTtcbiAgICAgIH0gLy8gU2V0IHRoZSAubXVsdGlwbGllciBwcm9wZXJ0eSBvZiBlYWNoIGVxdWF0aW9uXG5cblxuICAgICAgbGV0IGwgPSBlcXVhdGlvbnMubGVuZ3RoO1xuICAgICAgY29uc3QgaW52RHQgPSAxIC8gaDtcblxuICAgICAgd2hpbGUgKGwtLSkge1xuICAgICAgICBlcXVhdGlvbnNbbF0ubXVsdGlwbGllciA9IGxhbWJkYVtsXSAqIGludkR0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyO1xuICB9XG5cbn1cbmNvbnN0IEdTU29sdmVyX3NvbHZlX2xhbWJkYSA9IFtdOyAvLyBKdXN0IHRlbXBvcmFyeSBudW1iZXIgaG9sZGVycyB0aGF0IHdlIHdhbnQgdG8gcmV1c2UgZWFjaCBzb2x2ZS5cblxuY29uc3QgR1NTb2x2ZXJfc29sdmVfaW52Q3MgPSBbXTtcbmNvbnN0IEdTU29sdmVyX3NvbHZlX0JzID0gW107XG5cbi8qKlxuICogU3BsaXRzIHRoZSBlcXVhdGlvbnMgaW50byBpc2xhbmRzIGFuZCBzb2x2ZXMgdGhlbSBpbmRlcGVuZGVudGx5LiBDYW4gaW1wcm92ZSBwZXJmb3JtYW5jZS5cbiAqIEBjbGFzcyBTcGxpdFNvbHZlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBTb2x2ZXJcbiAqIEBwYXJhbSB7U29sdmVyfSBzdWJzb2x2ZXJcbiAqL1xuY2xhc3MgU3BsaXRTb2x2ZXIgZXh0ZW5kcyBTb2x2ZXIge1xuICAvLyBUaGUgbnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIGRldGVybWluZXMgcXVhbGl0eSBvZiB0aGUgY29uc3RyYWludHMgaW4gdGhlIHdvcmxkLiBUaGUgbW9yZSBpdGVyYXRpb25zLCB0aGUgbW9yZSBjb3JyZWN0IHNpbXVsYXRpb24uIE1vcmUgaXRlcmF0aW9ucyBuZWVkIG1vcmUgY29tcHV0YXRpb25zIHRob3VnaC4gSWYgeW91IGhhdmUgYSBsYXJnZSBncmF2aXR5IGZvcmNlIGluIHlvdXIgd29ybGQsIHlvdSB3aWxsIG5lZWQgbW9yZSBpdGVyYXRpb25zLlxuICAvLyBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLlxuICBjb25zdHJ1Y3RvcihzdWJzb2x2ZXIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXRlcmF0aW9ucyA9IDEwO1xuICAgIHRoaXMudG9sZXJhbmNlID0gMWUtNztcbiAgICB0aGlzLnN1YnNvbHZlciA9IHN1YnNvbHZlcjtcbiAgICB0aGlzLm5vZGVzID0gW107XG4gICAgdGhpcy5ub2RlUG9vbCA9IFtdOyAvLyBDcmVhdGUgbmVlZGVkIG5vZGVzLCByZXVzZSBpZiBwb3NzaWJsZVxuXG4gICAgd2hpbGUgKHRoaXMubm9kZVBvb2wubGVuZ3RoIDwgMTI4KSB7XG4gICAgICB0aGlzLm5vZGVQb29sLnB1c2godGhpcy5jcmVhdGVOb2RlKCkpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZU5vZGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvZHk6IG51bGwsXG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICBlcXM6IFtdLFxuICAgICAgdmlzaXRlZDogZmFsc2VcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTb2x2ZSB0aGUgc3Vic3lzdGVtc1xuICAgKiBAbWV0aG9kIHNvbHZlXG4gICAqIEBwYXJhbSAge051bWJlcn0gZHRcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXG4gICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgcGVyZm9ybWVkXG4gICAqL1xuXG5cbiAgc29sdmUoZHQsIHdvcmxkKSB7XG4gICAgY29uc3Qgbm9kZXMgPSBTcGxpdFNvbHZlcl9zb2x2ZV9ub2RlcztcbiAgICBjb25zdCBub2RlUG9vbCA9IHRoaXMubm9kZVBvb2w7XG4gICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zO1xuICAgIGNvbnN0IE5lcSA9IGVxdWF0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgTmJvZGllcyA9IGJvZGllcy5sZW5ndGg7XG4gICAgY29uc3Qgc3Vic29sdmVyID0gdGhpcy5zdWJzb2x2ZXI7IC8vIENyZWF0ZSBuZWVkZWQgbm9kZXMsIHJldXNlIGlmIHBvc3NpYmxlXG5cbiAgICB3aGlsZSAobm9kZVBvb2wubGVuZ3RoIDwgTmJvZGllcykge1xuICAgICAgbm9kZVBvb2wucHVzaCh0aGlzLmNyZWF0ZU5vZGUoKSk7XG4gICAgfVxuXG4gICAgbm9kZXMubGVuZ3RoID0gTmJvZGllcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTmJvZGllczsgaSsrKSB7XG4gICAgICBub2Rlc1tpXSA9IG5vZGVQb29sW2ldO1xuICAgIH0gLy8gUmVzZXQgbm9kZSB2YWx1ZXNcblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgbm9kZS5ib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgbm9kZS5jaGlsZHJlbi5sZW5ndGggPSAwO1xuICAgICAgbm9kZS5lcXMubGVuZ3RoID0gMDtcbiAgICAgIG5vZGUudmlzaXRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSBOZXE7IGsrKykge1xuICAgICAgY29uc3QgZXEgPSBlcXVhdGlvbnNba107XG4gICAgICBjb25zdCBpID0gYm9kaWVzLmluZGV4T2YoZXEuYmkpO1xuICAgICAgY29uc3QgaiA9IGJvZGllcy5pbmRleE9mKGVxLmJqKTtcbiAgICAgIGNvbnN0IG5pID0gbm9kZXNbaV07XG4gICAgICBjb25zdCBuaiA9IG5vZGVzW2pdO1xuICAgICAgbmkuY2hpbGRyZW4ucHVzaChuaik7XG4gICAgICBuaS5lcXMucHVzaChlcSk7XG4gICAgICBuai5jaGlsZHJlbi5wdXNoKG5pKTtcbiAgICAgIG5qLmVxcy5wdXNoKGVxKTtcbiAgICB9XG5cbiAgICBsZXQgY2hpbGQ7XG4gICAgbGV0IG4gPSAwO1xuICAgIGxldCBlcXMgPSBTcGxpdFNvbHZlcl9zb2x2ZV9lcXM7XG4gICAgc3Vic29sdmVyLnRvbGVyYW5jZSA9IHRoaXMudG9sZXJhbmNlO1xuICAgIHN1YnNvbHZlci5pdGVyYXRpb25zID0gdGhpcy5pdGVyYXRpb25zO1xuICAgIGNvbnN0IGR1bW15V29ybGQgPSBTcGxpdFNvbHZlcl9zb2x2ZV9kdW1teVdvcmxkO1xuXG4gICAgd2hpbGUgKGNoaWxkID0gZ2V0VW52aXNpdGVkTm9kZShub2RlcykpIHtcbiAgICAgIGVxcy5sZW5ndGggPSAwO1xuICAgICAgZHVtbXlXb3JsZC5ib2RpZXMubGVuZ3RoID0gMDtcbiAgICAgIGJmcyhjaGlsZCwgdmlzaXRGdW5jLCBkdW1teVdvcmxkLmJvZGllcywgZXFzKTtcbiAgICAgIGNvbnN0IE5lcXMgPSBlcXMubGVuZ3RoO1xuICAgICAgZXFzID0gZXFzLnNvcnQoc29ydEJ5SWQpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmVxczsgaSsrKSB7XG4gICAgICAgIHN1YnNvbHZlci5hZGRFcXVhdGlvbihlcXNbaV0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpdGVyID0gc3Vic29sdmVyLnNvbHZlKGR0LCBkdW1teVdvcmxkKTtcbiAgICAgIHN1YnNvbHZlci5yZW1vdmVBbGxFcXVhdGlvbnMoKTtcbiAgICAgIG4rKztcbiAgICB9XG5cbiAgICByZXR1cm4gbjtcbiAgfVxuXG59IC8vIFJldHVybnMgdGhlIG51bWJlciBvZiBzdWJzeXN0ZW1zXG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX25vZGVzID0gW107IC8vIEFsbCBhbGxvY2F0ZWQgbm9kZSBvYmplY3RzXG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX2VxcyA9IFtdOyAvLyBUZW1wIGFycmF5XG5cbmNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX2R1bW15V29ybGQgPSB7XG4gIGJvZGllczogW11cbn07IC8vIFRlbXAgb2JqZWN0XG5cbmNvbnN0IFNUQVRJQyA9IEJvZHkuU1RBVElDO1xuXG5mdW5jdGlvbiBnZXRVbnZpc2l0ZWROb2RlKG5vZGVzKSB7XG4gIGNvbnN0IE5ub2RlcyA9IG5vZGVzLmxlbmd0aDtcblxuICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTm5vZGVzOyBpKyspIHtcbiAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG5cbiAgICBpZiAoIW5vZGUudmlzaXRlZCAmJiAhKG5vZGUuYm9keS50eXBlICYgU1RBVElDKSkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb25zdCBxdWV1ZSA9IFtdO1xuXG5mdW5jdGlvbiBiZnMocm9vdCwgdmlzaXRGdW5jLCBiZHMsIGVxcykge1xuICBxdWV1ZS5wdXNoKHJvb3QpO1xuICByb290LnZpc2l0ZWQgPSB0cnVlO1xuICB2aXNpdEZ1bmMocm9vdCwgYmRzLCBlcXMpO1xuXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICBjb25zdCBub2RlID0gcXVldWUucG9wKCk7IC8vIExvb3Agb3ZlciB1bnZpc2l0ZWQgY2hpbGQgbm9kZXNcblxuICAgIGxldCBjaGlsZDtcblxuICAgIHdoaWxlIChjaGlsZCA9IGdldFVudmlzaXRlZE5vZGUobm9kZS5jaGlsZHJlbikpIHtcbiAgICAgIGNoaWxkLnZpc2l0ZWQgPSB0cnVlO1xuICAgICAgdmlzaXRGdW5jKGNoaWxkLCBiZHMsIGVxcyk7XG4gICAgICBxdWV1ZS5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdmlzaXRGdW5jKG5vZGUsIGJkcywgZXFzKSB7XG4gIGJkcy5wdXNoKG5vZGUuYm9keSk7XG4gIGNvbnN0IE5lcXMgPSBub2RlLmVxcy5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcXM7IGkrKykge1xuICAgIGNvbnN0IGVxID0gbm9kZS5lcXNbaV07XG5cbiAgICBpZiAoIWVxcy5pbmNsdWRlcyhlcSkpIHtcbiAgICAgIGVxcy5wdXNoKGVxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc29ydEJ5SWQoYSwgYikge1xuICByZXR1cm4gYi5pZCAtIGEuaWQ7XG59XG5cbi8qKlxuICogRm9yIHBvb2xpbmcgb2JqZWN0cyB0aGF0IGNhbiBiZSByZXVzZWQuXG4gKiBAY2xhc3MgUG9vbFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIFBvb2wge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm9iamVjdHMgPSBbXTtcbiAgICB0aGlzLnR5cGUgPSBPYmplY3Q7XG4gIH1cbiAgLyoqXG4gICAqIFJlbGVhc2UgYW4gb2JqZWN0IGFmdGVyIHVzZVxuICAgKiBAbWV0aG9kIHJlbGVhc2VcbiAgICogQHBhcmFtIHtPYmplY3R9IG9ialxuICAgKi9cblxuXG4gIHJlbGVhc2UoLi4uYXJncykge1xuICAgIGNvbnN0IE5hcmdzID0gYXJncy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmFyZ3M7IGkrKykge1xuICAgICAgdGhpcy5vYmplY3RzLnB1c2goYXJnc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbiBvYmplY3RcbiAgICogQG1ldGhvZCBnZXRcbiAgICogQHJldHVybiB7bWl4ZWR9XG4gICAqL1xuXG5cbiAgZ2V0KCkge1xuICAgIGlmICh0aGlzLm9iamVjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RPYmplY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMub2JqZWN0cy5wb3AoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhbiBvYmplY3QuIFNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBlYWNoIHN1YmNsYXNzLlxuICAgKiBAbWV0aG9kIGNvbnN0cnVjdE9iamVjdFxuICAgKiBAcmV0dXJuIHttaXhlZH1cbiAgICovXG5cblxuICBjb25zdHJ1Y3RPYmplY3QoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb25zdHJ1Y3RPYmplY3QoKSBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBQb29sIHN1YmNsYXNzIHlldCEnKTtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCByZXNpemVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAgICogQHJldHVybiB7UG9vbH0gU2VsZiwgZm9yIGNoYWluaW5nXG4gICAqL1xuXG5cbiAgcmVzaXplKHNpemUpIHtcbiAgICBjb25zdCBvYmplY3RzID0gdGhpcy5vYmplY3RzO1xuXG4gICAgd2hpbGUgKG9iamVjdHMubGVuZ3RoID4gc2l6ZSkge1xuICAgICAgb2JqZWN0cy5wb3AoKTtcbiAgICB9XG5cbiAgICB3aGlsZSAob2JqZWN0cy5sZW5ndGggPCBzaXplKSB7XG4gICAgICBvYmplY3RzLnB1c2godGhpcy5jb25zdHJ1Y3RPYmplY3QoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxufVxuXG4vKipcbiAqIEBjbGFzcyBWZWMzUG9vbFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBQb29sXG4gKi9cblxuY2xhc3MgVmVjM1Bvb2wgZXh0ZW5kcyBQb29sIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnR5cGUgPSBWZWMzO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB2ZWN0b3JcbiAgICogQG1ldGhvZCBjb25zdHJ1Y3RPYmplY3RcbiAgICogQHJldHVybiB7VmVjM31cbiAgICovXG5cblxuICBjb25zdHJ1Y3RPYmplY3QoKSB7XG4gICAgcmV0dXJuIG5ldyBWZWMzKCk7XG4gIH1cblxufVxuXG4vLyBOYW1pbmcgcnVsZTogYmFzZWQgb2YgdGhlIG9yZGVyIGluIFNIQVBFX1RZUEVTLFxuLy8gdGhlIGZpcnN0IHBhcnQgb2YgdGhlIG1ldGhvZCBpcyBmb3JtZWQgYnkgdGhlXG4vLyBzaGFwZSB0eXBlIHRoYXQgY29tZXMgYmVmb3JlLCBpbiB0aGUgc2Vjb25kIHBhcnRcbi8vIHRoZXJlIGlzIHRoZSBzaGFwZSB0eXBlIHRoYXQgY29tZXMgYWZ0ZXIgaW4gdGhlIFNIQVBFX1RZUEVTIGxpc3RcbmNvbnN0IENPTExJU0lPTl9UWVBFUyA9IHtcbiAgc3BoZXJlU3BoZXJlOiBTaGFwZS50eXBlcy5TUEhFUkUsXG4gIHNwaGVyZVBsYW5lOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5QTEFORSxcbiAgYm94Qm94OiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5CT1gsXG4gIHNwaGVyZUJveDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuQk9YLFxuICBwbGFuZUJveDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5CT1gsXG4gIGNvbnZleENvbnZleDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTixcbiAgc3BoZXJlQ29udmV4OiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLFxuICBwbGFuZUNvbnZleDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLFxuICBib3hDb252ZXg6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sXG4gIHNwaGVyZUhlaWdodGZpZWxkOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRCxcbiAgYm94SGVpZ2h0ZmllbGQ6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELFxuICBjb252ZXhIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELFxuICBzcGhlcmVQYXJ0aWNsZTogU2hhcGUudHlwZXMuUEFSVElDTEUgfCBTaGFwZS50eXBlcy5TUEhFUkUsXG4gIHBsYW5lUGFydGljbGU6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuUEFSVElDTEUsXG4gIGJveFBhcnRpY2xlOiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5QQVJUSUNMRSxcbiAgY29udmV4UGFydGljbGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTixcbiAgY3lsaW5kZXJDeWxpbmRlcjogU2hhcGUudHlwZXMuQ1lMSU5ERVIsXG4gIHNwaGVyZUN5bGluZGVyOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5DWUxJTkRFUixcbiAgcGxhbmVDeWxpbmRlcjogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5DWUxJTkRFUixcbiAgYm94Q3lsaW5kZXI6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkNZTElOREVSLFxuICBjb252ZXhDeWxpbmRlcjogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkNZTElOREVSLFxuICBoZWlnaHRmaWVsZEN5bGluZGVyOiBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRCB8IFNoYXBlLnR5cGVzLkNZTElOREVSLFxuICBwYXJ0aWNsZUN5bGluZGVyOiBTaGFwZS50eXBlcy5QQVJUSUNMRSB8IFNoYXBlLnR5cGVzLkNZTElOREVSLFxuICBzcGhlcmVUcmltZXNoOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5UUklNRVNILFxuICBwbGFuZVRyaW1lc2g6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuVFJJTUVTSFxufTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHRoZSBXb3JsZC4gR2VuZXJhdGVzIENvbnRhY3RFcXVhdGlvbnMuXG4gKiBAY2xhc3MgTmFycm93cGhhc2VcbiAqIEBjb25zdHJ1Y3RvclxuICogQHRvZG8gU3BoZXJlLUNvbnZleFBvbHloZWRyb24gY29udGFjdHNcbiAqIEB0b2RvIENvbnRhY3QgcmVkdWN0aW9uXG4gKiBAdG9kbyBzaG91bGQgbW92ZSBtZXRob2RzIHRvIHByb3RvdHlwZVxuICovXG5jbGFzcyBOYXJyb3dwaGFzZSB7XG4gIC8vIEludGVybmFsIHN0b3JhZ2Ugb2YgcG9vbGVkIGNvbnRhY3QgcG9pbnRzLlxuICAvLyBQb29sZWQgdmVjdG9ycy5cbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICB0aGlzLmNvbnRhY3RQb2ludFBvb2wgPSBbXTtcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sID0gW107XG4gICAgdGhpcy5yZXN1bHQgPSBbXTtcbiAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gW107XG4gICAgdGhpcy52M3Bvb2wgPSBuZXcgVmVjM1Bvb2woKTtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsID0gd29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDtcbiAgICB0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2UgYSBjb250YWN0IG9iamVjdCwgYnkgdXNpbmcgdGhlIGludGVybmFsIHBvb2wgb3IgY3JlYXRpbmcgYSBuZXcgb25lLlxuICAgKiBAbWV0aG9kIGNyZWF0ZUNvbnRhY3RFcXVhdGlvblxuICAgKiBAcGFyYW0ge0JvZHl9IGJpXG4gICAqIEBwYXJhbSB7Qm9keX0gYmpcbiAgICogQHBhcmFtIHtTaGFwZX0gc2lcbiAgICogQHBhcmFtIHtTaGFwZX0gc2pcbiAgICogQHBhcmFtIHtTaGFwZX0gb3ZlcnJpZGVTaGFwZUFcbiAgICogQHBhcmFtIHtTaGFwZX0gb3ZlcnJpZGVTaGFwZUJcbiAgICogQHJldHVybiB7Q29udGFjdEVxdWF0aW9ufVxuICAgKi9cblxuXG4gIGNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgb3ZlcnJpZGVTaGFwZUEsIG92ZXJyaWRlU2hhcGVCKSB7XG4gICAgbGV0IGM7XG5cbiAgICBpZiAodGhpcy5jb250YWN0UG9pbnRQb29sLmxlbmd0aCkge1xuICAgICAgYyA9IHRoaXMuY29udGFjdFBvaW50UG9vbC5wb3AoKTtcbiAgICAgIGMuYmkgPSBiaTtcbiAgICAgIGMuYmogPSBiajtcbiAgICB9IGVsc2Uge1xuICAgICAgYyA9IG5ldyBDb250YWN0RXF1YXRpb24oYmksIGJqKTtcbiAgICB9XG5cbiAgICBjLmVuYWJsZWQgPSBiaS5jb2xsaXNpb25SZXNwb25zZSAmJiBiai5jb2xsaXNpb25SZXNwb25zZSAmJiBzaS5jb2xsaXNpb25SZXNwb25zZSAmJiBzai5jb2xsaXNpb25SZXNwb25zZTtcbiAgICBjb25zdCBjbSA9IHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbDtcbiAgICBjLnJlc3RpdHV0aW9uID0gY20ucmVzdGl0dXRpb247XG4gICAgYy5zZXRTcG9va1BhcmFtcyhjbS5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MsIGNtLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sIHRoaXMud29ybGQuZHQpO1xuICAgIGNvbnN0IG1hdEEgPSBzaS5tYXRlcmlhbCB8fCBiaS5tYXRlcmlhbDtcbiAgICBjb25zdCBtYXRCID0gc2oubWF0ZXJpYWwgfHwgYmoubWF0ZXJpYWw7XG5cbiAgICBpZiAobWF0QSAmJiBtYXRCICYmIG1hdEEucmVzdGl0dXRpb24gPj0gMCAmJiBtYXRCLnJlc3RpdHV0aW9uID49IDApIHtcbiAgICAgIGMucmVzdGl0dXRpb24gPSBtYXRBLnJlc3RpdHV0aW9uICogbWF0Qi5yZXN0aXR1dGlvbjtcbiAgICB9XG5cbiAgICBjLnNpID0gb3ZlcnJpZGVTaGFwZUEgfHwgc2k7XG4gICAgYy5zaiA9IG92ZXJyaWRlU2hhcGVCIHx8IHNqO1xuICAgIHJldHVybiBjO1xuICB9XG5cbiAgY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjb250YWN0RXF1YXRpb24sIG91dEFycmF5KSB7XG4gICAgY29uc3QgYm9keUEgPSBjb250YWN0RXF1YXRpb24uYmk7XG4gICAgY29uc3QgYm9keUIgPSBjb250YWN0RXF1YXRpb24uYmo7XG4gICAgY29uc3Qgc2hhcGVBID0gY29udGFjdEVxdWF0aW9uLnNpO1xuICAgIGNvbnN0IHNoYXBlQiA9IGNvbnRhY3RFcXVhdGlvbi5zajtcbiAgICBjb25zdCB3b3JsZCA9IHRoaXMud29ybGQ7XG4gICAgY29uc3QgY20gPSB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWw7IC8vIElmIGZyaWN0aW9uIG9yIHJlc3RpdHV0aW9uIHdlcmUgc3BlY2lmaWVkIGluIHRoZSBtYXRlcmlhbCwgdXNlIHRoZW1cblxuICAgIGxldCBmcmljdGlvbiA9IGNtLmZyaWN0aW9uO1xuICAgIGNvbnN0IG1hdEEgPSBzaGFwZUEubWF0ZXJpYWwgfHwgYm9keUEubWF0ZXJpYWw7XG4gICAgY29uc3QgbWF0QiA9IHNoYXBlQi5tYXRlcmlhbCB8fCBib2R5Qi5tYXRlcmlhbDtcblxuICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5mcmljdGlvbiA+PSAwICYmIG1hdEIuZnJpY3Rpb24gPj0gMCkge1xuICAgICAgZnJpY3Rpb24gPSBtYXRBLmZyaWN0aW9uICogbWF0Qi5mcmljdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoZnJpY3Rpb24gPiAwKSB7XG4gICAgICAvLyBDcmVhdGUgMiB0YW5nZW50IGVxdWF0aW9uc1xuICAgICAgY29uc3QgbXVnID0gZnJpY3Rpb24gKiB3b3JsZC5ncmF2aXR5Lmxlbmd0aCgpO1xuICAgICAgbGV0IHJlZHVjZWRNYXNzID0gYm9keUEuaW52TWFzcyArIGJvZHlCLmludk1hc3M7XG5cbiAgICAgIGlmIChyZWR1Y2VkTWFzcyA+IDApIHtcbiAgICAgICAgcmVkdWNlZE1hc3MgPSAxIC8gcmVkdWNlZE1hc3M7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBvb2wgPSB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sO1xuICAgICAgY29uc3QgYzEgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihib2R5QSwgYm9keUIsIG11ZyAqIHJlZHVjZWRNYXNzKTtcbiAgICAgIGNvbnN0IGMyID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYm9keUEsIGJvZHlCLCBtdWcgKiByZWR1Y2VkTWFzcyk7XG4gICAgICBjMS5iaSA9IGMyLmJpID0gYm9keUE7XG4gICAgICBjMS5iaiA9IGMyLmJqID0gYm9keUI7XG4gICAgICBjMS5taW5Gb3JjZSA9IGMyLm1pbkZvcmNlID0gLW11ZyAqIHJlZHVjZWRNYXNzO1xuICAgICAgYzEubWF4Rm9yY2UgPSBjMi5tYXhGb3JjZSA9IG11ZyAqIHJlZHVjZWRNYXNzOyAvLyBDb3B5IG92ZXIgdGhlIHJlbGF0aXZlIHZlY3RvcnNcblxuICAgICAgYzEucmkuY29weShjb250YWN0RXF1YXRpb24ucmkpO1xuICAgICAgYzEucmouY29weShjb250YWN0RXF1YXRpb24ucmopO1xuICAgICAgYzIucmkuY29weShjb250YWN0RXF1YXRpb24ucmkpO1xuICAgICAgYzIucmouY29weShjb250YWN0RXF1YXRpb24ucmopOyAvLyBDb25zdHJ1Y3QgdGFuZ2VudHNcblxuICAgICAgY29udGFjdEVxdWF0aW9uLm5pLnRhbmdlbnRzKGMxLnQsIGMyLnQpOyAvLyBTZXQgc3Bvb2sgcGFyYW1zXG5cbiAgICAgIGMxLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7XG4gICAgICBjMi5zZXRTcG9va1BhcmFtcyhjbS5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzLCBjbS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiwgd29ybGQuZHQpO1xuICAgICAgYzEuZW5hYmxlZCA9IGMyLmVuYWJsZWQgPSBjb250YWN0RXF1YXRpb24uZW5hYmxlZDtcbiAgICAgIG91dEFycmF5LnB1c2goYzEsIGMyKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBUYWtlIHRoZSBhdmVyYWdlIE4gbGF0ZXN0IGNvbnRhY3QgcG9pbnQgb24gdGhlIHBsYW5lLlxuXG5cbiAgY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cykge1xuICAgIC8vIFRoZSBsYXN0IGNvbnRhY3RFcXVhdGlvblxuICAgIGxldCBjID0gdGhpcy5yZXN1bHRbdGhpcy5yZXN1bHQubGVuZ3RoIC0gMV07IC8vIENyZWF0ZSB0aGUgcmVzdWx0OiB0d28gXCJhdmVyYWdlXCIgZnJpY3Rpb24gZXF1YXRpb25zXG5cbiAgICBpZiAoIXRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjLCB0aGlzLmZyaWN0aW9uUmVzdWx0KSB8fCBudW1Db250YWN0cyA9PT0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGYxID0gdGhpcy5mcmljdGlvblJlc3VsdFt0aGlzLmZyaWN0aW9uUmVzdWx0Lmxlbmd0aCAtIDJdO1xuICAgIGNvbnN0IGYyID0gdGhpcy5mcmljdGlvblJlc3VsdFt0aGlzLmZyaWN0aW9uUmVzdWx0Lmxlbmd0aCAtIDFdO1xuICAgIGF2ZXJhZ2VOb3JtYWwuc2V0WmVybygpO1xuICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnNldFplcm8oKTtcbiAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi5zZXRaZXJvKCk7XG4gICAgY29uc3QgYm9keUEgPSBjLmJpO1xuICAgIGNvbnN0IGJvZHlCID0gYy5iajtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBudW1Db250YWN0czsgaSsrKSB7XG4gICAgICBjID0gdGhpcy5yZXN1bHRbdGhpcy5yZXN1bHQubGVuZ3RoIC0gMSAtIGldO1xuXG4gICAgICBpZiAoYy5iaSAhPT0gYm9keUEpIHtcbiAgICAgICAgYXZlcmFnZU5vcm1hbC52YWRkKGMubmksIGF2ZXJhZ2VOb3JtYWwpO1xuICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50QS52YWRkKGMucmksIGF2ZXJhZ2VDb250YWN0UG9pbnRBKTtcbiAgICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEIudmFkZChjLnJqLCBhdmVyYWdlQ29udGFjdFBvaW50Qik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdmVyYWdlTm9ybWFsLnZzdWIoYy5uaSwgYXZlcmFnZU5vcm1hbCk7XG4gICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnZhZGQoYy5yaiwgYXZlcmFnZUNvbnRhY3RQb2ludEEpO1xuICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi52YWRkKGMucmksIGF2ZXJhZ2VDb250YWN0UG9pbnRCKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpbnZOdW1Db250YWN0cyA9IDEgLyBudW1Db250YWN0cztcbiAgICBhdmVyYWdlQ29udGFjdFBvaW50QS5zY2FsZShpbnZOdW1Db250YWN0cywgZjEucmkpO1xuICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaik7XG4gICAgZjIucmkuY29weShmMS5yaSk7IC8vIFNob3VsZCBiZSB0aGUgc2FtZVxuXG4gICAgZjIucmouY29weShmMS5yaik7XG4gICAgYXZlcmFnZU5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICBhdmVyYWdlTm9ybWFsLnRhbmdlbnRzKGYxLnQsIGYyLnQpOyAvLyByZXR1cm4gZXE7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGFsbCBjb250YWN0cyBiZXR3ZWVuIGEgbGlzdCBvZiBib2R5IHBhaXJzXG4gICAqIEBtZXRob2QgZ2V0Q29udGFjdHNcbiAgICogQHBhcmFtIHthcnJheX0gcDEgQXJyYXkgb2YgYm9keSBpbmRpY2VzXG4gICAqIEBwYXJhbSB7YXJyYXl9IHAyIEFycmF5IG9mIGJvZHkgaW5kaWNlc1xuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxuICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQXJyYXkgdG8gc3RvcmUgZ2VuZXJhdGVkIGNvbnRhY3RzXG4gICAqIEBwYXJhbSB7YXJyYXl9IG9sZGNvbnRhY3RzIE9wdGlvbmFsLiBBcnJheSBvZiByZXVzYWJsZSBjb250YWN0IG9iamVjdHNcbiAgICovXG5cblxuICBnZXRDb250YWN0cyhwMSwgcDIsIHdvcmxkLCByZXN1bHQsIG9sZGNvbnRhY3RzLCBmcmljdGlvblJlc3VsdCwgZnJpY3Rpb25Qb29sKSB7XG4gICAgLy8gU2F2ZSBvbGQgY29udGFjdCBvYmplY3RzXG4gICAgdGhpcy5jb250YWN0UG9pbnRQb29sID0gb2xkY29udGFjdHM7XG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbCA9IGZyaWN0aW9uUG9vbDtcbiAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gZnJpY3Rpb25SZXN1bHQ7XG4gICAgY29uc3QgcWkgPSB0bXBRdWF0MTtcbiAgICBjb25zdCBxaiA9IHRtcFF1YXQyO1xuICAgIGNvbnN0IHhpID0gdG1wVmVjMSQyO1xuICAgIGNvbnN0IHhqID0gdG1wVmVjMiQyO1xuXG4gICAgZm9yIChsZXQgayA9IDAsIE4gPSBwMS5sZW5ndGg7IGsgIT09IE47IGsrKykge1xuICAgICAgLy8gR2V0IGN1cnJlbnQgY29sbGlzaW9uIGJvZGllc1xuICAgICAgY29uc3QgYmkgPSBwMVtrXTtcbiAgICAgIGNvbnN0IGJqID0gcDJba107IC8vIEdldCBjb250YWN0IG1hdGVyaWFsXG5cbiAgICAgIGxldCBib2R5Q29udGFjdE1hdGVyaWFsID0gbnVsbDtcblxuICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7XG4gICAgICAgIGJvZHlDb250YWN0TWF0ZXJpYWwgPSB3b3JsZC5nZXRDb250YWN0TWF0ZXJpYWwoYmkubWF0ZXJpYWwsIGJqLm1hdGVyaWFsKSB8fCBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBqdXN0VGVzdCA9IGJpLnR5cGUgJiBCb2R5LktJTkVNQVRJQyAmJiBiai50eXBlICYgQm9keS5TVEFUSUMgfHwgYmkudHlwZSAmIEJvZHkuU1RBVElDICYmIGJqLnR5cGUgJiBCb2R5LktJTkVNQVRJQyB8fCBiaS50eXBlICYgQm9keS5LSU5FTUFUSUMgJiYgYmoudHlwZSAmIEJvZHkuS0lORU1BVElDO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpLnNoYXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBiaS5xdWF0ZXJuaW9uLm11bHQoYmkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTtcbiAgICAgICAgYmkucXVhdGVybmlvbi52bXVsdChiaS5zaGFwZU9mZnNldHNbaV0sIHhpKTtcbiAgICAgICAgeGkudmFkZChiaS5wb3NpdGlvbiwgeGkpO1xuICAgICAgICBjb25zdCBzaSA9IGJpLnNoYXBlc1tpXTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJqLnNoYXBlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIC8vIENvbXB1dGUgd29ybGQgdHJhbnNmb3JtIG9mIHNoYXBlc1xuICAgICAgICAgIGJqLnF1YXRlcm5pb24ubXVsdChiai5zaGFwZU9yaWVudGF0aW9uc1tqXSwgcWopO1xuICAgICAgICAgIGJqLnF1YXRlcm5pb24udm11bHQoYmouc2hhcGVPZmZzZXRzW2pdLCB4aik7XG4gICAgICAgICAgeGoudmFkZChiai5wb3NpdGlvbiwgeGopO1xuICAgICAgICAgIGNvbnN0IHNqID0gYmouc2hhcGVzW2pdO1xuXG4gICAgICAgICAgaWYgKCEoc2kuY29sbGlzaW9uRmlsdGVyTWFzayAmIHNqLmNvbGxpc2lvbkZpbHRlckdyb3VwICYmIHNqLmNvbGxpc2lvbkZpbHRlck1hc2sgJiBzaS5jb2xsaXNpb25GaWx0ZXJHcm91cCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gLy8gR2V0IGNvbGxpc2lvbiBtYXRlcmlhbFxuXG5cbiAgICAgICAgICBsZXQgc2hhcGVDb250YWN0TWF0ZXJpYWwgPSBudWxsO1xuXG4gICAgICAgICAgaWYgKHNpLm1hdGVyaWFsICYmIHNqLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmdldENvbnRhY3RNYXRlcmlhbChzaS5tYXRlcmlhbCwgc2oubWF0ZXJpYWwpIHx8IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsID0gc2hhcGVDb250YWN0TWF0ZXJpYWwgfHwgYm9keUNvbnRhY3RNYXRlcmlhbCB8fCB3b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOyAvLyBHZXQgY29udGFjdHNcblxuICAgICAgICAgIGNvbnN0IHJlc29sdmVySW5kZXggPSBzaS50eXBlIHwgc2oudHlwZTtcbiAgICAgICAgICBjb25zdCByZXNvbHZlciA9IHRoaXNbcmVzb2x2ZXJJbmRleF07XG5cbiAgICAgICAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIGxldCByZXR2YWwgPSBmYWxzZTsgLy8gVE8gRE86IGludmVzdGlnYXRlIHdoeSBzcGhlcmVQYXJ0aWNsZSBhbmQgY29udmV4UGFydGljbGVcbiAgICAgICAgICAgIC8vIHJlc29sdmVycyBleHBlY3Qgc2kgYW5kIHNqIHNoYXBlcyB0byBiZSBpbiByZXZlcnNlIG9yZGVyXG4gICAgICAgICAgICAvLyAoaS5lLiBsYXJnZXIgaW50ZWdlciB2YWx1ZSB0eXBlIGZpcnN0IGluc3RlYWQgb2Ygc21hbGxlciBmaXJzdClcblxuICAgICAgICAgICAgaWYgKHNpLnR5cGUgPCBzai50eXBlKSB7XG4gICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJldHZhbCAmJiBqdXN0VGVzdCkge1xuICAgICAgICAgICAgICAvLyBSZWdpc3RlciBvdmVybGFwXG4gICAgICAgICAgICAgIHdvcmxkLnNoYXBlT3ZlcmxhcEtlZXBlci5zZXQoc2kuaWQsIHNqLmlkKTtcbiAgICAgICAgICAgICAgd29ybGQuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3BoZXJlU3BoZXJlKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICByZXR1cm4geGkuZGlzdGFuY2VTcXVhcmVkKHhqKSA8IChzaS5yYWRpdXMgKyBzai5yYWRpdXMpICoqIDI7XG4gICAgfSAvLyBXZSB3aWxsIGhhdmUgb25seSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2VcblxuXG4gICAgY29uc3QgY29udGFjdEVxID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsgLy8gQ29udGFjdCBub3JtYWxcblxuICAgIHhqLnZzdWIoeGksIGNvbnRhY3RFcS5uaSk7XG4gICAgY29udGFjdEVxLm5pLm5vcm1hbGl6ZSgpOyAvLyBDb250YWN0IHBvaW50IGxvY2F0aW9uc1xuXG4gICAgY29udGFjdEVxLnJpLmNvcHkoY29udGFjdEVxLm5pKTtcbiAgICBjb250YWN0RXEucmouY29weShjb250YWN0RXEubmkpO1xuICAgIGNvbnRhY3RFcS5yaS5zY2FsZShzaS5yYWRpdXMsIGNvbnRhY3RFcS5yaSk7XG4gICAgY29udGFjdEVxLnJqLnNjYWxlKC1zai5yYWRpdXMsIGNvbnRhY3RFcS5yaik7XG4gICAgY29udGFjdEVxLnJpLnZhZGQoeGksIGNvbnRhY3RFcS5yaSk7XG4gICAgY29udGFjdEVxLnJpLnZzdWIoYmkucG9zaXRpb24sIGNvbnRhY3RFcS5yaSk7XG4gICAgY29udGFjdEVxLnJqLnZhZGQoeGosIGNvbnRhY3RFcS5yaik7XG4gICAgY29udGFjdEVxLnJqLnZzdWIoYmoucG9zaXRpb24sIGNvbnRhY3RFcS5yaik7XG4gICAgdGhpcy5yZXN1bHQucHVzaChjb250YWN0RXEpO1xuICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjb250YWN0RXEsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICB9XG5cbiAgc3BoZXJlUGxhbmUoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICAvLyBXZSB3aWxsIGhhdmUgb25lIGNvbnRhY3QgaW4gdGhpcyBjYXNlXG4gICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsXG5cbiAgICByLm5pLnNldCgwLCAwLCAxKTtcbiAgICBxai52bXVsdChyLm5pLCByLm5pKTtcbiAgICByLm5pLm5lZ2F0ZShyLm5pKTsgLy8gYm9keSBpIGlzIHRoZSBzcGhlcmUsIGZsaXAgbm9ybWFsXG5cbiAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyBOZWVkZWQ/XG4gICAgLy8gVmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byBjb250YWN0IHBvaW50XG5cbiAgICByLm5pLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7IC8vIFByb2plY3QgZG93biBzcGhlcmUgb24gcGxhbmVcblxuICAgIHhpLnZzdWIoeGosIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSk7XG4gICAgci5uaS5zY2FsZShyLm5pLmRvdChwb2ludF9vbl9wbGFuZV90b19zcGhlcmUpLCBwbGFuZV90b19zcGhlcmVfb3J0aG8pO1xuICAgIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZS52c3ViKHBsYW5lX3RvX3NwaGVyZV9vcnRobywgci5yaik7IC8vIFRoZSBzcGhlcmUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHBsYW5lXG5cbiAgICBpZiAoLXBvaW50X29uX3BsYW5lX3RvX3NwaGVyZS5kb3Qoci5uaSkgPD0gc2kucmFkaXVzKSB7XG4gICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHlcblxuXG4gICAgICBjb25zdCByaSA9IHIucmk7XG4gICAgICBjb25zdCByaiA9IHIucmo7XG4gICAgICByaS52YWRkKHhpLCByaSk7XG4gICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7XG4gICAgICByai52YWRkKHhqLCByaik7XG4gICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7XG4gICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgIH1cbiAgfVxuXG4gIGJveEJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsO1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7XG4gIH1cblxuICBzcGhlcmVCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDsgLy8gd2UgcmVmZXIgdG8gdGhlIGJveCBhcyBib2R5IGpcblxuICAgIGNvbnN0IHNpZGVzID0gc3BoZXJlQm94X3NpZGVzO1xuICAgIHhpLnZzdWIoeGosIGJveF90b19zcGhlcmUpO1xuICAgIHNqLmdldFNpZGVOb3JtYWxzKHNpZGVzLCBxaik7XG4gICAgY29uc3QgUiA9IHNpLnJhZGl1cztcblxuICAgIGxldCBmb3VuZCA9IGZhbHNlOyAvLyBTdG9yZSB0aGUgcmVzdWx0aW5nIHNpZGUgcGVuZXRyYXRpb24gaW5mb1xuXG4gICAgY29uc3Qgc2lkZV9ucyA9IHNwaGVyZUJveF9zaWRlX25zO1xuICAgIGNvbnN0IHNpZGVfbnMxID0gc3BoZXJlQm94X3NpZGVfbnMxO1xuICAgIGNvbnN0IHNpZGVfbnMyID0gc3BoZXJlQm94X3NpZGVfbnMyO1xuICAgIGxldCBzaWRlX2ggPSBudWxsO1xuICAgIGxldCBzaWRlX3BlbmV0cmF0aW9ucyA9IDA7XG4gICAgbGV0IHNpZGVfZG90MSA9IDA7XG4gICAgbGV0IHNpZGVfZG90MiA9IDA7XG4gICAgbGV0IHNpZGVfZGlzdGFuY2UgPSBudWxsO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMCwgbnNpZGVzID0gc2lkZXMubGVuZ3RoOyBpZHggIT09IG5zaWRlcyAmJiBmb3VuZCA9PT0gZmFsc2U7IGlkeCsrKSB7XG4gICAgICAvLyBHZXQgdGhlIHBsYW5lIHNpZGUgbm9ybWFsIChucylcbiAgICAgIGNvbnN0IG5zID0gc3BoZXJlQm94X25zO1xuICAgICAgbnMuY29weShzaWRlc1tpZHhdKTtcbiAgICAgIGNvbnN0IGggPSBucy5sZW5ndGgoKTtcbiAgICAgIG5zLm5vcm1hbGl6ZSgpOyAvLyBUaGUgbm9ybWFsL2Rpc3RhbmNlIGRvdCBwcm9kdWN0IHRlbGxzIHdoaWNoIHNpZGUgb2YgdGhlIHBsYW5lIHdlIGFyZVxuXG4gICAgICBjb25zdCBkb3QgPSBib3hfdG9fc3BoZXJlLmRvdChucyk7XG5cbiAgICAgIGlmIChkb3QgPCBoICsgUiAmJiBkb3QgPiAwKSB7XG4gICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayB0aGUgb3RoZXIgdHdvIGRpbWVuc2lvbnNcbiAgICAgICAgY29uc3QgbnMxID0gc3BoZXJlQm94X25zMTtcbiAgICAgICAgY29uc3QgbnMyID0gc3BoZXJlQm94X25zMjtcbiAgICAgICAgbnMxLmNvcHkoc2lkZXNbKGlkeCArIDEpICUgM10pO1xuICAgICAgICBuczIuY29weShzaWRlc1soaWR4ICsgMikgJSAzXSk7XG4gICAgICAgIGNvbnN0IGgxID0gbnMxLmxlbmd0aCgpO1xuICAgICAgICBjb25zdCBoMiA9IG5zMi5sZW5ndGgoKTtcbiAgICAgICAgbnMxLm5vcm1hbGl6ZSgpO1xuICAgICAgICBuczIubm9ybWFsaXplKCk7XG4gICAgICAgIGNvbnN0IGRvdDEgPSBib3hfdG9fc3BoZXJlLmRvdChuczEpO1xuICAgICAgICBjb25zdCBkb3QyID0gYm94X3RvX3NwaGVyZS5kb3QobnMyKTtcblxuICAgICAgICBpZiAoZG90MSA8IGgxICYmIGRvdDEgPiAtaDEgJiYgZG90MiA8IGgyICYmIGRvdDIgPiAtaDIpIHtcbiAgICAgICAgICBjb25zdCBkaXN0ID0gTWF0aC5hYnMoZG90IC0gaCAtIFIpO1xuXG4gICAgICAgICAgaWYgKHNpZGVfZGlzdGFuY2UgPT09IG51bGwgfHwgZGlzdCA8IHNpZGVfZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHNpZGVfZGlzdGFuY2UgPSBkaXN0O1xuICAgICAgICAgICAgc2lkZV9kb3QxID0gZG90MTtcbiAgICAgICAgICAgIHNpZGVfZG90MiA9IGRvdDI7XG4gICAgICAgICAgICBzaWRlX2ggPSBoO1xuICAgICAgICAgICAgc2lkZV9ucy5jb3B5KG5zKTtcbiAgICAgICAgICAgIHNpZGVfbnMxLmNvcHkobnMxKTtcbiAgICAgICAgICAgIHNpZGVfbnMyLmNvcHkobnMyKTtcbiAgICAgICAgICAgIHNpZGVfcGVuZXRyYXRpb25zKys7XG5cbiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2lkZV9wZW5ldHJhdGlvbnMpIHtcbiAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgc2lkZV9ucy5zY2FsZSgtUiwgci5yaSk7IC8vIFNwaGVyZSByXG5cbiAgICAgIHIubmkuY29weShzaWRlX25zKTtcbiAgICAgIHIubmkubmVnYXRlKHIubmkpOyAvLyBOb3JtYWwgc2hvdWxkIGJlIG91dCBvZiBzcGhlcmVcblxuICAgICAgc2lkZV9ucy5zY2FsZShzaWRlX2gsIHNpZGVfbnMpO1xuICAgICAgc2lkZV9uczEuc2NhbGUoc2lkZV9kb3QxLCBzaWRlX25zMSk7XG4gICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczEsIHNpZGVfbnMpO1xuICAgICAgc2lkZV9uczIuc2NhbGUoc2lkZV9kb3QyLCBzaWRlX25zMik7XG4gICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczIsIHIucmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllc1xuXG4gICAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTtcbiAgICAgIHIucmoudmFkZCh4aiwgci5yaik7XG4gICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopO1xuICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICB9IC8vIENoZWNrIGNvcm5lcnNcblxuXG4gICAgbGV0IHJqID0gdjNwb29sLmdldCgpO1xuICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVCb3hfc3BoZXJlX3RvX2Nvcm5lcjtcblxuICAgIGZvciAobGV0IGogPSAwOyBqICE9PSAyICYmICFmb3VuZDsgaisrKSB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gMiAmJiAhZm91bmQ7IGsrKykge1xuICAgICAgICBmb3IgKGxldCBsID0gMDsgbCAhPT0gMiAmJiAhZm91bmQ7IGwrKykge1xuICAgICAgICAgIHJqLnNldCgwLCAwLCAwKTtcblxuICAgICAgICAgIGlmIChqKSB7XG4gICAgICAgICAgICByai52YWRkKHNpZGVzWzBdLCByaik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMF0sIHJqKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaykge1xuICAgICAgICAgICAgcmoudmFkZChzaWRlc1sxXSwgcmopO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByai52c3ViKHNpZGVzWzFdLCByaik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMl0sIHJqKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmoudnN1YihzaWRlc1syXSwgcmopO1xuICAgICAgICAgIH0gLy8gV29ybGQgcG9zaXRpb24gb2YgY29ybmVyXG5cblxuICAgICAgICAgIHhqLnZhZGQocmosIHNwaGVyZV90b19jb3JuZXIpO1xuICAgICAgICAgIHNwaGVyZV90b19jb3JuZXIudnN1Yih4aSwgc3BoZXJlX3RvX2Nvcm5lcik7XG5cbiAgICAgICAgICBpZiAoc3BoZXJlX3RvX2Nvcm5lci5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikge1xuICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgICAgIHIucmkuY29weShzcGhlcmVfdG9fY29ybmVyKTtcbiAgICAgICAgICAgIHIucmkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByLm5pLmNvcHkoci5yaSk7XG4gICAgICAgICAgICByLnJpLnNjYWxlKFIsIHIucmkpO1xuICAgICAgICAgICAgci5yai5jb3B5KHJqKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcblxuICAgICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTtcbiAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopO1xuICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdjNwb29sLnJlbGVhc2UocmopO1xuICAgIHJqID0gbnVsbDsgLy8gQ2hlY2sgZWRnZXNcblxuICAgIGNvbnN0IGVkZ2VUYW5nZW50ID0gdjNwb29sLmdldCgpO1xuICAgIGNvbnN0IGVkZ2VDZW50ZXIgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgY29uc3QgciA9IHYzcG9vbC5nZXQoKTsgLy8gciA9IGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXJcblxuICAgIGNvbnN0IG9ydGhvZ29uYWwgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgY29uc3QgZGlzdCA9IHYzcG9vbC5nZXQoKTtcbiAgICBjb25zdCBOc2lkZXMgPSBzaWRlcy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gTnNpZGVzICYmICFmb3VuZDsgaisrKSB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gTnNpZGVzICYmICFmb3VuZDsgaysrKSB7XG4gICAgICAgIGlmIChqICUgMyAhPT0gayAlIDMpIHtcbiAgICAgICAgICAvLyBHZXQgZWRnZSB0YW5nZW50XG4gICAgICAgICAgc2lkZXNba10uY3Jvc3Moc2lkZXNbal0sIGVkZ2VUYW5nZW50KTtcbiAgICAgICAgICBlZGdlVGFuZ2VudC5ub3JtYWxpemUoKTtcbiAgICAgICAgICBzaWRlc1tqXS52YWRkKHNpZGVzW2tdLCBlZGdlQ2VudGVyKTtcbiAgICAgICAgICByLmNvcHkoeGkpO1xuICAgICAgICAgIHIudnN1YihlZGdlQ2VudGVyLCByKTtcbiAgICAgICAgICByLnZzdWIoeGosIHIpO1xuICAgICAgICAgIGNvbnN0IG9ydGhvbm9ybSA9IHIuZG90KGVkZ2VUYW5nZW50KTsgLy8gZGlzdGFuY2UgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyIGluIHRoZSB0YW5nZW50IGRpcmVjdGlvblxuXG4gICAgICAgICAgZWRnZVRhbmdlbnQuc2NhbGUob3J0aG9ub3JtLCBvcnRob2dvbmFsKTsgLy8gVmVjdG9yIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIGNlbnRlciBpbiB0aGUgdGFuZ2VudCBkaXJlY3Rpb25cbiAgICAgICAgICAvLyBGaW5kIHRoZSB0aGlyZCBzaWRlIG9ydGhvZ29uYWwgdG8gdGhpcyBvbmVcblxuICAgICAgICAgIGxldCBsID0gMDtcblxuICAgICAgICAgIHdoaWxlIChsID09PSBqICUgMyB8fCBsID09PSBrICUgMykge1xuICAgICAgICAgICAgbCsrO1xuICAgICAgICAgIH0gLy8gdmVjIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIHByb2plY3RlZCB0byB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byB0aGUgZWRnZSB0YW5nZW50XG5cblxuICAgICAgICAgIGRpc3QuY29weSh4aSk7XG4gICAgICAgICAgZGlzdC52c3ViKG9ydGhvZ29uYWwsIGRpc3QpO1xuICAgICAgICAgIGRpc3QudnN1YihlZGdlQ2VudGVyLCBkaXN0KTtcbiAgICAgICAgICBkaXN0LnZzdWIoeGosIGRpc3QpOyAvLyBEaXN0YW5jZXMgaW4gdGFuZ2VudCBkaXJlY3Rpb24gYW5kIGRpc3RhbmNlIGluIHRoZSBwbGFuZSBvcnRob2dvbmFsIHRvIGl0XG5cbiAgICAgICAgICBjb25zdCB0ZGlzdCA9IE1hdGguYWJzKG9ydGhvbm9ybSk7XG4gICAgICAgICAgY29uc3QgbmRpc3QgPSBkaXN0Lmxlbmd0aCgpO1xuXG4gICAgICAgICAgaWYgKHRkaXN0IDwgc2lkZXNbbF0ubGVuZ3RoKCkgJiYgbmRpc3QgPCBSKSB7XG4gICAgICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICAgICAgICBlZGdlQ2VudGVyLnZhZGQob3J0aG9nb25hbCwgcmVzLnJqKTsgLy8gYm94IHJqXG5cbiAgICAgICAgICAgIHJlcy5yai5jb3B5KHJlcy5yaik7XG4gICAgICAgICAgICBkaXN0Lm5lZ2F0ZShyZXMubmkpO1xuICAgICAgICAgICAgcmVzLm5pLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgcmVzLnJpLmNvcHkocmVzLnJqKTtcbiAgICAgICAgICAgIHJlcy5yaS52YWRkKHhqLCByZXMucmkpO1xuICAgICAgICAgICAgcmVzLnJpLnZzdWIoeGksIHJlcy5yaSk7XG4gICAgICAgICAgICByZXMucmkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICByZXMucmkuc2NhbGUoUiwgcmVzLnJpKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcblxuICAgICAgICAgICAgcmVzLnJpLnZhZGQoeGksIHJlcy5yaSk7XG4gICAgICAgICAgICByZXMucmkudnN1YihiaS5wb3NpdGlvbiwgcmVzLnJpKTtcbiAgICAgICAgICAgIHJlcy5yai52YWRkKHhqLCByZXMucmopO1xuICAgICAgICAgICAgcmVzLnJqLnZzdWIoYmoucG9zaXRpb24sIHJlcy5yaik7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHJlcyk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QocmVzLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2M3Bvb2wucmVsZWFzZShlZGdlVGFuZ2VudCwgZWRnZUNlbnRlciwgciwgb3J0aG9nb25hbCwgZGlzdCk7XG4gIH1cblxuICBwbGFuZUJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5pZCA9IHNqLmlkO1xuICAgIHJldHVybiB0aGlzLnBsYW5lQ29udmV4KHNpLCBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgY29udmV4Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0LCBmYWNlTGlzdEEsIGZhY2VMaXN0Qikge1xuICAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpcztcblxuICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2kuZmluZFNlcGFyYXRpbmdBeGlzKHNqLCB4aSwgcWksIHhqLCBxaiwgc2VwQXhpcywgZmFjZUxpc3RBLCBmYWNlTGlzdEIpKSB7XG4gICAgICBjb25zdCByZXMgPSBbXTtcbiAgICAgIGNvbnN0IHEgPSBjb252ZXhDb252ZXhfcTtcbiAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSwgcWksIHNqLCB4aiwgcWosIHNlcEF4aXMsIC0xMDAsIDEwMCwgcmVzKTtcbiAgICAgIGxldCBudW1Db250YWN0cyA9IDA7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgY29uc3QgcmkgPSByLnJpO1xuICAgICAgICBjb25zdCByaiA9IHIucmo7XG4gICAgICAgIHNlcEF4aXMubmVnYXRlKHIubmkpO1xuICAgICAgICByZXNbal0ubm9ybWFsLm5lZ2F0ZShxKTtcbiAgICAgICAgcS5zY2FsZShyZXNbal0uZGVwdGgsIHEpO1xuICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7XG4gICAgICAgIHJqLmNvcHkocmVzW2pdLnBvaW50KTsgLy8gQ29udGFjdCBwb2ludHMgYXJlIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBUcmFuc2Zvcm0gYmFjayB0byByZWxhdGl2ZVxuXG4gICAgICAgIHJpLnZzdWIoeGksIHJpKTtcbiAgICAgICAgcmoudnN1Yih4aiwgcmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllc1xuXG4gICAgICAgIHJpLnZhZGQoeGksIHJpKTtcbiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpO1xuICAgICAgICByai52YWRkKHhqLCByaik7XG4gICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTtcbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgbnVtQ29udGFjdHMrKztcblxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzcGhlcmVDb252ZXgoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDtcbiAgICB4aS52c3ViKHhqLCBjb252ZXhfdG9fc3BoZXJlKTtcbiAgICBjb25zdCBub3JtYWxzID0gc2ouZmFjZU5vcm1hbHM7XG4gICAgY29uc3QgZmFjZXMgPSBzai5mYWNlcztcbiAgICBjb25zdCB2ZXJ0cyA9IHNqLnZlcnRpY2VzO1xuICAgIGNvbnN0IFIgPSBzaS5yYWRpdXM7XG4gICAgLy8gICAgIHJldHVybjtcbiAgICAvLyB9XG5cbiAgICBsZXQgZm91bmQgPSBmYWxzZTsgLy8gQ2hlY2sgY29ybmVyc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB2ID0gdmVydHNbaV07IC8vIFdvcmxkIHBvc2l0aW9uIG9mIGNvcm5lclxuXG4gICAgICBjb25zdCB3b3JsZENvcm5lciA9IHNwaGVyZUNvbnZleF93b3JsZENvcm5lcjtcbiAgICAgIHFqLnZtdWx0KHYsIHdvcmxkQ29ybmVyKTtcbiAgICAgIHhqLnZhZGQod29ybGRDb3JuZXIsIHdvcmxkQ29ybmVyKTtcbiAgICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXI7XG4gICAgICB3b3JsZENvcm5lci52c3ViKHhpLCBzcGhlcmVfdG9fY29ybmVyKTtcblxuICAgICAgaWYgKHNwaGVyZV90b19jb3JuZXIubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHtcbiAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgICByLnJpLmNvcHkoc3BoZXJlX3RvX2Nvcm5lcik7XG4gICAgICAgIHIucmkubm9ybWFsaXplKCk7XG4gICAgICAgIHIubmkuY29weShyLnJpKTtcbiAgICAgICAgci5yaS5zY2FsZShSLCByLnJpKTtcbiAgICAgICAgd29ybGRDb3JuZXIudnN1Yih4aiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS5cblxuICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBDaGVjayBzaWRlIChwbGFuZSkgaW50ZXJzZWN0aW9uc1xuXG5cbiAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXMgJiYgZm91bmQgPT09IGZhbHNlOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vcm1hbCA9IG5vcm1hbHNbaV07XG4gICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07IC8vIEdldCB3b3JsZC10cmFuc2Zvcm1lZCBub3JtYWwgb2YgdGhlIGZhY2VcblxuICAgICAgY29uc3Qgd29ybGROb3JtYWwgPSBzcGhlcmVDb252ZXhfd29ybGROb3JtYWw7XG4gICAgICBxai52bXVsdChub3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gR2V0IGEgd29ybGQgdmVydGV4IGZyb20gdGhlIGZhY2VcblxuICAgICAgY29uc3Qgd29ybGRQb2ludCA9IHNwaGVyZUNvbnZleF93b3JsZFBvaW50O1xuICAgICAgcWoudm11bHQodmVydHNbZmFjZVswXV0sIHdvcmxkUG9pbnQpO1xuICAgICAgd29ybGRQb2ludC52YWRkKHhqLCB3b3JsZFBvaW50KTsgLy8gR2V0IGEgcG9pbnQgb24gdGhlIHNwaGVyZSwgY2xvc2VzdCB0byB0aGUgZmFjZSBub3JtYWxcblxuICAgICAgY29uc3Qgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lID0gc3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZTtcbiAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpO1xuICAgICAgeGkudmFkZCh3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUsIHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSk7IC8vIFZlY3RvciBmcm9tIGEgZmFjZSBwb2ludCB0byB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3BoZXJlXG5cbiAgICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjID0gc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjO1xuICAgICAgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lLnZzdWIod29ybGRQb2ludCwgcGVuZXRyYXRpb25WZWMpOyAvLyBUaGUgcGVuZXRyYXRpb24uIE5lZ2F0aXZlIHZhbHVlIG1lYW5zIG92ZXJsYXAuXG5cbiAgICAgIGNvbnN0IHBlbmV0cmF0aW9uID0gcGVuZXRyYXRpb25WZWMuZG90KHdvcmxkTm9ybWFsKTtcbiAgICAgIGNvbnN0IHdvcmxkUG9pbnRUb1NwaGVyZSA9IHNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQ7XG4gICAgICB4aS52c3ViKHdvcmxkUG9pbnQsIHdvcmxkUG9pbnRUb1NwaGVyZSk7XG5cbiAgICAgIGlmIChwZW5ldHJhdGlvbiA8IDAgJiYgd29ybGRQb2ludFRvU3BoZXJlLmRvdCh3b3JsZE5vcm1hbCkgPiAwKSB7XG4gICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayBpZiB0aGUgc3BoZXJlIGlzIGluc2lkZSB0aGUgZmFjZSBwb2x5Z29uXG4gICAgICAgIGNvbnN0IGZhY2VWZXJ0cyA9IFtdOyAvLyBGYWNlIHZlcnRpY2VzLCBpbiB3b3JsZCBjb29yZHNcblxuICAgICAgICBmb3IgKGxldCBqID0gMCwgTnZlcnRzID0gZmFjZS5sZW5ndGg7IGogIT09IE52ZXJ0czsgaisrKSB7XG4gICAgICAgICAgY29uc3Qgd29ybGRWZXJ0ZXggPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVtqXV0sIHdvcmxkVmVydGV4KTtcbiAgICAgICAgICB4ai52YWRkKHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7XG4gICAgICAgICAgZmFjZVZlcnRzLnB1c2god29ybGRWZXJ0ZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50SW5Qb2x5Z29uKGZhY2VWZXJ0cywgd29ybGROb3JtYWwsIHhpKSkge1xuICAgICAgICAgIC8vIElzIHRoZSBzcGhlcmUgY2VudGVyIGluIHRoZSBmYWNlIHBvbHlnb24/XG4gICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLVIsIHIucmkpOyAvLyBDb250YWN0IG9mZnNldCwgZnJvbSBzcGhlcmUgY2VudGVyIHRvIGNvbnRhY3RcblxuICAgICAgICAgIHdvcmxkTm9ybWFsLm5lZ2F0ZShyLm5pKTsgLy8gTm9ybWFsIHBvaW50aW5nIG91dCBvZiBzcGhlcmVcblxuICAgICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjMiA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtcGVuZXRyYXRpb24sIHBlbmV0cmF0aW9uVmVjMik7XG4gICAgICAgICAgY29uc3QgcGVuZXRyYXRpb25TcGhlcmVQb2ludCA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgcGVuZXRyYXRpb25TcGhlcmVQb2ludCk7IC8veGkudnN1Yih4aikudmFkZChwZW5ldHJhdGlvblNwaGVyZVBvaW50KS52YWRkKHBlbmV0cmF0aW9uVmVjMiAsIHIucmopO1xuXG4gICAgICAgICAgeGkudnN1Yih4aiwgci5yaik7XG4gICAgICAgICAgci5yai52YWRkKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQsIHIucmopO1xuICAgICAgICAgIHIucmoudmFkZChwZW5ldHJhdGlvblZlYzIsIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopO1xuICAgICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS5cblxuICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7XG4gICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwZW5ldHJhdGlvblZlYzIpO1xuICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpO1xuICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOyAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzXG5cbiAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykge1xuICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47IC8vIFdlIG9ubHkgZXhwZWN0ICpvbmUqIGZhY2UgY29udGFjdFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEVkZ2U/XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGZhY2UubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIC8vIEdldCB0d28gd29ybGQgdHJhbnNmb3JtZWQgdmVydGljZXNcbiAgICAgICAgICAgIGNvbnN0IHYxID0gdjNwb29sLmdldCgpO1xuICAgICAgICAgICAgY29uc3QgdjIgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWyhqICsgMSkgJSBmYWNlLmxlbmd0aF1dLCB2MSk7XG4gICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWyhqICsgMikgJSBmYWNlLmxlbmd0aF1dLCB2Mik7XG4gICAgICAgICAgICB4ai52YWRkKHYxLCB2MSk7XG4gICAgICAgICAgICB4ai52YWRkKHYyLCB2Mik7IC8vIENvbnN0cnVjdCBlZGdlIHZlY3RvclxuXG4gICAgICAgICAgICBjb25zdCBlZGdlID0gc3BoZXJlQ29udmV4X2VkZ2U7XG4gICAgICAgICAgICB2Mi52c3ViKHYxLCBlZGdlKTsgLy8gQ29uc3RydWN0IHRoZSBzYW1lIHZlY3RvciwgYnV0IG5vcm1hbGl6ZWRcblxuICAgICAgICAgICAgY29uc3QgZWRnZVVuaXQgPSBzcGhlcmVDb252ZXhfZWRnZVVuaXQ7XG4gICAgICAgICAgICBlZGdlLnVuaXQoZWRnZVVuaXQpOyAvLyBwIGlzIHhpIHByb2plY3RlZCBvbnRvIHRoZSBlZGdlXG5cbiAgICAgICAgICAgIGNvbnN0IHAgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBjb25zdCB2MV90b194aSA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICAgIHhpLnZzdWIodjEsIHYxX3RvX3hpKTtcbiAgICAgICAgICAgIGNvbnN0IGRvdCA9IHYxX3RvX3hpLmRvdChlZGdlVW5pdCk7XG4gICAgICAgICAgICBlZGdlVW5pdC5zY2FsZShkb3QsIHApO1xuICAgICAgICAgICAgcC52YWRkKHYxLCBwKTsgLy8gQ29tcHV0ZSBhIHZlY3RvciBmcm9tIHAgdG8gdGhlIGNlbnRlciBvZiB0aGUgc3BoZXJlXG5cbiAgICAgICAgICAgIGNvbnN0IHhpX3RvX3AgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICBwLnZzdWIoeGksIHhpX3RvX3ApOyAvLyBDb2xsaXNpb24gaWYgdGhlIGVkZ2Utc3BoZXJlIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiB0aGUgcmFkaXVzXG4gICAgICAgICAgICAvLyBBTkQgaWYgcCBpcyBpbiBiZXR3ZWVuIHYxIGFuZCB2MlxuXG4gICAgICAgICAgICBpZiAoZG90ID4gMCAmJiBkb3QgKiBkb3QgPCBlZGdlLmxlbmd0aFNxdWFyZWQoKSAmJiB4aV90b19wLmxlbmd0aFNxdWFyZWQoKSA8IFIgKiBSKSB7XG4gICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBpZiB0aGUgZWRnZS1zcGhlcmUgZGlzdGFuY2UgaXMgbGVzcyB0aGFuIHRoZSByYWRpdXNcbiAgICAgICAgICAgICAgLy8gRWRnZSBjb250YWN0IVxuICAgICAgICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgICAgICAgICBwLnZzdWIoeGosIHIucmopO1xuICAgICAgICAgICAgICBwLnZzdWIoeGksIHIubmkpO1xuICAgICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgICByLm5pLnNjYWxlKFIsIHIucmkpOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LlxuXG4gICAgICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7XG4gICAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsgLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlc1xuXG4gICAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBOZmFjZXZlcnRzID0gZmFjZVZlcnRzLmxlbmd0aDsgaiAhPT0gTmZhY2V2ZXJ0czsgaisrKSB7XG4gICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxKTtcbiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjIpO1xuICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTtcbiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoeGlfdG9fcCk7XG4gICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxX3RvX3hpKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MSk7XG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2Mik7XG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTtcbiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHhpX3RvX3ApO1xuICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjFfdG9feGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzXG5cblxuICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykge1xuICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKGZhY2VWZXJ0c1tqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwbGFuZUNvbnZleChwbGFuZVNoYXBlLCBjb252ZXhTaGFwZSwgcGxhbmVQb3NpdGlvbiwgY29udmV4UG9zaXRpb24sIHBsYW5lUXVhdCwgY29udmV4UXVhdCwgcGxhbmVCb2R5LCBjb252ZXhCb2R5LCBzaSwgc2osIGp1c3RUZXN0KSB7XG4gICAgLy8gU2ltcGx5IHJldHVybiB0aGUgcG9pbnRzIGJlaGluZCB0aGUgcGxhbmUuXG4gICAgY29uc3Qgd29ybGRWZXJ0ZXggPSBwbGFuZUNvbnZleF92O1xuICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gcGxhbmVDb252ZXhfbm9ybWFsO1xuICAgIHdvcmxkTm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICBwbGFuZVF1YXQudm11bHQod29ybGROb3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lIG9yaWVudGF0aW9uXG5cbiAgICBsZXQgbnVtQ29udGFjdHMgPSAwO1xuICAgIGNvbnN0IHJlbHBvcyA9IHBsYW5lQ29udmV4X3JlbHBvcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBjb252ZXhTaGFwZS52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gR2V0IHdvcmxkIGNvbnZleCB2ZXJ0ZXhcbiAgICAgIHdvcmxkVmVydGV4LmNvcHkoY29udmV4U2hhcGUudmVydGljZXNbaV0pO1xuICAgICAgY29udmV4UXVhdC52bXVsdCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpO1xuICAgICAgY29udmV4UG9zaXRpb24udmFkZCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpO1xuICAgICAgd29ybGRWZXJ0ZXgudnN1YihwbGFuZVBvc2l0aW9uLCByZWxwb3MpO1xuICAgICAgY29uc3QgZG90ID0gd29ybGROb3JtYWwuZG90KHJlbHBvcyk7XG5cbiAgICAgIGlmIChkb3QgPD0gMC4wKSB7XG4gICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgY29udmV4Qm9keSwgcGxhbmVTaGFwZSwgY29udmV4U2hhcGUsIHNpLCBzaik7IC8vIEdldCB2ZXJ0ZXggcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lXG5cbiAgICAgICAgY29uc3QgcHJvamVjdGVkID0gcGxhbmVDb252ZXhfcHJvamVjdGVkO1xuICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSh3b3JsZE5vcm1hbC5kb3QocmVscG9zKSwgcHJvamVjdGVkKTtcbiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7XG4gICAgICAgIHByb2plY3RlZC52c3ViKHBsYW5lUG9zaXRpb24sIHIucmkpOyAvLyBGcm9tIHBsYW5lIHRvIHZlcnRleCBwcm9qZWN0ZWQgb24gcGxhbmVcblxuICAgICAgICByLm5pLmNvcHkod29ybGROb3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsIG91dCBmcm9tIHBsYW5lXG4gICAgICAgIC8vIHJqIGlzIG5vdyBqdXN0IHRoZSB2ZWN0b3IgZnJvbSB0aGUgY29udmV4IGNlbnRlciB0byB0aGUgdmVydGV4XG5cbiAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihjb252ZXhQb3NpdGlvbiwgci5yaik7IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHlcblxuICAgICAgICByLnJpLnZhZGQocGxhbmVQb3NpdGlvbiwgci5yaSk7XG4gICAgICAgIHIucmkudnN1YihwbGFuZUJvZHkucG9zaXRpb24sIHIucmkpO1xuICAgICAgICByLnJqLnZhZGQoY29udmV4UG9zaXRpb24sIHIucmopO1xuICAgICAgICByLnJqLnZzdWIoY29udmV4Qm9keS5wb3NpdGlvbiwgci5yaik7XG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIG51bUNvbnRhY3RzKys7XG5cbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKSB7XG4gICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cyk7XG4gICAgfVxuICB9XG5cbiAgYm94Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7XG4gICAgcmV0dXJuIHRoaXMuY29udmV4Q29udmV4KHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgc3BoZXJlSGVpZ2h0ZmllbGQoc3BoZXJlU2hhcGUsIGhmU2hhcGUsIHNwaGVyZVBvcywgaGZQb3MsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCBkYXRhID0gaGZTaGFwZS5kYXRhO1xuICAgIGNvbnN0IHJhZGl1cyA9IHNwaGVyZVNoYXBlLnJhZGl1cztcbiAgICBjb25zdCB3ID0gaGZTaGFwZS5lbGVtZW50U2l6ZTtcbiAgICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDI7IC8vIEdldCBzcGhlcmUgcG9zaXRpb24gdG8gaGVpZ2h0ZmllbGQgbG9jYWwhXG5cbiAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDE7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIHNwaGVyZVBvcywgbG9jYWxTcGhlcmVQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3RcblxuICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsU3BoZXJlUG9zLnggLSByYWRpdXMpIC8gdykgLSAxO1xuICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxTcGhlcmVQb3MueCArIHJhZGl1cykgLyB3KSArIDE7XG4gICAgbGV0IGlNaW5ZID0gTWF0aC5mbG9vcigobG9jYWxTcGhlcmVQb3MueSAtIHJhZGl1cykgLyB3KSAtIDE7XG4gICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbFNwaGVyZVBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpblxuXG4gICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDbGFtcCBpbmRleCB0byBlZGdlc1xuXG5cbiAgICBpZiAoaU1pblggPCAwKSB7XG4gICAgICBpTWluWCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhYIDwgMCkge1xuICAgICAgaU1heFggPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWluWSA8IDApIHtcbiAgICAgIGlNaW5ZID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaU1heFkgPCAwKSB7XG4gICAgICBpTWF4WSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoaU1heFggPj0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkge1xuICAgICAgaU1heFkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBjb25zdCBtaW5NYXggPSBbXTtcbiAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7XG4gICAgY29uc3QgbWluID0gbWluTWF4WzBdO1xuICAgIGNvbnN0IG1heCA9IG1pbk1heFsxXTsgLy8gQmFpbCBvdXQgaWYgd2UgY2FuJ3QgdG91Y2ggdGhlIGJvdW5kaW5nIGhlaWdodCBib3hcblxuICAgIGlmIChsb2NhbFNwaGVyZVBvcy56IC0gcmFkaXVzID4gbWF4IHx8IGxvY2FsU3BoZXJlUG9zLnogKyByYWRpdXMgPCBtaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDtcblxuICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHtcbiAgICAgICAgY29uc3QgbnVtQ29udGFjdHNCZWZvcmUgPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW5nID0gZmFsc2U7IC8vIExvd2VyIHRyaWFuZ2xlXG5cbiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIGlmIChzcGhlcmVQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNwaGVyZVNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5zcGhlcmVDb252ZXgoc3BoZXJlU2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBzcGhlcmVQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgc3BoZXJlU2hhcGUsIGhmU2hhcGUsIGp1c3RUZXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZVxuXG5cbiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7XG5cbiAgICAgICAgaWYgKHNwaGVyZVBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc3BoZXJlU2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLnNwaGVyZUNvbnZleChzcGhlcmVTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIHNwaGVyZVBvcywgd29ybGRQaWxsYXJPZmZzZXQsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCBzcGhlcmVTaGFwZSwgaGZTaGFwZSwganVzdFRlc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbnVtQ29udGFjdHMgPSByZXN1bHQubGVuZ3RoIC0gbnVtQ29udGFjdHNCZWZvcmU7XG5cbiAgICAgICAgaWYgKG51bUNvbnRhY3RzID4gMikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAgIC8vIFNraXAgYWxsIGJ1dCAxXG4gICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBudW1Db250YWN0cyAtIDE7IGsrKykge1xuICAgICAgICAgICAgICByZXN1bHQucG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICAqL1xuXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYm94SGVpZ2h0ZmllbGQoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDtcbiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTtcbiAgICByZXR1cm4gdGhpcy5jb252ZXhIZWlnaHRmaWVsZChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgfVxuXG4gIGNvbnZleEhlaWdodGZpZWxkKGNvbnZleFNoYXBlLCBoZlNoYXBlLCBjb252ZXhQb3MsIGhmUG9zLCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgY29uc3QgZGF0YSA9IGhmU2hhcGUuZGF0YTtcbiAgICBjb25zdCB3ID0gaGZTaGFwZS5lbGVtZW50U2l6ZTtcbiAgICBjb25zdCByYWRpdXMgPSBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cztcbiAgICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IGNvbnZleEhlaWdodGZpZWxkX3RtcDI7XG4gICAgY29uc3QgZmFjZUxpc3QgPSBjb252ZXhIZWlnaHRmaWVsZF9mYWNlTGlzdDsgLy8gR2V0IHNwaGVyZSBwb3NpdGlvbiB0byBoZWlnaHRmaWVsZCBsb2NhbCFcblxuICAgIGNvbnN0IGxvY2FsQ29udmV4UG9zID0gY29udmV4SGVpZ2h0ZmllbGRfdG1wMTtcbiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUoaGZQb3MsIGhmUXVhdCwgY29udmV4UG9zLCBsb2NhbENvbnZleFBvcyk7IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdFxuXG4gICAgbGV0IGlNaW5YID0gTWF0aC5mbG9vcigobG9jYWxDb252ZXhQb3MueCAtIHJhZGl1cykgLyB3KSAtIDE7XG4gICAgbGV0IGlNYXhYID0gTWF0aC5jZWlsKChsb2NhbENvbnZleFBvcy54ICsgcmFkaXVzKSAvIHcpICsgMTtcbiAgICBsZXQgaU1pblkgPSBNYXRoLmZsb29yKChsb2NhbENvbnZleFBvcy55IC0gcmFkaXVzKSAvIHcpIC0gMTtcbiAgICBsZXQgaU1heFkgPSBNYXRoLmNlaWwoKGxvY2FsQ29udmV4UG9zLnkgKyByYWRpdXMpIC8gdykgKyAxOyAvLyBCYWlsIG91dCBpZiB3ZSBhcmUgb3V0IG9mIHRoZSB0ZXJyYWluXG5cbiAgICBpZiAoaU1heFggPCAwIHx8IGlNYXhZIDwgMCB8fCBpTWluWCA+IGRhdGEubGVuZ3RoIHx8IGlNaW5ZID4gZGF0YVswXS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIENsYW1wIGluZGV4IHRvIGVkZ2VzXG5cblxuICAgIGlmIChpTWluWCA8IDApIHtcbiAgICAgIGlNaW5YID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaU1heFggPCAwKSB7XG4gICAgICBpTWF4WCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNaW5ZIDwgMCkge1xuICAgICAgaU1pblkgPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWF4WSA8IDApIHtcbiAgICAgIGlNYXhZID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaU1pblggPj0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIGlNaW5YID0gZGF0YS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGlmIChpTWF4WCA+PSBkYXRhLmxlbmd0aCkge1xuICAgICAgaU1heFggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhZID49IGRhdGFbMF0ubGVuZ3RoKSB7XG4gICAgICBpTWF4WSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoaU1pblkgPj0gZGF0YVswXS5sZW5ndGgpIHtcbiAgICAgIGlNaW5ZID0gZGF0YVswXS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGNvbnN0IG1pbk1heCA9IFtdO1xuICAgIGhmU2hhcGUuZ2V0UmVjdE1pbk1heChpTWluWCwgaU1pblksIGlNYXhYLCBpTWF4WSwgbWluTWF4KTtcbiAgICBjb25zdCBtaW4gPSBtaW5NYXhbMF07XG4gICAgY29uc3QgbWF4ID0gbWluTWF4WzFdOyAvLyBCYWlsIG91dCBpZiB3ZSdyZSBjYW50IHRvdWNoIHRoZSBib3VuZGluZyBoZWlnaHQgYm94XG5cbiAgICBpZiAobG9jYWxDb252ZXhQb3MueiAtIHJhZGl1cyA+IG1heCB8fCBsb2NhbENvbnZleFBvcy56ICsgcmFkaXVzIDwgbWluKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IGlNaW5YOyBpIDwgaU1heFg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDwgaU1heFk7IGorKykge1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW5nID0gZmFsc2U7IC8vIExvd2VyIHRyaWFuZ2xlXG5cbiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIGlmIChjb252ZXhQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIGNvbnZleFNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5jb252ZXhDb252ZXgoY29udmV4U2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBjb252ZXhQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgbnVsbCwgbnVsbCwganVzdFRlc3QsIGZhY2VMaXN0LCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZVxuXG5cbiAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7XG5cbiAgICAgICAgaWYgKGNvbnZleFBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLmNvbnZleENvbnZleChjb252ZXhTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIGNvbnZleFBvcywgd29ybGRQaWxsYXJPZmZzZXQsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCBudWxsLCBudWxsLCBqdXN0VGVzdCwgZmFjZUxpc3QsIG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3BoZXJlUGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICAvLyBUaGUgbm9ybWFsIGlzIHRoZSB1bml0IHZlY3RvciBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gcGFydGljbGUgY2VudGVyXG4gICAgY29uc3Qgbm9ybWFsID0gcGFydGljbGVTcGhlcmVfbm9ybWFsO1xuICAgIG5vcm1hbC5zZXQoMCwgMCwgMSk7XG4gICAgeGkudnN1Yih4aiwgbm9ybWFsKTtcbiAgICBjb25zdCBsZW5ndGhTcXVhcmVkID0gbm9ybWFsLmxlbmd0aFNxdWFyZWQoKTtcblxuICAgIGlmIChsZW5ndGhTcXVhcmVkIDw9IHNqLnJhZGl1cyAqIHNqLnJhZGl1cykge1xuICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICAgIHIucmouY29weShub3JtYWwpO1xuICAgICAgci5yai5zY2FsZShzai5yYWRpdXMsIHIucmopO1xuICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsXG5cbiAgICAgIHIubmkubmVnYXRlKHIubmkpO1xuICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZVxuXG4gICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgIH1cbiAgfVxuXG4gIHBsYW5lUGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCBub3JtYWwgPSBwYXJ0aWNsZVBsYW5lX25vcm1hbDtcbiAgICBub3JtYWwuc2V0KDAsIDAsIDEpO1xuICAgIGJqLnF1YXRlcm5pb24udm11bHQobm9ybWFsLCBub3JtYWwpOyAvLyBUdXJuIG5vcm1hbCBhY2NvcmRpbmcgdG8gcGxhbmUgb3JpZW50YXRpb25cblxuICAgIGNvbnN0IHJlbHBvcyA9IHBhcnRpY2xlUGxhbmVfcmVscG9zO1xuICAgIHhpLnZzdWIoYmoucG9zaXRpb24sIHJlbHBvcyk7XG4gICAgY29uc3QgZG90ID0gbm9ybWFsLmRvdChyZWxwb3MpO1xuXG4gICAgaWYgKGRvdCA8PSAwLjApIHtcbiAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICByLm5pLmNvcHkobm9ybWFsKTsgLy8gQ29udGFjdCBub3JtYWwgaXMgdGhlIHBsYW5lIG5vcm1hbFxuXG4gICAgICByLm5pLm5lZ2F0ZShyLm5pKTtcbiAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGVcbiAgICAgIC8vIEdldCBwYXJ0aWNsZSBwb3NpdGlvbiBwcm9qZWN0ZWQgb24gcGxhbmVcblxuICAgICAgY29uc3QgcHJvamVjdGVkID0gcGFydGljbGVQbGFuZV9wcm9qZWN0ZWQ7XG4gICAgICBub3JtYWwuc2NhbGUobm9ybWFsLmRvdCh4aSksIHByb2plY3RlZCk7XG4gICAgICB4aS52c3ViKHByb2plY3RlZCwgcHJvamVjdGVkKTsgLy9wcm9qZWN0ZWQudmFkZChiai5wb3NpdGlvbixwcm9qZWN0ZWQpO1xuICAgICAgLy8gcmogaXMgbm93IHRoZSBwcm9qZWN0ZWQgd29ybGQgcG9zaXRpb24gbWludXMgcGxhbmUgcG9zaXRpb25cblxuICAgICAgci5yai5jb3B5KHByb2plY3RlZCk7XG4gICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgIH1cbiAgfVxuXG4gIGJveFBhcnRpY2xlKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7XG4gICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7XG4gICAgcmV0dXJuIHRoaXMuY29udmV4UGFydGljbGUoc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7XG4gIH1cblxuICBjb252ZXhQYXJ0aWNsZShzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIGxldCBwZW5ldHJhdGVkRmFjZUluZGV4ID0gLTE7XG4gICAgY29uc3QgcGVuZXRyYXRlZEZhY2VOb3JtYWwgPSBjb252ZXhQYXJ0aWNsZV9wZW5ldHJhdGVkRmFjZU5vcm1hbDtcbiAgICBjb25zdCB3b3JsZFBlbmV0cmF0aW9uVmVjID0gY29udmV4UGFydGljbGVfd29ybGRQZW5ldHJhdGlvblZlYztcbiAgICBsZXQgbWluUGVuZXRyYXRpb24gPSBudWxsO1xuXG4gICAgY29uc3QgbG9jYWwgPSBjb252ZXhQYXJ0aWNsZV9sb2NhbDtcbiAgICBsb2NhbC5jb3B5KHhpKTtcbiAgICBsb2NhbC52c3ViKHhqLCBsb2NhbCk7IC8vIENvbnZlcnQgcG9zaXRpb24gdG8gcmVsYXRpdmUgdGhlIGNvbnZleCBvcmlnaW5cblxuICAgIHFqLmNvbmp1Z2F0ZShjcWopO1xuICAgIGNxai52bXVsdChsb2NhbCwgbG9jYWwpO1xuXG4gICAgaWYgKHNqLnBvaW50SXNJbnNpZGUobG9jYWwpKSB7XG4gICAgICBpZiAoc2oud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlKSB7XG4gICAgICAgIHNqLmNvbXB1dGVXb3JsZFZlcnRpY2VzKHhqLCBxaik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzai53b3JsZEZhY2VOb3JtYWxzTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgc2ouY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHMocWopO1xuICAgICAgfSAvLyBGb3IgZWFjaCB3b3JsZCBwb2x5Z29uIGluIHRoZSBwb2x5aGVkcmFcblxuXG4gICAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gc2ouZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXM7IGkrKykge1xuICAgICAgICAvLyBDb25zdHJ1Y3Qgd29ybGQgZmFjZSB2ZXJ0aWNlc1xuICAgICAgICBjb25zdCB2ZXJ0cyA9IFtzai53b3JsZFZlcnRpY2VzW3NqLmZhY2VzW2ldWzBdXV07XG4gICAgICAgIGNvbnN0IG5vcm1hbCA9IHNqLndvcmxkRmFjZU5vcm1hbHNbaV07IC8vIENoZWNrIGhvdyBtdWNoIHRoZSBwYXJ0aWNsZSBwZW5ldHJhdGVzIHRoZSBwb2x5Z29uIHBsYW5lLlxuXG4gICAgICAgIHhpLnZzdWIodmVydHNbMF0sIGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUpO1xuICAgICAgICBjb25zdCBwZW5ldHJhdGlvbiA9IC1ub3JtYWwuZG90KGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUpO1xuXG4gICAgICAgIGlmIChtaW5QZW5ldHJhdGlvbiA9PT0gbnVsbCB8fCBNYXRoLmFicyhwZW5ldHJhdGlvbikgPCBNYXRoLmFicyhtaW5QZW5ldHJhdGlvbikpIHtcbiAgICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1pblBlbmV0cmF0aW9uID0gcGVuZXRyYXRpb247XG4gICAgICAgICAgcGVuZXRyYXRlZEZhY2VJbmRleCA9IGk7XG4gICAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwuY29weShub3JtYWwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwZW5ldHJhdGVkRmFjZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAvLyBTZXR1cCBjb250YWN0XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgICBwZW5ldHJhdGVkRmFjZU5vcm1hbC5zY2FsZShtaW5QZW5ldHJhdGlvbiwgd29ybGRQZW5ldHJhdGlvblZlYyk7IC8vIHJqIGlzIHRoZSBwYXJ0aWNsZSBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gdGhlIGZhY2VcblxuICAgICAgICB3b3JsZFBlbmV0cmF0aW9uVmVjLnZhZGQoeGksIHdvcmxkUGVuZXRyYXRpb25WZWMpO1xuICAgICAgICB3b3JsZFBlbmV0cmF0aW9uVmVjLnZzdWIoeGosIHdvcmxkUGVuZXRyYXRpb25WZWMpO1xuICAgICAgICByLnJqLmNvcHkod29ybGRQZW5ldHJhdGlvblZlYyk7IC8vY29uc3QgcHJvamVjdGVkVG9GYWNlID0geGkudnN1Yih4aikudmFkZCh3b3JsZFBlbmV0cmF0aW9uVmVjKTtcbiAgICAgICAgLy9wcm9qZWN0ZWRUb0ZhY2UuY29weShyLnJqKTtcbiAgICAgICAgLy9xai52bXVsdChyLnJqLHIucmopO1xuXG4gICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLm5lZ2F0ZShyLm5pKTsgLy8gQ29udGFjdCBub3JtYWxcblxuICAgICAgICByLnJpLnNldCgwLCAwLCAwKTsgLy8gQ2VudGVyIG9mIHBhcnRpY2xlXG5cbiAgICAgICAgY29uc3QgcmkgPSByLnJpO1xuICAgICAgICBjb25zdCByaiA9IHIucmo7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzXG5cbiAgICAgICAgcmkudmFkZCh4aSwgcmkpO1xuICAgICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7XG4gICAgICAgIHJqLnZhZGQoeGosIHJqKTtcbiAgICAgICAgcmoudnN1Yihiai5wb3NpdGlvbiwgcmopO1xuICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1BvaW50IGZvdW5kIGluc2lkZSBjb252ZXgsIGJ1dCBkaWQgbm90IGZpbmQgcGVuZXRyYXRpbmcgZmFjZSEnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoZWlnaHRmaWVsZEN5bGluZGVyKGhmU2hhcGUsIGNvbnZleFNoYXBlLCBoZlBvcywgY29udmV4UG9zLCBoZlF1YXQsIGNvbnZleFF1YXQsIGhmQm9keSwgY29udmV4Qm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgcmV0dXJuIHRoaXMuY29udmV4SGVpZ2h0ZmllbGQoY29udmV4U2hhcGUsIGhmU2hhcGUsIGNvbnZleFBvcywgaGZQb3MsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgcGFydGljbGVDeWxpbmRlcihzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHJldHVybiB0aGlzLmNvbnZleFBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KTtcbiAgfVxuXG4gIHNwaGVyZVRyaW1lc2goc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgc3BoZXJlUG9zLCB0cmltZXNoUG9zLCBzcGhlcmVRdWF0LCB0cmltZXNoUXVhdCwgc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIGNvbnN0IGVkZ2VWZXJ0ZXhBID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QTtcbiAgICBjb25zdCBlZGdlVmVydGV4QiA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEI7XG4gICAgY29uc3QgZWRnZVZlY3RvciA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvcjtcbiAgICBjb25zdCBlZGdlVmVjdG9yVW5pdCA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvclVuaXQ7XG4gICAgY29uc3QgbG9jYWxTcGhlcmVQb3MgPSBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlUG9zO1xuICAgIGNvbnN0IHRtcCA9IHNwaGVyZVRyaW1lc2hfdG1wO1xuICAgIGNvbnN0IGxvY2FsU3BoZXJlQUFCQiA9IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVBQUJCO1xuICAgIGNvbnN0IHYyID0gc3BoZXJlVHJpbWVzaF92MjtcbiAgICBjb25zdCByZWxwb3MgPSBzcGhlcmVUcmltZXNoX3JlbHBvcztcbiAgICBjb25zdCB0cmlhbmdsZXMgPSBzcGhlcmVUcmltZXNoX3RyaWFuZ2xlczsgLy8gQ29udmVydCBzcGhlcmUgcG9zaXRpb24gdG8gbG9jYWwgaW4gdGhlIHRyaW1lc2hcblxuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgc3BoZXJlUG9zLCBsb2NhbFNwaGVyZVBvcyk7IC8vIEdldCB0aGUgYWFiYiBvZiB0aGUgc3BoZXJlIGxvY2FsbHkgaW4gdGhlIHRyaW1lc2hcblxuICAgIGNvbnN0IHNwaGVyZVJhZGl1cyA9IHNwaGVyZVNoYXBlLnJhZGl1cztcbiAgICBsb2NhbFNwaGVyZUFBQkIubG93ZXJCb3VuZC5zZXQobG9jYWxTcGhlcmVQb3MueCAtIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueSAtIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueiAtIHNwaGVyZVJhZGl1cyk7XG4gICAgbG9jYWxTcGhlcmVBQUJCLnVwcGVyQm91bmQuc2V0KGxvY2FsU3BoZXJlUG9zLnggKyBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnkgKyBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnogKyBzcGhlcmVSYWRpdXMpO1xuICAgIHRyaW1lc2hTaGFwZS5nZXRUcmlhbmdsZXNJbkFBQkIobG9jYWxTcGhlcmVBQUJCLCB0cmlhbmdsZXMpOyAvL2ZvciAobGV0IGkgPSAwOyBpIDwgdHJpbWVzaFNoYXBlLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB0cmlhbmdsZXMucHVzaChpKTsgLy8gQWxsXG4gICAgLy8gVmVydGljZXNcblxuICAgIGNvbnN0IHYgPSBzcGhlcmVUcmltZXNoX3Y7XG4gICAgY29uc3QgcmFkaXVzU3F1YXJlZCA9IHNwaGVyZVNoYXBlLnJhZGl1cyAqIHNwaGVyZVNoYXBlLnJhZGl1cztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyBqXSwgdik7IC8vIENoZWNrIHZlcnRleCBvdmVybGFwIGluIHNwaGVyZVxuXG4gICAgICAgIHYudnN1Yihsb2NhbFNwaGVyZVBvcywgcmVscG9zKTtcblxuICAgICAgICBpZiAocmVscG9zLmxlbmd0aFNxdWFyZWQoKSA8PSByYWRpdXNTcXVhcmVkKSB7XG4gICAgICAgICAgLy8gU2FmZSB1cFxuICAgICAgICAgIHYyLmNvcHkodik7XG4gICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCB2Miwgdik7XG4gICAgICAgICAgdi52c3ViKHNwaGVyZVBvcywgcmVscG9zKTtcblxuICAgICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opO1xuICAgICAgICAgIHIubmkuY29weShyZWxwb3MpO1xuICAgICAgICAgIHIubmkubm9ybWFsaXplKCk7IC8vIHJpIGlzIHRoZSB2ZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIHRoZSBzcGhlcmUgc3VyZmFjZVxuXG4gICAgICAgICAgci5yaS5jb3B5KHIubmkpO1xuICAgICAgICAgIHIucmkuc2NhbGUoc3BoZXJlU2hhcGUucmFkaXVzLCByLnJpKTtcbiAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTtcbiAgICAgICAgICByLnJpLnZzdWIoc3BoZXJlQm9keS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgci5yai5jb3B5KHYpO1xuICAgICAgICAgIHIucmoudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7IC8vIFN0b3JlIHJlc3VsdFxuXG4gICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIENoZWNrIGFsbCBlZGdlc1xuXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleCh0cmltZXNoU2hhcGUuaW5kaWNlc1t0cmlhbmdsZXNbaV0gKiAzICsgal0sIGVkZ2VWZXJ0ZXhBKTtcbiAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleCh0cmltZXNoU2hhcGUuaW5kaWNlc1t0cmlhbmdsZXNbaV0gKiAzICsgKGogKyAxKSAlIDNdLCBlZGdlVmVydGV4Qik7XG4gICAgICAgIGVkZ2VWZXJ0ZXhCLnZzdWIoZWRnZVZlcnRleEEsIGVkZ2VWZWN0b3IpOyAvLyBQcm9qZWN0IHNwaGVyZSBwb3NpdGlvbiB0byB0aGUgZWRnZVxuXG4gICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEIsIHRtcCk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uQWxvbmdFZGdlQiA9IHRtcC5kb3QoZWRnZVZlY3Rvcik7XG4gICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEEsIHRtcCk7XG4gICAgICAgIGxldCBwb3NpdGlvbkFsb25nRWRnZUEgPSB0bXAuZG90KGVkZ2VWZWN0b3IpO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbkFsb25nRWRnZUEgPiAwICYmIHBvc2l0aW9uQWxvbmdFZGdlQiA8IDApIHtcbiAgICAgICAgICAvLyBOb3cgY2hlY2sgdGhlIG9ydGhvZ29uYWwgZGlzdGFuY2UgZnJvbSBlZGdlIHRvIHNwaGVyZSBjZW50ZXJcbiAgICAgICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKGVkZ2VWZXJ0ZXhBLCB0bXApO1xuICAgICAgICAgIGVkZ2VWZWN0b3JVbml0LmNvcHkoZWRnZVZlY3Rvcik7XG4gICAgICAgICAgZWRnZVZlY3RvclVuaXQubm9ybWFsaXplKCk7XG4gICAgICAgICAgcG9zaXRpb25BbG9uZ0VkZ2VBID0gdG1wLmRvdChlZGdlVmVjdG9yVW5pdCk7XG4gICAgICAgICAgZWRnZVZlY3RvclVuaXQuc2NhbGUocG9zaXRpb25BbG9uZ0VkZ2VBLCB0bXApO1xuICAgICAgICAgIHRtcC52YWRkKGVkZ2VWZXJ0ZXhBLCB0bXApOyAvLyB0bXAgaXMgbm93IHRoZSBzcGhlcmUgY2VudGVyIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgZWRnZSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSB0cmltZXNoIGZyYW1lXG5cbiAgICAgICAgICBjb25zdCBkaXN0ID0gdG1wLmRpc3RhbmNlVG8obG9jYWxTcGhlcmVQb3MpO1xuXG4gICAgICAgICAgaWYgKGRpc3QgPCBzcGhlcmVTaGFwZS5yYWRpdXMpIHtcbiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7XG4gICAgICAgICAgICB0bXAudnN1Yihsb2NhbFNwaGVyZVBvcywgci5uaSk7XG4gICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgci5uaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpO1xuICAgICAgICAgICAgci5yaS52YWRkKHNwaGVyZVBvcywgci5yaSk7XG4gICAgICAgICAgICByLnJpLnZzdWIoc3BoZXJlQm9keS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHRtcCwgdG1wKTtcbiAgICAgICAgICAgIHRtcC52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUodHJpbWVzaFF1YXQsIHIubmksIHIubmkpO1xuICAgICAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5yaSwgci5yaSk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gVHJpYW5nbGUgZmFjZXNcblxuXG4gICAgY29uc3QgdmEgPSBzcGhlcmVUcmltZXNoX3ZhO1xuICAgIGNvbnN0IHZiID0gc3BoZXJlVHJpbWVzaF92YjtcbiAgICBjb25zdCB2YyA9IHNwaGVyZVRyaW1lc2hfdmM7XG4gICAgY29uc3Qgbm9ybWFsID0gc3BoZXJlVHJpbWVzaF9ub3JtYWw7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgTiA9IHRyaWFuZ2xlcy5sZW5ndGg7IGkgIT09IE47IGkrKykge1xuICAgICAgdHJpbWVzaFNoYXBlLmdldFRyaWFuZ2xlVmVydGljZXModHJpYW5nbGVzW2ldLCB2YSwgdmIsIHZjKTtcbiAgICAgIHRyaW1lc2hTaGFwZS5nZXROb3JtYWwodHJpYW5nbGVzW2ldLCBub3JtYWwpO1xuICAgICAgbG9jYWxTcGhlcmVQb3MudnN1Yih2YSwgdG1wKTtcbiAgICAgIGxldCBkaXN0ID0gdG1wLmRvdChub3JtYWwpO1xuICAgICAgbm9ybWFsLnNjYWxlKGRpc3QsIHRtcCk7XG4gICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKHRtcCwgdG1wKTsgLy8gdG1wIGlzIG5vdyB0aGUgc3BoZXJlIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgdHJpYW5nbGUgcGxhbmVcblxuICAgICAgZGlzdCA9IHRtcC5kaXN0YW5jZVRvKGxvY2FsU3BoZXJlUG9zKTtcblxuICAgICAgaWYgKFJheS5wb2ludEluVHJpYW5nbGUodG1wLCB2YSwgdmIsIHZjKSAmJiBkaXN0IDwgc3BoZXJlU2hhcGUucmFkaXVzKSB7XG4gICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opO1xuICAgICAgICB0bXAudnN1Yihsb2NhbFNwaGVyZVBvcywgci5uaSk7XG4gICAgICAgIHIubmkubm9ybWFsaXplKCk7XG4gICAgICAgIHIubmkuc2NhbGUoc3BoZXJlU2hhcGUucmFkaXVzLCByLnJpKTtcbiAgICAgICAgci5yaS52YWRkKHNwaGVyZVBvcywgci5yaSk7XG4gICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCB0bXAsIHRtcCk7XG4gICAgICAgIHRtcC52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5uaSwgci5uaSk7XG4gICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUodHJpbWVzaFF1YXQsIHIucmksIHIucmkpO1xuICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJpYW5nbGVzLmxlbmd0aCA9IDA7XG4gIH1cblxuICBwbGFuZVRyaW1lc2gocGxhbmVTaGFwZSwgdHJpbWVzaFNoYXBlLCBwbGFuZVBvcywgdHJpbWVzaFBvcywgcGxhbmVRdWF0LCB0cmltZXNoUXVhdCwgcGxhbmVCb2R5LCB0cmltZXNoQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgLy8gTWFrZSBjb250YWN0cyFcbiAgICBjb25zdCB2ID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBub3JtYWwgPSBwbGFuZVRyaW1lc2hfbm9ybWFsO1xuICAgIG5vcm1hbC5zZXQoMCwgMCwgMSk7XG4gICAgcGxhbmVRdWF0LnZtdWx0KG5vcm1hbCwgbm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaW1lc2hTaGFwZS52ZXJ0aWNlcy5sZW5ndGggLyAzOyBpKyspIHtcbiAgICAgIC8vIEdldCB3b3JsZCB2ZXJ0ZXggZnJvbSB0cmltZXNoXG4gICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KGksIHYpOyAvLyBTYWZlIHVwXG5cbiAgICAgIGNvbnN0IHYyID0gbmV3IFZlYzMoKTtcbiAgICAgIHYyLmNvcHkodik7XG4gICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTsgLy8gQ2hlY2sgcGxhbmUgc2lkZVxuXG4gICAgICBjb25zdCByZWxwb3MgPSBwbGFuZVRyaW1lc2hfcmVscG9zO1xuICAgICAgdi52c3ViKHBsYW5lUG9zLCByZWxwb3MpO1xuICAgICAgY29uc3QgZG90ID0gbm9ybWFsLmRvdChyZWxwb3MpO1xuXG4gICAgICBpZiAoZG90IDw9IDAuMCkge1xuICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihwbGFuZUJvZHksIHRyaW1lc2hCb2R5LCBwbGFuZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTtcbiAgICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWxcbiAgICAgICAgLy8gR2V0IHZlcnRleCBwb3NpdGlvbiBwcm9qZWN0ZWQgb24gcGxhbmVcblxuICAgICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwbGFuZVRyaW1lc2hfcHJvamVjdGVkO1xuICAgICAgICBub3JtYWwuc2NhbGUocmVscG9zLmRvdChub3JtYWwpLCBwcm9qZWN0ZWQpO1xuICAgICAgICB2LnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOyAvLyByaSBpcyB0aGUgcHJvamVjdGVkIHdvcmxkIHBvc2l0aW9uIG1pbnVzIHBsYW5lIHBvc2l0aW9uXG5cbiAgICAgICAgci5yaS5jb3B5KHByb2plY3RlZCk7XG4gICAgICAgIHIucmkudnN1YihwbGFuZUJvZHkucG9zaXRpb24sIHIucmkpO1xuICAgICAgICByLnJqLmNvcHkodik7XG4gICAgICAgIHIucmoudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7IC8vIFN0b3JlIHJlc3VsdFxuXG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gY29udmV4VHJpbWVzaChcbiAgLy8gICBzaTogQ29udmV4UG9seWhlZHJvbiwgc2o6IFRyaW1lc2gsIHhpOiBWZWMzLCB4ajogVmVjMywgcWk6IFF1YXRlcm5pb24sIHFqOiBRdWF0ZXJuaW9uLFxuICAvLyAgIGJpOiBCb2R5LCBiajogQm9keSwgcnNpPzogU2hhcGUgfCBudWxsLCByc2o/OiBTaGFwZSB8IG51bGwsXG4gIC8vICAgZmFjZUxpc3RBPzogbnVtYmVyW10gfCBudWxsLCBmYWNlTGlzdEI/OiBudW1iZXJbXSB8IG51bGwsXG4gIC8vICkge1xuICAvLyAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpcztcbiAgLy8gICBpZih4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpe1xuICAvLyAgICAgICByZXR1cm47XG4gIC8vICAgfVxuICAvLyAgIC8vIENvbnN0cnVjdCBhIHRlbXAgaHVsbCBmb3IgZWFjaCB0cmlhbmdsZVxuICAvLyAgIGNvbnN0IGh1bGxCID0gbmV3IENvbnZleFBvbHloZWRyb24oKTtcbiAgLy8gICBodWxsQi5mYWNlcyA9IFtbMCwxLDJdXTtcbiAgLy8gICBjb25zdCB2YSA9IG5ldyBWZWMzKCk7XG4gIC8vICAgY29uc3QgdmIgPSBuZXcgVmVjMygpO1xuICAvLyAgIGNvbnN0IHZjID0gbmV3IFZlYzMoKTtcbiAgLy8gICBodWxsQi52ZXJ0aWNlcyA9IFtcbiAgLy8gICAgICAgdmEsXG4gIC8vICAgICAgIHZiLFxuICAvLyAgICAgICB2Y1xuICAvLyAgIF07XG4gIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzai5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykge1xuICAvLyAgICAgICBjb25zdCB0cmlhbmdsZU5vcm1hbCA9IG5ldyBWZWMzKCk7XG4gIC8vICAgICAgIHNqLmdldE5vcm1hbChpLCB0cmlhbmdsZU5vcm1hbCk7XG4gIC8vICAgICAgIGh1bGxCLmZhY2VOb3JtYWxzID0gW3RyaWFuZ2xlTm9ybWFsXTtcbiAgLy8gICAgICAgc2ouZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCB2YSwgdmIsIHZjKTtcbiAgLy8gICAgICAgbGV0IGQgPSBzaS50ZXN0U2VwQXhpcyh0cmlhbmdsZU5vcm1hbCwgaHVsbEIsIHhpLCBxaSwgeGosIHFqKTtcbiAgLy8gICAgICAgaWYoIWQpe1xuICAvLyAgICAgICAgICAgdHJpYW5nbGVOb3JtYWwuc2NhbGUoLTEsIHRyaWFuZ2xlTm9ybWFsKTtcbiAgLy8gICAgICAgICAgIGQgPSBzaS50ZXN0U2VwQXhpcyh0cmlhbmdsZU5vcm1hbCwgaHVsbEIsIHhpLCBxaSwgeGosIHFqKTtcbiAgLy8gICAgICAgICAgIGlmKCFkKXtcbiAgLy8gICAgICAgICAgICAgICBjb250aW51ZTtcbiAgLy8gICAgICAgICAgIH1cbiAgLy8gICAgICAgfVxuICAvLyAgICAgICBjb25zdCByZXM6IENvbnZleFBvbHloZWRyb25Db250YWN0UG9pbnRbXSA9IFtdO1xuICAvLyAgICAgICBjb25zdCBxID0gY29udmV4Q29udmV4X3E7XG4gIC8vICAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSxxaSxodWxsQix4aixxaix0cmlhbmdsZU5vcm1hbCwtMTAwLDEwMCxyZXMpO1xuICAvLyAgICAgICBmb3IobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspe1xuICAvLyAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLGJqLHNpLHNqLHJzaSxyc2opLFxuICAvLyAgICAgICAgICAgICAgIHJpID0gci5yaSxcbiAgLy8gICAgICAgICAgICAgICByaiA9IHIucmo7XG4gIC8vICAgICAgICAgICByLm5pLmNvcHkodHJpYW5nbGVOb3JtYWwpO1xuICAvLyAgICAgICAgICAgci5uaS5uZWdhdGUoci5uaSk7XG4gIC8vICAgICAgICAgICByZXNbal0ubm9ybWFsLm5lZ2F0ZShxKTtcbiAgLy8gICAgICAgICAgIHEubXVsdChyZXNbal0uZGVwdGgsIHEpO1xuICAvLyAgICAgICAgICAgcmVzW2pdLnBvaW50LnZhZGQocSwgcmkpO1xuICAvLyAgICAgICAgICAgcmouY29weShyZXNbal0ucG9pbnQpO1xuICAvLyAgICAgICAgICAgLy8gQ29udGFjdCBwb2ludHMgYXJlIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBUcmFuc2Zvcm0gYmFjayB0byByZWxhdGl2ZVxuICAvLyAgICAgICAgICAgcmkudnN1Yih4aSxyaSk7XG4gIC8vICAgICAgICAgICByai52c3ViKHhqLHJqKTtcbiAgLy8gICAgICAgICAgIC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzXG4gIC8vICAgICAgICAgICByaS52YWRkKHhpLCByaSk7XG4gIC8vICAgICAgICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7XG4gIC8vICAgICAgICAgICByai52YWRkKHhqLCByaik7XG4gIC8vICAgICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7XG4gIC8vICAgICAgICAgICByZXN1bHQucHVzaChyKTtcbiAgLy8gICAgICAgfVxuICAvLyAgIH1cbiAgLy8gfVxuXG5cbn1cbmNvbnN0IGF2ZXJhZ2VOb3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgYXZlcmFnZUNvbnRhY3RQb2ludEEgPSBuZXcgVmVjMygpO1xuY29uc3QgYXZlcmFnZUNvbnRhY3RQb2ludEIgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wVmVjMSQyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFZlYzIkMiA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBRdWF0MSA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5jb25zdCB0bXBRdWF0MiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94Qm94XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hCb3g7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveENvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94Q29udmV4O1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94UGFydGljbGU7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVNwaGVyZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlU3BoZXJlO1xuY29uc3QgcGxhbmVUcmltZXNoX25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBwbGFuZVRyaW1lc2hfcmVscG9zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBsYW5lVHJpbWVzaF9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wbGFuZVRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lVHJpbWVzaDtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfcmVscG9zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdiA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX3YyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QiA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3IgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yVW5pdCA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlUG9zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdG1wID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdmEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF92YiA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX3ZjID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVBQUJCID0gbmV3IEFBQkIoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdHJpYW5nbGVzID0gW107XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVRyaW1lc2g7XG5jb25zdCBwb2ludF9vbl9wbGFuZV90b19zcGhlcmUgPSBuZXcgVmVjMygpO1xuY29uc3QgcGxhbmVfdG9fc3BoZXJlX29ydGhvID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlUGxhbmVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVBsYW5lOyAvLyBTZWUgaHR0cDovL2J1bGxldHBoeXNpY3MuY29tL0J1bGxldC9CdWxsZXRGdWxsL1NwaGVyZVRyaWFuZ2xlRGV0ZWN0b3JfOGNwcF9zb3VyY2UuaHRtbFxuXG5jb25zdCBwb2ludEluUG9seWdvbl9lZGdlID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBvaW50SW5Qb2x5Z29uX2VkZ2VfeF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgcG9pbnRJblBvbHlnb25fdnRwID0gbmV3IFZlYzMoKTtcblxuZnVuY3Rpb24gcG9pbnRJblBvbHlnb24odmVydHMsIG5vcm1hbCwgcCkge1xuICBsZXQgcG9zaXRpdmVSZXN1bHQgPSBudWxsO1xuICBjb25zdCBOID0gdmVydHMubGVuZ3RoO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICBjb25zdCB2ID0gdmVydHNbaV07IC8vIEdldCBlZGdlIHRvIHRoZSBuZXh0IHZlcnRleFxuXG4gICAgY29uc3QgZWRnZSA9IHBvaW50SW5Qb2x5Z29uX2VkZ2U7XG4gICAgdmVydHNbKGkgKyAxKSAlIE5dLnZzdWIodiwgZWRnZSk7IC8vIEdldCBjcm9zcyBwcm9kdWN0IGJldHdlZW4gcG9seWdvbiBub3JtYWwgYW5kIHRoZSBlZGdlXG5cbiAgICBjb25zdCBlZGdlX3hfbm9ybWFsID0gcG9pbnRJblBvbHlnb25fZWRnZV94X25vcm1hbDsgLy9jb25zdCBlZGdlX3hfbm9ybWFsID0gbmV3IFZlYzMoKTtcblxuICAgIGVkZ2UuY3Jvc3Mobm9ybWFsLCBlZGdlX3hfbm9ybWFsKTsgLy8gR2V0IHZlY3RvciBiZXR3ZWVuIHBvaW50IGFuZCBjdXJyZW50IHZlcnRleFxuXG4gICAgY29uc3QgdmVydGV4X3RvX3AgPSBwb2ludEluUG9seWdvbl92dHA7XG4gICAgcC52c3ViKHYsIHZlcnRleF90b19wKTsgLy8gVGhpcyBkb3QgcHJvZHVjdCBkZXRlcm1pbmVzIHdoaWNoIHNpZGUgb2YgdGhlIGVkZ2UgdGhlIHBvaW50IGlzXG5cbiAgICBjb25zdCByID0gZWRnZV94X25vcm1hbC5kb3QodmVydGV4X3RvX3ApOyAvLyBJZiBhbGwgc3VjaCBkb3QgcHJvZHVjdHMgaGF2ZSBzYW1lIHNpZ24sIHdlIGFyZSBpbnNpZGUgdGhlIHBvbHlnb24uXG5cbiAgICBpZiAocG9zaXRpdmVSZXN1bHQgPT09IG51bGwgfHwgciA+IDAgJiYgcG9zaXRpdmVSZXN1bHQgPT09IHRydWUgfHwgciA8PSAwICYmIHBvc2l0aXZlUmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgaWYgKHBvc2l0aXZlUmVzdWx0ID09PSBudWxsKSB7XG4gICAgICAgIHBvc2l0aXZlUmVzdWx0ID0gciA+IDA7XG4gICAgICB9XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIEVuY291bnRlcmVkIHNvbWUgb3RoZXIgc2lnbi4gRXhpdC5cbiAgICB9XG4gIH0gLy8gSWYgd2UgZ290IGhlcmUsIGFsbCBkb3QgcHJvZHVjdHMgd2VyZSBvZiB0aGUgc2FtZSBzaWduLlxuXG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IGJveF90b19zcGhlcmUgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQm94X25zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUJveF9uczEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQm94X25zMiA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfc2lkZXMgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07XG5jb25zdCBzcGhlcmVCb3hfc3BoZXJlX3RvX2Nvcm5lciA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfc2lkZV9ucyA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfc2lkZV9uczEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQm94X3NpZGVfbnMyID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlQm94XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVCb3g7XG5jb25zdCBjb252ZXhfdG9fc3BoZXJlID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9lZGdlID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9lZGdlVW5pdCA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXIgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkQ29ybmVyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVDb252ZXhfd29ybGRQb2ludCA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVDb252ZXhfd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9wZW5ldHJhdGlvblZlYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVDb252ZXhfc3BoZXJlVG9Xb3JsZFBvaW50ID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlQ29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVDb252ZXg7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lQm94XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZUJveDtcbmNvbnN0IHBsYW5lQ29udmV4X3YgPSBuZXcgVmVjMygpO1xuY29uc3QgcGxhbmVDb252ZXhfbm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBsYW5lQ29udmV4X3JlbHBvcyA9IG5ldyBWZWMzKCk7XG5jb25zdCBwbGFuZUNvbnZleF9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wbGFuZUNvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVDb252ZXg7XG5jb25zdCBjb252ZXhDb252ZXhfc2VwQXhpcyA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb252ZXhDb252ZXhfcSA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleENvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4Q29udmV4OyAvLyBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleFRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleFRyaW1lc2hcblxuY29uc3QgcGFydGljbGVQbGFuZV9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgcGFydGljbGVQbGFuZV9yZWxwb3MgPSBuZXcgVmVjMygpO1xuY29uc3QgcGFydGljbGVQbGFuZV9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wbGFuZVBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZVBhcnRpY2xlO1xuY29uc3QgcGFydGljbGVTcGhlcmVfbm9ybWFsID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlUGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVBhcnRpY2xlO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jeWxpbmRlckN5bGluZGVyXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhDb252ZXg7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUN5bGluZGVyXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVDb252ZXg7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lQ3lsaW5kZXJdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQ29udmV4O1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hDeWxpbmRlcl0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94Q29udmV4O1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhDeWxpbmRlcl0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4Q29udmV4O1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5oZWlnaHRmaWVsZEN5bGluZGVyXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5oZWlnaHRmaWVsZEN5bGluZGVyO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wYXJ0aWNsZUN5bGluZGVyXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wYXJ0aWNsZUN5bGluZGVyOyAvLyBXSVBcblxuY29uc3QgY3FqID0gbmV3IFF1YXRlcm5pb24oKTtcbmNvbnN0IGNvbnZleFBhcnRpY2xlX2xvY2FsID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleFBhcnRpY2xlX3BlbmV0cmF0ZWRGYWNlTm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUgPSBuZXcgVmVjMygpO1xuY29uc3QgY29udmV4UGFydGljbGVfd29ybGRQZW5ldHJhdGlvblZlYyA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleFBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhQYXJ0aWNsZTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94SGVpZ2h0ZmllbGRdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveEhlaWdodGZpZWxkO1xuY29uc3QgY29udmV4SGVpZ2h0ZmllbGRfdG1wMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAyID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleEhlaWdodGZpZWxkX2ZhY2VMaXN0ID0gWzBdO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhIZWlnaHRmaWVsZF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4SGVpZ2h0ZmllbGQ7XG5jb25zdCBzcGhlcmVIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUhlaWdodGZpZWxkX3RtcDIgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVIZWlnaHRmaWVsZF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlSGVpZ2h0ZmllbGQ7XG5cbi8qKlxuICogQGNsYXNzIE92ZXJsYXBLZWVwZXJcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBPdmVybGFwS2VlcGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jdXJyZW50ID0gW107XG4gICAgdGhpcy5wcmV2aW91cyA9IFtdO1xuICB9XG5cbiAgZ2V0S2V5KGksIGopIHtcbiAgICBpZiAoaiA8IGkpIHtcbiAgICAgIGNvbnN0IHRlbXAgPSBqO1xuICAgICAgaiA9IGk7XG4gICAgICBpID0gdGVtcDtcbiAgICB9XG5cbiAgICByZXR1cm4gaSA8PCAxNiB8IGo7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2Qgc2V0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBqXG4gICAqL1xuXG5cbiAgc2V0KGksIGopIHtcbiAgICAvLyBJbnNlcnRpb24gc29ydC4gVGhpcyB3YXkgdGhlIGRpZmYgd2lsbCBoYXZlIGxpbmVhciBjb21wbGV4aXR5LlxuICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KGksIGopO1xuICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgbGV0IGluZGV4ID0gMDtcblxuICAgIHdoaWxlIChrZXkgPiBjdXJyZW50W2luZGV4XSkge1xuICAgICAgaW5kZXgrKztcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSBjdXJyZW50W2luZGV4XSkge1xuICAgICAgcmV0dXJuOyAvLyBQYWlyIHdhcyBhbHJlYWR5IGFkZGVkXG4gICAgfVxuXG4gICAgZm9yIChsZXQgaiA9IGN1cnJlbnQubGVuZ3RoIC0gMTsgaiA+PSBpbmRleDsgai0tKSB7XG4gICAgICBjdXJyZW50W2ogKyAxXSA9IGN1cnJlbnRbal07XG4gICAgfVxuXG4gICAgY3VycmVudFtpbmRleF0gPSBrZXk7XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2QgdGlja1xuICAgKi9cblxuXG4gIHRpY2soKSB7XG4gICAgY29uc3QgdG1wID0gdGhpcy5jdXJyZW50O1xuICAgIHRoaXMuY3VycmVudCA9IHRoaXMucHJldmlvdXM7XG4gICAgdGhpcy5wcmV2aW91cyA9IHRtcDtcbiAgICB0aGlzLmN1cnJlbnQubGVuZ3RoID0gMDtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCBnZXREaWZmXG4gICAqIEBwYXJhbSAge2FycmF5fSBhZGRpdGlvbnNcbiAgICogQHBhcmFtICB7YXJyYXl9IHJlbW92YWxzXG4gICAqL1xuXG5cbiAgZ2V0RGlmZihhZGRpdGlvbnMsIHJlbW92YWxzKSB7XG4gICAgY29uc3QgYSA9IHRoaXMuY3VycmVudDtcbiAgICBjb25zdCBiID0gdGhpcy5wcmV2aW91cztcbiAgICBjb25zdCBhbCA9IGEubGVuZ3RoO1xuICAgIGNvbnN0IGJsID0gYi5sZW5ndGg7XG4gICAgbGV0IGogPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbDsgaSsrKSB7XG4gICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGtleUEgPSBhW2ldO1xuXG4gICAgICB3aGlsZSAoa2V5QSA+IGJbal0pIHtcbiAgICAgICAgaisrO1xuICAgICAgfVxuXG4gICAgICBmb3VuZCA9IGtleUEgPT09IGJbal07XG5cbiAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgdW5wYWNrQW5kUHVzaChhZGRpdGlvbnMsIGtleUEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGogPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibDsgaSsrKSB7XG4gICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGtleUIgPSBiW2ldO1xuXG4gICAgICB3aGlsZSAoa2V5QiA+IGFbal0pIHtcbiAgICAgICAgaisrO1xuICAgICAgfVxuXG4gICAgICBmb3VuZCA9IGFbal0gPT09IGtleUI7XG5cbiAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgdW5wYWNrQW5kUHVzaChyZW1vdmFscywga2V5Qik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn1cblxuZnVuY3Rpb24gdW5wYWNrQW5kUHVzaChhcnJheSwga2V5KSB7XG4gIGFycmF5LnB1c2goKGtleSAmIDB4ZmZmZjAwMDApID4+IDE2LCBrZXkgJiAweDAwMDBmZmZmKTtcbn1cblxuLyoqXG4gKiBAY2xhc3MgVHVwbGVEaWN0aW9uYXJ5XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgVHVwbGVEaWN0aW9uYXJ5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5kYXRhID0ge1xuICAgICAga2V5czogW11cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBAbWV0aG9kIGdldFxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlcbiAgICogQHBhcmFtICB7TnVtYmVyfSBqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG5cblxuICBnZXQoaSwgaikge1xuICAgIGlmIChpID4gaikge1xuICAgICAgLy8gc3dhcFxuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmRhdGFbaSArIFwiLVwiICsgal07XG4gIH1cbiAgLyoqXG4gICAqIEBtZXRob2Qgc2V0XG4gICAqIEBwYXJhbSAge051bWJlcn0gaVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGpcbiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gICAqL1xuXG5cbiAgc2V0KGksIGosIHZhbHVlKSB7XG4gICAgaWYgKGkgPiBqKSB7XG4gICAgICBjb25zdCB0ZW1wID0gajtcbiAgICAgIGogPSBpO1xuICAgICAgaSA9IHRlbXA7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gaSArIFwiLVwiICsgajsgLy8gQ2hlY2sgaWYga2V5IGFscmVhZHkgZXhpc3RzXG5cbiAgICBpZiAoIXRoaXMuZ2V0KGksIGopKSB7XG4gICAgICB0aGlzLmRhdGEua2V5cy5wdXNoKGtleSk7XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhW2tleV0gPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogQG1ldGhvZCByZXNldFxuICAgKi9cblxuXG4gIHJlc2V0KCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgY29uc3Qga2V5cyA9IGRhdGEua2V5cztcblxuICAgIHdoaWxlIChrZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXMucG9wKCk7XG4gICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgIH1cbiAgfVxuXG59XG5cbi8qKlxuICogVGhlIHBoeXNpY3Mgd29ybGRcbiAqIEBjbGFzcyBXb3JsZFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBFdmVudFRhcmdldFxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5ncmF2aXR5XVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd1NsZWVwXVxuICogQHBhcmFtIHtCcm9hZHBoYXNlfSBbb3B0aW9ucy5icm9hZHBoYXNlXVxuICogQHBhcmFtIHtTb2x2ZXJ9IFtvcHRpb25zLnNvbHZlcl1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucXVhdE5vcm1hbGl6ZUZhc3RdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXBdXG4gKi9cbmNsYXNzIFdvcmxkIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICAvLyBDdXJyZW50bHkgLyBsYXN0IHVzZWQgdGltZXN0ZXAuIElzIHNldCB0byAtMSBpZiBub3QgYXZhaWxhYmxlLiBUaGlzIHZhbHVlIGlzIHVwZGF0ZWQgYmVmb3JlIGVhY2ggaW50ZXJuYWwgc3RlcCwgd2hpY2ggbWVhbnMgdGhhdCBpdCBpcyBcImZyZXNoXCIgaW5zaWRlIGV2ZW50IGNhbGxiYWNrcy5cbiAgLy8gTWFrZXMgYm9kaWVzIGdvIHRvIHNsZWVwIHdoZW4gdGhleSd2ZSBiZWVuIGluYWN0aXZlLlxuICAvLyBBbGwgdGhlIGN1cnJlbnQgY29udGFjdHMgKGluc3RhbmNlcyBvZiBDb250YWN0RXF1YXRpb24pIGluIHRoZSB3b3JsZC5cbiAgLy8gSG93IG9mdGVuIHRvIG5vcm1hbGl6ZSBxdWF0ZXJuaW9ucy4gU2V0IHRvIDAgZm9yIGV2ZXJ5IHN0ZXAsIDEgZm9yIGV2ZXJ5IHNlY29uZCBldGMuLiBBIGxhcmdlciB2YWx1ZSBpbmNyZWFzZXMgcGVyZm9ybWFuY2UuIElmIGJvZGllcyB0ZW5kIHRvIGV4cGxvZGUsIHNldCB0byBhIHNtYWxsZXIgdmFsdWUgKHplcm8gdG8gYmUgc3VyZSBub3RoaW5nIGNhbiBnbyB3cm9uZykuXG4gIC8vIFNldCB0byB0cnVlIHRvIHVzZSBmYXN0IHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbi4gSXQgaXMgb2Z0ZW4gZW5vdWdoIGFjY3VyYXRlIHRvIHVzZS4gSWYgYm9kaWVzIHRlbmQgdG8gZXhwbG9kZSwgc2V0IHRvIGZhbHNlLlxuICAvLyBUaGUgd2FsbC1jbG9jayB0aW1lIHNpbmNlIHNpbXVsYXRpb24gc3RhcnQuXG4gIC8vIE51bWJlciBvZiB0aW1lc3RlcHMgdGFrZW4gc2luY2Ugc3RhcnQuXG4gIC8vIERlZmF1bHQgYW5kIGxhc3QgdGltZXN0ZXAgc2l6ZXMuXG4gIC8vIFRoZSBicm9hZHBoYXNlIGFsZ29yaXRobSB0byB1c2UuIERlZmF1bHQgaXMgTmFpdmVCcm9hZHBoYXNlLlxuICAvLyBBbGwgYm9kaWVzIGluIHRoaXMgd29ybGRcbiAgLy8gVHJ1ZSBpZiBhbnkgYm9kaWVzIGFyZSBub3Qgc2xlZXBpbmcsIGZhbHNlIGlmIGV2ZXJ5IGJvZHkgaXMgc2xlZXBpbmcuXG4gIC8vIFRoZSBzb2x2ZXIgYWxnb3JpdGhtIHRvIHVzZS4gRGVmYXVsdCBpcyBHU1NvbHZlci5cbiAgLy8gQ29sbGlzaW9uTWF0cml4IGZyb20gdGhlIHByZXZpb3VzIHN0ZXAuXG4gIC8vIEFsbCBhZGRlZCBtYXRlcmlhbHMuXG4gIC8vIFVzZWQgdG8gbG9vayB1cCBhIENvbnRhY3RNYXRlcmlhbCBnaXZlbiB0d28gaW5zdGFuY2VzIG9mIE1hdGVyaWFsLlxuICAvLyBUaGlzIGNvbnRhY3QgbWF0ZXJpYWwgaXMgdXNlZCBpZiBubyBzdWl0YWJsZSBjb250YWN0bWF0ZXJpYWwgaXMgZm91bmQgZm9yIGEgY29udGFjdC5cbiAgLy8gVGltZSBhY2N1bXVsYXRvciBmb3IgaW50ZXJwb2xhdGlvbi4gU2VlIGh0dHA6Ly9nYWZmZXJvbmdhbWVzLmNvbS9nYW1lLXBoeXNpY3MvZml4LXlvdXItdGltZXN0ZXAvXG4gIC8vIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB3b3JsZC5cbiAgLy8gRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSB3b3JsZC5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmR0ID0gLTE7XG4gICAgdGhpcy5hbGxvd1NsZWVwID0gISFvcHRpb25zLmFsbG93U2xlZXA7XG4gICAgdGhpcy5jb250YWN0cyA9IFtdO1xuICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMgPSBbXTtcbiAgICB0aGlzLnF1YXROb3JtYWxpemVTa2lwID0gb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcCA6IDA7XG4gICAgdGhpcy5xdWF0Tm9ybWFsaXplRmFzdCA9IG9wdGlvbnMucXVhdE5vcm1hbGl6ZUZhc3QgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucXVhdE5vcm1hbGl6ZUZhc3QgOiBmYWxzZTtcbiAgICB0aGlzLnRpbWUgPSAwLjA7XG4gICAgdGhpcy5zdGVwbnVtYmVyID0gMDtcbiAgICB0aGlzLmRlZmF1bHRfZHQgPSAxIC8gNjA7XG4gICAgdGhpcy5uZXh0SWQgPSAwO1xuICAgIHRoaXMuZ3Jhdml0eSA9IG5ldyBWZWMzKCk7XG5cbiAgICBpZiAob3B0aW9ucy5ncmF2aXR5KSB7XG4gICAgICB0aGlzLmdyYXZpdHkuY29weShvcHRpb25zLmdyYXZpdHkpO1xuICAgIH1cblxuICAgIHRoaXMuYnJvYWRwaGFzZSA9IG9wdGlvbnMuYnJvYWRwaGFzZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5icm9hZHBoYXNlIDogbmV3IE5haXZlQnJvYWRwaGFzZSgpO1xuICAgIHRoaXMuYm9kaWVzID0gW107XG4gICAgdGhpcy5oYXNBY3RpdmVCb2RpZXMgPSBmYWxzZTtcbiAgICB0aGlzLnNvbHZlciA9IG9wdGlvbnMuc29sdmVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNvbHZlciA6IG5ldyBHU1NvbHZlcigpO1xuICAgIHRoaXMuY29uc3RyYWludHMgPSBbXTtcbiAgICB0aGlzLm5hcnJvd3BoYXNlID0gbmV3IE5hcnJvd3BoYXNlKHRoaXMpO1xuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4ID0gbmV3IEFycmF5Q29sbGlzaW9uTWF0cml4KCk7XG4gICAgdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cyA9IG5ldyBBcnJheUNvbGxpc2lvbk1hdHJpeCgpO1xuICAgIHRoaXMuYm9keU92ZXJsYXBLZWVwZXIgPSBuZXcgT3ZlcmxhcEtlZXBlcigpO1xuICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyID0gbmV3IE92ZXJsYXBLZWVwZXIoKTtcbiAgICB0aGlzLm1hdGVyaWFscyA9IFtdO1xuICAgIHRoaXMuY29udGFjdG1hdGVyaWFscyA9IFtdO1xuICAgIHRoaXMuY29udGFjdE1hdGVyaWFsVGFibGUgPSBuZXcgVHVwbGVEaWN0aW9uYXJ5KCk7XG4gICAgdGhpcy5kZWZhdWx0TWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoJ2RlZmF1bHQnKTtcbiAgICB0aGlzLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgPSBuZXcgQ29udGFjdE1hdGVyaWFsKHRoaXMuZGVmYXVsdE1hdGVyaWFsLCB0aGlzLmRlZmF1bHRNYXRlcmlhbCwge1xuICAgICAgZnJpY3Rpb246IDAuMyxcbiAgICAgIHJlc3RpdHV0aW9uOiAwLjBcbiAgICB9KTtcbiAgICB0aGlzLmRvUHJvZmlsaW5nID0gZmFsc2U7XG4gICAgdGhpcy5wcm9maWxlID0ge1xuICAgICAgc29sdmU6IDAsXG4gICAgICBtYWtlQ29udGFjdENvbnN0cmFpbnRzOiAwLFxuICAgICAgYnJvYWRwaGFzZTogMCxcbiAgICAgIGludGVncmF0ZTogMCxcbiAgICAgIG5hcnJvd3BoYXNlOiAwXG4gICAgfTtcbiAgICB0aGlzLmFjY3VtdWxhdG9yID0gMDtcbiAgICB0aGlzLnN1YnN5c3RlbXMgPSBbXTtcbiAgICB0aGlzLmFkZEJvZHlFdmVudCA9IHtcbiAgICAgIHR5cGU6ICdhZGRCb2R5JyxcbiAgICAgIGJvZHk6IG51bGxcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlQm9keUV2ZW50ID0ge1xuICAgICAgdHlwZTogJ3JlbW92ZUJvZHknLFxuICAgICAgYm9keTogbnVsbFxuICAgIH07XG4gICAgdGhpcy5pZFRvQm9keU1hcCA9IHt9O1xuICAgIHRoaXMuYnJvYWRwaGFzZS5zZXRXb3JsZCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjb250YWN0IG1hdGVyaWFsIGJldHdlZW4gbWF0ZXJpYWxzIG0xIGFuZCBtMlxuICAgKiBAbWV0aG9kIGdldENvbnRhY3RNYXRlcmlhbFxuICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtMVxuICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtMlxuICAgKiBAcmV0dXJuIHtDb250YWN0TWF0ZXJpYWx9IFRoZSBjb250YWN0IG1hdGVyaWFsIGlmIGl0IHdhcyBmb3VuZC5cbiAgICovXG5cblxuICBnZXRDb250YWN0TWF0ZXJpYWwobTEsIG0yKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGFjdE1hdGVyaWFsVGFibGUuZ2V0KG0xLmlkLCBtMi5pZCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBudW1iZXIgb2Ygb2JqZWN0cyBpbiB0aGUgd29ybGQuXG4gICAqIEBtZXRob2QgbnVtT2JqZWN0c1xuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqIEBkZXByZWNhdGVkXG4gICAqL1xuXG5cbiAgbnVtT2JqZWN0cygpIHtcbiAgICByZXR1cm4gdGhpcy5ib2RpZXMubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBTdG9yZSBvbGQgY29sbGlzaW9uIHN0YXRlIGluZm9cbiAgICogQG1ldGhvZCBjb2xsaXNpb25NYXRyaXhUaWNrXG4gICAqL1xuXG5cbiAgY29sbGlzaW9uTWF0cml4VGljaygpIHtcbiAgICBjb25zdCB0ZW1wID0gdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cztcbiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzID0gdGhpcy5jb2xsaXNpb25NYXRyaXg7XG4gICAgdGhpcy5jb2xsaXNpb25NYXRyaXggPSB0ZW1wO1xuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4LnJlc2V0KCk7XG4gICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci50aWNrKCk7XG4gICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIudGljaygpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBzaW11bGF0aW9uLlxuICAgKiBAbWV0aG9kIGFkZENvbnN0cmFpbnRcbiAgICogQHBhcmFtIHtDb25zdHJhaW50fSBjXG4gICAqL1xuXG5cbiAgYWRkQ29uc3RyYWludChjKSB7XG4gICAgdGhpcy5jb25zdHJhaW50cy5wdXNoKGMpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgY29uc3RyYWludFxuICAgKiBAbWV0aG9kIHJlbW92ZUNvbnN0cmFpbnRcbiAgICogQHBhcmFtIHtDb25zdHJhaW50fSBjXG4gICAqL1xuXG5cbiAgcmVtb3ZlQ29uc3RyYWludChjKSB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5jb25zdHJhaW50cy5pbmRleE9mKGMpO1xuXG4gICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuY29uc3RyYWludHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSYXljYXN0IHRlc3RcbiAgICogQG1ldGhvZCByYXlUZXN0XG4gICAqIEBwYXJhbSB7VmVjM30gZnJvbVxuICAgKiBAcGFyYW0ge1ZlYzN9IHRvXG4gICAqIEBwYXJhbSB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0XG4gICAqIEBkZXByZWNhdGVkIFVzZSAucmF5Y2FzdEFsbCwgLnJheWNhc3RDbG9zZXN0IG9yIC5yYXljYXN0QW55IGluc3RlYWQuXG4gICAqL1xuXG5cbiAgcmF5VGVzdChmcm9tLCB0bywgcmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJheWNhc3RSZXN1bHQpIHtcbiAgICAgIC8vIERvIHJheWNhc3RDbG9zZXN0XG4gICAgICB0aGlzLnJheWNhc3RDbG9zZXN0KGZyb20sIHRvLCB7XG4gICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWVcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERvIHJheWNhc3RBbGxcbiAgICAgIHRoaXMucmF5Y2FzdEFsbChmcm9tLCB0bywge1xuICAgICAgICBza2lwQmFja2ZhY2VzOiB0cnVlXG4gICAgICB9LCByZXN1bHQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmF5IGNhc3QgYWdhaW5zdCBhbGwgYm9kaWVzLiBUaGUgcHJvdmlkZWQgY2FsbGJhY2sgd2lsbCBiZSBleGVjdXRlZCBmb3IgZWFjaCBoaXQgd2l0aCBhIFJheWNhc3RSZXN1bHQgYXMgc2luZ2xlIGFyZ3VtZW50LlxuICAgKiBAbWV0aG9kIHJheWNhc3RBbGxcbiAgICogQHBhcmFtICB7VmVjM30gZnJvbVxuICAgKiBAcGFyYW0gIHtWZWMzfSB0b1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXVxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPS0xXVxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5za2lwQmFja2ZhY2VzPWZhbHNlXVxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFueSBib2R5IHdhcyBoaXQuXG4gICAqL1xuXG5cbiAgcmF5Y2FzdEFsbChmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCBjYWxsYmFjaykge1xuICAgIG9wdGlvbnMubW9kZSA9IFJheS5BTEw7XG4gICAgb3B0aW9ucy5mcm9tID0gZnJvbTtcbiAgICBvcHRpb25zLnRvID0gdG87XG4gICAgb3B0aW9ucy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHJldHVybiB0bXBSYXkkMS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogUmF5IGNhc3QsIGFuZCBzdG9wIGF0IHRoZSBmaXJzdCByZXN1bHQuIE5vdGUgdGhhdCB0aGUgb3JkZXIgaXMgcmFuZG9tIC0gYnV0IHRoZSBtZXRob2QgaXMgZmFzdC5cbiAgICogQG1ldGhvZCByYXljYXN0QW55XG4gICAqIEBwYXJhbSAge1ZlYzN9IGZyb21cbiAgICogQHBhcmFtICB7VmVjM30gdG9cbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV1cbiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV1cbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV1cbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXVxuICAgKiBAcGFyYW0gIHtSYXljYXN0UmVzdWx0fSByZXN1bHRcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0LlxuICAgKi9cblxuXG4gIHJheWNhc3RBbnkoZnJvbSwgdG8sIG9wdGlvbnMgPSB7fSwgcmVzdWx0KSB7XG4gICAgb3B0aW9ucy5tb2RlID0gUmF5LkFOWTtcbiAgICBvcHRpb25zLmZyb20gPSBmcm9tO1xuICAgIG9wdGlvbnMudG8gPSB0bztcbiAgICBvcHRpb25zLnJlc3VsdCA9IHJlc3VsdDtcbiAgICByZXR1cm4gdG1wUmF5JDEuaW50ZXJzZWN0V29ybGQodGhpcywgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIFJheSBjYXN0LCBhbmQgcmV0dXJuIGluZm9ybWF0aW9uIG9mIHRoZSBjbG9zZXN0IGhpdC5cbiAgICogQG1ldGhvZCByYXljYXN0Q2xvc2VzdFxuICAgKiBAcGFyYW0gIHtWZWMzfSBmcm9tXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRvXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdXG4gICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9LTFdXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLnNraXBCYWNrZmFjZXM9ZmFsc2VdXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV1cbiAgICogQHBhcmFtICB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC5cbiAgICovXG5cblxuICByYXljYXN0Q2xvc2VzdChmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCByZXN1bHQpIHtcbiAgICBvcHRpb25zLm1vZGUgPSBSYXkuQ0xPU0VTVDtcbiAgICBvcHRpb25zLmZyb20gPSBmcm9tO1xuICAgIG9wdGlvbnMudG8gPSB0bztcbiAgICBvcHRpb25zLnJlc3VsdCA9IHJlc3VsdDtcbiAgICByZXR1cm4gdG1wUmF5JDEuaW50ZXJzZWN0V29ybGQodGhpcywgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIHJpZ2lkIGJvZHkgdG8gdGhlIHNpbXVsYXRpb24uXG4gICAqIEBtZXRob2QgYWRkXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keVxuICAgKiBAdG9kbyBJZiB0aGUgc2ltdWxhdGlvbiBoYXMgbm90IHlldCBzdGFydGVkLCB3aHkgcmVjcmV0ZSBhbmQgY29weSBhcnJheXMgZm9yIGVhY2ggYm9keT8gQWNjdW11bGF0ZSBpbiBkeW5hbWljIGFycmF5cyBpbiB0aGlzIGNhc2UuXG4gICAqIEB0b2RvIEFkZGluZyBhbiBhcnJheSBvZiBib2RpZXMgc2hvdWxkIGJlIHBvc3NpYmxlLiBUaGlzIHdvdWxkIHNhdmUgc29tZSBsb29wcyB0b29cbiAgICovXG5cblxuICBhZGRCb2R5KGJvZHkpIHtcbiAgICBpZiAodGhpcy5ib2RpZXMuaW5jbHVkZXMoYm9keSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBib2R5LmluZGV4ID0gdGhpcy5ib2RpZXMubGVuZ3RoO1xuICAgIHRoaXMuYm9kaWVzLnB1c2goYm9keSk7XG4gICAgYm9keS53b3JsZCA9IHRoaXM7XG4gICAgYm9keS5pbml0UG9zaXRpb24uY29weShib2R5LnBvc2l0aW9uKTtcbiAgICBib2R5LmluaXRWZWxvY2l0eS5jb3B5KGJvZHkudmVsb2NpdHkpO1xuICAgIGJvZHkudGltZUxhc3RTbGVlcHkgPSB0aGlzLnRpbWU7XG5cbiAgICBpZiAoYm9keSBpbnN0YW5jZW9mIEJvZHkpIHtcbiAgICAgIGJvZHkuaW5pdEFuZ3VsYXJWZWxvY2l0eS5jb3B5KGJvZHkuYW5ndWxhclZlbG9jaXR5KTtcbiAgICAgIGJvZHkuaW5pdFF1YXRlcm5pb24uY29weShib2R5LnF1YXRlcm5pb24pO1xuICAgIH1cblxuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4LnNldE51bU9iamVjdHModGhpcy5ib2RpZXMubGVuZ3RoKTtcbiAgICB0aGlzLmFkZEJvZHlFdmVudC5ib2R5ID0gYm9keTtcbiAgICB0aGlzLmlkVG9Cb2R5TWFwW2JvZHkuaWRdID0gYm9keTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy5hZGRCb2R5RXZlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYSByaWdpZCBib2R5IGZyb20gdGhlIHNpbXVsYXRpb24uXG4gICAqIEBtZXRob2QgcmVtb3ZlXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keVxuICAgKi9cblxuXG4gIHJlbW92ZUJvZHkoYm9keSkge1xuICAgIGJvZHkud29ybGQgPSBudWxsO1xuICAgIGNvbnN0IG4gPSB0aGlzLmJvZGllcy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzO1xuICAgIGNvbnN0IGlkeCA9IGJvZGllcy5pbmRleE9mKGJvZHkpO1xuXG4gICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgIGJvZGllcy5zcGxpY2UoaWR4LCAxKTsgLy8gVG9kbzogc2hvdWxkIHVzZSBhIGdhcmJhZ2UgZnJlZSBtZXRob2RcbiAgICAgIC8vIFJlY29tcHV0ZSBpbmRleFxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJvZGllc1tpXS5pbmRleCA9IGk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29sbGlzaW9uTWF0cml4LnNldE51bU9iamVjdHMobik7XG4gICAgICB0aGlzLnJlbW92ZUJvZHlFdmVudC5ib2R5ID0gYm9keTtcbiAgICAgIGRlbGV0ZSB0aGlzLmlkVG9Cb2R5TWFwW2JvZHkuaWRdO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHRoaXMucmVtb3ZlQm9keUV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBnZXRCb2R5QnlJZChpZCkge1xuICAgIHJldHVybiB0aGlzLmlkVG9Cb2R5TWFwW2lkXTtcbiAgfSAvLyBUT0RPIE1ha2UgYSBmYXN0ZXIgbWFwXG5cblxuICBnZXRTaGFwZUJ5SWQoaWQpIHtcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllcztcblxuICAgIGZvciAobGV0IGkgPSAwLCBibCA9IGJvZGllcy5sZW5ndGg7IGkgPCBibDsgaSsrKSB7XG4gICAgICBjb25zdCBzaGFwZXMgPSBib2RpZXNbaV0uc2hhcGVzO1xuXG4gICAgICBmb3IgKGxldCBqID0gMCwgc2wgPSBzaGFwZXMubGVuZ3RoOyBqIDwgc2w7IGorKykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tqXTtcblxuICAgICAgICBpZiAoc2hhcGUuaWQgPT09IGlkKSB7XG4gICAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkLlxuICAgKiBAbWV0aG9kIGFkZE1hdGVyaWFsXG4gICAqIEBwYXJhbSB7TWF0ZXJpYWx9IG1cbiAgICogQHRvZG8gTmVjZXNzYXJ5P1xuICAgKi9cblxuXG4gIGFkZE1hdGVyaWFsKG0pIHtcbiAgICB0aGlzLm1hdGVyaWFscy5wdXNoKG0pO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgY29udGFjdCBtYXRlcmlhbCB0byB0aGUgV29ybGRcbiAgICogQG1ldGhvZCBhZGRDb250YWN0TWF0ZXJpYWxcbiAgICogQHBhcmFtIHtDb250YWN0TWF0ZXJpYWx9IGNtYXRcbiAgICovXG5cblxuICBhZGRDb250YWN0TWF0ZXJpYWwoY21hdCkge1xuICAgIC8vIEFkZCBjb250YWN0IG1hdGVyaWFsXG4gICAgdGhpcy5jb250YWN0bWF0ZXJpYWxzLnB1c2goY21hdCk7IC8vIEFkZCBjdXJyZW50IGNvbnRhY3QgbWF0ZXJpYWwgdG8gdGhlIG1hdGVyaWFsIHRhYmxlXG5cbiAgICB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlLnNldChjbWF0Lm1hdGVyaWFsc1swXS5pZCwgY21hdC5tYXRlcmlhbHNbMV0uaWQsIGNtYXQpO1xuICB9XG4gIC8qKlxuICAgKiBTdGVwIHRoZSBwaHlzaWNzIHdvcmxkIGZvcndhcmQgaW4gdGltZS5cbiAgICpcbiAgICogVGhlcmUgYXJlIHR3byBtb2Rlcy4gVGhlIHNpbXBsZSBtb2RlIGlzIGZpeGVkIHRpbWVzdGVwcGluZyB3aXRob3V0IGludGVycG9sYXRpb24uIEluIHRoaXMgY2FzZSB5b3Ugb25seSB1c2UgdGhlIGZpcnN0IGFyZ3VtZW50LiBUaGUgc2Vjb25kIGNhc2UgdXNlcyBpbnRlcnBvbGF0aW9uLiBJbiB0aGF0IHlvdSBhbHNvIHByb3ZpZGUgdGhlIHRpbWUgc2luY2UgdGhlIGZ1bmN0aW9uIHdhcyBsYXN0IHVzZWQsIGFzIHdlbGwgYXMgdGhlIG1heGltdW0gZml4ZWQgdGltZXN0ZXBzIHRvIHRha2UuXG4gICAqXG4gICAqIEBtZXRob2Qgc3RlcFxuICAgKiBAcGFyYW0ge051bWJlcn0gZHQgICAgICAgICAgICAgICAgICAgICAgIFRoZSBmaXhlZCB0aW1lIHN0ZXAgc2l6ZSB0byB1c2UuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZVNpbmNlTGFzdENhbGxlZF0gICAgVGhlIHRpbWUgZWxhcHNlZCBzaW5jZSB0aGUgZnVuY3Rpb24gd2FzIGxhc3QgY2FsbGVkLlxuICAgKiBAcGFyYW0ge051bWJlcn0gW21heFN1YlN0ZXBzPTEwXSAgICAgICAgIE1heGltdW0gbnVtYmVyIG9mIGZpeGVkIHN0ZXBzIHRvIHRha2UgcGVyIGZ1bmN0aW9uIGNhbGwuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqICAgICAvLyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uXG4gICAqICAgICB3b3JsZC5zdGVwKDEvNjApO1xuICAgKlxuICAgKiBAc2VlIGh0dHA6Ly9idWxsZXRwaHlzaWNzLm9yZy9tZWRpYXdpa2ktMS41LjgvaW5kZXgucGhwL1N0ZXBwaW5nX1RoZV9Xb3JsZFxuICAgKi9cblxuXG4gIHN0ZXAoZHQsIHRpbWVTaW5jZUxhc3RDYWxsZWQsIG1heFN1YlN0ZXBzID0gMTApIHtcbiAgICBpZiAodGltZVNpbmNlTGFzdENhbGxlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBGaXhlZCwgc2ltcGxlIHN0ZXBwaW5nXG4gICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7IC8vIEluY3JlbWVudCB0aW1lXG5cbiAgICAgIHRoaXMudGltZSArPSBkdDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hY2N1bXVsYXRvciArPSB0aW1lU2luY2VMYXN0Q2FsbGVkO1xuICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGxldCBzdWJzdGVwcyA9IDA7XG5cbiAgICAgIHdoaWxlICh0aGlzLmFjY3VtdWxhdG9yID49IGR0ICYmIHN1YnN0ZXBzIDwgbWF4U3ViU3RlcHMpIHtcbiAgICAgICAgLy8gRG8gZml4ZWQgc3RlcHMgdG8gY2F0Y2ggdXBcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0ZXAoZHQpO1xuICAgICAgICB0aGlzLmFjY3VtdWxhdG9yIC09IGR0O1xuICAgICAgICBzdWJzdGVwcysrO1xuXG4gICAgICAgIGlmIChwZXJmb3JtYW5jZS5ub3coKSAtIHQwID4gZHQgKiAxMDAwKSB7XG4gICAgICAgICAgLy8gVGhlIGZyYW1lcmF0ZSBpcyBub3QgaW50ZXJhY3RpdmUgYW55bW9yZS5cbiAgICAgICAgICAvLyBXZSBhcmUgYmVsb3cgdGhlIHRhcmdldCBmcmFtZXJhdGUuXG4gICAgICAgICAgLy8gQmV0dGVyIGJhaWwgb3V0LlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IC8vIFJlbW92ZSB0aGUgZXhjZXNzIGFjY3VtdWxhdG9yLCBzaW5jZSB3ZSBtYXkgbm90XG4gICAgICAvLyBoYXZlIGhhZCBlbm91Z2ggc3Vic3RlcHMgYXZhaWxhYmxlIHRvIGNhdGNoIHVwXG5cblxuICAgICAgdGhpcy5hY2N1bXVsYXRvciA9IHRoaXMuYWNjdW11bGF0b3IgJSBkdDtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLmFjY3VtdWxhdG9yIC8gZHQ7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSB0aGlzLmJvZGllcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCBiID0gdGhpcy5ib2RpZXNbal07XG4gICAgICAgIGIucHJldmlvdXNQb3NpdGlvbi5sZXJwKGIucG9zaXRpb24sIHQsIGIuaW50ZXJwb2xhdGVkUG9zaXRpb24pO1xuICAgICAgICBiLnByZXZpb3VzUXVhdGVybmlvbi5zbGVycChiLnF1YXRlcm5pb24sIHQsIGIuaW50ZXJwb2xhdGVkUXVhdGVybmlvbik7XG4gICAgICAgIGIucHJldmlvdXNRdWF0ZXJuaW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRpbWUgKz0gdGltZVNpbmNlTGFzdENhbGxlZDtcbiAgICB9XG4gIH1cblxuICBpbnRlcm5hbFN0ZXAoZHQpIHtcbiAgICB0aGlzLmR0ID0gZHQ7XG4gICAgY29uc3QgY29udGFjdHMgPSB0aGlzLmNvbnRhY3RzO1xuICAgIGNvbnN0IHAxID0gV29ybGRfc3RlcF9wMTtcbiAgICBjb25zdCBwMiA9IFdvcmxkX3N0ZXBfcDI7XG4gICAgY29uc3QgTiA9IHRoaXMubnVtT2JqZWN0cygpO1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzO1xuICAgIGNvbnN0IHNvbHZlciA9IHRoaXMuc29sdmVyO1xuICAgIGNvbnN0IGdyYXZpdHkgPSB0aGlzLmdyYXZpdHk7XG4gICAgY29uc3QgZG9Qcm9maWxpbmcgPSB0aGlzLmRvUHJvZmlsaW5nO1xuICAgIGNvbnN0IHByb2ZpbGUgPSB0aGlzLnByb2ZpbGU7XG4gICAgY29uc3QgRFlOQU1JQyA9IEJvZHkuRFlOQU1JQztcbiAgICBsZXQgcHJvZmlsaW5nU3RhcnQgPSAtSW5maW5pdHk7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIGNvbnN0IGZyaWN0aW9uRXF1YXRpb25Qb29sID0gV29ybGRfc3RlcF9mcmljdGlvbkVxdWF0aW9uUG9vbDtcbiAgICBjb25zdCBnbm9ybSA9IGdyYXZpdHkubGVuZ3RoKCk7XG4gICAgY29uc3QgZ3ggPSBncmF2aXR5Lng7XG4gICAgY29uc3QgZ3kgPSBncmF2aXR5Lnk7XG4gICAgY29uc3QgZ3ogPSBncmF2aXR5Lno7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH0gLy8gQWRkIGdyYXZpdHkgdG8gYWxsIG9iamVjdHNcblxuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcblxuICAgICAgaWYgKGJpLnR5cGUgPT09IERZTkFNSUMpIHtcbiAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYyBib2RpZXNcbiAgICAgICAgY29uc3QgZiA9IGJpLmZvcmNlO1xuICAgICAgICBjb25zdCBtID0gYmkubWFzcztcbiAgICAgICAgZi54ICs9IG0gKiBneDtcbiAgICAgICAgZi55ICs9IG0gKiBneTtcbiAgICAgICAgZi56ICs9IG0gKiBnejtcbiAgICAgIH1cbiAgICB9IC8vIFVwZGF0ZSBzdWJzeXN0ZW1zXG5cblxuICAgIGZvciAobGV0IGkgPSAwLCBOc3Vic3lzdGVtcyA9IHRoaXMuc3Vic3lzdGVtcy5sZW5ndGg7IGkgIT09IE5zdWJzeXN0ZW1zOyBpKyspIHtcbiAgICAgIHRoaXMuc3Vic3lzdGVtc1tpXS51cGRhdGUoKTtcbiAgICB9IC8vIENvbGxpc2lvbiBkZXRlY3Rpb25cblxuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cblxuICAgIHAxLmxlbmd0aCA9IDA7IC8vIENsZWFuIHVwIHBhaXIgYXJyYXlzIGZyb20gbGFzdCBzdGVwXG5cbiAgICBwMi5sZW5ndGggPSAwO1xuICAgIHRoaXMuYnJvYWRwaGFzZS5jb2xsaXNpb25QYWlycyh0aGlzLCBwMSwgcDIpO1xuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxlLmJyb2FkcGhhc2UgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0O1xuICAgIH0gLy8gUmVtb3ZlIGNvbnN0cmFpbmVkIHBhaXJzIHdpdGggY29sbGlkZUNvbm5lY3RlZCA9PSBmYWxzZVxuXG5cbiAgICBsZXQgTmNvbnN0cmFpbnRzID0gY29uc3RyYWludHMubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTmNvbnN0cmFpbnRzOyBpKyspIHtcbiAgICAgIGNvbnN0IGMgPSBjb25zdHJhaW50c1tpXTtcblxuICAgICAgaWYgKCFjLmNvbGxpZGVDb25uZWN0ZWQpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IHAxLmxlbmd0aCAtIDE7IGogPj0gMDsgaiAtPSAxKSB7XG4gICAgICAgICAgaWYgKGMuYm9keUEgPT09IHAxW2pdICYmIGMuYm9keUIgPT09IHAyW2pdIHx8IGMuYm9keUIgPT09IHAxW2pdICYmIGMuYm9keUEgPT09IHAyW2pdKSB7XG4gICAgICAgICAgICBwMS5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICBwMi5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5jb2xsaXNpb25NYXRyaXhUaWNrKCk7IC8vIEdlbmVyYXRlIGNvbnRhY3RzXG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkY29udGFjdHMgPSBXb3JsZF9zdGVwX29sZENvbnRhY3RzO1xuICAgIGNvbnN0IE5vbGRDb250YWN0cyA9IGNvbnRhY3RzLmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE5vbGRDb250YWN0czsgaSsrKSB7XG4gICAgICBvbGRjb250YWN0cy5wdXNoKGNvbnRhY3RzW2ldKTtcbiAgICB9XG5cbiAgICBjb250YWN0cy5sZW5ndGggPSAwOyAvLyBUcmFuc2ZlciBGcmljdGlvbkVxdWF0aW9uIGZyb20gY3VycmVudCBsaXN0IHRvIHRoZSBwb29sIGZvciByZXVzZVxuXG4gICAgY29uc3QgTm9sZEZyaWN0aW9uRXF1YXRpb25zID0gdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOb2xkRnJpY3Rpb25FcXVhdGlvbnM7IGkrKykge1xuICAgICAgZnJpY3Rpb25FcXVhdGlvblBvb2wucHVzaCh0aGlzLmZyaWN0aW9uRXF1YXRpb25zW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5uYXJyb3dwaGFzZS5nZXRDb250YWN0cyhwMSwgcDIsIHRoaXMsIGNvbnRhY3RzLCBvbGRjb250YWN0cywgLy8gVG8gYmUgcmV1c2VkXG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucywgZnJpY3Rpb25FcXVhdGlvblBvb2wpO1xuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxlLm5hcnJvd3BoYXNlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDtcbiAgICB9IC8vIExvb3Agb3ZlciBhbGwgY29sbGlzaW9uc1xuXG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfSAvLyBBZGQgYWxsIGZyaWN0aW9uIGVxc1xuXG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKHRoaXMuZnJpY3Rpb25FcXVhdGlvbnNbaV0pO1xuICAgIH1cblxuICAgIGNvbnN0IG5jb250YWN0cyA9IGNvbnRhY3RzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSBuY29udGFjdHM7IGsrKykge1xuICAgICAgLy8gQ3VycmVudCBjb250YWN0XG4gICAgICBjb25zdCBjID0gY29udGFjdHNba107IC8vIEdldCBjdXJyZW50IGNvbGxpc2lvbiBpbmRlY2VzXG5cbiAgICAgIGNvbnN0IGJpID0gYy5iaTtcbiAgICAgIGNvbnN0IGJqID0gYy5iajtcbiAgICAgIGNvbnN0IHNpID0gYy5zaTtcbiAgICAgIGNvbnN0IHNqID0gYy5zajsgLy8gR2V0IGNvbGxpc2lvbiBwcm9wZXJ0aWVzXG5cbiAgICAgIGxldCBjbTtcblxuICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7XG4gICAgICAgIGNtID0gdGhpcy5nZXRDb250YWN0TWF0ZXJpYWwoYmkubWF0ZXJpYWwsIGJqLm1hdGVyaWFsKSB8fCB0aGlzLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbSA9IHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDtcbiAgICAgIH0gLy8gYy5lbmFibGVkID0gYmkuY29sbGlzaW9uUmVzcG9uc2UgJiYgYmouY29sbGlzaW9uUmVzcG9uc2UgJiYgc2kuY29sbGlzaW9uUmVzcG9uc2UgJiYgc2ouY29sbGlzaW9uUmVzcG9uc2U7XG5cblxuICAgICAgbGV0IG11ID0gY20uZnJpY3Rpb247IC8vIGMucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjtcbiAgICAgIC8vIElmIGZyaWN0aW9uIG9yIHJlc3RpdHV0aW9uIHdlcmUgc3BlY2lmaWVkIGluIHRoZSBtYXRlcmlhbCwgdXNlIHRoZW1cblxuICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7XG4gICAgICAgIGlmIChiaS5tYXRlcmlhbC5mcmljdGlvbiA+PSAwICYmIGJqLm1hdGVyaWFsLmZyaWN0aW9uID49IDApIHtcbiAgICAgICAgICBtdSA9IGJpLm1hdGVyaWFsLmZyaWN0aW9uICogYmoubWF0ZXJpYWwuZnJpY3Rpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmkubWF0ZXJpYWwucmVzdGl0dXRpb24gPj0gMCAmJiBiai5tYXRlcmlhbC5yZXN0aXR1dGlvbiA+PSAwKSB7XG4gICAgICAgICAgYy5yZXN0aXR1dGlvbiA9IGJpLm1hdGVyaWFsLnJlc3RpdHV0aW9uICogYmoubWF0ZXJpYWwucmVzdGl0dXRpb247XG4gICAgICAgIH1cbiAgICAgIH0gLy8gYy5zZXRTcG9va1BhcmFtcyhcbiAgICAgIC8vICAgICAgICAgICBjbS5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MsXG4gICAgICAvLyAgICAgICAgICAgY20uY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbixcbiAgICAgIC8vICAgICAgICAgICBkdFxuICAgICAgLy8gICAgICAgKTtcblxuXG4gICAgICBzb2x2ZXIuYWRkRXF1YXRpb24oYyk7IC8vIC8vIEFkZCBmcmljdGlvbiBjb25zdHJhaW50IGVxdWF0aW9uXG4gICAgICAvLyBpZihtdSA+IDApe1xuICAgICAgLy8gXHQvLyBDcmVhdGUgMiB0YW5nZW50IGVxdWF0aW9uc1xuICAgICAgLy8gXHRjb25zdCBtdWcgPSBtdSAqIGdub3JtO1xuICAgICAgLy8gXHRjb25zdCByZWR1Y2VkTWFzcyA9IChiaS5pbnZNYXNzICsgYmouaW52TWFzcyk7XG4gICAgICAvLyBcdGlmKHJlZHVjZWRNYXNzID4gMCl7XG4gICAgICAvLyBcdFx0cmVkdWNlZE1hc3MgPSAxL3JlZHVjZWRNYXNzO1xuICAgICAgLy8gXHR9XG4gICAgICAvLyBcdGNvbnN0IHBvb2wgPSBmcmljdGlvbkVxdWF0aW9uUG9vbDtcbiAgICAgIC8vIFx0Y29uc3QgYzEgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihiaSxiaixtdWcqcmVkdWNlZE1hc3MpO1xuICAgICAgLy8gXHRjb25zdCBjMiA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJpLGJqLG11ZypyZWR1Y2VkTWFzcyk7XG4gICAgICAvLyBcdHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaChjMSwgYzIpO1xuICAgICAgLy8gXHRjMS5iaSA9IGMyLmJpID0gYmk7XG4gICAgICAvLyBcdGMxLmJqID0gYzIuYmogPSBiajtcbiAgICAgIC8vIFx0YzEubWluRm9yY2UgPSBjMi5taW5Gb3JjZSA9IC1tdWcqcmVkdWNlZE1hc3M7XG4gICAgICAvLyBcdGMxLm1heEZvcmNlID0gYzIubWF4Rm9yY2UgPSBtdWcqcmVkdWNlZE1hc3M7XG4gICAgICAvLyBcdC8vIENvcHkgb3ZlciB0aGUgcmVsYXRpdmUgdmVjdG9yc1xuICAgICAgLy8gXHRjMS5yaS5jb3B5KGMucmkpO1xuICAgICAgLy8gXHRjMS5yai5jb3B5KGMucmopO1xuICAgICAgLy8gXHRjMi5yaS5jb3B5KGMucmkpO1xuICAgICAgLy8gXHRjMi5yai5jb3B5KGMucmopO1xuICAgICAgLy8gXHQvLyBDb25zdHJ1Y3QgdGFuZ2VudHNcbiAgICAgIC8vIFx0Yy5uaS50YW5nZW50cyhjMS50LCBjMi50KTtcbiAgICAgIC8vICAgICAgICAgICAvLyBTZXQgc3Bvb2sgcGFyYW1zXG4gICAgICAvLyAgICAgICAgICAgYzEuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIGR0KTtcbiAgICAgIC8vICAgICAgICAgICBjMi5zZXRTcG9va1BhcmFtcyhjbS5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzLCBjbS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiwgZHQpO1xuICAgICAgLy8gICAgICAgICAgIGMxLmVuYWJsZWQgPSBjMi5lbmFibGVkID0gYy5lbmFibGVkO1xuICAgICAgLy8gXHQvLyBBZGQgZXF1YXRpb25zIHRvIHNvbHZlclxuICAgICAgLy8gXHRzb2x2ZXIuYWRkRXF1YXRpb24oYzEpO1xuICAgICAgLy8gXHRzb2x2ZXIuYWRkRXF1YXRpb24oYzIpO1xuICAgICAgLy8gfVxuXG4gICAgICBpZiAoYmkuYWxsb3dTbGVlcCAmJiBiaS50eXBlID09PSBCb2R5LkRZTkFNSUMgJiYgYmkuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyAmJiBiai5zbGVlcFN0YXRlID09PSBCb2R5LkFXQUtFICYmIGJqLnR5cGUgIT09IEJvZHkuU1RBVElDKSB7XG4gICAgICAgIGNvbnN0IHNwZWVkU3F1YXJlZEIgPSBiai52ZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCkgKyBiai5hbmd1bGFyVmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpO1xuICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZEIgPSBiai5zbGVlcFNwZWVkTGltaXQgKiogMjtcblxuICAgICAgICBpZiAoc3BlZWRTcXVhcmVkQiA+PSBzcGVlZExpbWl0U3F1YXJlZEIgKiAyKSB7XG4gICAgICAgICAgYmkud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGJqLmFsbG93U2xlZXAgJiYgYmoudHlwZSA9PT0gQm9keS5EWU5BTUlDICYmIGJqLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgJiYgYmkuc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBiaS50eXBlICE9PSBCb2R5LlNUQVRJQykge1xuICAgICAgICBjb25zdCBzcGVlZFNxdWFyZWRBID0gYmkudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpICsgYmkuYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTtcbiAgICAgICAgY29uc3Qgc3BlZWRMaW1pdFNxdWFyZWRBID0gYmkuc2xlZXBTcGVlZExpbWl0ICoqIDI7XG5cbiAgICAgICAgaWYgKHNwZWVkU3F1YXJlZEEgPj0gc3BlZWRMaW1pdFNxdWFyZWRBICogMikge1xuICAgICAgICAgIGJqLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IC8vIE5vdyB3ZSBrbm93IHRoYXQgaSBhbmQgaiBhcmUgaW4gY29udGFjdC4gU2V0IGNvbGxpc2lvbiBtYXRyaXggc3RhdGVcblxuXG4gICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXQoYmksIGJqLCB0cnVlKTtcblxuICAgICAgaWYgKCF0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzLmdldChiaSwgYmopKSB7XG4gICAgICAgIC8vIEZpcnN0IGNvbnRhY3QhXG4gICAgICAgIC8vIFdlIHJldXNlIHRoZSBjb2xsaWRlRXZlbnQgb2JqZWN0LCBvdGhlcndpc2Ugd2Ugd2lsbCBlbmQgdXAgY3JlYXRpbmcgbmV3IG9iamVjdHMgZm9yIGVhY2ggbmV3IGNvbnRhY3QsIGV2ZW4gaWYgdGhlcmUncyBubyBldmVudCBsaXN0ZW5lciBhdHRhY2hlZC5cbiAgICAgICAgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQuYm9keSA9IGJqO1xuICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5jb250YWN0ID0gYztcbiAgICAgICAgYmkuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCk7XG4gICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmJvZHkgPSBiaTtcbiAgICAgICAgYmouZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7XG4gICAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci5zZXQoc2kuaWQsIHNqLmlkKTtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXRDb250YWN0RXZlbnRzKCk7XG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGUubWFrZUNvbnRhY3RDb25zdHJhaW50cyA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7XG4gICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH0gLy8gV2FrZSB1cCBib2RpZXNcblxuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcblxuICAgICAgaWYgKGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UpIHtcbiAgICAgICAgYmkud2FrZVVwKCk7XG4gICAgICAgIGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IC8vIEFkZCB1c2VyLWFkZGVkIGNvbnN0cmFpbnRzXG5cblxuICAgIE5jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzLmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE5jb25zdHJhaW50czsgaSsrKSB7XG4gICAgICBjb25zdCBjID0gY29uc3RyYWludHNbaV07XG4gICAgICBjLnVwZGF0ZSgpO1xuXG4gICAgICBmb3IgKGxldCBqID0gMCwgTmVxID0gYy5lcXVhdGlvbnMubGVuZ3RoOyBqICE9PSBOZXE7IGorKykge1xuICAgICAgICBjb25zdCBlcSA9IGMuZXF1YXRpb25zW2pdO1xuICAgICAgICBzb2x2ZXIuYWRkRXF1YXRpb24oZXEpO1xuICAgICAgfVxuICAgIH0gLy8gU29sdmUgdGhlIGNvbnN0cmFpbmVkIHN5c3RlbVxuXG5cbiAgICBzb2x2ZXIuc29sdmUoZHQsIHRoaXMpO1xuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxlLnNvbHZlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDtcbiAgICB9IC8vIFJlbW92ZSBhbGwgY29udGFjdHMgZnJvbSBzb2x2ZXJcblxuXG4gICAgc29sdmVyLnJlbW92ZUFsbEVxdWF0aW9ucygpOyAvLyBBcHBseSBkYW1waW5nLCBzZWUgaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2J1bGxldC9pc3N1ZXMvZGV0YWlsP2lkPTc0IGZvciBkZXRhaWxzXG5cbiAgICBjb25zdCBwb3cgPSBNYXRoLnBvdztcblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG5cbiAgICAgIGlmIChiaS50eXBlICYgRFlOQU1JQykge1xuICAgICAgICAvLyBPbmx5IGZvciBkeW5hbWljIGJvZGllc1xuICAgICAgICBjb25zdCBsZCA9IHBvdygxLjAgLSBiaS5saW5lYXJEYW1waW5nLCBkdCk7XG4gICAgICAgIGNvbnN0IHYgPSBiaS52ZWxvY2l0eTtcbiAgICAgICAgdi5zY2FsZShsZCwgdik7XG4gICAgICAgIGNvbnN0IGF2ID0gYmkuYW5ndWxhclZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChhdikge1xuICAgICAgICAgIGNvbnN0IGFkID0gcG93KDEuMCAtIGJpLmFuZ3VsYXJEYW1waW5nLCBkdCk7XG4gICAgICAgICAgYXYuc2NhbGUoYWQsIGF2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX3ByZVN0ZXBFdmVudCk7IC8vIEludm9rZSBwcmUtc3RlcCBjYWxsYmFja3NcblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG5cbiAgICAgIGlmIChiaS5wcmVTdGVwKSB7XG4gICAgICAgIGJpLnByZVN0ZXAuY2FsbChiaSk7XG4gICAgICB9XG4gICAgfSAvLyBMZWFwIGZyb2dcbiAgICAvLyB2bmV3ID0gdiArIGgqZi9tXG4gICAgLy8geG5ldyA9IHggKyBoKnZuZXdcblxuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cblxuICAgIGNvbnN0IHN0ZXBudW1iZXIgPSB0aGlzLnN0ZXBudW1iZXI7XG4gICAgY29uc3QgcXVhdE5vcm1hbGl6ZSA9IHN0ZXBudW1iZXIgJSAodGhpcy5xdWF0Tm9ybWFsaXplU2tpcCArIDEpID09PSAwO1xuICAgIGNvbnN0IHF1YXROb3JtYWxpemVGYXN0ID0gdGhpcy5xdWF0Tm9ybWFsaXplRmFzdDtcblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgYm9kaWVzW2ldLmludGVncmF0ZShkdCwgcXVhdE5vcm1hbGl6ZSwgcXVhdE5vcm1hbGl6ZUZhc3QpO1xuICAgIH1cblxuICAgIHRoaXMuY2xlYXJGb3JjZXMoKTtcbiAgICB0aGlzLmJyb2FkcGhhc2UuZGlydHkgPSB0cnVlO1xuXG4gICAgaWYgKGRvUHJvZmlsaW5nKSB7XG4gICAgICBwcm9maWxlLmludGVncmF0ZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7XG4gICAgfSAvLyBVcGRhdGUgd29ybGQgdGltZVxuXG5cbiAgICB0aGlzLnRpbWUgKz0gZHQ7XG4gICAgdGhpcy5zdGVwbnVtYmVyICs9IDE7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfcG9zdFN0ZXBFdmVudCk7IC8vIEludm9rZSBwb3N0LXN0ZXAgY2FsbGJhY2tzXG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuICAgICAgY29uc3QgcG9zdFN0ZXAgPSBiaS5wb3N0U3RlcDtcblxuICAgICAgaWYgKHBvc3RTdGVwKSB7XG4gICAgICAgIHBvc3RTdGVwLmNhbGwoYmkpO1xuICAgICAgfVxuICAgIH0gLy8gU2xlZXBpbmcgdXBkYXRlXG5cblxuICAgIGxldCBoYXNBY3RpdmVCb2RpZXMgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMuYWxsb3dTbGVlcCkge1xuICAgICAgaGFzQWN0aXZlQm9kaWVzID0gZmFsc2U7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcbiAgICAgICAgYmkuc2xlZXBUaWNrKHRoaXMudGltZSk7XG5cbiAgICAgICAgaWYgKGJpLnNsZWVwU3RhdGUgIT09IEJvZHkuU0xFRVBJTkcpIHtcbiAgICAgICAgICBoYXNBY3RpdmVCb2RpZXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5oYXNBY3RpdmVCb2RpZXMgPSBoYXNBY3RpdmVCb2RpZXM7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgYWxsIGJvZHkgZm9yY2VzIGluIHRoZSB3b3JsZCB0byB6ZXJvLlxuICAgKiBAbWV0aG9kIGNsZWFyRm9yY2VzXG4gICAqL1xuXG5cbiAgY2xlYXJGb3JjZXMoKSB7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7XG4gICAgY29uc3QgTiA9IGJvZGllcy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiID0gYm9kaWVzW2ldO1xuICAgICAgY29uc3QgZm9yY2UgPSBiLmZvcmNlO1xuICAgICAgY29uc3QgdGF1ID0gYi50b3JxdWU7XG4gICAgICBiLmZvcmNlLnNldCgwLCAwLCAwKTtcbiAgICAgIGIudG9ycXVlLnNldCgwLCAwLCAwKTtcbiAgICB9XG4gIH1cblxufSAvLyBUZW1wIHN0dWZmXG5cbmNvbnN0IHRtcEFBQkIxID0gbmV3IEFBQkIoKTtcbmNvbnN0IHRtcFJheSQxID0gbmV3IFJheSgpOyAvLyBwZXJmb3JtYW5jZS5ub3coKSBmYWxsYmFjayBvbiBEYXRlLm5vdygpXG5cbmNvbnN0IHBlcmZvcm1hbmNlID0gZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZSB8fCB7fTtcblxuaWYgKCFwZXJmb3JtYW5jZS5ub3cpIHtcbiAgbGV0IG5vd09mZnNldCA9IERhdGUubm93KCk7XG5cbiAgaWYgKHBlcmZvcm1hbmNlLnRpbWluZyAmJiBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSB7XG4gICAgbm93T2Zmc2V0ID0gcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydDtcbiAgfVxuXG4gIHBlcmZvcm1hbmNlLm5vdyA9ICgpID0+IERhdGUubm93KCkgLSBub3dPZmZzZXQ7XG59XG4vLyBSZXVzYWJsZSBldmVudCBvYmplY3RzIHRvIHNhdmUgbWVtb3J5LlxuXG5jb25zdCBXb3JsZF9zdGVwX3Bvc3RTdGVwRXZlbnQgPSB7XG4gIHR5cGU6ICdwb3N0U3RlcCdcbn07IC8vIERpc3BhdGNoZWQgYmVmb3JlIHRoZSB3b3JsZCBzdGVwcyBmb3J3YXJkIGluIHRpbWUuXG5cbmNvbnN0IFdvcmxkX3N0ZXBfcHJlU3RlcEV2ZW50ID0ge1xuICB0eXBlOiAncHJlU3RlcCdcbn07XG5jb25zdCBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCA9IHtcbiAgdHlwZTogQm9keS5DT0xMSURFX0VWRU5UX05BTUUsXG4gIGJvZHk6IG51bGwsXG4gIGNvbnRhY3Q6IG51bGxcbn07IC8vIFBvb2xzIGZvciB1bnVzZWQgb2JqZWN0c1xuXG5jb25zdCBXb3JsZF9zdGVwX29sZENvbnRhY3RzID0gW107XG5jb25zdCBXb3JsZF9zdGVwX2ZyaWN0aW9uRXF1YXRpb25Qb29sID0gW107IC8vIFJldXNhYmxlIGFycmF5cyBmb3IgY29sbGlzaW9uIHBhaXJzXG5cbmNvbnN0IFdvcmxkX3N0ZXBfcDEgPSBbXTtcbmNvbnN0IFdvcmxkX3N0ZXBfcDIgPSBbXTtcblxuV29ybGQucHJvdG90eXBlLmVtaXRDb250YWN0RXZlbnRzID0gKCgpID0+IHtcbiAgY29uc3QgYWRkaXRpb25zID0gW107XG4gIGNvbnN0IHJlbW92YWxzID0gW107XG4gIGNvbnN0IGJlZ2luQ29udGFjdEV2ZW50ID0ge1xuICAgIHR5cGU6ICdiZWdpbkNvbnRhY3QnLFxuICAgIGJvZHlBOiBudWxsLFxuICAgIGJvZHlCOiBudWxsXG4gIH07XG4gIGNvbnN0IGVuZENvbnRhY3RFdmVudCA9IHtcbiAgICB0eXBlOiAnZW5kQ29udGFjdCcsXG4gICAgYm9keUE6IG51bGwsXG4gICAgYm9keUI6IG51bGxcbiAgfTtcbiAgY29uc3QgYmVnaW5TaGFwZUNvbnRhY3RFdmVudCA9IHtcbiAgICB0eXBlOiAnYmVnaW5TaGFwZUNvbnRhY3QnLFxuICAgIGJvZHlBOiBudWxsLFxuICAgIGJvZHlCOiBudWxsLFxuICAgIHNoYXBlQTogbnVsbCxcbiAgICBzaGFwZUI6IG51bGxcbiAgfTtcbiAgY29uc3QgZW5kU2hhcGVDb250YWN0RXZlbnQgPSB7XG4gICAgdHlwZTogJ2VuZFNoYXBlQ29udGFjdCcsXG4gICAgYm9keUE6IG51bGwsXG4gICAgYm9keUI6IG51bGwsXG4gICAgc2hhcGVBOiBudWxsLFxuICAgIHNoYXBlQjogbnVsbFxuICB9O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGhhc0JlZ2luQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignYmVnaW5Db250YWN0Jyk7XG4gICAgY29uc3QgaGFzRW5kQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignZW5kQ29udGFjdCcpO1xuXG4gICAgaWYgKGhhc0JlZ2luQ29udGFjdCB8fCBoYXNFbmRDb250YWN0KSB7XG4gICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLmdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscyk7XG4gICAgfVxuXG4gICAgaWYgKGhhc0JlZ2luQ29udGFjdCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhZGRpdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7XG4gICAgICAgIGJlZ2luQ29udGFjdEV2ZW50LmJvZHlBID0gdGhpcy5nZXRCb2R5QnlJZChhZGRpdGlvbnNbaV0pO1xuICAgICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QiA9IHRoaXMuZ2V0Qm9keUJ5SWQoYWRkaXRpb25zW2kgKyAxXSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiZWdpbkNvbnRhY3RFdmVudCk7XG4gICAgICB9XG5cbiAgICAgIGJlZ2luQ29udGFjdEV2ZW50LmJvZHlBID0gYmVnaW5Db250YWN0RXZlbnQuYm9keUIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChoYXNFbmRDb250YWN0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbW92YWxzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICBlbmRDb250YWN0RXZlbnQuYm9keUEgPSB0aGlzLmdldEJvZHlCeUlkKHJlbW92YWxzW2ldKTtcbiAgICAgICAgZW5kQ29udGFjdEV2ZW50LmJvZHlCID0gdGhpcy5nZXRCb2R5QnlJZChyZW1vdmFsc1tpICsgMV0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZW5kQ29udGFjdEV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgZW5kQ29udGFjdEV2ZW50LmJvZHlBID0gZW5kQ29udGFjdEV2ZW50LmJvZHlCID0gbnVsbDtcbiAgICB9XG5cbiAgICBhZGRpdGlvbnMubGVuZ3RoID0gcmVtb3ZhbHMubGVuZ3RoID0gMDtcbiAgICBjb25zdCBoYXNCZWdpblNoYXBlQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignYmVnaW5TaGFwZUNvbnRhY3QnKTtcbiAgICBjb25zdCBoYXNFbmRTaGFwZUNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2VuZFNoYXBlQ29udGFjdCcpO1xuXG4gICAgaWYgKGhhc0JlZ2luU2hhcGVDb250YWN0IHx8IGhhc0VuZFNoYXBlQ29udGFjdCkge1xuICAgICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIuZ2V0RGlmZihhZGRpdGlvbnMsIHJlbW92YWxzKTtcbiAgICB9XG5cbiAgICBpZiAoaGFzQmVnaW5TaGFwZUNvbnRhY3QpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWRkaXRpb25zLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICBjb25zdCBzaGFwZUEgPSB0aGlzLmdldFNoYXBlQnlJZChhZGRpdGlvbnNbaV0pO1xuICAgICAgICBjb25zdCBzaGFwZUIgPSB0aGlzLmdldFNoYXBlQnlJZChhZGRpdGlvbnNbaSArIDFdKTtcbiAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBzaGFwZUE7XG4gICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gc2hhcGVCO1xuICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gc2hhcGVBLmJvZHk7XG4gICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBzaGFwZUIuYm9keTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGJlZ2luU2hhcGVDb250YWN0RXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChoYXNFbmRTaGFwZUNvbnRhY3QpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcmVtb3ZhbHMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlQSA9IHRoaXMuZ2V0U2hhcGVCeUlkKHJlbW92YWxzW2ldKTtcbiAgICAgICAgY29uc3Qgc2hhcGVCID0gdGhpcy5nZXRTaGFwZUJ5SWQocmVtb3ZhbHNbaSArIDFdKTtcbiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gc2hhcGVBO1xuICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBzaGFwZUI7XG4gICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gc2hhcGVBLmJvZHk7XG4gICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gc2hhcGVCLmJvZHk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlbmRTaGFwZUNvbnRhY3RFdmVudCk7XG4gICAgICB9XG5cbiAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBudWxsO1xuICAgIH1cbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IEFBQkIsIEFycmF5Q29sbGlzaW9uTWF0cml4LCBCT0RZX1NMRUVQX1NUQVRFUywgQk9EWV9UWVBFUywgQm9keSwgQm94LCBCcm9hZHBoYXNlLCBDT0xMSVNJT05fVFlQRVMsIENvbmVUd2lzdENvbnN0cmFpbnQsIENvbnN0cmFpbnQsIENvbnRhY3RFcXVhdGlvbiwgQ29udGFjdE1hdGVyaWFsLCBDb252ZXhQb2x5aGVkcm9uLCBDeWxpbmRlciwgRGlzdGFuY2VDb25zdHJhaW50LCBFcXVhdGlvbiwgRXZlbnRUYXJnZXQsIEZyaWN0aW9uRXF1YXRpb24sIEdTU29sdmVyLCBHcmlkQnJvYWRwaGFzZSwgSGVpZ2h0ZmllbGQsIEhpbmdlQ29uc3RyYWludCwgSmFjb2JpYW5FbGVtZW50LCBMb2NrQ29uc3RyYWludCwgTWF0MywgTWF0ZXJpYWwsIE5haXZlQnJvYWRwaGFzZSwgTmFycm93cGhhc2UsIE9iamVjdENvbGxpc2lvbk1hdHJpeCwgUGFydGljbGUsIFBsYW5lLCBQb2ludFRvUG9pbnRDb25zdHJhaW50LCBQb29sLCBRdWF0ZXJuaW9uLCBSQVlfTU9ERVMsIFJheSwgUmF5Y2FzdFJlc3VsdCwgUmF5Y2FzdFZlaGljbGUsIFJpZ2lkVmVoaWNsZSwgUm90YXRpb25hbEVxdWF0aW9uLCBSb3RhdGlvbmFsTW90b3JFcXVhdGlvbiwgU0FQQnJvYWRwaGFzZSwgU0hBUEVfVFlQRVMsIFNQSFN5c3RlbSwgU2hhcGUsIFNvbHZlciwgU3BoZXJlLCBTcGxpdFNvbHZlciwgU3ByaW5nLCBUcmFuc2Zvcm0sIFRyaW1lc2gsIFZlYzMsIFZlYzNQb29sLCBXb3JsZCB9O1xuIiwiaW1wb3J0IHtcbiAgV29ybGQsXG4gIE5haXZlQnJvYWRwaGFzZSxcbiAgU0FQQnJvYWRwaGFzZSxcbiAgQm9keSxcbiAgUGxhbmUsXG4gIEJveCxcbiAgVmVjMyxcbiAgQ29udmV4UG9seWhlZHJvbixcbiAgQ3lsaW5kZXIsXG4gIEhlaWdodGZpZWxkLFxuICBQYXJ0aWNsZSxcbiAgU3BoZXJlLFxuICBUcmltZXNoLFxuICBQb2ludFRvUG9pbnRDb25zdHJhaW50LFxuICBDb25lVHdpc3RDb25zdHJhaW50LFxuICBIaW5nZUNvbnN0cmFpbnQsXG4gIERpc3RhbmNlQ29uc3RyYWludCxcbiAgTG9ja0NvbnN0cmFpbnQsXG4gIENvbnN0cmFpbnQsXG4gIFNwcmluZyxcbiAgTWF0ZXJpYWwsXG4gIFF1YXRlcm5pb24sXG4gIFJheSxcbiAgUmF5Y2FzdFJlc3VsdCxcbiAgUmF5Y2FzdFZlaGljbGUsXG59IGZyb20gJ2Nhbm5vbi1lcydcblxubGV0IGJvZGllcyA9IHt9XG5jb25zdCB2ZWhpY2xlcyA9IHt9XG5jb25zdCBzcHJpbmdzID0ge31cbmNvbnN0IHNwcmluZ0luc3RhbmNlcyA9IHt9XG5jb25zdCByYXlzID0ge31cbmNvbnN0IHdvcmxkID0gbmV3IFdvcmxkKClcbmNvbnN0IGNvbmZpZyA9IHsgc3RlcDogMSAvIDYwIH1cbmNvbnN0IHN1YnNjcmlwdGlvbnMgPSB7fVxuY29uc3QgdGVtcFZlY3RvciA9IG5ldyBWZWMzKClcblxuZnVuY3Rpb24gY3JlYXRlU2hhcGUodHlwZSwgYXJncykge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdCb3gnOlxuICAgICAgcmV0dXJuIG5ldyBCb3gobmV3IFZlYzMoLi4uYXJncy5tYXAoKHYpID0+IHYgLyAyKSkpIC8vIGV4dGVudHMgPT4gaGFsZkV4dGVudHNcbiAgICBjYXNlICdDb252ZXhQb2x5aGVkcm9uJzpcbiAgICAgIGNvbnN0IFt2LCBmLCBuXSA9IGFyZ3NcbiAgICAgIHJldHVybiBuZXcgQ29udmV4UG9seWhlZHJvbih7XG4gICAgICAgIHZlcnRpY2VzOiB2Lm1hcCgoW3gsIHksIHpdKSA9PiBuZXcgVmVjMyh4LCB5LCB6KSksXG4gICAgICAgIG5vcm1hbHM6IG4gPyBuLm1hcCgoW3gsIHksIHpdKSA9PiBuZXcgVmVjMyh4LCB5LCB6KSkgOiBudWxsLFxuICAgICAgICBmYWNlczogZixcbiAgICAgIH0pXG4gICAgY2FzZSAnQ3lsaW5kZXInOlxuICAgICAgcmV0dXJuIG5ldyBDeWxpbmRlciguLi5hcmdzKSAvLyBbIHJhZGl1c1RvcCwgcmFkaXVzQm90dG9tLCBoZWlnaHQsIG51bVNlZ21lbnRzIF0gPSBhcmdzXG4gICAgY2FzZSAnSGVpZ2h0ZmllbGQnOlxuICAgICAgcmV0dXJuIG5ldyBIZWlnaHRmaWVsZCguLi5hcmdzKSAvLyBbIEFycmF5IGRhdGEsIG9wdGlvbnM6IHttaW5WYWx1ZSwgbWF4VmFsdWUsIGVsZW1lbnRTaXplfSAgXSA9IGFyZ3NcbiAgICBjYXNlICdQYXJ0aWNsZSc6XG4gICAgICByZXR1cm4gbmV3IFBhcnRpY2xlKCkgLy8gbm8gYXJnc1xuICAgIGNhc2UgJ1BsYW5lJzpcbiAgICAgIHJldHVybiBuZXcgUGxhbmUoKSAvLyBubyBhcmdzLCBpbmZpbml0ZSB4IGFuZCB5XG4gICAgY2FzZSAnU3BoZXJlJzpcbiAgICAgIHJldHVybiBuZXcgU3BoZXJlKC4uLmFyZ3MpIC8vIFtyYWRpdXNdID0gYXJnc1xuICAgIGNhc2UgJ1RyaW1lc2gnOlxuICAgICAgcmV0dXJuIG5ldyBUcmltZXNoKC4uLmFyZ3MpIC8vIFt2ZXJ0aWNlcywgaW5kaWNlc10gPSBhcmdzXG4gIH1cbn1cblxubGV0IGJvZGllc05lZWRTeW5jaW5nID0gZmFsc2VcblxuZnVuY3Rpb24gc3luY0JvZGllcygpIHtcbiAgYm9kaWVzTmVlZFN5bmNpbmcgPSB0cnVlXG4gIGJvZGllcyA9IHdvcmxkLmJvZGllcy5yZWR1Y2UoKGFjYywgYm9keSkgPT4gKHsgLi4uYWNjLCBbYm9keS51dWlkXTogYm9keSB9KSwge30pXG59XG5cbmxldCBsYXN0Q2FsbFRpbWVcbnNlbGYub25tZXNzYWdlID0gKGUpID0+IHtcbiAgY29uc3QgeyBvcCwgdXVpZCwgdHlwZSwgcG9zaXRpb25zLCBxdWF0ZXJuaW9ucywgcHJvcHMgfSA9IGUuZGF0YVxuXG4gIHN3aXRjaCAob3ApIHtcbiAgICBjYXNlICdpbml0Jzoge1xuICAgICAgY29uc3Qge1xuICAgICAgICBncmF2aXR5LFxuICAgICAgICB0b2xlcmFuY2UsXG4gICAgICAgIHN0ZXAsXG4gICAgICAgIGl0ZXJhdGlvbnMsXG4gICAgICAgIGFsbG93U2xlZXAsXG4gICAgICAgIGJyb2FkcGhhc2UsXG4gICAgICAgIGF4aXNJbmRleCxcbiAgICAgICAgZGVmYXVsdENvbnRhY3RNYXRlcmlhbCxcbiAgICAgIH0gPSBwcm9wc1xuICAgICAgY29uc3QgYnJvYWRwaGFzZXMgPSB7IE5haXZlQnJvYWRwaGFzZSwgU0FQQnJvYWRwaGFzZSB9XG4gICAgICB3b3JsZC5hbGxvd1NsZWVwID0gYWxsb3dTbGVlcFxuICAgICAgd29ybGQuZ3Jhdml0eS5zZXQoZ3Jhdml0eVswXSwgZ3Jhdml0eVsxXSwgZ3Jhdml0eVsyXSlcbiAgICAgIHdvcmxkLnNvbHZlci50b2xlcmFuY2UgPSB0b2xlcmFuY2VcbiAgICAgIHdvcmxkLnNvbHZlci5pdGVyYXRpb25zID0gaXRlcmF0aW9uc1xuICAgICAgd29ybGQuYnJvYWRwaGFzZSA9IG5ldyAoYnJvYWRwaGFzZXNbYnJvYWRwaGFzZSArICdCcm9hZHBoYXNlJ10gfHwgTmFpdmVCcm9hZHBoYXNlKSh3b3JsZClcbiAgICAgIHdvcmxkLmJyb2FkcGhhc2UuYXhpc0luZGV4ID0gYXhpc0luZGV4ID8/IDBcbiAgICAgIE9iamVjdC5hc3NpZ24od29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCwgZGVmYXVsdENvbnRhY3RNYXRlcmlhbClcbiAgICAgIGNvbmZpZy5zdGVwID0gc3RlcFxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnc3RlcCc6IHtcbiAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpIC8gMTAwMFxuICAgICAgaWYgKCFsYXN0Q2FsbFRpbWUpIHtcbiAgICAgICAgd29ybGQuc3RlcChjb25maWcuc3RlcClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RDYWxsID0gbm93IC0gbGFzdENhbGxUaW1lXG4gICAgICAgIHdvcmxkLnN0ZXAoY29uZmlnLnN0ZXAsIHRpbWVTaW5jZUxhc3RDYWxsKVxuICAgICAgfVxuICAgICAgbGFzdENhbGxUaW1lID0gbm93XG5cbiAgICAgIGNvbnN0IG51bWJlck9mQm9kaWVzID0gd29ybGQuYm9kaWVzLmxlbmd0aFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkJvZGllczsgaSsrKSB7XG4gICAgICAgIGxldCBiID0gd29ybGQuYm9kaWVzW2ldLFxuICAgICAgICAgIHAgPSBiLnBvc2l0aW9uLFxuICAgICAgICAgIHEgPSBiLnF1YXRlcm5pb25cbiAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMF0gPSBwLnhcbiAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMV0gPSBwLnlcbiAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMl0gPSBwLnpcbiAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAwXSA9IHEueFxuICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDFdID0gcS55XG4gICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMl0gPSBxLnpcbiAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAzXSA9IHEud1xuICAgICAgfVxuICAgICAgY29uc3Qgb2JzZXJ2YXRpb25zID0gW11cbiAgICAgIGZvciAoY29uc3QgaWQgb2YgT2JqZWN0LmtleXMoc3Vic2NyaXB0aW9ucykpIHtcbiAgICAgICAgY29uc3QgW3V1aWQsIHR5cGVdID0gc3Vic2NyaXB0aW9uc1tpZF1cbiAgICAgICAgbGV0IHZhbHVlID0gYm9kaWVzW3V1aWRdW3R5cGVdXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFZlYzMpIHZhbHVlID0gdmFsdWUudG9BcnJheSgpXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgUXVhdGVybmlvbikge1xuICAgICAgICAgIHZhbHVlLnRvRXVsZXIodGVtcFZlY3RvcilcbiAgICAgICAgICB2YWx1ZSA9IHRlbXBWZWN0b3IudG9BcnJheSgpXG4gICAgICAgIH1cbiAgICAgICAgb2JzZXJ2YXRpb25zLnB1c2goW2lkLCB2YWx1ZV0pXG4gICAgICB9XG4gICAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICBvcDogJ2ZyYW1lJyxcbiAgICAgICAgcG9zaXRpb25zLFxuICAgICAgICBxdWF0ZXJuaW9ucyxcbiAgICAgICAgb2JzZXJ2YXRpb25zLFxuICAgICAgICBhY3RpdmU6IHdvcmxkLmhhc0FjdGl2ZUJvZGllcyxcbiAgICAgIH1cbiAgICAgIGlmIChib2RpZXNOZWVkU3luY2luZykge1xuICAgICAgICBtZXNzYWdlLmJvZGllcyA9IHdvcmxkLmJvZGllcy5tYXAoKGJvZHkpID0+IGJvZHkudXVpZClcbiAgICAgICAgYm9kaWVzTmVlZFN5bmNpbmcgPSBmYWxzZVxuICAgICAgfVxuICAgICAgc2VsZi5wb3N0TWVzc2FnZShtZXNzYWdlLCBbcG9zaXRpb25zLmJ1ZmZlciwgcXVhdGVybmlvbnMuYnVmZmVyXSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ2FkZEJvZGllcyc6IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXVpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgYXJncyA9IFtdLFxuICAgICAgICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdLFxuICAgICAgICAgIHJvdGF0aW9uID0gWzAsIDAsIDBdLFxuICAgICAgICAgIHNjYWxlID0gWzEsIDEsIDFdLFxuICAgICAgICAgIHZlbG9jaXR5ID0gWzAsIDAsIDBdLFxuICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eSA9IFswLCAwLCAwXSxcbiAgICAgICAgICBsaW5lYXJGYWN0b3IgPSBbMSwgMSwgMV0sXG4gICAgICAgICAgYW5ndWxhckZhY3RvciA9IFsxLCAxLCAxXSxcbiAgICAgICAgICB0eXBlOiBib2R5VHlwZSxcbiAgICAgICAgICBtYXNzLFxuICAgICAgICAgIG1hdGVyaWFsLFxuICAgICAgICAgIHNoYXBlcyxcbiAgICAgICAgICBvbkNvbGxpZGUsXG4gICAgICAgICAgY29sbGlzaW9uUmVzcG9uc2UsXG4gICAgICAgICAgLi4uZXh0cmFcbiAgICAgICAgfSA9IHByb3BzW2ldXG5cbiAgICAgICAgY29uc3QgYm9keSA9IG5ldyBCb2R5KHtcbiAgICAgICAgICAuLi5leHRyYSxcbiAgICAgICAgICBtYXNzOiBib2R5VHlwZSA9PT0gJ1N0YXRpYycgPyAwIDogbWFzcyxcbiAgICAgICAgICB0eXBlOiBib2R5VHlwZSA/IEJvZHlbYm9keVR5cGUudG9VcHBlckNhc2UoKV0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgbWF0ZXJpYWw6IG1hdGVyaWFsID8gbmV3IE1hdGVyaWFsKG1hdGVyaWFsKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSlcbiAgICAgICAgYm9keS51dWlkID0gdXVpZFtpXVxuXG4gICAgICAgIGlmIChjb2xsaXNpb25SZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYm9keS5jb2xsaXNpb25SZXNwb25zZSA9IGNvbGxpc2lvblJlc3BvbnNlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PT0gJ0NvbXBvdW5kJykge1xuICAgICAgICAgIHNoYXBlcy5mb3JFYWNoKCh7IHR5cGUsIGFyZ3MsIHBvc2l0aW9uLCByb3RhdGlvbiwgbWF0ZXJpYWwsIC4uLmV4dHJhIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlQm9keSA9IGJvZHkuYWRkU2hhcGUoXG4gICAgICAgICAgICAgIGNyZWF0ZVNoYXBlKHR5cGUsIGFyZ3MpLFxuICAgICAgICAgICAgICBwb3NpdGlvbiA/IG5ldyBWZWMzKC4uLnBvc2l0aW9uKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgcm90YXRpb24gPyBuZXcgUXVhdGVybmlvbigpLnNldEZyb21FdWxlciguLi5yb3RhdGlvbikgOiB1bmRlZmluZWRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChtYXRlcmlhbCkgc2hhcGVCb2R5Lm1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKG1hdGVyaWFsKVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzaGFwZUJvZHksIGV4dHJhKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYm9keS5hZGRTaGFwZShjcmVhdGVTaGFwZSh0eXBlLCBhcmdzKSlcbiAgICAgICAgfVxuXG4gICAgICAgIGJvZHkucG9zaXRpb24uc2V0KHBvc2l0aW9uWzBdLCBwb3NpdGlvblsxXSwgcG9zaXRpb25bMl0pXG4gICAgICAgIGJvZHkucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIocm90YXRpb25bMF0sIHJvdGF0aW9uWzFdLCByb3RhdGlvblsyXSlcbiAgICAgICAgYm9keS52ZWxvY2l0eS5zZXQodmVsb2NpdHlbMF0sIHZlbG9jaXR5WzFdLCB2ZWxvY2l0eVsyXSlcbiAgICAgICAgYm9keS5hbmd1bGFyVmVsb2NpdHkuc2V0KGFuZ3VsYXJWZWxvY2l0eVswXSwgYW5ndWxhclZlbG9jaXR5WzFdLCBhbmd1bGFyVmVsb2NpdHlbMl0pXG4gICAgICAgIGJvZHkubGluZWFyRmFjdG9yLnNldChsaW5lYXJGYWN0b3JbMF0sIGxpbmVhckZhY3RvclsxXSwgbGluZWFyRmFjdG9yWzJdKVxuICAgICAgICBib2R5LmFuZ3VsYXJGYWN0b3Iuc2V0KGFuZ3VsYXJGYWN0b3JbMF0sIGFuZ3VsYXJGYWN0b3JbMV0sIGFuZ3VsYXJGYWN0b3JbMl0pXG4gICAgICAgIHdvcmxkLmFkZEJvZHkoYm9keSlcblxuICAgICAgICBpZiAob25Db2xsaWRlKVxuICAgICAgICAgIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY29sbGlkZScsICh7IHR5cGUsIGJvZHksIHRhcmdldCwgY29udGFjdCB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG5pLCByaSwgcmogfSA9IGNvbnRhY3RcbiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICBvcDogJ2V2ZW50JyxcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgYm9keTogYm9keS51dWlkLFxuICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldC51dWlkLFxuICAgICAgICAgICAgICBjb250YWN0OiB7XG4gICAgICAgICAgICAgICAgbmk6IG5pLnRvQXJyYXkoKSxcbiAgICAgICAgICAgICAgICByaTogcmkudG9BcnJheSgpLFxuICAgICAgICAgICAgICAgIHJqOiByai50b0FycmF5KCksXG4gICAgICAgICAgICAgICAgaW1wYWN0VmVsb2NpdHk6IGNvbnRhY3QuZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCgpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJzOiB7XG4gICAgICAgICAgICAgICAgYm9keUZpbHRlckdyb3VwOiBib2R5LmNvbGxpc2lvbkZpbHRlckdyb3VwLFxuICAgICAgICAgICAgICAgIGJvZHlGaWx0ZXJNYXNrOiBib2R5LmNvbGxpc2lvbkZpbHRlck1hc2ssXG4gICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyR3JvdXA6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJHcm91cCxcbiAgICAgICAgICAgICAgICB0YXJnZXRGaWx0ZXJNYXNrOiB0YXJnZXQuY29sbGlzaW9uRmlsdGVyTWFzayxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHN5bmNCb2RpZXMoKVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAncmVtb3ZlQm9kaWVzJzoge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1dWlkLmxlbmd0aDsgaSsrKSB3b3JsZC5yZW1vdmVCb2R5KGJvZGllc1t1dWlkW2ldXSlcbiAgICAgIHN5bmNCb2RpZXMoKVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnc3Vic2NyaWJlJzoge1xuICAgICAgY29uc3QgeyBpZCwgdHlwZSB9ID0gcHJvcHNcbiAgICAgIHN1YnNjcmlwdGlvbnNbaWRdID0gW3V1aWQsIHR5cGVdXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICd1bnN1YnNjcmliZSc6IHtcbiAgICAgIGRlbGV0ZSBzdWJzY3JpcHRpb25zW3Byb3BzXVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnc2V0UG9zaXRpb24nOlxuICAgICAgYm9kaWVzW3V1aWRdLnBvc2l0aW9uLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRRdWF0ZXJuaW9uJzpcbiAgICAgIGJvZGllc1t1dWlkXS5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRWZWxvY2l0eSc6XG4gICAgICBib2RpZXNbdXVpZF0udmVsb2NpdHkuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldEFuZ3VsYXJWZWxvY2l0eSc6XG4gICAgICBib2RpZXNbdXVpZF0uYW5ndWxhclZlbG9jaXR5LnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRMaW5lYXJGYWN0b3InOlxuICAgICAgYm9kaWVzW3V1aWRdLmxpbmVhckZhY3Rvci5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0QW5ndWxhckZhY3Rvcic6XG4gICAgICBib2RpZXNbdXVpZF0uYW5ndWxhckZhY3Rvci5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0TWFzcyc6XG4gICAgICAvLyBhc3N1bWUgdGhhdCBhbiB1cGRhdGUgZnJvbSB6ZXJvLW1hc3MgaW1wbGllcyBhIG5lZWQgZm9yIGR5bmFtaWNzIG9uIHN0YXRpYyBvYmouXG4gICAgICBpZiAocHJvcHMgIT09IDAgJiYgYm9kaWVzW3V1aWRdLnR5cGUgPT09IDApIGJvZGllc1t1dWlkXS50eXBlID0gMVxuICAgICAgYm9kaWVzW3V1aWRdLm1hc3MgPSBwcm9wc1xuICAgICAgYm9kaWVzW3V1aWRdLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0TGluZWFyRGFtcGluZyc6XG4gICAgICBib2RpZXNbdXVpZF0ubGluZWFyRGFtcGluZyA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldEFuZ3VsYXJEYW1waW5nJzpcbiAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyRGFtcGluZyA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldEFsbG93U2xlZXAnOlxuICAgICAgYm9kaWVzW3V1aWRdLmFsbG93U2xlZXAgPSBwcm9wc1xuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRTbGVlcFNwZWVkTGltaXQnOlxuICAgICAgYm9kaWVzW3V1aWRdLnNsZWVwU3BlZWRMaW1pdCA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldFNsZWVwVGltZUxpbWl0JzpcbiAgICAgIGJvZGllc1t1dWlkXS5zbGVlcFRpbWVMaW1pdCA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlckdyb3VwJzpcbiAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlck1hc2snOlxuICAgICAgYm9kaWVzW3V1aWRdLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBwcm9wc1xuICAgICAgYnJlYWtcbiAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJNYXNrJzpcbiAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJNYXNrID0gcHJvcHNcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0Q29sbGlzaW9uUmVzcG9uc2UnOlxuICAgICAgYm9kaWVzW3V1aWRdLmNvbGxpc2lvblJlc3BvbnNlID0gcHJvcHNcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2V0Rml4ZWRSb3RhdGlvbic6XG4gICAgICBib2RpZXNbdXVpZF0uZml4ZWRSb3RhdGlvbiA9IHByb3BzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2FwcGx5Rm9yY2UnOlxuICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5Rm9yY2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2FwcGx5SW1wdWxzZSc6XG4gICAgICBib2RpZXNbdXVpZF0uYXBwbHlJbXB1bHNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdhcHBseUxvY2FsRm9yY2UnOlxuICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5TG9jYWxGb3JjZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYXBwbHlMb2NhbEltcHVsc2UnOlxuICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5TG9jYWxJbXB1bHNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdhZGRDb25zdHJhaW50Jzoge1xuICAgICAgY29uc3QgW2JvZHlBLCBib2R5Qiwgb3B0bnNdID0gcHJvcHNcbiAgICAgIGxldCB7IHBpdm90QSwgcGl2b3RCLCBheGlzQSwgYXhpc0IsIC4uLm9wdGlvbnMgfSA9IG9wdG5zXG5cbiAgICAgIC8vIGlzIHRoZXJlIGEgYmV0dGVyIHdheSB0byBlbmZvcmNlIGRlZmF1bHRzP1xuICAgICAgcGl2b3RBID0gQXJyYXkuaXNBcnJheShwaXZvdEEpID8gbmV3IFZlYzMoLi4ucGl2b3RBKSA6IHVuZGVmaW5lZFxuICAgICAgcGl2b3RCID0gQXJyYXkuaXNBcnJheShwaXZvdEIpID8gbmV3IFZlYzMoLi4ucGl2b3RCKSA6IHVuZGVmaW5lZFxuICAgICAgYXhpc0EgPSBBcnJheS5pc0FycmF5KGF4aXNBKSA/IG5ldyBWZWMzKC4uLmF4aXNBKSA6IHVuZGVmaW5lZFxuICAgICAgYXhpc0IgPSBBcnJheS5pc0FycmF5KGF4aXNCKSA/IG5ldyBWZWMzKC4uLmF4aXNCKSA6IHVuZGVmaW5lZFxuXG4gICAgICBsZXQgY29uc3RyYWludFxuXG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnUG9pbnRUb1BvaW50JzpcbiAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IFBvaW50VG9Qb2ludENvbnN0cmFpbnQoXG4gICAgICAgICAgICBib2RpZXNbYm9keUFdLFxuICAgICAgICAgICAgcGl2b3RBLFxuICAgICAgICAgICAgYm9kaWVzW2JvZHlCXSxcbiAgICAgICAgICAgIHBpdm90QixcbiAgICAgICAgICAgIG9wdG5zLm1heEZvcmNlXG4gICAgICAgICAgKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ0NvbmVUd2lzdCc6XG4gICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25lVHdpc3RDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIHtcbiAgICAgICAgICAgIHBpdm90QSxcbiAgICAgICAgICAgIHBpdm90QixcbiAgICAgICAgICAgIGF4aXNBLFxuICAgICAgICAgICAgYXhpc0IsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnSGluZ2UnOlxuICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgSGluZ2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIHtcbiAgICAgICAgICAgIHBpdm90QSxcbiAgICAgICAgICAgIHBpdm90QixcbiAgICAgICAgICAgIGF4aXNBLFxuICAgICAgICAgICAgYXhpc0IsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnRGlzdGFuY2UnOlxuICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgRGlzdGFuY2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zLmRpc3RhbmNlLCBvcHRucy5tYXhGb3JjZSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdMb2NrJzpcbiAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IExvY2tDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBjb25zdHJhaW50LnV1aWQgPSB1dWlkXG4gICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdyZW1vdmVDb25zdHJhaW50JzpcbiAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoeyB1dWlkOiB0aGlzSWQgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoKGMpID0+IHdvcmxkLnJlbW92ZUNvbnN0cmFpbnQoYykpXG4gICAgICBicmVha1xuXG4gICAgY2FzZSAnZW5hYmxlQ29uc3RyYWludCc6XG4gICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsgdXVpZDogdGhpc0lkIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKChjKSA9PiBjLmVuYWJsZSgpKVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ2Rpc2FibGVDb25zdHJhaW50JzpcbiAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoeyB1dWlkOiB0aGlzSWQgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoKGMpID0+IGMuZGlzYWJsZSgpKVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ2VuYWJsZUNvbnN0cmFpbnRNb3Rvcic6XG4gICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsgdXVpZDogdGhpc0lkIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKChjKSA9PiBjLmVuYWJsZU1vdG9yKCkpXG4gICAgICBicmVha1xuXG4gICAgY2FzZSAnZGlzYWJsZUNvbnN0cmFpbnRNb3Rvcic6XG4gICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsgdXVpZDogdGhpc0lkIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKChjKSA9PiBjLmRpc2FibGVNb3RvcigpKVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ3NldENvbnN0cmFpbnRNb3RvclNwZWVkJzpcbiAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoeyB1dWlkOiB0aGlzSWQgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoKGMpID0+IGMuc2V0TW90b3JTcGVlZChwcm9wcykpXG4gICAgICBicmVha1xuXG4gICAgY2FzZSAnc2V0Q29uc3RyYWludE1vdG9yTWF4Rm9yY2UnOlxuICAgICAgd29ybGQuY29uc3RyYWludHMuZmlsdGVyKCh7IHV1aWQ6IHRoaXNJZCB9KSA9PiB0aGlzSWQgPT09IHV1aWQpLm1hcCgoYykgPT4gYy5zZXRNb3Rvck1heEZvcmNlKHByb3BzKSlcbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlICdhZGRTcHJpbmcnOiB7XG4gICAgICBjb25zdCBbYm9keUEsIGJvZHlCLCBvcHRuc10gPSBwcm9wc1xuICAgICAgbGV0IHsgd29ybGRBbmNob3JBLCB3b3JsZEFuY2hvckIsIGxvY2FsQW5jaG9yQSwgbG9jYWxBbmNob3JCLCByZXN0TGVuZ3RoLCBzdGlmZm5lc3MsIGRhbXBpbmcgfSA9IG9wdG5zXG5cbiAgICAgIHdvcmxkQW5jaG9yQSA9IEFycmF5LmlzQXJyYXkod29ybGRBbmNob3JBKSA/IG5ldyBWZWMzKC4uLndvcmxkQW5jaG9yQSkgOiB1bmRlZmluZWRcbiAgICAgIHdvcmxkQW5jaG9yQiA9IEFycmF5LmlzQXJyYXkod29ybGRBbmNob3JCKSA/IG5ldyBWZWMzKC4uLndvcmxkQW5jaG9yQikgOiB1bmRlZmluZWRcbiAgICAgIGxvY2FsQW5jaG9yQSA9IEFycmF5LmlzQXJyYXkobG9jYWxBbmNob3JBKSA/IG5ldyBWZWMzKC4uLmxvY2FsQW5jaG9yQSkgOiB1bmRlZmluZWRcbiAgICAgIGxvY2FsQW5jaG9yQiA9IEFycmF5LmlzQXJyYXkobG9jYWxBbmNob3JCKSA/IG5ldyBWZWMzKC4uLmxvY2FsQW5jaG9yQikgOiB1bmRlZmluZWRcblxuICAgICAgbGV0IHNwcmluZyA9IG5ldyBTcHJpbmcoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwge1xuICAgICAgICB3b3JsZEFuY2hvckEsXG4gICAgICAgIHdvcmxkQW5jaG9yQixcbiAgICAgICAgbG9jYWxBbmNob3JBLFxuICAgICAgICBsb2NhbEFuY2hvckIsXG4gICAgICAgIHJlc3RMZW5ndGgsXG4gICAgICAgIHN0aWZmbmVzcyxcbiAgICAgICAgZGFtcGluZyxcbiAgICAgIH0pXG5cbiAgICAgIHNwcmluZy51dWlkID0gdXVpZFxuXG4gICAgICBsZXQgcG9zdFN0ZXBTcHJpbmcgPSAoZSkgPT4gc3ByaW5nLmFwcGx5Rm9yY2UoKVxuXG4gICAgICBzcHJpbmdzW3V1aWRdID0gcG9zdFN0ZXBTcHJpbmdcbiAgICAgIHNwcmluZ0luc3RhbmNlc1t1dWlkXSA9IHNwcmluZ1xuXG4gICAgICAvLyBDb21wdXRlIHRoZSBmb3JjZSBhZnRlciBlYWNoIHN0ZXBcbiAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgc3ByaW5nc1t1dWlkXSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ3NldFNwcmluZ1N0aWZmbmVzcyc6IHtcbiAgICAgIHNwcmluZ0luc3RhbmNlc1t1dWlkXS5zdGlmZm5lc3MgPSBwcm9wc1xuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnc2V0U3ByaW5nUmVzdExlbmd0aCc6IHtcbiAgICAgIHNwcmluZ0luc3RhbmNlc1t1dWlkXS5yZXN0TGVuZ3RoID0gcHJvcHNcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ3NldFNwcmluZ0RhbXBpbmcnOiB7XG4gICAgICBzcHJpbmdJbnN0YW5jZXNbdXVpZF0uZGFtcGluZyA9IHByb3BzXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdyZW1vdmVTcHJpbmcnOiB7XG4gICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3N0U3RlcCcsIHNwcmluZ3NbdXVpZF0pXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdhZGRSYXknOiB7XG4gICAgICBjb25zdCB7IGZyb20sIHRvLCAuLi5vcHRpb25zIH0gPSBwcm9wc1xuICAgICAgY29uc3QgcmF5ID0gbmV3IFJheShmcm9tID8gbmV3IFZlYzMoLi4uZnJvbSkgOiB1bmRlZmluZWQsIHRvID8gbmV3IFZlYzMoLi4udG8pIDogdW5kZWZpbmVkKVxuICAgICAgb3B0aW9ucy5tb2RlID0gUmF5W29wdGlvbnMubW9kZS50b1VwcGVyQ2FzZSgpXVxuICAgICAgb3B0aW9ucy5yZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpXG4gICAgICByYXlzW3V1aWRdID0gKCkgPT4ge1xuICAgICAgICByYXkuaW50ZXJzZWN0V29ybGQod29ybGQsIG9wdGlvbnMpXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIHNoYXBlLFxuICAgICAgICAgIHJheUZyb21Xb3JsZCxcbiAgICAgICAgICByYXlUb1dvcmxkLFxuICAgICAgICAgIGhpdE5vcm1hbFdvcmxkLFxuICAgICAgICAgIGhpdFBvaW50V29ybGQsXG4gICAgICAgICAgLi4ucmVzdFxuICAgICAgICB9ID0gb3B0aW9ucy5yZXN1bHRcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgb3A6ICdldmVudCcsXG4gICAgICAgICAgdHlwZTogJ3JheWhpdCcsXG4gICAgICAgICAgcmF5OiB7XG4gICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICBkaXJlY3Rpb246IHJheS5kaXJlY3Rpb24udG9BcnJheSgpLFxuICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyR3JvdXA6IHJheS5jb2xsaXNpb25GaWx0ZXJHcm91cCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlck1hc2s6IHJheS5jb2xsaXNpb25GaWx0ZXJNYXNrLFxuICAgICAgICAgICAgdXVpZCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IGJvZHkgPyBib2R5LnV1aWQgOiBudWxsLFxuICAgICAgICAgIHNoYXBlOiBzaGFwZSA/IHsgLi4uc2hhcGUsIGJvZHk6IGJvZHkudXVpZCB9IDogbnVsbCxcbiAgICAgICAgICByYXlGcm9tV29ybGQ6IHJheUZyb21Xb3JsZC50b0FycmF5KCksXG4gICAgICAgICAgcmF5VG9Xb3JsZDogcmF5VG9Xb3JsZC50b0FycmF5KCksXG4gICAgICAgICAgaGl0Tm9ybWFsV29ybGQ6IGhpdE5vcm1hbFdvcmxkLnRvQXJyYXkoKSxcbiAgICAgICAgICBoaXRQb2ludFdvcmxkOiBoaXRQb2ludFdvcmxkLnRvQXJyYXkoKSxcbiAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHJheXNbdXVpZF0pXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdyZW1vdmVSYXknOiB7XG4gICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgcmF5c1t1dWlkXSlcbiAgICAgIGRlbGV0ZSByYXlzW3V1aWRdXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdhZGRSYXljYXN0VmVoaWNsZSc6IHtcbiAgICAgIGNvbnN0IFtjaGFzc2lzQm9keSwgd2hlZWxzLCB3aGVlbEluZm9zLCBpbmRleEZvcndhcmRBeGlzLCBpbmRleFJpZ2h0QXhpcywgaW5kZXhVcEF4aXNdID0gcHJvcHNcbiAgICAgIGNvbnN0IHZlaGljbGUgPSBuZXcgUmF5Y2FzdFZlaGljbGUoe1xuICAgICAgICBjaGFzc2lzQm9keTogYm9kaWVzW2NoYXNzaXNCb2R5XSxcbiAgICAgICAgaW5kZXhGb3J3YXJkQXhpczogaW5kZXhGb3J3YXJkQXhpcyxcbiAgICAgICAgaW5kZXhSaWdodEF4aXM6IGluZGV4UmlnaHRBeGlzLFxuICAgICAgICBpbmRleFVwQXhpczogaW5kZXhVcEF4aXMsXG4gICAgICB9KVxuICAgICAgdmVoaWNsZS53b3JsZCA9IHdvcmxkXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdoZWVsSW5mb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgd2hlZWxJbmZvID0gd2hlZWxJbmZvc1tpXVxuICAgICAgICB3aGVlbEluZm8uZGlyZWN0aW9uTG9jYWwgPSBuZXcgVmVjMyguLi53aGVlbEluZm8uZGlyZWN0aW9uTG9jYWwpXG4gICAgICAgIHdoZWVsSW5mby5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwgPSBuZXcgVmVjMyguLi53aGVlbEluZm8uY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsKVxuICAgICAgICB3aGVlbEluZm8uYXhsZUxvY2FsID0gbmV3IFZlYzMoLi4ud2hlZWxJbmZvLmF4bGVMb2NhbClcbiAgICAgICAgdmVoaWNsZS5hZGRXaGVlbCh3aGVlbEluZm8pXG4gICAgICAgIGNvbnN0IHdoZWVsQm9keSA9IGJvZGllc1t3aGVlbHNbaV1dXG4gICAgICB9XG4gICAgICB2ZWhpY2xlc1t1dWlkXSA9IHtcbiAgICAgICAgdmVoaWNsZTogdmVoaWNsZSxcbiAgICAgICAgd2hlZWxzOiB3aGVlbHMsXG4gICAgICAgIHByZVN0ZXA6ICgpID0+IHtcbiAgICAgICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLnVwZGF0ZVZlaGljbGUod29ybGQuZHQpXG4gICAgICAgIH0sXG4gICAgICAgIHBvc3RTdGVwOiAoKSA9PiB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLndoZWVsSW5mb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUudXBkYXRlV2hlZWxUcmFuc2Zvcm0oaSlcbiAgICAgICAgICAgIGNvbnN0IHQgPSB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLndoZWVsSW5mb3NbaV0ud29ybGRUcmFuc2Zvcm1cbiAgICAgICAgICAgIGNvbnN0IHdoZWVsQm9keSA9IGJvZGllc1t2ZWhpY2xlc1t1dWlkXS53aGVlbHNbaV1dXG4gICAgICAgICAgICB3aGVlbEJvZHkucG9zaXRpb24uY29weSh0LnBvc2l0aW9uKVxuICAgICAgICAgICAgd2hlZWxCb2R5LnF1YXRlcm5pb24uY29weSh0LnF1YXRlcm5pb24pXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfVxuICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHZlaGljbGVzW3V1aWRdLnByZVN0ZXApXG4gICAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwb3N0U3RlcCcsIHZlaGljbGVzW3V1aWRdLnBvc3RTdGVwKVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAncmVtb3ZlUmF5Y2FzdFZlaGljbGUnOiB7XG4gICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgdmVoaWNsZXNbdXVpZF0ucHJlU3RlcClcbiAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgdmVoaWNsZXNbdXVpZF0ucG9zdFN0ZXApXG4gICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLndvcmxkID0gbnVsbFxuICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZSA9IG51bGxcbiAgICAgIGRlbGV0ZSB2ZWhpY2xlc1t1dWlkXVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSAnc2V0UmF5Y2FzdFZlaGljbGVTdGVlcmluZ1ZhbHVlJzoge1xuICAgICAgY29uc3QgW3ZhbHVlLCB3aGVlbEluZGV4XSA9IHByb3BzXG4gICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLnNldFN0ZWVyaW5nVmFsdWUodmFsdWUsIHdoZWVsSW5kZXgpXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICdhcHBseVJheWNhc3RWZWhpY2xlRW5naW5lRm9yY2UnOiB7XG4gICAgICBjb25zdCBbdmFsdWUsIHdoZWVsSW5kZXhdID0gcHJvcHNcbiAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUuYXBwbHlFbmdpbmVGb3JjZSh2YWx1ZSwgd2hlZWxJbmRleClcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ3NldFJheWNhc3RWZWhpY2xlQnJha2UnOiB7XG4gICAgICBjb25zdCBbYnJha2UsIHdoZWVsSW5kZXhdID0gcHJvcHNcbiAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUuc2V0QnJha2UoYnJha2UsIHdoZWVsSW5kZXgpXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIk1hdDMiLCJjb25zdHJ1Y3RvciIsImVsZW1lbnRzIiwiaWRlbnRpdHkiLCJlIiwic2V0WmVybyIsInNldFRyYWNlIiwidmVjdG9yIiwieCIsInkiLCJ6IiwiZ2V0VHJhY2UiLCJ0YXJnZXQiLCJWZWMzIiwidm11bHQiLCJ2Iiwic211bHQiLCJzIiwiaSIsImxlbmd0aCIsIm1tdWx0IiwibWF0cml4IiwiQSIsIkIiLCJUIiwiYTExIiwiYTEyIiwiYTEzIiwiYTIxIiwiYTIyIiwiYTIzIiwiYTMxIiwiYTMyIiwiYTMzIiwiYjExIiwiYjEyIiwiYjEzIiwiYjIxIiwiYjIyIiwiYjIzIiwiYjMxIiwiYjMyIiwiYjMzIiwic2NhbGUiLCJ0Iiwic29sdmUiLCJiIiwibnIiLCJuYyIsImVxbnMiLCJqIiwicHVzaCIsIm4iLCJrIiwibnAiLCJrcCIsInAiLCJtdWx0aXBsaWVyIiwiaXNOYU4iLCJJbmZpbml0eSIsInRvU3RyaW5nIiwicm93IiwiY29sdW1uIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJjb3B5IiwiciIsInNlcCIsInJldmVyc2UiLCJzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uIiwicSIsInciLCJ4MiIsInkyIiwiejIiLCJ4eCIsInh5IiwieHoiLCJ5eSIsInl6IiwienoiLCJ3eCIsInd5Iiwid3oiLCJ0cmFuc3Bvc2UiLCJNIiwidG1wIiwiY3Jvc3MiLCJ2eCIsInZ5IiwidnoiLCJzZXQiLCJ2YWRkIiwidnN1YiIsImNyb3NzbWF0Iiwibm9ybWFsaXplIiwiTWF0aCIsInNxcnQiLCJpbnZOIiwidW5pdCIsIm5pbnYiLCJsZW5ndGhTcXVhcmVkIiwiZG90IiwiZGlzdGFuY2VUbyIsInB4IiwicHkiLCJweiIsImRpc3RhbmNlU3F1YXJlZCIsInNjYWxhciIsInZtdWwiLCJhZGRTY2FsZWRWZWN0b3IiLCJpc1plcm8iLCJuZWdhdGUiLCJ0YW5nZW50cyIsInQxIiwidDIiLCJub3JtIiwiVmVjM190YW5nZW50c19uIiwiaW5vcm0iLCJyYW5kVmVjIiwiVmVjM190YW5nZW50c19yYW5kVmVjIiwiYWJzIiwidG9BcnJheSIsImxlcnAiLCJhbG1vc3RFcXVhbHMiLCJwcmVjaXNpb24iLCJhbG1vc3RaZXJvIiwiaXNBbnRpcGFyYWxsZWxUbyIsImFudGlwX25lZyIsImNsb25lIiwiWkVSTyIsIlVOSVRfWCIsIlVOSVRfWSIsIlVOSVRfWiIsIkFBQkIiLCJvcHRpb25zIiwibG93ZXJCb3VuZCIsInVwcGVyQm91bmQiLCJzZXRGcm9tUG9pbnRzIiwicG9pbnRzIiwicG9zaXRpb24iLCJxdWF0ZXJuaW9uIiwic2tpblNpemUiLCJsIiwidSIsImFhYmIiLCJleHRlbmQiLCJtaW4iLCJtYXgiLCJvdmVybGFwcyIsImwxIiwidTEiLCJsMiIsInUyIiwib3ZlcmxhcHNYIiwib3ZlcmxhcHNZIiwib3ZlcmxhcHNaIiwidm9sdW1lIiwiY29udGFpbnMiLCJnZXRDb3JuZXJzIiwiYSIsImMiLCJkIiwiZiIsImciLCJoIiwidG9Mb2NhbEZyYW1lIiwiZnJhbWUiLCJjb3JuZXJzIiwidHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnMiLCJjb3JuZXIiLCJwb2ludFRvTG9jYWwiLCJ0b1dvcmxkRnJhbWUiLCJwb2ludFRvV29ybGQiLCJvdmVybGFwc1JheSIsInJheSIsImRpcmVjdGlvbiIsImZyb20iLCJkaXJGcmFjWCIsImRpckZyYWNZIiwiZGlyRnJhY1oiLCJ0MyIsInQ0IiwidDUiLCJ0NiIsInRtaW4iLCJ0bWF4IiwiQXJyYXlDb2xsaXNpb25NYXRyaXgiLCJnZXQiLCJiaSIsImJqIiwiaW5kZXgiLCJ0ZW1wIiwicmVzZXQiLCJzZXROdW1PYmplY3RzIiwiRXZlbnRUYXJnZXQiLCJhZGRFdmVudExpc3RlbmVyIiwidHlwZSIsImxpc3RlbmVyIiwiX2xpc3RlbmVycyIsImxpc3RlbmVycyIsImluY2x1ZGVzIiwiaGFzRXZlbnRMaXN0ZW5lciIsImhhc0FueUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaW5kZXhPZiIsInNwbGljZSIsImRpc3BhdGNoRXZlbnQiLCJldmVudCIsImxpc3RlbmVyQXJyYXkiLCJjYWxsIiwiUXVhdGVybmlvbiIsInNldEZyb21BeGlzQW5nbGUiLCJhbmdsZSIsInNpbiIsImNvcyIsInRvQXhpc0FuZ2xlIiwidGFyZ2V0QXhpcyIsImFjb3MiLCJzZXRGcm9tVmVjdG9ycyIsInNmdl90MSIsInNmdl90MiIsIlBJIiwibXVsdCIsInF1YXQiLCJheCIsImF5IiwiYXoiLCJhdyIsImJ4IiwiYnkiLCJieiIsImJ3IiwiaW52ZXJzZSIsImNvbmp1Z2F0ZSIsImlub3JtMiIsIm5vcm1hbGl6ZUZhc3QiLCJxeCIsInF5IiwicXoiLCJxdyIsIml4IiwiaXkiLCJpeiIsIml3IiwidG9FdWxlciIsIm9yZGVyIiwiaGVhZGluZyIsImF0dGl0dWRlIiwiYmFuayIsInRlc3QiLCJhdGFuMiIsInNxeCIsInNxeSIsInNxeiIsImFzaW4iLCJFcnJvciIsInNldEZyb21FdWxlciIsImMxIiwiYzIiLCJjMyIsInMxIiwiczIiLCJzMyIsInNsZXJwIiwidG9RdWF0Iiwib21lZ2EiLCJjb3NvbSIsInNpbm9tIiwic2NhbGUwIiwic2NhbGUxIiwiaW50ZWdyYXRlIiwiYW5ndWxhclZlbG9jaXR5IiwiZHQiLCJhbmd1bGFyRmFjdG9yIiwiaGFsZl9kdCIsIlNIQVBFX1RZUEVTIiwiU1BIRVJFIiwiUExBTkUiLCJCT1giLCJDT01QT1VORCIsIkNPTlZFWFBPTFlIRURST04iLCJIRUlHSFRGSUVMRCIsIlBBUlRJQ0xFIiwiQ1lMSU5ERVIiLCJUUklNRVNIIiwiU2hhcGUiLCJpZCIsImlkQ291bnRlciIsImJvdW5kaW5nU3BoZXJlUmFkaXVzIiwiY29sbGlzaW9uUmVzcG9uc2UiLCJjb2xsaXNpb25GaWx0ZXJHcm91cCIsImNvbGxpc2lvbkZpbHRlck1hc2siLCJtYXRlcmlhbCIsImJvZHkiLCJ1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cyIsImNhbGN1bGF0ZUxvY2FsSW5lcnRpYSIsIm1hc3MiLCJjYWxjdWxhdGVXb3JsZEFBQkIiLCJwb3MiLCJ0eXBlcyIsIlRyYW5zZm9ybSIsIndvcmxkUG9pbnQiLCJyZXN1bHQiLCJwb2ludFRvTG9jYWxGcmFtZSIsImxvY2FsUG9pbnQiLCJwb2ludFRvV29ybGRGcmFtZSIsInZlY3RvclRvV29ybGRGcmFtZSIsImxvY2FsVmVjdG9yIiwidG1wUXVhdCIsInZlY3RvclRvTG9jYWxGcmFtZSIsIndvcmxkVmVjdG9yIiwiQ29udmV4UG9seWhlZHJvbiIsInByb3BzIiwidmVydGljZXMiLCJmYWNlcyIsIm5vcm1hbHMiLCJheGVzIiwiZmFjZU5vcm1hbHMiLCJjb21wdXRlTm9ybWFscyIsIndvcmxkVmVydGljZXMiLCJ3b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUiLCJ3b3JsZEZhY2VOb3JtYWxzIiwid29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlIiwidW5pcXVlQXhlcyIsInNsaWNlIiwidW5pcXVlRWRnZXMiLCJjb21wdXRlRWRnZXMiLCJlZGdlcyIsImVkZ2UiLCJmYWNlIiwibnVtVmVydGljZXMiLCJmb3VuZCIsImdldEZhY2VOb3JtYWwiLCJ2ZXJ0ZXgiLCJjb25zb2xlIiwiZXJyb3IiLCJ3YXJuIiwidmEiLCJ2YiIsInZjIiwiY29tcHV0ZU5vcm1hbCIsImNiIiwiYWIiLCJjbGlwQWdhaW5zdEh1bGwiLCJwb3NBIiwicXVhdEEiLCJodWxsQiIsInBvc0IiLCJxdWF0QiIsInNlcGFyYXRpbmdOb3JtYWwiLCJtaW5EaXN0IiwibWF4RGlzdCIsIldvcmxkTm9ybWFsIiwiY2xvc2VzdEZhY2VCIiwiZG1heCIsIk51bWJlciIsIk1BWF9WQUxVRSIsIndvcmxkVmVydHNCMSIsIndvcmxkYiIsImNsaXBGYWNlQWdhaW5zdEh1bGwiLCJmaW5kU2VwYXJhdGluZ0F4aXMiLCJmYWNlTGlzdEEiLCJmYWNlTGlzdEIiLCJmYWNlQU5vcm1hbFdTMyIsIldvcmxkbm9ybWFsMSIsImRlbHRhQyIsIndvcmxkRWRnZTAiLCJ3b3JsZEVkZ2UxIiwiQ3Jvc3MiLCJkbWluIiwiaHVsbEEiLCJudW1GYWNlc0EiLCJmaSIsInRlc3RTZXBBeGlzIiwibnVtRmFjZXNCIiwiZTAiLCJlMSIsImRpc3QiLCJheGlzIiwicHJvamVjdCIsIm1heG1pbkEiLCJtYXhtaW5CIiwibWF4QSIsIm1pbkEiLCJtYXhCIiwibWluQiIsImQwIiwiZDEiLCJkZXB0aCIsImFhYmJtYXgiLCJhYWJibWluIiwiY29tcHV0ZUxvY2FsQUFCQiIsImdldFBsYW5lQ29uc3RhbnRPZkZhY2UiLCJmYWNlX2kiLCJmYWNlQU5vcm1hbFdTIiwiZWRnZTAiLCJXb3JsZEVkZ2UwIiwid29ybGRQbGFuZUFub3JtYWwxIiwicGxhbmVOb3JtYWxXUzEiLCJ3b3JsZEExIiwibG9jYWxQbGFuZU5vcm1hbCIsInBsYW5lTm9ybWFsV1MiLCJ3b3JsZFZlcnRzQjIiLCJwVnR4SW4iLCJwVnR4T3V0IiwiY2xvc2VzdEZhY2VBIiwicG9seUEiLCJjb25uZWN0ZWRGYWNlcyIsIm51bVZlcnRpY2VzQSIsIm90aGVyRmFjZSIsImxvY2FsUGxhbmVFcSIsInBsYW5lRXFXUyIsImNsaXBGYWNlQWdhaW5zdFBsYW5lIiwic2hpZnQiLCJsb2ciLCJwb2ludCIsIm5vcm1hbCIsImluVmVydGljZXMiLCJvdXRWZXJ0aWNlcyIsInBsYW5lTm9ybWFsIiwicGxhbmVDb25zdGFudCIsIm5fZG90X2ZpcnN0Iiwibl9kb3RfbGFzdCIsIm51bVZlcnRzIiwiZmlyc3RWZXJ0ZXgiLCJsYXN0VmVydGV4IiwidmkiLCJuZXd2IiwiY29tcHV0ZVdvcmxkVmVydGljZXMiLCJ2ZXJ0cyIsIndvcmxkVmVydHMiLCJjb21wdXRlV29ybGRGYWNlTm9ybWFscyIsIk4iLCJ3b3JsZE5vcm1hbHMiLCJtYXgyIiwibm9ybTIiLCJtaW54IiwibWlueSIsIm1pbnoiLCJtYXh4IiwibWF4eSIsIm1heHoiLCJ0ZW1wV29ybGRWZXJ0ZXgiLCJnZXRBdmVyYWdlUG9pbnRMb2NhbCIsInRyYW5zZm9ybUFsbFBvaW50cyIsIm9mZnNldCIsInBvaW50SXNJbnNpZGUiLCJwb2ludEluc2lkZSIsInZUb1AiLCJyMSIsInZUb1BvaW50SW5zaWRlIiwicjIiLCJzaGFwZSIsImxvY2FsQXhpcyIsInByb2plY3RfbG9jYWxBeGlzIiwibG9jYWxPcmlnaW4iLCJwcm9qZWN0X2xvY2FsT3JpZ2luIiwidnMiLCJhZGQiLCJ2YWwiLCJCb3giLCJoYWxmRXh0ZW50cyIsImNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiIsInVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiIsInN4Iiwic3kiLCJzeiIsIlYiLCJjYWxjdWxhdGVJbmVydGlhIiwiZ2V0U2lkZU5vcm1hbHMiLCJzaXhUYXJnZXRWZWN0b3JzIiwic2lkZXMiLCJleCIsImZvckVhY2hXb3JsZENvcm5lciIsImNhbGxiYWNrIiwid29ybGRDb3JuZXJUZW1wUG9zIiwid29ybGRDb3JuZXJzVGVtcCIsIndjIiwiQk9EWV9TTEVFUF9TVEFURVMiLCJBV0FLRSIsIlNMRUVQWSIsIlNMRUVQSU5HIiwiQm9keSIsIndvcmxkIiwicHJlU3RlcCIsInBvc3RTdGVwIiwidmxhbWJkYSIsInByZXZpb3VzUG9zaXRpb24iLCJpbnRlcnBvbGF0ZWRQb3NpdGlvbiIsImluaXRQb3NpdGlvbiIsInZlbG9jaXR5IiwiaW5pdFZlbG9jaXR5IiwiZm9yY2UiLCJpbnZNYXNzIiwibGluZWFyRGFtcGluZyIsIlNUQVRJQyIsIkRZTkFNSUMiLCJhbGxvd1NsZWVwIiwic2xlZXBTdGF0ZSIsInNsZWVwU3BlZWRMaW1pdCIsInNsZWVwVGltZUxpbWl0IiwidGltZUxhc3RTbGVlcHkiLCJ3YWtlVXBBZnRlck5hcnJvd3BoYXNlIiwidG9ycXVlIiwiaW5pdFF1YXRlcm5pb24iLCJwcmV2aW91c1F1YXRlcm5pb24iLCJpbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uIiwiaW5pdEFuZ3VsYXJWZWxvY2l0eSIsInNoYXBlcyIsInNoYXBlT2Zmc2V0cyIsInNoYXBlT3JpZW50YXRpb25zIiwiaW5lcnRpYSIsImludkluZXJ0aWEiLCJpbnZJbmVydGlhV29ybGQiLCJpbnZNYXNzU29sdmUiLCJpbnZJbmVydGlhU29sdmUiLCJpbnZJbmVydGlhV29ybGRTb2x2ZSIsImZpeGVkUm90YXRpb24iLCJhbmd1bGFyRGFtcGluZyIsImxpbmVhckZhY3RvciIsImFhYmJOZWVkc1VwZGF0ZSIsImJvdW5kaW5nUmFkaXVzIiwid2xhbWJkYSIsImFkZFNoYXBlIiwidXBkYXRlTWFzc1Byb3BlcnRpZXMiLCJ3YWtlVXAiLCJwcmV2U3RhdGUiLCJ3YWtldXBFdmVudCIsInNsZWVwIiwic2xlZXBUaWNrIiwidGltZSIsInNwZWVkU3F1YXJlZCIsInNwZWVkTGltaXRTcXVhcmVkIiwic2xlZXB5RXZlbnQiLCJzbGVlcEV2ZW50IiwidXBkYXRlU29sdmVNYXNzUHJvcGVydGllcyIsIktJTkVNQVRJQyIsIl9vZmZzZXQiLCJfb3JpZW50YXRpb24iLCJvcmllbnRhdGlvbiIsInVwZGF0ZUJvdW5kaW5nUmFkaXVzIiwicmVtb3ZlU2hhcGUiLCJyYWRpdXMiLCJ1cGRhdGVBQUJCIiwidG1wVmVjIiwidG1wUXVhdCQxIiwiYm9keVF1YXQiLCJzaGFwZUFBQkIiLCJ1cGRhdGVBQUJCX3NoYXBlQUFCQiIsInVwZGF0ZUluZXJ0aWFXb3JsZCIsIkkiLCJtMSIsInVpd19tMSIsIm0yIiwidWl3X20yIiwiYXBwbHlGb3JjZSIsInJlbGF0aXZlUG9pbnQiLCJyb3RGb3JjZSIsIkJvZHlfYXBwbHlGb3JjZV9yb3RGb3JjZSIsImFwcGx5TG9jYWxGb3JjZSIsImxvY2FsRm9yY2UiLCJ3b3JsZEZvcmNlIiwiQm9keV9hcHBseUxvY2FsRm9yY2Vfd29ybGRGb3JjZSIsInJlbGF0aXZlUG9pbnRXb3JsZCIsIkJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZCIsImFwcGx5VG9ycXVlIiwiYXBwbHlJbXB1bHNlIiwiaW1wdWxzZSIsInZlbG8iLCJCb2R5X2FwcGx5SW1wdWxzZV92ZWxvIiwicm90VmVsbyIsIkJvZHlfYXBwbHlJbXB1bHNlX3JvdFZlbG8iLCJhcHBseUxvY2FsSW1wdWxzZSIsImxvY2FsSW1wdWxzZSIsIndvcmxkSW1wdWxzZSIsIkJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlIiwiQm9keV9hcHBseUxvY2FsSW1wdWxzZV9yZWxhdGl2ZVBvaW50IiwiQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50cyIsImZpeGVkIiwiZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQiLCJxdWF0Tm9ybWFsaXplIiwicXVhdE5vcm1hbGl6ZUZhc3QiLCJhbmd1bGFyVmVsbyIsImlNZHQiLCJ0eCIsInR5IiwidHoiLCJDT0xMSURFX0VWRU5UX05BTUUiLCJCcm9hZHBoYXNlIiwidXNlQm91bmRpbmdCb3hlcyIsImRpcnR5IiwiY29sbGlzaW9uUGFpcnMiLCJwMSIsInAyIiwibmVlZEJyb2FkcGhhc2VDb2xsaXNpb24iLCJib2R5QSIsImJvZHlCIiwiaW50ZXJzZWN0aW9uVGVzdCIsInBhaXJzMSIsInBhaXJzMiIsImRvQm91bmRpbmdCb3hCcm9hZHBoYXNlIiwiZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UiLCJCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX3IiLCJib3VuZGluZ1JhZGl1c1N1bTIiLCJtYWtlUGFpcnNVbmlxdWUiLCJCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV90ZW1wIiwiQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDEiLCJCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMiIsImlkMSIsImlkMiIsImtleSIsImtleXMiLCJwb3AiLCJwYWlySW5kZXgiLCJzZXRXb3JsZCIsImJvdW5kaW5nU3BoZXJlQ2hlY2siLCJzYSIsInNiIiwicG93IiwiYWFiYlF1ZXJ5IiwiTmFpdmVCcm9hZHBoYXNlIiwiYm9kaWVzIiwiUmF5Y2FzdFJlc3VsdCIsInJheUZyb21Xb3JsZCIsInJheVRvV29ybGQiLCJoaXROb3JtYWxXb3JsZCIsImhpdFBvaW50V29ybGQiLCJoYXNIaXQiLCJoaXRGYWNlSW5kZXgiLCJkaXN0YW5jZSIsInNob3VsZFN0b3AiLCJhYm9ydCIsIlJheSIsInRvIiwiY2hlY2tDb2xsaXNpb25SZXNwb25zZSIsInNraXBCYWNrZmFjZXMiLCJtb2RlIiwiQU5ZIiwiaW50ZXJzZWN0V29ybGQiLCJ1cGRhdGVEaXJlY3Rpb24iLCJnZXRBQUJCIiwidG1wQUFCQiIsInRtcEFycmF5IiwiYnJvYWRwaGFzZSIsImludGVyc2VjdEJvZGllcyIsImludGVyc2VjdEJvZHkiLCJ4aSIsImludGVyc2VjdEJvZHlfeGkiLCJxaSIsImludGVyc2VjdEJvZHlfcWkiLCJpbnRlcnNlY3RTaGFwZSIsImRpc3RhbmNlRnJvbUludGVyc2VjdGlvbiIsImludGVyc2VjdE1ldGhvZCIsIl9pbnRlcnNlY3RCb3giLCJib3giLCJyZXBvcnRlZFNoYXBlIiwiX2ludGVyc2VjdENvbnZleCIsIl9pbnRlcnNlY3RQbGFuZSIsIndvcmxkTm9ybWFsIiwibGVuIiwicGxhbmVUb0Zyb20iLCJwbGFuZVRvVG8iLCJuX2RvdF9kaXIiLCJwbGFuZVBvaW50VG9Gcm9tIiwiZGlyX3NjYWxlZF93aXRoX3QiLCJyZXBvcnRJbnRlcnNlY3Rpb24iLCJfaW50ZXJzZWN0SGVpZ2h0ZmllbGQiLCJkYXRhIiwiZWxlbWVudFNpemUiLCJsb2NhbFJheSIsImludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsUmF5IiwiaW50ZXJzZWN0SGVpZ2h0ZmllbGRfaW5kZXgiLCJpTWluWCIsImlNaW5ZIiwiaU1heFgiLCJpTWF4WSIsImdldEluZGV4T2ZQb3NpdGlvbiIsImdldEFhYmJBdEluZGV4IiwiZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIiLCJwaWxsYXJPZmZzZXQiLCJ3b3JsZFBpbGxhck9mZnNldCIsInBpbGxhckNvbnZleCIsImludGVyc2VjdENvbnZleE9wdGlvbnMiLCJfaW50ZXJzZWN0U3BoZXJlIiwic3BoZXJlIiwiZGVsdGEiLCJpbnRlcnNlY3Rpb25Qb2ludCIsIlJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQiLCJSYXlfaW50ZXJzZWN0U3BoZXJlX25vcm1hbCIsImQyIiwiaW50ZXJzZWN0Q29udmV4X25vcm1hbCIsImludGVyc2VjdENvbnZleF92ZWN0b3IiLCJmYWNlTGlzdCIsImZyb21Ub0Rpc3RhbmNlIiwiTmZhY2VzIiwiZmFjZU5vcm1hbCIsImludGVyc2VjdFBvaW50IiwicG9pbnRJblRyaWFuZ2xlIiwiX2ludGVyc2VjdFRyaW1lc2giLCJtZXNoIiwiaW50ZXJzZWN0VHJpbWVzaF9ub3JtYWwiLCJ0cmlhbmdsZXMiLCJpbnRlcnNlY3RUcmltZXNoX3RyaWFuZ2xlcyIsInRyZWVUcmFuc2Zvcm0iLCJpbnRlcnNlY3RUcmltZXNoX3RyZWVUcmFuc2Zvcm0iLCJsb2NhbERpcmVjdGlvbiIsImludGVyc2VjdFRyaW1lc2hfbG9jYWxEaXJlY3Rpb24iLCJsb2NhbEZyb20iLCJpbnRlcnNlY3RUcmltZXNoX2xvY2FsRnJvbSIsImxvY2FsVG8iLCJpbnRlcnNlY3RUcmltZXNoX2xvY2FsVG8iLCJ3b3JsZEludGVyc2VjdFBvaW50IiwiaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50IiwiaW50ZXJzZWN0VHJpbWVzaF93b3JsZE5vcm1hbCIsImluZGljZXMiLCJmcm9tVG9EaXN0YW5jZVNxdWFyZWQiLCJ0cmVlIiwicmF5UXVlcnkiLCJ0cmlhbmdsZXNJbmRleCIsImdldE5vcm1hbCIsImdldFZlcnRleCIsInNxdWFyZWREaXN0YW5jZSIsIkFMTCIsIkNMT1NFU1QiLCJ2MSIsInYyIiwidjAiLCJkb3QwMCIsImRvdDAxIiwiZG90MDIiLCJkb3QxMSIsImRvdDEyIiwicHJvdG90eXBlIiwiaW50ZXJzZWN0IiwiU0FQQnJvYWRwaGFzZSIsImF4aXNMaXN0IiwiYXhpc0luZGV4IiwiX2FkZEJvZHlIYW5kbGVyIiwiX3JlbW92ZUJvZHlIYW5kbGVyIiwiaWR4Iiwic29ydExpc3QiLCJjaGVja0JvdW5kcyIsImluc2VydGlvblNvcnRYIiwiaW5zZXJ0aW9uU29ydFkiLCJpbnNlcnRpb25Tb3J0WiIsImF1dG9EZXRlY3RBeGlzIiwic3VtWCIsInN1bVgyIiwic3VtWSIsInN1bVkyIiwic3VtWiIsInN1bVoyIiwiY2VudGVyWCIsImNlbnRlclkiLCJjZW50ZXJaIiwidmFyaWFuY2VYIiwidmFyaWFuY2VZIiwidmFyaWFuY2VaIiwiYmlQb3MiLCJialBvcyIsInJpIiwicmoiLCJib3VuZEEyIiwiYm91bmRCMSIsIlV0aWxzIiwiZGVmYXVsdHMiLCJDb25zdHJhaW50IiwiY29sbGlkZUNvbm5lY3RlZCIsIndha2VVcEJvZGllcyIsImVxdWF0aW9ucyIsInVwZGF0ZSIsImVuYWJsZSIsImVxcyIsImVuYWJsZWQiLCJkaXNhYmxlIiwiSmFjb2JpYW5FbGVtZW50Iiwic3BhdGlhbCIsInJvdGF0aW9uYWwiLCJtdWx0aXBseUVsZW1lbnQiLCJlbGVtZW50IiwibXVsdGlwbHlWZWN0b3JzIiwiRXF1YXRpb24iLCJtaW5Gb3JjZSIsIm1heEZvcmNlIiwiZXBzIiwiamFjb2JpYW5FbGVtZW50QSIsImphY29iaWFuRWxlbWVudEIiLCJzZXRTcG9va1BhcmFtcyIsInN0aWZmbmVzcyIsInJlbGF4YXRpb24iLCJ0aW1lU3RlcCIsImNvbXB1dGVCIiwiR1ciLCJjb21wdXRlR1ciLCJHcSIsImNvbXB1dGVHcSIsIkdpTWYiLCJjb21wdXRlR2lNZiIsIkdBIiwiR0IiLCJ4aiIsInZqIiwid2kiLCJ3aiIsImNvbXB1dGVHV2xhbWJkYSIsInRpIiwiZmoiLCJ0aiIsImludk1hc3NpIiwiaW52TWFzc2oiLCJpTWZpIiwiaU1maiIsImludklpX3ZtdWx0X3RhdWkiLCJpbnZJal92bXVsdF90YXVqIiwiY29tcHV0ZUdpTUd0IiwiaW52SWkiLCJpbnZJaiIsInRtcCQxIiwiYWRkVG9XbGFtYmRhIiwiZGVsdGFsYW1iZGEiLCJhZGRUb1dsYW1iZGFfdGVtcCIsImNvbXB1dGVDIiwiQ29udGFjdEVxdWF0aW9uIiwicmVzdGl0dXRpb24iLCJuaSIsInJpeG4iLCJDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDEiLCJyanhuIiwiQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyIiwicGVuZXRyYXRpb25WZWMiLCJDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDMiLCJlUGx1c09uZSIsImdldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWwiLCJDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92aSIsIkNvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZqIiwiQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGkiLCJDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aiIsInJlbFZlbCIsIkNvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbCIsIlBvaW50VG9Qb2ludENvbnN0cmFpbnQiLCJwaXZvdEEiLCJwaXZvdEIiLCJlcXVhdGlvblgiLCJlcXVhdGlvblkiLCJlcXVhdGlvbloiLCJDb25lRXF1YXRpb24iLCJheGlzQSIsImF4aXNCIiwibmoiLCJuaXhuaiIsInRtcFZlYzEiLCJuanhuaSIsInRtcFZlYzIiLCJSb3RhdGlvbmFsRXF1YXRpb24iLCJtYXhBbmdsZSIsInRtcFZlYzEkMSIsInRtcFZlYzIkMSIsIkNvbmVUd2lzdENvbnN0cmFpbnQiLCJjb25lRXF1YXRpb24iLCJ0d2lzdEVxdWF0aW9uIiwidHdpc3RBbmdsZSIsImNvbmUiLCJ0d2lzdCIsIkRpc3RhbmNlQ29uc3RyYWludCIsImVxIiwiZGlzdGFuY2VFcXVhdGlvbiIsImhhbGZEaXN0IiwiTG9ja0NvbnN0cmFpbnQiLCJoYWxmV2F5IiwieEEiLCJ4QiIsInlBIiwieUIiLCJ6QSIsInpCIiwicm90YXRpb25hbEVxdWF0aW9uMSIsInJvdGF0aW9uYWxFcXVhdGlvbjIiLCJyMyIsInJvdGF0aW9uYWxFcXVhdGlvbjMiLCJtb3RvckVxdWF0aW9uIiwiUm90YXRpb25hbE1vdG9yRXF1YXRpb24iLCJ0YXJnZXRWZWxvY2l0eSIsIkhpbmdlQ29uc3RyYWludCIsInJvdGF0aW9uYWwxIiwicm90YXRpb25hbDIiLCJtb3RvciIsImVuYWJsZU1vdG9yIiwiZGlzYWJsZU1vdG9yIiwic2V0TW90b3JTcGVlZCIsInNwZWVkIiwic2V0TW90b3JNYXhGb3JjZSIsIndvcmxkQXhpc0EiLCJIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzEiLCJ3b3JsZEF4aXNCIiwiSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMyIiwiRnJpY3Rpb25FcXVhdGlvbiIsInNsaXBGb3JjZSIsInJpeHQiLCJGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxIiwicmp4dCIsIkZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDIiLCJDb250YWN0TWF0ZXJpYWwiLCJmcmljdGlvbiIsImNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcyIsImNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24iLCJmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzIiwiZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24iLCJtYXRlcmlhbHMiLCJNYXRlcmlhbCIsIm5hbWUiLCJTcHJpbmciLCJyZXN0TGVuZ3RoIiwiZGFtcGluZyIsImxvY2FsQW5jaG9yQSIsImxvY2FsQW5jaG9yQiIsIndvcmxkQW5jaG9yQSIsInNldFdvcmxkQW5jaG9yQSIsIndvcmxkQW5jaG9yQiIsInNldFdvcmxkQW5jaG9yQiIsImdldFdvcmxkQW5jaG9yQSIsImdldFdvcmxkQW5jaG9yQiIsImFwcGx5Rm9yY2VfciIsInJfdW5pdCIsImFwcGx5Rm9yY2Vfcl91bml0IiwiYXBwbHlGb3JjZV91IiwiYXBwbHlGb3JjZV9mIiwiYXBwbHlGb3JjZV90bXAiLCJhcHBseUZvcmNlX3dvcmxkQW5jaG9yQSIsImFwcGx5Rm9yY2Vfd29ybGRBbmNob3JCIiwiYXBwbHlGb3JjZV9yaSIsImFwcGx5Rm9yY2VfcmoiLCJyaV94X2YiLCJhcHBseUZvcmNlX3JpX3hfZiIsInJqX3hfZiIsImFwcGx5Rm9yY2VfcmpfeF9mIiwicmxlbiIsIldoZWVsSW5mbyIsImNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbCIsImNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCIsImRpcmVjdGlvbkxvY2FsIiwiZGlyZWN0aW9uV29ybGQiLCJheGxlTG9jYWwiLCJheGxlV29ybGQiLCJzdXNwZW5zaW9uUmVzdExlbmd0aCIsInN1c3BlbnNpb25NYXhMZW5ndGgiLCJzdXNwZW5zaW9uU3RpZmZuZXNzIiwiZGFtcGluZ0NvbXByZXNzaW9uIiwiZGFtcGluZ1JlbGF4YXRpb24iLCJmcmljdGlvblNsaXAiLCJmb3J3YXJkQWNjZWxlcmF0aW9uIiwic2lkZUFjY2VsZXJhdGlvbiIsInN0ZWVyaW5nIiwicm90YXRpb24iLCJkZWx0YVJvdGF0aW9uIiwicm9sbEluZmx1ZW5jZSIsIm1heFN1c3BlbnNpb25Gb3JjZSIsImlzRnJvbnRXaGVlbCIsImNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiIsInN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5Iiwic3VzcGVuc2lvbkZvcmNlIiwic2xpcEluZm8iLCJza2lkSW5mbyIsInN1c3BlbnNpb25MZW5ndGgiLCJtYXhTdXNwZW5zaW9uVHJhdmVsIiwidXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCIsImN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQiLCJzbGlkaW5nIiwiZW5naW5lRm9yY2UiLCJicmFrZSIsInNpZGVJbXB1bHNlIiwiZm9yd2FyZEltcHVsc2UiLCJyYXljYXN0UmVzdWx0Iiwid29ybGRUcmFuc2Zvcm0iLCJpc0luQ29udGFjdCIsInVwZGF0ZVdoZWVsIiwiY2hhc3NpcyIsInJlbHBvcyIsImNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50IiwicHJvalZlbCIsImludiIsIlJheWNhc3RWZWhpY2xlIiwiY2hhc3Npc0JvZHkiLCJ3aGVlbEluZm9zIiwiaW5kZXhSaWdodEF4aXMiLCJpbmRleEZvcndhcmRBeGlzIiwiaW5kZXhVcEF4aXMiLCJjb25zdHJhaW50cyIsInByZVN0ZXBDYWxsYmFjayIsImN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIiLCJhZGRXaGVlbCIsImluZm8iLCJzZXRTdGVlcmluZ1ZhbHVlIiwid2hlZWxJbmRleCIsIndoZWVsIiwiYXBwbHlFbmdpbmVGb3JjZSIsInNldEJyYWtlIiwiYWRkVG9Xb3JsZCIsImFkZEJvZHkiLCJ0aGF0IiwidXBkYXRlVmVoaWNsZSIsImdldFZlaGljbGVBeGlzV29ybGQiLCJudW1XaGVlbHMiLCJ1cGRhdGVXaGVlbFRyYW5zZm9ybSIsImZvcndhcmRXb3JsZCIsImNhc3RSYXkiLCJ1cGRhdGVTdXNwZW5zaW9uIiwidXBkYXRlRnJpY3Rpb24iLCJoaXROb3JtYWxXb3JsZFNjYWxlZFdpdGhQcm9qIiwiZndkIiwidmVsIiwibSIsInByb2oiLCJwcm9qMiIsImRlbHRhVGltZSIsImNoYXNzaXNNYXNzIiwid19pdCIsInN1c3BfbGVuZ3RoIiwiY3VycmVudF9sZW5ndGgiLCJsZW5ndGhfZGlmZiIsInByb2plY3RlZF9yZWxfdmVsIiwic3VzcF9kYW1waW5nIiwicmVtb3ZlRnJvbVdvcmxkIiwicmVtb3ZlQm9keSIsInJheXZlY3RvciIsImNhc3RSYXlfcmF5dmVjdG9yIiwiY2FzdFJheV90YXJnZXQiLCJ1cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkIiwicmF5bGVuIiwic291cmNlIiwib2xkU3RhdGUiLCJyYXlUZXN0Iiwib2JqZWN0IiwiZ3JvdW5kT2JqZWN0IiwiaGl0RGlzdGFuY2UiLCJtaW5TdXNwZW5zaW9uTGVuZ3RoIiwibWF4U3VzcGVuc2lvbkxlbmd0aCIsImRlbm9taW5hdG9yIiwidXAiLCJ0bXBWZWM0IiwicmlnaHQiLCJ0bXBWZWM1IiwidG1wVmVjNiIsInN0ZWVyaW5nT3JuIiwicm90YXRpbmdPcm4iLCJnZXRXaGVlbFRyYW5zZm9ybVdvcmxkIiwic3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qIiwidXBkYXRlRnJpY3Rpb25fc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qIiwiZm9yd2FyZFdTIiwidXBkYXRlRnJpY3Rpb25fZm9yd2FyZFdTIiwiYXhsZSIsInVwZGF0ZUZyaWN0aW9uX2F4bGUiLCJheGxlaSIsIndoZWVsVHJhbnMiLCJkaXJlY3Rpb25zIiwic3VyZk5vcm1hbFdTIiwicmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbCIsInNpZGVGcmljdGlvblN0aWZmbmVzczIiLCJzaWRlRmFjdG9yIiwiZndkRmFjdG9yIiwicm9sbGluZ0ZyaWN0aW9uIiwiZGVmYXVsdFJvbGxpbmdGcmljdGlvbkltcHVsc2UiLCJtYXhJbXB1bHNlIiwiY2FsY1JvbGxpbmdGcmljdGlvbiIsImZhY3RvciIsIm1heGltcCIsIm1heGltcFNpZGUiLCJtYXhpbXBTcXVhcmVkIiwiaW1wdWxzZVNxdWFyZWQiLCJyZWxfcG9zIiwicmVsX3BvczIiLCJzaWRlSW1wIiwiY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwxIiwiY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwyIiwiY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwiLCJib2R5MCIsImJvZHkxIiwiZnJpY3Rpb25Qb3NXb3JsZCIsImZyaWN0aW9uRGlyZWN0aW9uV29ybGQiLCJqMSIsImNvbnRhY3RQb3NXb3JsZCIsInZlbDEiLCJ2ZWwyIiwidnJlbCIsImRlbm9tMCIsImNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IiLCJkZW5vbTEiLCJqYWNEaWFnQUJJbnYiLCJjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwIiwiY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9jMCIsImNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfdmVjIiwiY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tIiwicjAiLCJjMCIsInZlYyIsInJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMSIsInJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMiIsInJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsIiwicG9zMSIsImJvZHkyIiwicG9zMiIsIm5vcm1hbExlblNxciIsInJlbF92ZWwiLCJjb250YWN0RGFtcGluZyIsIm1hc3NUZXJtIiwiU3BoZXJlIiwiQ3lsaW5kZXIiLCJyYWRpdXNUb3AiLCJyYWRpdXNCb3R0b20iLCJoZWlnaHQiLCJudW1TZWdtZW50cyIsImJvdHRvbWZhY2UiLCJ0b3BmYWNlIiwidGhldGEiLCJ0aGV0YU4iLCJQYXJ0aWNsZSIsIlBsYW5lIiwid29ybGROb3JtYWxOZWVkc1VwZGF0ZSIsImNvbXB1dGVXb3JsZE5vcm1hbCIsInRlbXBOb3JtYWwiLCJtYXhWYWwiLCJIZWlnaHRmaWVsZCIsIm1heFZhbHVlIiwibWluVmFsdWUiLCJ1cGRhdGVNaW5WYWx1ZSIsInVwZGF0ZU1heFZhbHVlIiwiY2FjaGVFbmFibGVkIiwiX2NhY2hlZFBpbGxhcnMiLCJzZXRIZWlnaHRWYWx1ZUF0SW5kZXgiLCJ5aSIsImNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIiLCJnZXRSZWN0TWluTWF4IiwiY2xhbXAiLCJmbG9vciIsImdldFRyaWFuZ2xlQXQiLCJlZGdlQ2xhbXAiLCJnZXRIZWlnaHRBdF9pZHgiLCJsb3dlckRpc3QyIiwidXBwZXJEaXN0MiIsInVwcGVyIiwiZ2V0VHJpYW5nbGUiLCJnZXROb3JtYWxBdCIsImdldE5vcm1hbEF0X2EiLCJnZXROb3JtYWxBdF9iIiwiZ2V0Tm9ybWFsQXRfYyIsImdldE5vcm1hbEF0X2UwIiwiZ2V0Tm9ybWFsQXRfZTEiLCJnZXRIZWlnaHRBdCIsImdldEhlaWdodEF0X2EiLCJnZXRIZWlnaHRBdF9iIiwiZ2V0SGVpZ2h0QXRfYyIsImJhcnljZW50cmljV2VpZ2h0cyIsImdldEhlaWdodEF0X3dlaWdodHMiLCJnZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5IiwiZ2V0VXBwZXJUcmlhbmdsZSIsImdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyIiwic2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIiLCJjb252ZXgiLCJvZmZzZXRSZXN1bHQiLCJzZXRIZWlnaHRzRnJvbUltYWdlIiwiaW1hZ2UiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ3aWR0aCIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwiaW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwidW5zaGlmdCIsImN4IiwiY3kiLCJPY3RyZWVOb2RlIiwicm9vdCIsImNoaWxkcmVuIiwiaW5zZXJ0IiwiZWxlbWVudERhdGEiLCJsZXZlbCIsIm5vZGVEYXRhIiwibWF4RGVwdGgiLCJzdWJkaXZpZGVkIiwic3ViZGl2aWRlIiwiaGFsZkRpYWdvbmFsIiwiY2hpbGQiLCJxdWV1ZSIsIm5vZGUiLCJBcnJheSIsImFwcGx5IiwidG1wQUFCQiQxIiwicmVtb3ZlRW1wdHlOb2RlcyIsIk9jdHJlZSIsIlRyaW1lc2giLCJGbG9hdDMyQXJyYXkiLCJJbnQxNkFycmF5IiwidXBkYXRlRWRnZXMiLCJ1cGRhdGVOb3JtYWxzIiwidXBkYXRlVHJlZSIsInRyaWFuZ2xlQUFCQiIsImkzIiwiX2dldFVuc2NhbGVkVmVydGV4IiwiZ2V0VHJpYW5nbGVzSW5BQUJCIiwidW5zY2FsZWRBQUJCIiwiaXN4IiwiaXN5IiwiaXN6Iiwic2V0U2NhbGUiLCJ3YXNVbmlmb3JtIiwiaXNVbmlmb3JtIiwiY29tcHV0ZU5vcm1hbHNfbiIsIk9iamVjdCIsInNwbGl0IiwicGFyc2VJbnQiLCJnZXRFZGdlVmVydGV4IiwiZWRnZUluZGV4IiwiZmlyc3RPclNlY29uZCIsInZlcnRleFN0b3JlIiwidmVydGV4SW5kZXgiLCJnZXRFZGdlVmVjdG9yIiwidmVjdG9yU3RvcmUiLCJnZXRFZGdlVmVjdG9yX3ZhIiwiZ2V0RWRnZVZlY3Rvcl92YiIsIm91dCIsImdldFdvcmxkVmVydGV4IiwiZ2V0VHJpYW5nbGVWZXJ0aWNlcyIsImNsaV9hYWJiIiwiY29tcHV0ZUxvY2FsQUFCQl93b3JsZFZlcnQiLCJjYWxjdWxhdGVXb3JsZEFBQkJfZnJhbWUiLCJjYWxjdWxhdGVXb3JsZEFBQkJfYWFiYiIsImNyZWF0ZVRvcnVzIiwidHViZSIsInJhZGlhbFNlZ21lbnRzIiwidHVidWxhclNlZ21lbnRzIiwiYXJjIiwiU29sdmVyIiwiYWRkRXF1YXRpb24iLCJyZW1vdmVFcXVhdGlvbiIsInJlbW92ZUFsbEVxdWF0aW9ucyIsIkdTU29sdmVyIiwiaXRlcmF0aW9ucyIsInRvbGVyYW5jZSIsIml0ZXIiLCJtYXhJdGVyIiwidG9sU3F1YXJlZCIsIk5lcSIsIk5ib2RpZXMiLCJpbnZDIiwiZGVsdGFsYW1iZGFUb3QiLCJHV2xhbWJkYSIsImxhbWJkYWoiLCJpbnZDcyIsIkdTU29sdmVyX3NvbHZlX2ludkNzIiwiQnMiLCJHU1NvbHZlcl9zb2x2ZV9CcyIsImxhbWJkYSIsIkdTU29sdmVyX3NvbHZlX2xhbWJkYSIsImludkR0IiwiUG9vbCIsIm9iamVjdHMiLCJyZWxlYXNlIiwiYXJncyIsIk5hcmdzIiwiY29uc3RydWN0T2JqZWN0IiwicmVzaXplIiwic2l6ZSIsIlZlYzNQb29sIiwiQ09MTElTSU9OX1RZUEVTIiwic3BoZXJlU3BoZXJlIiwic3BoZXJlUGxhbmUiLCJib3hCb3giLCJzcGhlcmVCb3giLCJwbGFuZUJveCIsImNvbnZleENvbnZleCIsInNwaGVyZUNvbnZleCIsInBsYW5lQ29udmV4IiwiYm94Q29udmV4Iiwic3BoZXJlSGVpZ2h0ZmllbGQiLCJib3hIZWlnaHRmaWVsZCIsImNvbnZleEhlaWdodGZpZWxkIiwic3BoZXJlUGFydGljbGUiLCJwbGFuZVBhcnRpY2xlIiwiYm94UGFydGljbGUiLCJjb252ZXhQYXJ0aWNsZSIsImN5bGluZGVyQ3lsaW5kZXIiLCJzcGhlcmVDeWxpbmRlciIsInBsYW5lQ3lsaW5kZXIiLCJib3hDeWxpbmRlciIsImNvbnZleEN5bGluZGVyIiwiaGVpZ2h0ZmllbGRDeWxpbmRlciIsInBhcnRpY2xlQ3lsaW5kZXIiLCJzcGhlcmVUcmltZXNoIiwicGxhbmVUcmltZXNoIiwiTmFycm93cGhhc2UiLCJjb250YWN0UG9pbnRQb29sIiwiZnJpY3Rpb25FcXVhdGlvblBvb2wiLCJmcmljdGlvblJlc3VsdCIsInYzcG9vbCIsImN1cnJlbnRDb250YWN0TWF0ZXJpYWwiLCJkZWZhdWx0Q29udGFjdE1hdGVyaWFsIiwiZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24iLCJjcmVhdGVDb250YWN0RXF1YXRpb24iLCJzaSIsInNqIiwib3ZlcnJpZGVTaGFwZUEiLCJvdmVycmlkZVNoYXBlQiIsImNtIiwibWF0QSIsIm1hdEIiLCJjcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0IiwiY29udGFjdEVxdWF0aW9uIiwib3V0QXJyYXkiLCJzaGFwZUEiLCJzaGFwZUIiLCJtdWciLCJncmF2aXR5IiwicmVkdWNlZE1hc3MiLCJwb29sIiwiY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZSIsIm51bUNvbnRhY3RzIiwiZjEiLCJmMiIsImF2ZXJhZ2VOb3JtYWwiLCJhdmVyYWdlQ29udGFjdFBvaW50QSIsImF2ZXJhZ2VDb250YWN0UG9pbnRCIiwiaW52TnVtQ29udGFjdHMiLCJnZXRDb250YWN0cyIsIm9sZGNvbnRhY3RzIiwiZnJpY3Rpb25Qb29sIiwidG1wUXVhdDEiLCJxaiIsInRtcFF1YXQyIiwidG1wVmVjMSQyIiwidG1wVmVjMiQyIiwiYm9keUNvbnRhY3RNYXRlcmlhbCIsImdldENvbnRhY3RNYXRlcmlhbCIsImp1c3RUZXN0Iiwic2hhcGVDb250YWN0TWF0ZXJpYWwiLCJyZXNvbHZlckluZGV4IiwicmVzb2x2ZXIiLCJyZXR2YWwiLCJzaGFwZU92ZXJsYXBLZWVwZXIiLCJib2R5T3ZlcmxhcEtlZXBlciIsInJzaSIsInJzaiIsImNvbnRhY3RFcSIsInBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSIsInBsYW5lX3RvX3NwaGVyZV9vcnRobyIsInNwaGVyZUJveF9zaWRlcyIsImJveF90b19zcGhlcmUiLCJSIiwic2lkZV9ucyIsInNwaGVyZUJveF9zaWRlX25zIiwic2lkZV9uczEiLCJzcGhlcmVCb3hfc2lkZV9uczEiLCJzaWRlX25zMiIsInNwaGVyZUJveF9zaWRlX25zMiIsInNpZGVfaCIsInNpZGVfcGVuZXRyYXRpb25zIiwic2lkZV9kb3QxIiwic2lkZV9kb3QyIiwic2lkZV9kaXN0YW5jZSIsIm5zaWRlcyIsIm5zIiwic3BoZXJlQm94X25zIiwibnMxIiwic3BoZXJlQm94X25zMSIsIm5zMiIsInNwaGVyZUJveF9uczIiLCJoMSIsImgyIiwiZG90MSIsImRvdDIiLCJzcGhlcmVfdG9fY29ybmVyIiwic3BoZXJlQm94X3NwaGVyZV90b19jb3JuZXIiLCJlZGdlVGFuZ2VudCIsImVkZ2VDZW50ZXIiLCJvcnRob2dvbmFsIiwiTnNpZGVzIiwib3J0aG9ub3JtIiwidGRpc3QiLCJuZGlzdCIsInJlcyIsInNlcEF4aXMiLCJjb252ZXhDb252ZXhfc2VwQXhpcyIsImNvbnZleENvbnZleF9xIiwiY29udmV4X3RvX3NwaGVyZSIsIndvcmxkQ29ybmVyIiwic3BoZXJlQ29udmV4X3dvcmxkQ29ybmVyIiwic3BoZXJlQ29udmV4X3NwaGVyZVRvQ29ybmVyIiwibmZhY2VzIiwic3BoZXJlQ29udmV4X3dvcmxkTm9ybWFsIiwic3BoZXJlQ29udmV4X3dvcmxkUG9pbnQiLCJ3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUiLCJzcGhlcmVDb252ZXhfd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lIiwic3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjIiwicGVuZXRyYXRpb24iLCJ3b3JsZFBvaW50VG9TcGhlcmUiLCJzcGhlcmVDb252ZXhfc3BoZXJlVG9Xb3JsZFBvaW50IiwiZmFjZVZlcnRzIiwiTnZlcnRzIiwid29ybGRWZXJ0ZXgiLCJwb2ludEluUG9seWdvbiIsInBlbmV0cmF0aW9uVmVjMiIsInBlbmV0cmF0aW9uU3BoZXJlUG9pbnQiLCJOZmFjZXZlcnRzIiwic3BoZXJlQ29udmV4X2VkZ2UiLCJlZGdlVW5pdCIsInNwaGVyZUNvbnZleF9lZGdlVW5pdCIsInYxX3RvX3hpIiwieGlfdG9fcCIsInBsYW5lU2hhcGUiLCJjb252ZXhTaGFwZSIsInBsYW5lUG9zaXRpb24iLCJjb252ZXhQb3NpdGlvbiIsInBsYW5lUXVhdCIsImNvbnZleFF1YXQiLCJwbGFuZUJvZHkiLCJjb252ZXhCb2R5IiwicGxhbmVDb252ZXhfdiIsInBsYW5lQ29udmV4X25vcm1hbCIsInBsYW5lQ29udmV4X3JlbHBvcyIsInByb2plY3RlZCIsInBsYW5lQ29udmV4X3Byb2plY3RlZCIsInNwaGVyZVNoYXBlIiwiaGZTaGFwZSIsInNwaGVyZVBvcyIsImhmUG9zIiwic3BoZXJlUXVhdCIsImhmUXVhdCIsInNwaGVyZUJvZHkiLCJoZkJvZHkiLCJzcGhlcmVIZWlnaHRmaWVsZF90bXAyIiwibG9jYWxTcGhlcmVQb3MiLCJzcGhlcmVIZWlnaHRmaWVsZF90bXAxIiwiY2VpbCIsIm1pbk1heCIsIm51bUNvbnRhY3RzQmVmb3JlIiwiaW50ZXJzZWN0aW5nIiwiY29udmV4UG9zIiwiY29udmV4SGVpZ2h0ZmllbGRfdG1wMiIsImNvbnZleEhlaWdodGZpZWxkX2ZhY2VMaXN0IiwibG9jYWxDb252ZXhQb3MiLCJjb252ZXhIZWlnaHRmaWVsZF90bXAxIiwicGFydGljbGVTcGhlcmVfbm9ybWFsIiwicGFydGljbGVQbGFuZV9ub3JtYWwiLCJwYXJ0aWNsZVBsYW5lX3JlbHBvcyIsInBhcnRpY2xlUGxhbmVfcHJvamVjdGVkIiwicGVuZXRyYXRlZEZhY2VJbmRleCIsInBlbmV0cmF0ZWRGYWNlTm9ybWFsIiwiY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWwiLCJ3b3JsZFBlbmV0cmF0aW9uVmVjIiwiY29udmV4UGFydGljbGVfd29ybGRQZW5ldHJhdGlvblZlYyIsIm1pblBlbmV0cmF0aW9uIiwibG9jYWwiLCJjb252ZXhQYXJ0aWNsZV9sb2NhbCIsImNxaiIsImNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUiLCJ0cmltZXNoU2hhcGUiLCJ0cmltZXNoUG9zIiwidHJpbWVzaFF1YXQiLCJ0cmltZXNoQm9keSIsImVkZ2VWZXJ0ZXhBIiwic3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QSIsImVkZ2VWZXJ0ZXhCIiwic3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QiIsImVkZ2VWZWN0b3IiLCJzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3IiLCJlZGdlVmVjdG9yVW5pdCIsInNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvclVuaXQiLCJzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlUG9zIiwic3BoZXJlVHJpbWVzaF90bXAiLCJsb2NhbFNwaGVyZUFBQkIiLCJzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlQUFCQiIsInNwaGVyZVRyaW1lc2hfdjIiLCJzcGhlcmVUcmltZXNoX3JlbHBvcyIsInNwaGVyZVRyaW1lc2hfdHJpYW5nbGVzIiwic3BoZXJlUmFkaXVzIiwic3BoZXJlVHJpbWVzaF92IiwicmFkaXVzU3F1YXJlZCIsInBvc2l0aW9uQWxvbmdFZGdlQiIsInBvc2l0aW9uQWxvbmdFZGdlQSIsInNwaGVyZVRyaW1lc2hfdmEiLCJzcGhlcmVUcmltZXNoX3ZiIiwic3BoZXJlVHJpbWVzaF92YyIsInNwaGVyZVRyaW1lc2hfbm9ybWFsIiwicGxhbmVQb3MiLCJwbGFuZVRyaW1lc2hfbm9ybWFsIiwicGxhbmVUcmltZXNoX3JlbHBvcyIsInBsYW5lVHJpbWVzaF9wcm9qZWN0ZWQiLCJwb2ludEluUG9seWdvbl9lZGdlIiwicG9pbnRJblBvbHlnb25fZWRnZV94X25vcm1hbCIsInBvaW50SW5Qb2x5Z29uX3Z0cCIsInBvc2l0aXZlUmVzdWx0IiwiZWRnZV94X25vcm1hbCIsInZlcnRleF90b19wIiwiT3ZlcmxhcEtlZXBlciIsImN1cnJlbnQiLCJwcmV2aW91cyIsImdldEtleSIsInRpY2siLCJnZXREaWZmIiwiYWRkaXRpb25zIiwicmVtb3ZhbHMiLCJhbCIsImJsIiwia2V5QSIsInVucGFja0FuZFB1c2giLCJrZXlCIiwiYXJyYXkiLCJUdXBsZURpY3Rpb25hcnkiLCJXb3JsZCIsImNvbnRhY3RzIiwiZnJpY3Rpb25FcXVhdGlvbnMiLCJxdWF0Tm9ybWFsaXplU2tpcCIsInN0ZXBudW1iZXIiLCJkZWZhdWx0X2R0IiwibmV4dElkIiwiaGFzQWN0aXZlQm9kaWVzIiwic29sdmVyIiwibmFycm93cGhhc2UiLCJjb2xsaXNpb25NYXRyaXgiLCJjb2xsaXNpb25NYXRyaXhQcmV2aW91cyIsImNvbnRhY3RtYXRlcmlhbHMiLCJjb250YWN0TWF0ZXJpYWxUYWJsZSIsImRlZmF1bHRNYXRlcmlhbCIsImRvUHJvZmlsaW5nIiwicHJvZmlsZSIsIm1ha2VDb250YWN0Q29uc3RyYWludHMiLCJhY2N1bXVsYXRvciIsInN1YnN5c3RlbXMiLCJhZGRCb2R5RXZlbnQiLCJyZW1vdmVCb2R5RXZlbnQiLCJpZFRvQm9keU1hcCIsIm51bU9iamVjdHMiLCJjb2xsaXNpb25NYXRyaXhUaWNrIiwiYWRkQ29uc3RyYWludCIsInJlbW92ZUNvbnN0cmFpbnQiLCJyYXljYXN0Q2xvc2VzdCIsInJheWNhc3RBbGwiLCJ0bXBSYXkkMSIsInJheWNhc3RBbnkiLCJnZXRCb2R5QnlJZCIsImdldFNoYXBlQnlJZCIsInNsIiwiYWRkTWF0ZXJpYWwiLCJhZGRDb250YWN0TWF0ZXJpYWwiLCJjbWF0Iiwic3RlcCIsInRpbWVTaW5jZUxhc3RDYWxsZWQiLCJtYXhTdWJTdGVwcyIsImludGVybmFsU3RlcCIsInQwIiwicGVyZm9ybWFuY2UiLCJub3ciLCJzdWJzdGVwcyIsIldvcmxkX3N0ZXBfcDEiLCJXb3JsZF9zdGVwX3AyIiwicHJvZmlsaW5nU3RhcnQiLCJXb3JsZF9zdGVwX2ZyaWN0aW9uRXF1YXRpb25Qb29sIiwiZ3giLCJneSIsImd6IiwiTnN1YnN5c3RlbXMiLCJOY29uc3RyYWludHMiLCJXb3JsZF9zdGVwX29sZENvbnRhY3RzIiwiTm9sZENvbnRhY3RzIiwiTm9sZEZyaWN0aW9uRXF1YXRpb25zIiwibmNvbnRhY3RzIiwibXUiLCJzcGVlZFNxdWFyZWRCIiwic3BlZWRMaW1pdFNxdWFyZWRCIiwic3BlZWRTcXVhcmVkQSIsInNwZWVkTGltaXRTcXVhcmVkQSIsIldvcmxkX3N0ZXBfY29sbGlkZUV2ZW50IiwiY29udGFjdCIsImVtaXRDb250YWN0RXZlbnRzIiwibGQiLCJhdiIsImFkIiwiV29ybGRfc3RlcF9wcmVTdGVwRXZlbnQiLCJjbGVhckZvcmNlcyIsIldvcmxkX3N0ZXBfcG9zdFN0ZXBFdmVudCIsImdsb2JhbFRoaXMiLCJub3dPZmZzZXQiLCJEYXRlIiwidGltaW5nIiwibmF2aWdhdGlvblN0YXJ0IiwiYmVnaW5Db250YWN0RXZlbnQiLCJlbmRDb250YWN0RXZlbnQiLCJiZWdpblNoYXBlQ29udGFjdEV2ZW50IiwiZW5kU2hhcGVDb250YWN0RXZlbnQiLCJoYXNCZWdpbkNvbnRhY3QiLCJoYXNFbmRDb250YWN0IiwiaGFzQmVnaW5TaGFwZUNvbnRhY3QiLCJoYXNFbmRTaGFwZUNvbnRhY3QiLCJ2ZWhpY2xlcyIsInNwcmluZ3MiLCJzcHJpbmdJbnN0YW5jZXMiLCJyYXlzIiwiY29uZmlnIiwic3Vic2NyaXB0aW9ucyIsInRlbXBWZWN0b3IiLCJjcmVhdGVTaGFwZSIsIm1hcCIsImJvZGllc05lZWRTeW5jaW5nIiwic3luY0JvZGllcyIsInJlZHVjZSIsImFjYyIsInV1aWQiLCJsYXN0Q2FsbFRpbWUiLCJzZWxmIiwib25tZXNzYWdlIiwib3AiLCJwb3NpdGlvbnMiLCJxdWF0ZXJuaW9ucyIsImJyb2FkcGhhc2VzIiwiYXNzaWduIiwidGltZVNpbmNlTGFzdENhbGwiLCJudW1iZXJPZkJvZGllcyIsIm9ic2VydmF0aW9ucyIsIm1lc3NhZ2UiLCJhY3RpdmUiLCJwb3N0TWVzc2FnZSIsImJ1ZmZlciIsImJvZHlUeXBlIiwib25Db2xsaWRlIiwiZXh0cmEiLCJ0b1VwcGVyQ2FzZSIsImZvckVhY2giLCJzaGFwZUJvZHkiLCJpbXBhY3RWZWxvY2l0eSIsImNvbGxpc2lvbkZpbHRlcnMiLCJib2R5RmlsdGVyR3JvdXAiLCJib2R5RmlsdGVyTWFzayIsInRhcmdldEZpbHRlckdyb3VwIiwidGFyZ2V0RmlsdGVyTWFzayIsIm9wdG5zIiwiaXNBcnJheSIsImNvbnN0cmFpbnQiLCJmaWx0ZXIiLCJ0aGlzSWQiLCJzcHJpbmciLCJwb3N0U3RlcFNwcmluZyIsInJlc3QiLCJ3aGVlbHMiLCJ2ZWhpY2xlIiwid2hlZWxJbmZvIiwid2hlZWxCb2R5Il0sIm1hcHBpbmdzIjoiOzs7RUFBQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBOEVBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOzs7RUFDQSxNQUFNQSxJQUFOLENBQVc7RUFDVEMsRUFBQUEsV0FBVyxDQUFDQyxRQUFRLEdBQUcsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFnQixDQUFoQixFQUFtQixDQUFuQixFQUFzQixDQUF0QixFQUF5QixDQUF6QixDQUFaLEVBQXlDO0VBQ2xELFNBQUtBLFFBQUwsR0FBZ0JBLFFBQWhCO0VBQ0Q7RUFDRDtFQUNGO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7OztFQUdFQyxFQUFBQSxRQUFRLEdBQUc7RUFDVCxVQUFNQyxDQUFDLEdBQUcsS0FBS0YsUUFBZjtFQUNBRSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtFQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtFQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtFQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtFQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtFQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtFQUNBQSxJQUFBQSxDQUFDLENBQUMs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QUFLN0wsQ0FBTCxHQUFTMkwsRUFBRSxHQUFHQyxFQUFMLEdBQVVDLEVBQVYsR0FBZUMsRUFBRSxHQUFHQyxFQUFMLEdBQVVDLEVBQWxDO0VBQ0QsS0FMTSxNQUtBLElBQUlqQixLQUFLLEtBQUssS0FBZCxFQUFxQjtFQUMxQixXQUFLOU8sQ0FBTCxHQUFTNlAsRUFBRSxHQUFHRixFQUFMLEdBQVVDLEVBQVYsR0FBZUYsRUFBRSxHQUFHSSxFQUFMLEdBQVVDLEVBQWxDO0VBQ0EsV0FBSzlQLENBQUwsR0FBU3lQLEVBQUUsR0FBR0ksRUFBTCxHQUFVRixFQUFWLEdBQWVDLEVBQUUsR0FBR0YsRUFBTCxHQUFVSSxFQUFsQztFQUNBLFdBQUs3UCxDQUFMLEdBQVN3UCxFQUFFLEdBQUdDLEVBQUwsR0FBVUksRUFBVixHQUFlRixFQUFFLEdBQUdDLEVBQUwsR0FBVUYsRUFBbEM7RUFDQSxXQUFLN0wsQ0FBTCxHQUFTMkwsRUFBRSxHQUFHQyxFQUFMLEdBQVVDLEVBQVYsR0FBZUMsRUFBRSxHQUFHQyxFQUFMLEdBQVVDLEVBQWxDO0VBQ0QsS0FMTSxNQUtBLElBQUlqQixLQUFLLEtBQUssS0FBZCxFQUFxQjtFQUMxQixXQUFLOU8sQ0FBTCxHQUFTNlAsRUFBRSxHQUFHRixFQUFMLEdBQVVDLEVBQVYsR0FBZUYsRUFBRSxHQUFHSSxFQUFMLEdBQVVDLEVBQWxDO0VBQ0EsV0FBSzlQLENBQUwsR0FBU3lQLEVBQUUsR0FBR0ksRUFBTCxHQUFVRixFQUFWLEdBQWVDLEVBQUUsR0FBR0YsRUFBTCxHQUFVSSxFQUFsQztFQUNBLFdBQUs3UCxDQUFMLEdBQVN3UCxFQUFFLEdBQUdDLEVBQUwsR0FBVUksRUFBVixHQUFlRixFQUFFLEdBQUdDLEVBQUwsR0FBVUYsRUFBbEM7RUFDQSxXQUFLN0wsQ0FBTCxHQUFTMkwsRUFBRSxHQUFHQyxFQUFMLEdBQVVDLEVBQVYsR0FBZUMsRUFBRSxHQUFHQyxFQUFMLEdBQVVDLEVBQWxDO0VBQ0QsS0FMTSxNQUtBLElBQUlqQixLQUFLLEtBQUssS0FBZCxFQUFxQjtFQUMxQixXQUFL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', false);
/* eslint-enable */

function Provider({
  children,
  step = 1 / 60,
  gravity = [0, -10, 0],
  tolerance = 0.001,
  iterations = 5,
  allowSleep = false,
  broadphase = 'Naive',
  axisIndex = 0,
  defaultContactMaterial = {
    contactEquationStiffness: 1e6
  },
  size = 1000
}) {
  const {
    gl,
    invalidate
  } = useThree();
  const [worker] = useState(() => new WorkerFactory());
  const [refs] = useState({});
  const [buffers] = useState(() => ({
    positions: new Float32Array(size * 3),
    quaternions: new Float32Array(size * 4)
  }));
  const [events] = useState({});
  const [subscriptions] = useState({});
  const bodies = useRef({});
  const loop = useMemo(() => () => {
    if (buffers.positions.byteLength !== 0 && buffers.quaternions.byteLength !== 0) {
      worker.postMessage({
        op: 'step',
        ...buffers
      }, [buffers.positions.buffer, buffers.quaternions.buffer]);
    }
  }, []);
  const prevPresenting = useRef(false);
  useFrame(() => {
    var _gl$xr, _gl$xr2, _gl$xr3;

    if ((_gl$xr = gl.xr) != null && _gl$xr.isPresenting && !prevPresenting.current) {
      gl.xr.getSession().requestAnimationFrame(loop);
    }

    if (!((_gl$xr2 = gl.xr) != null && _gl$xr2.isPresenting) && prevPresenting.current) {
      requestAnimationFrame(loop);
    }

    prevPresenting.current = (_gl$xr3 = gl.xr) == null ? void 0 : _gl$xr3.isPresenting;
  });
  useEffect(() => {
    worker.postMessage({
      op: 'init',
      props: {
        gravity,
        tolerance,
        step,
        iterations,
        broadphase,
        allowSleep,
        axisIndex,
        defaultContactMaterial
      }
    });

    worker.onmessage = e => {
      switch (e.data.op) {
        case 'frame':
          if (e.data.bodies) {
            bodies.current = e.data.bodies.reduce((acc, id) => ({ ...acc,
              [id]: e.data.bodies.indexOf(id)
            }), {});
          }

          buffers.positions = e.data.positions;
          buffers.quaternions = e.data.quaternions;
          e.data.observations.forEach(([id, value]) => subscriptions[id](value));

          if (gl.xr && gl.xr.isPresenting) {
            gl.xr.getSession().requestAnimationFrame(loop);
          } else {
            requestAnimationFrame(loop);
          }

          if (e.data.active) invalidate();
          break;

        case 'event':
          switch (e.data.type) {
            case 'collide':
              events[e.data.target]({ ...e.data,
                target: refs[e.data.target],
                body: refs[e.data.body]
              });
              break;

            case 'rayhit':
              events[e.data.ray.uuid]({ ...e.data,
                body: e.data.body ? refs[e.data.body] : null
              });
              break;
          }

          break;
      }
    };

    loop();
    return () => worker.terminate();
  }, []);
  const api = useMemo(() => ({
    worker,
    bodies,
    refs,
    buffers,
    events,
    subscriptions
  }), [worker, bodies, refs, buffers, events, subscriptions]);
  return /*#__PURE__*/React.createElement(context.Provider, {
    value: api
  }, children);
}

const temp = new THREE.Object3D();

function prepare(object, props, argFn) {
  props.args = argFn(props.args);
  object.userData = props.userData || {};
  object.position.set(...(props.position || [0, 0, 0]));
  object.rotation.set(...(props.rotation || [0, 0, 0]));
  return props;
}

function apply(object, index, buffers) {
  if (index !== undefined) {
    object.position.fromArray(buffers.positions, index * 3);
    object.quaternion.fromArray(buffers.quaternions, index * 4);
  }
}

let subscriptionGuid = 0;

function useBody(type, fn, argFn, fwdRef, deps = []) {
  const localRef = useRef(null);
  const ref = fwdRef ? fwdRef : localRef;
  const {
    worker,
    bodies,
    buffers,
    refs,
    events,
    subscriptions
  } = useContext(context);
  useLayoutEffect(() => {
    if (!ref.current) {
      // When the reference isn't used we create a stub
      // The body doesn't have a visual representation but can still be constrained
      ref.current = new THREE.Object3D();
    }

    const object = ref.current;
    const currentWorker = worker;
    let uuid = [object.uuid],
        props;

    if (object instanceof THREE.InstancedMesh) {
      // Why? Because @mrdoob did it in his example ...
      object.instanceMatrix.setUsage(THREE.DynamicDrawUsage);
      uuid = new Array(object.count).fill(0).map((_, i) => object.uuid + "/" + i);
      props = uuid.map((id, i) => {
        const props = prepare(temp, fn(i), argFn);
        temp.updateMatrix();
        object.setMatrixAt(i, temp.matrix);
        object.instanceMatrix.needsUpdate = true;
        return props;
      });
    } else props = [prepare(object, fn(0), argFn)];

    props.forEach((props, index) => {
      refs[uuid[index]] = object;

      if (props.onCollide) {
        events[uuid[index]] = props.onCollide;
        props.onCollide = true;
      }
    }); // Register on mount, unregister on unmount

    currentWorker.postMessage({
      op: 'addBodies',
      type,
      uuid,
      props
    });
    return () => {
      props.forEach((props, index) => {
        delete refs[uuid[index]];
        if (props.onCollide) delete events[uuid[index]];
      });
      currentWorker.postMessage({
        op: 'removeBodies',
        uuid
      });
    };
  }, deps); // eslint-disable-line react-hooks/exhaustive-deps

  useFrame(() => {
    if (ref.current && buffers.positions.length && buffers.quaternions.length) {
      if (ref.current instanceof THREE.InstancedMesh) {
        for (let i = 0; i < ref.current.count; i++) {
          const index = bodies.current[ref.current.uuid + "/" + i];

          if (index !== undefined) {
            apply(temp, index, buffers);
            temp.updateMatrix();
            ref.current.setMatrixAt(i, temp.matrix);
          }

          ref.current.instanceMatrix.needsUpdate = true;
        }
      } else apply(ref.current, bodies.current[ref.current.uuid], buffers);
    }
  });
  const api = useMemo(() => {
    const getUUID = index => index !== undefined ? ref.current.uuid + "/" + index : ref.current.uuid;

    const post = (op, index, props) => ref.current && worker.postMessage({
      op,
      uuid: getUUID(index),
      props
    });

    const subscribe = (type, index) => {
      return callback => {
        const id = subscriptionGuid++;
        subscriptions[id] = callback;
        post('subscribe', index, {
          id,
          type
        });
        return () => {
          delete subscriptions[id];
          post('unsubscribe', index, id);
        };
      };
    };

    const opString = (action, type) => action + type.charAt(0).toUpperCase() + type.slice(1);

    const makeVec = (type, index) => ({
      set: (x, y, z) => post(opString('set', type), index, [x, y, z]),
      copy: ({
        x,
        y,
        z
      }) => post(opString('set', type), index, [x, y, z]),
      subscribe: subscribe(type, index)
    });

    const makeAtomic = (type, index) => ({
      set: value => post(opString('set', type), index, value),
      subscribe: subscribe(type, index)
    });

    function makeApi(index) {
      return {
        // Vectors
        position: makeVec('position', index),
        rotation: makeVec('quaternion', index),
        velocity: makeVec('velocity', index),
        angularVelocity: makeVec('angularVelocity', index),
        linearFactor: makeVec('linearFactor', index),
        angularFactor: makeVec('angularFactor', index),
        // Atomic props
        mass: makeAtomic('mass', index),
        linearDamping: makeAtomic('linearDamping', index),
        angularDamping: makeAtomic('angularDamping', index),
        allowSleep: makeAtomic('allowSleep', index),
        sleepSpeedLimit: makeAtomic('sleepSpeedLimit', index),
        sleepTimeLimit: makeAtomic('sleepTimeLimit', index),
        collisionFilterGroup: makeAtomic('collisionFilterGroup', index),
        collisionFilterMask: makeAtomic('collisionFilterMask', index),
        collisionResponse: makeAtomic('collisionResponse', index),
        fixedRotation: makeAtomic('fixedRotation', index),
        userData: makeAtomic('userData', index),

        // Apply functions
        applyForce(force, worldPoint) {
          post('applyForce', index, [force, worldPoint]);
        },

        applyImpulse(impulse, worldPoint) {
          post('applyImpulse', index, [impulse, worldPoint]);
        },

        applyLocalForce(force, localPoint) {
          post('applyLocalForce', index, [force, localPoint]);
        },

        applyLocalImpulse(impulse, localPoint) {
          post('applyLocalImpulse', index, [impulse, localPoint]);
        }

      };
    }

    const cache = {};
    return { ...makeApi(undefined),
      at: index => cache[index] || (cache[index] = makeApi(index))
    };
  }, []);
  return [ref, api];
}

function usePlane(fn, fwdRef, deps) {
  return useBody('Plane', fn, () => [], fwdRef, deps);
}
function useBox(fn, fwdRef, deps) {
  return useBody('Box', fn, args => args || [1, 1, 1], fwdRef, deps);
}
function useCylinder(fn, fwdRef, deps) {
  return useBody('Cylinder', fn, args => args, fwdRef, deps);
}
function useHeightfield(fn, fwdRef, deps) {
  return useBody('Heightfield', fn, args => args, fwdRef, deps);
}
function useParticle(fn, fwdRef, deps) {
  return useBody('Particle', fn, () => [], fwdRef, deps);
}
function useSphere(fn, fwdRef, deps) {
  return useBody('Sphere', fn, radius => [radius != null ? radius : 1], fwdRef, deps);
}
function useTrimesh(fn, fwdRef, deps) {
  return useBody('Trimesh', fn, args => {
    return [args[0].map(v => v instanceof THREE.Vector3 ? [v.x, v.y, v.z] : v), args[1]];
  }, fwdRef, deps);
}
function useConvexPolyhedron(fn, fwdRef, deps) {
  return useBody('ConvexPolyhedron', fn, args => {
    return [args[0].map(v => v instanceof THREE.Vector3 ? [v.x, v.y, v.z] : v), args[1], args[2] && args[2].map(n => n instanceof THREE.Vector3 ? [n.x, n.y, n.z] : n)];
  }, fwdRef, deps);
}
function useCompoundBody(fn, fwdRef, deps) {
  return useBody('Compound', fn, args => args || [], fwdRef, deps);
}

function useConstraint(type, bodyA, bodyB, optns = {}, deps = []) {
  const {
    worker
  } = useContext(context);
  const uuid = THREE.MathUtils.generateUUID();
  const nullRef1 = useRef(null);
  const nullRef2 = useRef(null);
  bodyA = bodyA === undefined || bodyA === null ? nullRef1 : bodyA;
  bodyB = bodyB === undefined || bodyB === null ? nullRef2 : bodyB;
  useEffect(() => {
    if (bodyA.current && bodyB.current) {
      worker.postMessage({
        op: 'addConstraint',
        uuid,
        type,
        props: [bodyA.current.uuid, bodyB.current.uuid, optns]
      });
      return () => worker.postMessage({
        op: 'removeConstraint',
        uuid
      });
    }
  }, deps);
  const api = useMemo(() => {
    const enableDisable = {
      enable: () => worker.postMessage({
        op: 'enableConstraint',
        uuid
      }),
      disable: () => worker.postMessage({
        op: 'disableConstraint',
        uuid
      })
    };

    if (type === 'Hinge') {
      return { ...enableDisable,
        enableMotor: () => worker.postMessage({
          op: 'enableConstraintMotor',
          uuid
        }),
        disableMotor: () => worker.postMessage({
          op: 'disableConstraintMotor',
          uuid
        }),
        setMotorSpeed: value => worker.postMessage({
          op: 'setConstraintMotorSpeed',
          uuid,
          props: value
        }),
        setMotorMaxForce: value => worker.postMessage({
          op: 'setConstraintMotorMaxForce',
          uuid,
          props: value
        })
      };
    }

    return enableDisable;
  }, deps);
  return [bodyA, bodyB, api];
}

function usePointToPointConstraint(bodyA, bodyB, optns, deps = []) {
  return useConstraint('PointToPoint', bodyA, bodyB, optns, deps);
}
function useConeTwistConstraint(bodyA, bodyB, optns, deps = []) {
  return useConstraint('ConeTwist', bodyA, bodyB, optns, deps);
}
function useDistanceConstraint(bodyA, bodyB, optns, deps = []) {
  return useConstraint('Distance', bodyA, bodyB, optns, deps);
}
function useHingeConstraint(bodyA, bodyB, optns, deps = []) {
  return useConstraint('Hinge', bodyA, bodyB, optns, deps);
}
function useLockConstraint(bodyA, bodyB, optns, deps = []) {
  return useConstraint('Lock', bodyA, bodyB, optns, deps);
}
function useSpring(bodyA, bodyB, optns, deps = []) {
  const {
    worker,
    events
  } = useContext(context);
  const [uuid] = useState(() => THREE.MathUtils.generateUUID());
  const nullRef1 = useRef(null);
  const nullRef2 = useRef(null);
  bodyA = bodyA === undefined || bodyA === null ? nullRef1 : bodyA;
  bodyB = bodyB === undefined || bodyB === null ? nullRef2 : bodyB;
  useEffect(() => {
    if (bodyA.current && bodyB.current) {
      worker.postMessage({
        op: 'addSpring',
        uuid,
        props: [bodyA.current.uuid, bodyB.current.uuid, optns]
      });

      events[uuid] = () => {};

      return () => {
        worker.postMessage({
          op: 'removeSpring',
          uuid
        });
        delete events[uuid];
      };
    }
  }, deps);
  const api = useMemo(() => ({
    setStiffness: value => worker.postMessage({
      op: 'setSpringStiffness',
      props: value,
      uuid
    }),
    setRestLength: value => worker.postMessage({
      op: 'setSpringRestLength',
      props: value,
      uuid
    }),
    setDamping: value => worker.postMessage({
      op: 'setSpringDamping',
      props: value,
      uuid
    })
  }), deps);
  return [bodyA, bodyB, api];
}

function useRay(mode, options, callback, deps = []) {
  const {
    worker,
    events
  } = useContext(context);
  const [uuid] = useState(() => THREE.MathUtils.generateUUID());
  useEffect(() => {
    events[uuid] = callback;
    worker.postMessage({
      op: 'addRay',
      uuid,
      props: {
        mode,
        ...options
      }
    });
    return () => {
      worker.postMessage({
        op: 'removeRay',
        uuid
      });
      delete events[uuid];
    };
  }, deps);
}

function useRaycastClosest(options, callback, deps = []) {
  useRay('Closest', options, callback, deps);
}
function useRaycastAny(options, callback, deps = []) {
  useRay('Any', options, callback, deps);
}
function useRaycastAll(options, callback, deps = []) {
  useRay('All', options, callback, deps);
}
function useRaycastVehicle(fn, fwdRef) {
  const ref = fwdRef ? fwdRef : useRef(null);
  const {
    worker
  } = useContext(context);
  useLayoutEffect(() => {
    var _raycastVehicleProps$;

    if (!ref.current) {
      // When the reference isn't used we create a stub
      // The body doesn't have a visual representation but can still be constrained
      ref.current = new THREE.Object3D();
    }

    const currentWorker = worker;
    let uuid = [ref.current.uuid];
    const raycastVehicleProps = fn();
    currentWorker.postMessage({
      op: 'addRaycastVehicle',
      uuid,
      props: [(_raycastVehicleProps$ = raycastVehicleProps.chassisBody.current) == null ? void 0 : _raycastVehicleProps$.uuid, raycastVehicleProps.wheels.map(wheel => {
        var _wheel$current;

        return (_wheel$current = wheel.current) == null ? void 0 : _wheel$current.uuid;
      }), raycastVehicleProps.wheelInfos, (raycastVehicleProps == null ? void 0 : raycastVehicleProps.indexForwardAxis) || 2, (raycastVehicleProps == null ? void 0 : raycastVehicleProps.indexRightAxis) || 0, (raycastVehicleProps == null ? void 0 : raycastVehicleProps.indexUpAxis) || 1]
    });
    return () => {
      currentWorker.postMessage({
        op: 'removeRaycastVehicle',
        uuid
      });
    };
  }, []);
  const api = useMemo(() => {
    const post = (op, props) => ref.current && worker.postMessage({
      op,
      uuid: ref.current.uuid,
      props
    });

    return {
      setSteeringValue(value, wheelIndex) {
        post('setRaycastVehicleSteeringValue', [value, wheelIndex]);
      },

      applyEngineForce(value, wheelIndex) {
        post('applyRaycastVehicleEngineForce', [value, wheelIndex]);
      },

      setBrake(brake, wheelIndex) {
        post('setRaycastVehicleBrake', [brake, wheelIndex]);
      }

    };
  }, []);
  return [ref, api];
}

function Physics(props) {
  return /*#__PURE__*/React.createElement(Suspense, {
    fallback: null
  }, /*#__PURE__*/React.createElement(Provider, props));
}

export { Physics, context, useBox, useCompoundBody, useConeTwistConstraint, useConvexPolyhedron, useCylinder, useDistanceConstraint, useHeightfield, useHingeConstraint, useLockConstraint, useParticle, usePlane, usePointToPointConstraint, useRaycastAll, useRaycastAny, useRaycastClosest, useRaycastVehicle, useSphere, useSpring, useTrimesh };
